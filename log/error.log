[2016-09-10 13:57:29.656] [ INFO] console - AutobahnJS debug enabled
[2016-09-10 13:57:30.837] [ INFO] Server - starting...
[2016-09-10 13:57:30.838] [ INFO] console - trying to create WAMP transport of type: websocket
[2016-09-10 13:57:30.926] [ INFO] console - using WAMP transport type: websocket
[2016-09-10 13:57:31.823] [ INFO] console - [ 1,
  'kopa',
  { roles: 
     { caller: [Object],
       callee: [Object],
       publisher: [Object],
       subscriber: [Object] },
    authmethods: [ 'ticket' ],
    authid: 'server' } ]
[2016-09-10 13:57:31.955] [ INFO] console - [ 5, 'server', {} ]
[2016-09-10 13:57:32.100] [ INFO] Server - connection.onopen()
[2016-09-10 13:57:32.101] [ INFO] console - [ 64, 1749532146663424, {}, 'ru.kopa.model.create' ]
[2016-09-10 13:57:32.146] [DEBUG] Server - api:model.create registered
[2016-09-10 13:57:32.147] [ INFO] console - [ 64, 6764102521192448, {}, 'ru.kopa.model.get' ]
[2016-09-10 13:57:32.152] [DEBUG] Server - api:model.get registered
[2016-09-10 13:57:32.153] [ INFO] console - [ 64, 822434202648576, {}, 'ru.kopa.model.save' ]
[2016-09-10 13:57:32.158] [DEBUG] Server - api:model.save registered
[2016-09-10 13:57:32.159] [ INFO] console - [ 64, 4704754657656832, {}, 'ru.kopa.pingPong' ]
[2016-09-10 13:57:32.164] [DEBUG] Server - api:pingPong registered
[2016-09-10 13:57:32.165] [ INFO] console - [ 64, 6067085920698368, {}, 'ru.kopa.discloseCaller' ]
[2016-09-10 13:57:32.183] [DEBUG] Server - api:discloseCaller registered
[2016-09-10 13:57:32.183] [ INFO] console - [ 64, 493954436956160, {}, 'ru.kopa.pingPongDatabase' ]
[2016-09-10 13:57:32.190] [DEBUG] Server - api:pingPongDatabase registered
[2016-09-10 13:57:32.191] [ INFO] console - [ 64, 1754381959561216, {}, 'ru.kopa.error' ]
[2016-09-10 13:57:32.196] [DEBUG] Server - api:error registered
[2016-09-10 13:57:32.197] [ INFO] console - [ 64, 6858604550291456, {}, 'ru.kopa.promiseKopas' ]
[2016-09-10 13:57:32.217] [DEBUG] Server - api:promiseKopas registered
[2016-09-10 13:57:32.218] [ INFO] console - [ 64, 6231559300448256, {}, 'ru.kopa.unitTest.cleanTempData' ]
[2016-09-10 13:57:32.225] [DEBUG] Server - api:unitTest.cleanTempData registered
[2016-09-10 13:57:32.226] [ INFO] console - [ 64, 4331480979341312, {}, 'ru.kopa.model.Kopa.setQuestion' ]
[2016-09-10 13:57:32.247] [DEBUG] Server - api:model.Kopa.setQuestion registered
[2016-09-10 13:57:32.249] [ INFO] Server - started
[2016-09-10 13:59:17.969] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 2 }
[2016-09-10 13:59:18.005] [ INFO] console - Executing (26d777d5-479e-44ba-aa45-40e810a0efde): START TRANSACTION;
[2016-09-10 13:59:18.007] [ INFO] console - Executing (26d777d5-479e-44ba-aa45-40e810a0efde): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 13:59:18.025] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 2);
[2016-09-10 13:59:18.036] [ INFO] console - Executing (26d777d5-479e-44ba-aa45-40e810a0efde): COMMIT;
[2016-09-10 13:59:18.038] [ INFO] console - [ 70,
  3,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/2/',
      starshina: [Object],
      id: '2',
      email: 'unittest2@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '1',
      voiskoSize: 1,
      birth: 1983,
      path: '/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: null,
      attachments: [] } ] ]
[2016-09-10 13:59:18.070] [ INFO] console - Executing (9b4becb0-6a22-4862-aa04-98179dcc295c): START TRANSACTION;
[2016-09-10 13:59:18.073] [ INFO] console - Executing (9b4becb0-6a22-4862-aa04-98179dcc295c): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 13:59:18.084] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 2);
[2016-09-10 13:59:18.090] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"+1
                                where
                                    '/2/' like path||id||'/%'
[2016-09-10 13:59:18.103] [ INFO] console - Executing (default): INSERT INTO "Kopnik" ("id","name","surname","patronymic","voiskoSize","birth","path","created_at","updated_at","rodina_id","starshina_id") VALUES (DEFAULT,'temp','temp','temp',0,1900,'/2/','2016-09-10 08:59:18.076 +00:00','2016-09-10 08:59:18.076 +00:00',NULL,2) RETURNING *;
[2016-09-10 13:59:18.108] [ INFO] console - Executing (9b4becb0-6a22-4862-aa04-98179dcc295c): COMMIT;
[2016-09-10 13:59:18.110] [ INFO] console - [ 70, 4, {}, [ '55' ] ]
[2016-09-10 13:59:21.210] [ERROR] Server - [TypeError: undefined is not a function]
TypeError: undefined is not a function
    at Immediate.<anonymous> (Server.js:191:54)
    at [object Generator].next (native)
    at step (/home/alexey2baranov/htdocs/kp-sequelizejs/src/Server.js:1:253)
    at /home/alexey2baranov/htdocs/kp-sequelizejs/src/Server.js:1:513
    at new wrappedPromise (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/async-listener/index.js:372:16)
    at Immediate.<anonymous> (/home/alexey2baranov/htdocs/kp-sequelizejs/src/Server.js:1:161)
    at Immediate.asyncWrap (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/async-listener/glue.js:188:31)
    at Immediate.immediate._onImmediate (timers.js:435:18)
    at processImmediate [as _immediateCallback] (timers.js:383:17)
[2016-09-10 13:59:21.252] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Zemla', id: 2 }
[2016-09-10 13:59:21.255] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/' like k.path||k.id||'/%'
[2016-09-10 13:59:21.256] [ INFO] console - Executing (76581720-41a2-4e3b-81d6-0ad79dd82ce9): START TRANSACTION;
[2016-09-10 13:59:21.259] [ INFO] console - Executing (7c215e3d-761b-467c-bece-66d26eef29f1): START TRANSACTION;
[2016-09-10 13:59:21.260] [ INFO] console - Executing (76581720-41a2-4e3b-81d6-0ad79dd82ce9): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 13:59:21.262] [ INFO] console - Executing (7c215e3d-761b-467c-bece-66d26eef29f1): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 13:59:21.273] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 13:59:21.280] [ INFO] console - Executing (default): SELECT "Zemla"."id", "Zemla"."path", "Zemla"."name", "Zemla"."intensity", "Zemla"."note", "Zemla"."created_at", "Zemla"."updated_at", "Zemla"."deleted_at", "Zemla"."parent_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Zemla" AS "Zemla" LEFT OUTER JOIN "File" AS "attachments" ON "Zemla"."id" = "attachments"."zemla_id" AND "attachments"."deleted_at" IS NULL WHERE ("Zemla"."deleted_at" IS NULL AND "Zemla"."id" = 2);
[2016-09-10 13:59:21.283] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 55);
[2016-09-10 13:59:21.291] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"+1
                                where
                                    '/2/55/' like path||id||'/%'
[2016-09-10 13:59:21.293] [ INFO] console - Executing (76581720-41a2-4e3b-81d6-0ad79dd82ce9): COMMIT;
[2016-09-10 13:59:21.297] [ INFO] console - Executing (default): INSERT INTO "Kopnik" ("id","name","surname","patronymic","voiskoSize","birth","path","created_at","updated_at","rodina_id","starshina_id") VALUES (DEFAULT,'temp','temp','temp',0,1900,'/2/55/','2016-09-10 08:59:21.271 +00:00','2016-09-10 08:59:21.271 +00:00',NULL,55) RETURNING *;
[2016-09-10 13:59:21.298] [ INFO] console - [ 70,
  5,
  {},
  [ { fullPath: 'null2/',
      id: '2',
      path: null,
      name: 'UnitTest2',
      intensity: 1000,
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      parent_id: '1',
      attachments: [] } ] ]
[2016-09-10 13:59:21.307] [ INFO] console - Executing (7c215e3d-761b-467c-bece-66d26eef29f1): COMMIT;
[2016-09-10 13:59:21.308] [ INFO] console - [ 70, 6, {}, [ '56' ] ]
[2016-09-10 13:59:23.326] [ERROR] Server - [TypeError: undefined is not a function]
TypeError: undefined is not a function
    at Immediate.<anonymous> (Server.js:191:54)
    at [object Generator].next (native)
    at step (/home/alexey2baranov/htdocs/kp-sequelizejs/src/Server.js:1:253)
    at /home/alexey2baranov/htdocs/kp-sequelizejs/src/Server.js:1:513
    at new wrappedPromise (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/async-listener/index.js:372:16)
    at Immediate.<anonymous> (/home/alexey2baranov/htdocs/kp-sequelizejs/src/Server.js:1:161)
    at Immediate.asyncWrap (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/async-listener/glue.js:188:31)
    at Immediate.immediate._onImmediate (timers.js:435:18)
    at processImmediate [as _immediateCallback] (timers.js:383:17)
[2016-09-10 13:59:23.329] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/55/' like k.path||k.id||'/%'
[2016-09-10 13:59:23.334] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2', '55')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 14:00:25.648] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 2 }
[2016-09-10 14:00:25.658] [ INFO] console - Executing (984c0fc5-d401-4554-98a3-67d4f587a98b): START TRANSACTION;
[2016-09-10 14:00:25.660] [ INFO] console - Executing (984c0fc5-d401-4554-98a3-67d4f587a98b): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 14:00:25.681] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 2);
[2016-09-10 14:00:25.686] [ INFO] console - Executing (984c0fc5-d401-4554-98a3-67d4f587a98b): COMMIT;
[2016-09-10 14:00:25.687] [ INFO] console - [ 70,
  8,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/2/',
      starshina: [Object],
      id: '2',
      email: 'unittest2@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '1',
      voiskoSize: 3,
      birth: 1983,
      path: '/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: null,
      attachments: [] } ] ]
[2016-09-10 14:00:25.707] [ INFO] console - Executing (a1aed71c-ec43-401c-881d-ada53b67aa42): START TRANSACTION;
[2016-09-10 14:00:25.713] [ INFO] console - Executing (a1aed71c-ec43-401c-881d-ada53b67aa42): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 14:00:25.731] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 2);
[2016-09-10 14:00:25.735] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"+1
                                where
                                    '/2/' like path||id||'/%'
[2016-09-10 14:00:25.739] [ INFO] console - Executing (default): INSERT INTO "Kopnik" ("id","name","surname","patronymic","voiskoSize","birth","path","created_at","updated_at","rodina_id","starshina_id") VALUES (DEFAULT,'temp','temp','temp',0,1900,'/2/','2016-09-10 09:00:25.724 +00:00','2016-09-10 09:00:25.724 +00:00',NULL,2) RETURNING *;
[2016-09-10 14:00:25.744] [ INFO] console - Executing (a1aed71c-ec43-401c-881d-ada53b67aa42): COMMIT;
[2016-09-10 14:00:25.746] [ INFO] console - [ 70, 9, {}, [ '57' ] ]
[2016-09-10 14:00:55.890] [ERROR] Server - [TypeError: undefined is not a function]
TypeError: undefined is not a function
    at Immediate.<anonymous> (Server.js:191:54)
    at [object Generator].next (native)
    at step (/home/alexey2baranov/htdocs/kp-sequelizejs/src/Server.js:1:253)
    at /home/alexey2baranov/htdocs/kp-sequelizejs/src/Server.js:1:513
    at new wrappedPromise (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/async-listener/index.js:372:16)
    at Immediate.<anonymous> (/home/alexey2baranov/htdocs/kp-sequelizejs/src/Server.js:1:161)
    at Immediate.asyncWrap (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/async-listener/glue.js:188:31)
    at Immediate.immediate._onImmediate (timers.js:435:18)
    at processImmediate [as _immediateCallback] (timers.js:383:17)
[2016-09-10 14:00:55.895] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Zemla', id: 2 }
[2016-09-10 14:00:55.907] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/' like k.path||k.id||'/%'
[2016-09-10 14:00:55.908] [ INFO] console - Executing (2ec6beaf-aaeb-4811-935e-eaba932650a9): START TRANSACTION;
[2016-09-10 14:00:55.909] [ INFO] console - Executing (2ec6beaf-aaeb-4811-935e-eaba932650a9): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 14:00:55.911] [ INFO] console - Executing (69341d14-12c6-4dcc-8431-67f01f3624e5): START TRANSACTION;
[2016-09-10 14:00:55.915] [ INFO] console - Executing (69341d14-12c6-4dcc-8431-67f01f3624e5): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 14:00:55.919] [ INFO] console - Executing (default): SELECT "Zemla"."id", "Zemla"."path", "Zemla"."name", "Zemla"."intensity", "Zemla"."note", "Zemla"."created_at", "Zemla"."updated_at", "Zemla"."deleted_at", "Zemla"."parent_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Zemla" AS "Zemla" LEFT OUTER JOIN "File" AS "attachments" ON "Zemla"."id" = "attachments"."zemla_id" AND "attachments"."deleted_at" IS NULL WHERE ("Zemla"."deleted_at" IS NULL AND "Zemla"."id" = 2);
[2016-09-10 14:01:43.064] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 14:01:43.067] [ INFO] console - Executing (2ec6beaf-aaeb-4811-935e-eaba932650a9): COMMIT;
[2016-09-10 14:01:43.071] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 57);
[2016-09-10 14:01:43.074] [ INFO] console - [ 70,
  10,
  {},
  [ { fullPath: 'null2/',
      id: '2',
      path: null,
      name: 'UnitTest2',
      intensity: 1000,
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      parent_id: '1',
      attachments: [] } ] ]
[2016-09-10 14:01:43.079] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"+1
                                where
                                    '/2/57/' like path||id||'/%'
[2016-09-10 14:01:43.084] [ INFO] console - Executing (default): INSERT INTO "Kopnik" ("id","name","surname","patronymic","voiskoSize","birth","path","created_at","updated_at","rodina_id","starshina_id") VALUES (DEFAULT,'temp','temp','temp',0,1900,'/2/57/','2016-09-10 09:01:43.065 +00:00','2016-09-10 09:01:43.065 +00:00',NULL,57) RETURNING *;
[2016-09-10 14:01:43.090] [ INFO] console - Executing (69341d14-12c6-4dcc-8431-67f01f3624e5): COMMIT;
[2016-09-10 14:01:43.091] [ INFO] console - [ 70, 11, {}, [ '58' ] ]
[2016-09-10 14:01:58.145] [ERROR] Server - [TypeError: undefined is not a function]
TypeError: undefined is not a function
    at Immediate.<anonymous> (Server.js:191:54)
    at [object Generator].next (native)
    at step (/home/alexey2baranov/htdocs/kp-sequelizejs/src/Server.js:1:253)
    at /home/alexey2baranov/htdocs/kp-sequelizejs/src/Server.js:1:513
    at new wrappedPromise (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/async-listener/index.js:372:16)
    at Immediate.<anonymous> (/home/alexey2baranov/htdocs/kp-sequelizejs/src/Server.js:1:161)
    at Immediate.asyncWrap (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/async-listener/glue.js:188:31)
    at Immediate.immediate._onImmediate (timers.js:435:18)
    at processImmediate [as _immediateCallback] (timers.js:383:17)
[2016-09-10 14:02:01.451] [ INFO] console - AutobahnJS debug enabled
[2016-09-10 14:02:02.260] [ INFO] Server - starting...
[2016-09-10 14:02:02.262] [ INFO] console - trying to create WAMP transport of type: websocket
[2016-09-10 14:02:02.318] [ INFO] console - using WAMP transport type: websocket
[2016-09-10 14:02:02.451] [ INFO] console - [ 1,
  'kopa',
  { roles: 
     { caller: [Object],
       callee: [Object],
       publisher: [Object],
       subscriber: [Object] },
    authmethods: [ 'ticket' ],
    authid: 'server' } ]
[2016-09-10 14:02:02.461] [ INFO] console - [ 5, 'server', {} ]
[2016-09-10 14:02:02.495] [ INFO] Server - connection.onopen()
[2016-09-10 14:02:02.496] [ INFO] console - [ 64, 5514050444197888, {}, 'ru.kopa.model.create' ]
[2016-09-10 14:02:02.502] [DEBUG] Server - api:model.create registered
[2016-09-10 14:02:02.503] [ INFO] console - [ 64, 1148564291977216, {}, 'ru.kopa.model.get' ]
[2016-09-10 14:02:02.507] [DEBUG] Server - api:model.get registered
[2016-09-10 14:02:02.507] [ INFO] console - [ 64, 1503039858933760, {}, 'ru.kopa.model.save' ]
[2016-09-10 14:02:02.511] [DEBUG] Server - api:model.save registered
[2016-09-10 14:02:02.511] [ INFO] console - [ 64, 2385539078553600, {}, 'ru.kopa.pingPong' ]
[2016-09-10 14:02:02.514] [DEBUG] Server - api:pingPong registered
[2016-09-10 14:02:02.515] [ INFO] console - [ 64, 8775086953725952, {}, 'ru.kopa.discloseCaller' ]
[2016-09-10 14:02:02.524] [DEBUG] Server - api:discloseCaller registered
[2016-09-10 14:02:02.525] [ INFO] console - [ 64, 6726105578864640, {}, 'ru.kopa.pingPongDatabase' ]
[2016-09-10 14:02:02.532] [DEBUG] Server - api:pingPongDatabase registered
[2016-09-10 14:02:02.532] [ INFO] console - [ 64, 5618785885093888, {}, 'ru.kopa.error' ]
[2016-09-10 14:02:02.537] [DEBUG] Server - api:error registered
[2016-09-10 14:02:02.538] [ INFO] console - [ 64, 7310344609333248, {}, 'ru.kopa.promiseKopas' ]
[2016-09-10 14:02:02.540] [DEBUG] Server - api:promiseKopas registered
[2016-09-10 14:02:02.540] [ INFO] console - [ 64, 1826637742080000, {}, 'ru.kopa.unitTest.cleanTempData' ]
[2016-09-10 14:02:02.542] [DEBUG] Server - api:unitTest.cleanTempData registered
[2016-09-10 14:02:02.543] [ INFO] console - [ 64, 6798130691440640, {}, 'ru.kopa.model.Kopa.setQuestion' ]
[2016-09-10 14:02:02.549] [DEBUG] Server - api:model.Kopa.setQuestion registered
[2016-09-10 14:02:02.550] [ INFO] Server - started
[2016-09-10 14:02:34.125] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 2 }
[2016-09-10 14:02:34.153] [ INFO] console - Executing (0efb7d76-07ee-4b01-97fd-f767973ac9ca): START TRANSACTION;
[2016-09-10 14:02:34.154] [ INFO] console - Executing (0efb7d76-07ee-4b01-97fd-f767973ac9ca): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 14:02:34.167] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 2);
[2016-09-10 14:02:34.173] [ INFO] console - Executing (0efb7d76-07ee-4b01-97fd-f767973ac9ca): COMMIT;
[2016-09-10 14:02:34.174] [ INFO] console - [ 70,
  14,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/2/',
      starshina: [Object],
      id: '2',
      email: 'unittest2@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '1',
      voiskoSize: 5,
      birth: 1983,
      path: '/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: null,
      attachments: [] } ] ]
[2016-09-10 14:02:34.187] [ INFO] console - Executing (2494cc7d-6719-4991-a1f8-49f589af91f3): START TRANSACTION;
[2016-09-10 14:02:34.188] [ INFO] console - Executing (2494cc7d-6719-4991-a1f8-49f589af91f3): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 14:02:34.195] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 2);
[2016-09-10 14:02:34.198] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"+1
                                where
                                    '/2/' like path||id||'/%'
[2016-09-10 14:02:34.204] [ INFO] console - Executing (default): INSERT INTO "Kopnik" ("id","name","surname","patronymic","voiskoSize","birth","path","created_at","updated_at","rodina_id","starshina_id") VALUES (DEFAULT,'temp','temp','temp',0,1900,'/2/','2016-09-10 09:02:34.190 +00:00','2016-09-10 09:02:34.190 +00:00',NULL,2) RETURNING *;
[2016-09-10 14:02:34.208] [ INFO] console - Executing (2494cc7d-6719-4991-a1f8-49f589af91f3): COMMIT;
[2016-09-10 14:02:34.209] [ INFO] console - [ 70, 15, {}, [ '59' ] ]
[2016-09-10 14:02:37.234] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Zemla', id: 2 }
[2016-09-10 14:02:37.238] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/' like k.path||k.id||'/%'
[2016-09-10 14:02:37.238] [ INFO] console - Executing (1b3b3654-28b5-48d3-8839-96acfb72b850): START TRANSACTION;
[2016-09-10 14:02:37.241] [ INFO] console - Executing (c1c496e4-7c15-4845-9b46-9702c8f9e1f7): START TRANSACTION;
[2016-09-10 14:02:37.242] [ INFO] console - Executing (1b3b3654-28b5-48d3-8839-96acfb72b850): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 14:02:37.244] [ INFO] console - Executing (c1c496e4-7c15-4845-9b46-9702c8f9e1f7): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 14:02:37.256] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 14:02:37.262] [ INFO] console - Executing (default): SELECT "Zemla"."id", "Zemla"."path", "Zemla"."name", "Zemla"."intensity", "Zemla"."note", "Zemla"."created_at", "Zemla"."updated_at", "Zemla"."deleted_at", "Zemla"."parent_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Zemla" AS "Zemla" LEFT OUTER JOIN "File" AS "attachments" ON "Zemla"."id" = "attachments"."zemla_id" AND "attachments"."deleted_at" IS NULL WHERE ("Zemla"."deleted_at" IS NULL AND "Zemla"."id" = 2);
[2016-09-10 14:06:00.670] [ INFO] console - [ 16,
  6801432625807360,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id2.voiskoChange',
  [],
  { voiskoSize: 6 } ]
[2016-09-10 14:06:00.680] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 59);
[2016-09-10 14:06:00.685] [ INFO] console - Executing (1b3b3654-28b5-48d3-8839-96acfb72b850): COMMIT;
[2016-09-10 14:06:00.690] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"+1
                                where
                                    '/2/59/' like path||id||'/%'
[2016-09-10 14:06:00.691] [ INFO] console - [ 70,
  16,
  {},
  [ { fullPath: 'null2/',
      id: '2',
      path: null,
      name: 'UnitTest2',
      intensity: 1000,
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      parent_id: '1',
      attachments: [] } ] ]
[2016-09-10 14:06:00.699] [ INFO] console - Executing (default): INSERT INTO "Kopnik" ("id","name","surname","patronymic","voiskoSize","birth","path","created_at","updated_at","rodina_id","starshina_id") VALUES (DEFAULT,'temp','temp','temp',0,1900,'/2/59/','2016-09-10 09:02:37.254 +00:00','2016-09-10 09:02:37.254 +00:00',NULL,59) RETURNING *;
[2016-09-10 14:06:00.703] [ INFO] console - Executing (c1c496e4-7c15-4845-9b46-9702c8f9e1f7): COMMIT;
[2016-09-10 14:06:00.705] [ INFO] console - [ 70, 17, {}, [ '60' ] ]
[2016-09-10 14:06:00.709] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/59/' like k.path||k.id||'/%'
[2016-09-10 14:06:00.716] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2', '59')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 14:06:00.719] [ INFO] console - [ 16,
  5849331928137728,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id59.voiskoChange',
  [],
  { voiskoSize: 1 } ]
[2016-09-10 14:06:00.723] [ INFO] console - [ 16,
  5757798304448512,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id2.voiskoChange',
  [],
  { voiskoSize: 7 } ]
[2016-09-10 14:06:42.002] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 4 }
[2016-09-10 14:06:42.011] [ INFO] console - Executing (44b57c49-4642-466f-8773-6bd44562542a): START TRANSACTION;
[2016-09-10 14:06:42.012] [ INFO] console - Executing (44b57c49-4642-466f-8773-6bd44562542a): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 14:06:42.028] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 4);
[2016-09-10 14:06:42.033] [ INFO] console - Executing (44b57c49-4642-466f-8773-6bd44562542a): COMMIT;
[2016-09-10 14:06:42.034] [ INFO] console - [ 70,
  18,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/4/',
      starshina: [Object],
      id: '4',
      email: 'unittest4@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '4',
      voiskoSize: 2,
      birth: 1983,
      path: '/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: null,
      attachments: [] } ] ]
[2016-09-10 14:07:08.698] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 2 }
[2016-09-10 14:07:08.707] [ INFO] console - Executing (8fe14e1d-fbe0-444c-9b1b-d23b69c7ef81): START TRANSACTION;
[2016-09-10 14:07:08.708] [ INFO] console - Executing (8fe14e1d-fbe0-444c-9b1b-d23b69c7ef81): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 14:07:08.719] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 2);
[2016-09-10 14:07:08.724] [ INFO] console - Executing (8fe14e1d-fbe0-444c-9b1b-d23b69c7ef81): COMMIT;
[2016-09-10 14:07:08.725] [ INFO] console - [ 70,
  20,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/2/',
      starshina: [Object],
      id: '2',
      email: 'unittest2@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '1',
      voiskoSize: 7,
      birth: 1983,
      path: '/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: null,
      attachments: [] } ] ]
[2016-09-10 14:07:08.739] [ INFO] console - Executing (f0e87c00-b0a4-43d3-bdc9-8a8b10f0de70): START TRANSACTION;
[2016-09-10 14:07:08.741] [ INFO] console - Executing (f0e87c00-b0a4-43d3-bdc9-8a8b10f0de70): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 14:07:08.745] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 2);
[2016-09-10 14:07:08.750] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"+1
                                where
                                    '/2/' like path||id||'/%'
[2016-09-10 14:07:08.755] [ INFO] console - Executing (default): INSERT INTO "Kopnik" ("id","name","surname","patronymic","voiskoSize","birth","path","created_at","updated_at","rodina_id","starshina_id") VALUES (DEFAULT,'temp','temp','temp',0,1900,'/2/','2016-09-10 09:07:08.742 +00:00','2016-09-10 09:07:08.742 +00:00',NULL,2) RETURNING *;
[2016-09-10 14:07:08.758] [ INFO] console - Executing (f0e87c00-b0a4-43d3-bdc9-8a8b10f0de70): COMMIT;
[2016-09-10 14:07:08.760] [ INFO] console - [ 70, 21, {}, [ '61' ] ]
[2016-09-10 14:07:08.763] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/' like k.path||k.id||'/%'
[2016-09-10 14:07:08.770] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Zemla', id: 2 }
[2016-09-10 14:07:08.773] [ INFO] console - Executing (3a864a8e-814f-402b-a3db-5fc9f392935c): START TRANSACTION;
[2016-09-10 14:07:08.774] [ INFO] console - Executing (0a63db56-7fa9-4dde-a572-6af15e84729a): START TRANSACTION;
[2016-09-10 14:07:08.778] [ INFO] console - Executing (3a864a8e-814f-402b-a3db-5fc9f392935c): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 14:07:08.779] [ INFO] console - Executing (0a63db56-7fa9-4dde-a572-6af15e84729a): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 14:07:08.791] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 14:07:08.799] [ INFO] console - Executing (default): SELECT "Zemla"."id", "Zemla"."path", "Zemla"."name", "Zemla"."intensity", "Zemla"."note", "Zemla"."created_at", "Zemla"."updated_at", "Zemla"."deleted_at", "Zemla"."parent_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Zemla" AS "Zemla" LEFT OUTER JOIN "File" AS "attachments" ON "Zemla"."id" = "attachments"."zemla_id" AND "attachments"."deleted_at" IS NULL WHERE ("Zemla"."deleted_at" IS NULL AND "Zemla"."id" = 2);
[2016-09-10 14:07:08.800] [ INFO] console - [ 16,
  7917655096819712,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id2.voiskoChange',
  [],
  { voiskoSize: 8 } ]
[2016-09-10 14:07:08.807] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 61);
[2016-09-10 14:07:08.810] [ INFO] console - Executing (3a864a8e-814f-402b-a3db-5fc9f392935c): COMMIT;
[2016-09-10 14:07:08.814] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"+1
                                where
                                    '/2/61/' like path||id||'/%'
[2016-09-10 14:07:08.815] [ INFO] console - [ 70,
  22,
  {},
  [ { fullPath: 'null2/',
      id: '2',
      path: null,
      name: 'UnitTest2',
      intensity: 1000,
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      parent_id: '1',
      attachments: [] } ] ]
[2016-09-10 14:07:08.824] [ INFO] console - Executing (default): INSERT INTO "Kopnik" ("id","name","surname","patronymic","voiskoSize","birth","path","created_at","updated_at","rodina_id","starshina_id") VALUES (DEFAULT,'temp','temp','temp',0,1900,'/2/61/','2016-09-10 09:07:08.781 +00:00','2016-09-10 09:07:08.781 +00:00',NULL,61) RETURNING *;
[2016-09-10 14:07:08.831] [ INFO] console - Executing (0a63db56-7fa9-4dde-a572-6af15e84729a): COMMIT;
[2016-09-10 14:07:08.834] [ INFO] console - [ 70, 23, {}, [ '62' ] ]
[2016-09-10 14:07:08.852] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/61/' like k.path||k.id||'/%'
[2016-09-10 14:07:08.863] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2', '61')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 14:07:08.866] [ INFO] console - [ 16,
  8561498337050624,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id61.voiskoChange',
  [],
  { voiskoSize: 1 } ]
[2016-09-10 14:07:08.874] [ INFO] console - [ 16,
  369571852713984,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id2.voiskoChange',
  [],
  { voiskoSize: 9 } ]
[2016-09-10 14:07:19.982] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 4 }
[2016-09-10 14:07:19.991] [ INFO] console - Executing (17761e56-b701-49c1-a40f-ef756bf12890): START TRANSACTION;
[2016-09-10 14:07:19.992] [ INFO] console - Executing (17761e56-b701-49c1-a40f-ef756bf12890): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 14:07:20.011] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 4);
[2016-09-10 14:07:20.017] [ INFO] console - Executing (17761e56-b701-49c1-a40f-ef756bf12890): COMMIT;
[2016-09-10 14:07:20.018] [ INFO] console - [ 70,
  24,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/4/',
      starshina: [Object],
      id: '4',
      email: 'unittest4@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '4',
      voiskoSize: 2,
      birth: 1983,
      path: '/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: null,
      attachments: [] } ] ]
[2016-09-10 14:10:12.046] [ INFO] console - [ 70, 26, {}, [ undefined ] ]
[2016-09-10 14:10:12.069] [ INFO] console - Executing (default): delete from "Kopnik"
                where
                    name like '%temp'
[2016-09-10 14:10:12.070] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 2 }
[2016-09-10 14:10:12.079] [ INFO] console - Executing (c9337914-217b-44f9-b763-30b34ae600bb): START TRANSACTION;
[2016-09-10 14:10:12.083] [ INFO] console - Executing (c9337914-217b-44f9-b763-30b34ae600bb): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 14:10:12.110] [ INFO] console - Executing (default): update "Kopnik"
                set 
                    "voiskoSize"= case when id=2 then 1 ELSE 0 END
                where
                    id>1 
                    and id<=5
[2016-09-10 14:10:12.115] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 2);
[2016-09-10 14:10:12.120] [ INFO] console - Executing (c9337914-217b-44f9-b763-30b34ae600bb): COMMIT;
[2016-09-10 14:10:12.121] [ INFO] console - [ 70,
  27,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/2/',
      starshina: [Object],
      id: '2',
      email: 'unittest2@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '1',
      voiskoSize: 1,
      birth: 1983,
      path: '/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: null,
      attachments: [] } ] ]
[2016-09-10 14:10:12.143] [ INFO] console - Executing (08b6ba1b-55bd-4080-8bfb-e762561de8f7): START TRANSACTION;
[2016-09-10 14:10:12.146] [ INFO] console - Executing (08b6ba1b-55bd-4080-8bfb-e762561de8f7): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 14:10:12.155] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 2);
[2016-09-10 14:10:12.163] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"+1
                                where
                                    '/2/' like path||id||'/%'
[2016-09-10 14:10:12.167] [ INFO] console - Executing (default): INSERT INTO "Kopnik" ("id","name","surname","patronymic","voiskoSize","birth","path","created_at","updated_at","rodina_id","starshina_id") VALUES (DEFAULT,'temp','temp','temp',0,1900,'/2/','2016-09-10 09:10:12.150 +00:00','2016-09-10 09:10:12.150 +00:00',NULL,2) RETURNING *;
[2016-09-10 14:10:12.173] [ INFO] console - Executing (08b6ba1b-55bd-4080-8bfb-e762561de8f7): COMMIT;
[2016-09-10 14:10:12.175] [ INFO] console - [ 70, 28, {}, [ '63' ] ]
[2016-09-10 14:10:12.178] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/' like k.path||k.id||'/%'
[2016-09-10 14:10:12.185] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 14:10:12.187] [ INFO] console - [ 16,
  2570801456873472,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id2.voiskoChange',
  [],
  { voiskoSize: 2 } ]
[2016-09-10 14:10:12.191] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Zemla', id: 2 }
[2016-09-10 14:10:12.194] [ INFO] console - Executing (4a365397-f542-4791-88ed-b9583bea0fd3): START TRANSACTION;
[2016-09-10 14:10:12.198] [ INFO] console - Executing (f828824b-1e7b-473c-a05e-4093540b7967): START TRANSACTION;
[2016-09-10 14:10:12.199] [ INFO] console - Executing (4a365397-f542-4791-88ed-b9583bea0fd3): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 14:10:12.200] [ INFO] console - Executing (f828824b-1e7b-473c-a05e-4093540b7967): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 14:10:12.207] [ INFO] console - Executing (default): SELECT "Zemla"."id", "Zemla"."path", "Zemla"."name", "Zemla"."intensity", "Zemla"."note", "Zemla"."created_at", "Zemla"."updated_at", "Zemla"."deleted_at", "Zemla"."parent_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Zemla" AS "Zemla" LEFT OUTER JOIN "File" AS "attachments" ON "Zemla"."id" = "attachments"."zemla_id" AND "attachments"."deleted_at" IS NULL WHERE ("Zemla"."deleted_at" IS NULL AND "Zemla"."id" = 2);
[2016-09-10 14:10:12.217] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 63);
[2016-09-10 14:10:12.219] [ INFO] console - Executing (4a365397-f542-4791-88ed-b9583bea0fd3): COMMIT;
[2016-09-10 14:10:12.223] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"+1
                                where
                                    '/2/63/' like path||id||'/%'
[2016-09-10 14:10:12.224] [ INFO] console - [ 70,
  29,
  {},
  [ { fullPath: 'null2/',
      id: '2',
      path: null,
      name: 'UnitTest2',
      intensity: 1000,
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      parent_id: '1',
      attachments: [] } ] ]
[2016-09-10 14:10:12.233] [ INFO] console - Executing (default): INSERT INTO "Kopnik" ("id","name","surname","patronymic","voiskoSize","birth","path","created_at","updated_at","rodina_id","starshina_id") VALUES (DEFAULT,'temp','temp','temp',0,1900,'/2/63/','2016-09-10 09:10:12.208 +00:00','2016-09-10 09:10:12.208 +00:00',NULL,63) RETURNING *;
[2016-09-10 14:10:12.237] [ INFO] console - Executing (f828824b-1e7b-473c-a05e-4093540b7967): COMMIT;
[2016-09-10 14:10:12.238] [ INFO] console - [ 70, 30, {}, [ '64' ] ]
[2016-09-10 14:10:12.241] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/63/' like k.path||k.id||'/%'
[2016-09-10 14:10:12.248] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2', '63')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 14:10:12.250] [ INFO] console - [ 16,
  2903591463419904,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id63.voiskoChange',
  [],
  { voiskoSize: 1 } ]
[2016-09-10 14:10:12.287] [ INFO] console - [ 16,
  5321816652382208,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id2.voiskoChange',
  [],
  { voiskoSize: 3 } ]
[2016-09-10 14:10:12.294] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 4 }
[2016-09-10 14:10:12.297] [ INFO] console - Executing (b63e8647-b7b2-439a-94fb-5f031fb2c78f): START TRANSACTION;
[2016-09-10 14:10:12.299] [ INFO] console - Executing (b63e8647-b7b2-439a-94fb-5f031fb2c78f): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 14:10:12.307] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 4);
[2016-09-10 14:10:12.311] [ INFO] console - Executing (b63e8647-b7b2-439a-94fb-5f031fb2c78f): COMMIT;
[2016-09-10 14:10:12.312] [ INFO] console - [ 70,
  31,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/4/',
      starshina: [Object],
      id: '4',
      email: 'unittest4@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '4',
      voiskoSize: 0,
      birth: 1983,
      path: '/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: null,
      attachments: [] } ] ]
[2016-09-10 14:11:18.289] [ INFO] console - [ 70, 33, {}, [ undefined ] ]
[2016-09-10 14:11:18.301] [ INFO] console - Executing (default): delete from "Kopnik"
                where
                    name like '%temp'
[2016-09-10 14:11:18.305] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 2 }
[2016-09-10 14:11:18.314] [ INFO] console - Executing (363311dc-c49a-4f3c-b6b9-d6122ab775ca): START TRANSACTION;
[2016-09-10 14:11:18.315] [ INFO] console - Executing (363311dc-c49a-4f3c-b6b9-d6122ab775ca): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 14:11:18.324] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 2);
[2016-09-10 14:11:18.328] [ INFO] console - Executing (default): update "Kopnik"
                set 
                    "voiskoSize"= case when id=2 then 1 ELSE 0 END
                where
                    id>1 
                    and id<=5
[2016-09-10 14:11:18.331] [ INFO] console - Executing (363311dc-c49a-4f3c-b6b9-d6122ab775ca): COMMIT;
[2016-09-10 14:11:18.333] [ INFO] console - [ 70,
  34,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/2/',
      starshina: [Object],
      id: '2',
      email: 'unittest2@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '1',
      voiskoSize: 3,
      birth: 1983,
      path: '/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: null,
      attachments: [] } ] ]
[2016-09-10 14:11:18.352] [ INFO] console - Executing (e917b039-1200-4754-990d-f10f3ef84928): START TRANSACTION;
[2016-09-10 14:11:18.355] [ INFO] console - Executing (e917b039-1200-4754-990d-f10f3ef84928): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 14:11:18.362] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 2);
[2016-09-10 14:11:18.369] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"+1
                                where
                                    '/2/' like path||id||'/%'
[2016-09-10 14:11:18.373] [ INFO] console - Executing (default): INSERT INTO "Kopnik" ("id","name","surname","patronymic","voiskoSize","birth","path","created_at","updated_at","rodina_id","starshina_id") VALUES (DEFAULT,'temp','temp','temp',0,1900,'/2/','2016-09-10 09:11:18.357 +00:00','2016-09-10 09:11:18.357 +00:00',NULL,2) RETURNING *;
[2016-09-10 14:11:18.376] [ INFO] console - Executing (e917b039-1200-4754-990d-f10f3ef84928): COMMIT;
[2016-09-10 14:11:18.378] [ INFO] console - [ 70, 35, {}, [ '65' ] ]
[2016-09-10 14:11:18.381] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/' like k.path||k.id||'/%'
[2016-09-10 14:11:18.390] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 14:11:18.391] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Zemla', id: 2 }
[2016-09-10 14:11:18.396] [ INFO] console - Executing (d0031c05-fe33-4f1d-baac-fe2a2d9b8f0d): START TRANSACTION;
[2016-09-10 14:11:18.396] [ INFO] console - Executing (0bd518f5-5c02-4ecb-8ff2-2f17fb0c0fbd): START TRANSACTION;
[2016-09-10 14:11:18.397] [ INFO] console - [ 16,
  8529261537263616,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id2.voiskoChange',
  [],
  { voiskoSize: 2 } ]
[2016-09-10 14:11:18.400] [ INFO] console - Executing (d0031c05-fe33-4f1d-baac-fe2a2d9b8f0d): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 14:11:18.401] [ INFO] console - Executing (0bd518f5-5c02-4ecb-8ff2-2f17fb0c0fbd): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 14:11:18.411] [ INFO] console - Executing (default): SELECT "Zemla"."id", "Zemla"."path", "Zemla"."name", "Zemla"."intensity", "Zemla"."note", "Zemla"."created_at", "Zemla"."updated_at", "Zemla"."deleted_at", "Zemla"."parent_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Zemla" AS "Zemla" LEFT OUTER JOIN "File" AS "attachments" ON "Zemla"."id" = "attachments"."zemla_id" AND "attachments"."deleted_at" IS NULL WHERE ("Zemla"."deleted_at" IS NULL AND "Zemla"."id" = 2);
[2016-09-10 14:11:18.417] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 65);
[2016-09-10 14:11:18.420] [ INFO] console - Executing (d0031c05-fe33-4f1d-baac-fe2a2d9b8f0d): COMMIT;
[2016-09-10 14:11:18.423] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"+1
                                where
                                    '/2/65/' like path||id||'/%'
[2016-09-10 14:11:18.424] [ INFO] console - [ 70,
  36,
  {},
  [ { fullPath: 'null2/',
      id: '2',
      path: null,
      name: 'UnitTest2',
      intensity: 1000,
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      parent_id: '1',
      attachments: [] } ] ]
[2016-09-10 14:11:18.435] [ INFO] console - Executing (default): INSERT INTO "Kopnik" ("id","name","surname","patronymic","voiskoSize","birth","path","created_at","updated_at","rodina_id","starshina_id") VALUES (DEFAULT,'temp','temp','temp',0,1900,'/2/65/','2016-09-10 09:11:18.404 +00:00','2016-09-10 09:11:18.404 +00:00',NULL,65) RETURNING *;
[2016-09-10 14:11:18.438] [ INFO] console - Executing (0bd518f5-5c02-4ecb-8ff2-2f17fb0c0fbd): COMMIT;
[2016-09-10 14:11:18.439] [ INFO] console - [ 70, 37, {}, [ '66' ] ]
[2016-09-10 14:11:18.443] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/65/' like k.path||k.id||'/%'
[2016-09-10 14:11:18.449] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2', '65')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 14:11:18.455] [ INFO] console - [ 16,
  4997289120628736,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id65.voiskoChange',
  [],
  { voiskoSize: 1 } ]
[2016-09-10 14:11:18.736] [ INFO] console - [ 16,
  2964766022696960,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id2.voiskoChange',
  [],
  { voiskoSize: 3 } ]
[2016-09-10 14:11:18.752] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 4 }
[2016-09-10 14:11:18.755] [ INFO] console - Executing (598f92cb-c0af-49ce-abd2-8a432e2a6e42): START TRANSACTION;
[2016-09-10 14:11:18.756] [ INFO] console - Executing (598f92cb-c0af-49ce-abd2-8a432e2a6e42): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 14:11:18.764] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 4);
[2016-09-10 14:11:18.768] [ INFO] console - Executing (598f92cb-c0af-49ce-abd2-8a432e2a6e42): COMMIT;
[2016-09-10 14:11:18.770] [ INFO] console - [ 70,
  38,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/4/',
      starshina: [Object],
      id: '4',
      email: 'unittest4@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '4',
      voiskoSize: 0,
      birth: 1983,
      path: '/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: null,
      attachments: [] } ] ]
[2016-09-10 14:39:17.468] [ INFO] console - AutobahnJS debug enabled
[2016-09-10 14:39:18.501] [ INFO] Server - starting...
[2016-09-10 14:39:18.503] [ INFO] console - trying to create WAMP transport of type: websocket
[2016-09-10 14:39:18.561] [ INFO] console - using WAMP transport type: websocket
[2016-09-10 14:39:18.747] [ INFO] console - [ 1,
  'kopa',
  { roles: 
     { caller: [Object],
       callee: [Object],
       publisher: [Object],
       subscriber: [Object] },
    authmethods: [ 'ticket' ],
    authid: 'server' } ]
[2016-09-10 14:39:18.766] [ INFO] console - [ 5, 'server', {} ]
[2016-09-10 14:39:18.802] [ INFO] Server - connection.onopen()
[2016-09-10 14:39:18.802] [ INFO] console - [ 64, 7018072011440128, {}, 'ru.kopa.model.create' ]
[2016-09-10 14:39:18.808] [DEBUG] Server - api:model.create registered
[2016-09-10 14:39:18.809] [ INFO] console - [ 64, 787462869745664, {}, 'ru.kopa.model.get' ]
[2016-09-10 14:39:18.813] [DEBUG] Server - api:model.get registered
[2016-09-10 14:39:18.813] [ INFO] console - [ 64, 6310449429610496, {}, 'ru.kopa.model.save' ]
[2016-09-10 14:39:18.847] [DEBUG] Server - api:model.save registered
[2016-09-10 14:39:18.847] [ INFO] console - [ 64, 5959274897342464, {}, 'ru.kopa.pingPong' ]
[2016-09-10 14:39:18.850] [DEBUG] Server - api:pingPong registered
[2016-09-10 14:39:18.850] [ INFO] console - [ 64, 654284163121152, {}, 'ru.kopa.discloseCaller' ]
[2016-09-10 14:39:18.853] [DEBUG] Server - api:discloseCaller registered
[2016-09-10 14:39:18.854] [ INFO] console - [ 64, 5741816276058112, {}, 'ru.kopa.pingPongDatabase' ]
[2016-09-10 14:39:18.856] [DEBUG] Server - api:pingPongDatabase registered
[2016-09-10 14:39:18.857] [ INFO] console - [ 64, 6568255240011776, {}, 'ru.kopa.error' ]
[2016-09-10 14:39:18.859] [DEBUG] Server - api:error registered
[2016-09-10 14:39:18.862] [ INFO] console - [ 64, 22039767285760, {}, 'ru.kopa.promiseKopas' ]
[2016-09-10 14:39:18.865] [DEBUG] Server - api:promiseKopas registered
[2016-09-10 14:39:18.866] [ INFO] console - [ 64, 6006375620542464, {}, 'ru.kopa.unitTest.cleanTempData' ]
[2016-09-10 14:39:18.868] [DEBUG] Server - api:unitTest.cleanTempData registered
[2016-09-10 14:39:18.868] [ INFO] console - [ 64, 6014062171258880, {}, 'ru.kopa.model.Kopnik.setStarshina' ]
[2016-09-10 14:39:18.872] [DEBUG] Server - api:model.Kopnik.setStarshina registered
[2016-09-10 14:39:18.872] [ INFO] console - [ 64, 6804651450040320, {}, 'ru.kopa.model.Kopa.setQuestion' ]
[2016-09-10 14:39:18.875] [DEBUG] Server - api:model.Kopa.setQuestion registered
[2016-09-10 14:39:18.876] [ INFO] Server - started
[2016-09-10 14:39:32.153] [ INFO] console - [ 70, 41, {}, [ undefined ] ]
[2016-09-10 14:39:32.165] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 2 }
[2016-09-10 14:39:32.225] [ INFO] console - Executing (default): delete from "Kopnik"
                where
                    name like '%temp'
[2016-09-10 14:39:32.226] [ INFO] console - Executing (a6d84fbb-7b25-4aad-9df6-9a13026133eb): START TRANSACTION;
[2016-09-10 14:39:32.227] [ INFO] console - Executing (a6d84fbb-7b25-4aad-9df6-9a13026133eb): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 14:39:32.240] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 2);
[2016-09-10 14:39:32.244] [ INFO] console - Executing (default): update "Kopnik"
                set 
                    "voiskoSize"= case when id=2 then 1 ELSE 0 END
                where
                    id>1 
                    and id<=5
[2016-09-10 14:39:32.257] [ INFO] console - Executing (a6d84fbb-7b25-4aad-9df6-9a13026133eb): COMMIT;
[2016-09-10 14:39:32.259] [ INFO] console - [ 70,
  42,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/2/',
      starshina: [Object],
      id: '2',
      email: 'unittest2@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '1',
      voiskoSize: 3,
      birth: 1983,
      path: '/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: null,
      attachments: [] } ] ]
[2016-09-10 14:39:32.295] [ INFO] console - Executing (6e550367-5ab2-47b5-8117-44645ac3f077): START TRANSACTION;
[2016-09-10 14:39:32.296] [ INFO] console - Executing (6e550367-5ab2-47b5-8117-44645ac3f077): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 14:39:32.303] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 2);
[2016-09-10 14:39:32.308] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"+1
                                where
                                    '/2/' like path||id||'/%'
[2016-09-10 14:39:32.315] [ INFO] console - Executing (default): INSERT INTO "Kopnik" ("id","name","surname","patronymic","voiskoSize","birth","path","created_at","updated_at","rodina_id","starshina_id") VALUES (DEFAULT,'temp','temp','temp',0,1900,'/2/','2016-09-10 09:39:32.298 +00:00','2016-09-10 09:39:32.298 +00:00',NULL,2) RETURNING *;
[2016-09-10 14:39:32.319] [ INFO] console - Executing (6e550367-5ab2-47b5-8117-44645ac3f077): COMMIT;
[2016-09-10 14:39:32.320] [ INFO] console - [ 70, 43, {}, [ '67' ] ]
[2016-09-10 14:39:32.325] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/' like k.path||k.id||'/%'
[2016-09-10 14:39:32.332] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Zemla', id: 2 }
[2016-09-10 14:39:32.335] [ INFO] console - Executing (e8a04683-9d50-49f2-bfe9-c9964ac1a8b6): START TRANSACTION;
[2016-09-10 14:39:32.336] [ INFO] console - Executing (9bb42c54-9abb-4538-98b9-39bf85412fe4): START TRANSACTION;
[2016-09-10 14:39:32.338] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 14:39:32.340] [ INFO] console - Executing (e8a04683-9d50-49f2-bfe9-c9964ac1a8b6): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 14:39:32.340] [ INFO] console - Executing (9bb42c54-9abb-4538-98b9-39bf85412fe4): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 14:39:32.345] [ INFO] console - [ 16,
  3057882505412608,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id2.voiskoChange',
  [],
  { voiskoSize: 2 } ]
[2016-09-10 14:39:32.353] [ INFO] console - Executing (default): SELECT "Zemla"."id", "Zemla"."path", "Zemla"."name", "Zemla"."intensity", "Zemla"."note", "Zemla"."created_at", "Zemla"."updated_at", "Zemla"."deleted_at", "Zemla"."parent_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Zemla" AS "Zemla" LEFT OUTER JOIN "File" AS "attachments" ON "Zemla"."id" = "attachments"."zemla_id" AND "attachments"."deleted_at" IS NULL WHERE ("Zemla"."deleted_at" IS NULL AND "Zemla"."id" = 2);
[2016-09-10 14:39:32.357] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 67);
[2016-09-10 14:39:32.368] [ INFO] console - Executing (e8a04683-9d50-49f2-bfe9-c9964ac1a8b6): COMMIT;
[2016-09-10 14:39:32.369] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"+1
                                where
                                    '/2/67/' like path||id||'/%'
[2016-09-10 14:39:32.370] [ INFO] console - [ 70,
  44,
  {},
  [ { fullPath: 'null2/',
      id: '2',
      path: null,
      name: 'UnitTest2',
      intensity: 1000,
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      parent_id: '1',
      attachments: [] } ] ]
[2016-09-10 14:39:32.377] [ INFO] console - Executing (default): INSERT INTO "Kopnik" ("id","name","surname","patronymic","voiskoSize","birth","path","created_at","updated_at","rodina_id","starshina_id") VALUES (DEFAULT,'temp','temp','temp',0,1900,'/2/67/','2016-09-10 09:39:32.345 +00:00','2016-09-10 09:39:32.345 +00:00',NULL,67) RETURNING *;
[2016-09-10 14:39:32.381] [ INFO] console - Executing (9bb42c54-9abb-4538-98b9-39bf85412fe4): COMMIT;
[2016-09-10 14:39:32.383] [ INFO] console - [ 70, 45, {}, [ '68' ] ]
[2016-09-10 14:39:32.385] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/67/' like k.path||k.id||'/%'
[2016-09-10 14:39:32.390] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2', '67')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 14:39:32.395] [ INFO] console - [ 16,
  7736070217138176,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id67.voiskoChange',
  [],
  { voiskoSize: 1 } ]
[2016-09-10 14:39:32.399] [ INFO] console - [ 16,
  7179268421320704,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id2.voiskoChange',
  [],
  { voiskoSize: 3 } ]
[2016-09-10 14:39:32.406] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 4 }
[2016-09-10 14:39:32.409] [ INFO] console - Executing (4f677a95-c1e9-4700-bc93-21a5f400eb42): START TRANSACTION;
[2016-09-10 14:39:32.410] [ INFO] console - Executing (4f677a95-c1e9-4700-bc93-21a5f400eb42): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 14:39:32.416] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 4);
[2016-09-10 14:39:32.420] [ INFO] console - Executing (4f677a95-c1e9-4700-bc93-21a5f400eb42): COMMIT;
[2016-09-10 14:39:32.422] [ INFO] console - [ 70,
  46,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/4/',
      starshina: [Object],
      id: '4',
      email: 'unittest4@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '4',
      voiskoSize: 0,
      birth: 1983,
      path: '/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: null,
      attachments: [] } ] ]
[2016-09-10 14:39:32.434] [ INFO] console - Executing (09a311c7-f4bc-4ff0-b3f0-d4d24cc3628a): START TRANSACTION;
[2016-09-10 14:39:32.435] [ INFO] console - Executing (09a311c7-f4bc-4ff0-b3f0-d4d24cc3628a): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 14:39:32.439] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 68);
[2016-09-10 14:39:32.442] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/67/' like k.path||k.id||'/%'
[2016-09-10 14:39:32.447] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2', '67')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 14:39:32.452] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 4);
[2016-09-10 14:39:32.455] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"-1
                                where
                                    '/2/67/' like path||id||'/%'
[2016-09-10 14:39:32.457] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/67/' like k.path||k.id||'/%'
[2016-09-10 14:39:32.463] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2', '67')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 14:39:32.468] [ INFO] console - Executing (default): UPDATE "Kopnik" SET "path"='/4/',"starshina_id"='4',"updated_at"='2016-09-10 09:39:32.460 +00:00' WHERE "id" = '68'
[2016-09-10 14:39:32.471] [ INFO] console - Executing (09a311c7-f4bc-4ff0-b3f0-d4d24cc3628a): COMMIT;
[2016-09-10 14:39:32.474] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"+1
                                where
                                    '/4/' like path||id||'/%'
[2016-09-10 14:39:32.475] [ INFO] console - [ 70, 47, {}, [ undefined ] ]
[2016-09-10 14:39:32.477] [ INFO] console - [ 16,
  3329559074177024,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id67.voiskoChange',
  [],
  { voiskoSize: 1 } ]
[2016-09-10 14:39:32.483] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."starshina_id" = '68');
[2016-09-10 14:39:32.483] [ INFO] console - [ 16,
  7170886207537152,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id2.voiskoChange',
  [],
  { voiskoSize: 3 } ]
[2016-09-10 14:39:32.489] [ INFO] console - [ 16,
  1067236313792512,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id67.voiskoChange',
  [],
  { voiskoSize: 0 } ]
[2016-09-10 14:39:32.494] [ INFO] console - [ 16,
  6341485158989824,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id2.voiskoChange',
  [],
  { voiskoSize: 2 } ]
[2016-09-10 14:42:45.058] [ INFO] console - [ 70, 49, {}, [ undefined ] ]
[2016-09-10 14:42:45.069] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 2 }
[2016-09-10 14:42:45.087] [ INFO] console - Executing (default): delete from "Kopnik"
                where
                    name like '%temp'
[2016-09-10 14:42:45.089] [ INFO] console - Executing (eceb33f3-eff2-4c2d-8698-ec8aeb778604): START TRANSACTION;
[2016-09-10 14:42:45.092] [ INFO] console - Executing (default): update "Kopnik"
                set 
                    "voiskoSize"= case when id=2 then 1 ELSE 0 END
                where
                    id>1 
                    and id<=5
[2016-09-10 14:42:45.093] [ INFO] console - Executing (eceb33f3-eff2-4c2d-8698-ec8aeb778604): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 14:42:45.100] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 2);
[2016-09-10 14:42:45.105] [ INFO] console - Executing (eceb33f3-eff2-4c2d-8698-ec8aeb778604): COMMIT;
[2016-09-10 14:42:45.106] [ INFO] console - [ 70,
  50,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/2/',
      starshina: [Object],
      id: '2',
      email: 'unittest2@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '1',
      voiskoSize: 1,
      birth: 1983,
      path: '/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: null,
      attachments: [] } ] ]
[2016-09-10 14:42:45.122] [ INFO] console - Executing (58dd1dd3-192e-408a-9e95-d1660f199a17): START TRANSACTION;
[2016-09-10 14:42:45.123] [ INFO] console - Executing (58dd1dd3-192e-408a-9e95-d1660f199a17): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 14:42:45.129] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 2);
[2016-09-10 14:42:45.134] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"+1
                                where
                                    '/2/' like path||id||'/%'
[2016-09-10 14:42:45.138] [ INFO] console - Executing (default): INSERT INTO "Kopnik" ("id","name","surname","patronymic","voiskoSize","birth","path","created_at","updated_at","rodina_id","starshina_id") VALUES (DEFAULT,'temp','temp','temp',0,1900,'/2/','2016-09-10 09:42:45.124 +00:00','2016-09-10 09:42:45.124 +00:00',NULL,2) RETURNING *;
[2016-09-10 14:42:45.141] [ INFO] console - Executing (58dd1dd3-192e-408a-9e95-d1660f199a17): COMMIT;
[2016-09-10 14:42:45.142] [ INFO] console - [ 70, 51, {}, [ '69' ] ]
[2016-09-10 14:42:45.146] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/' like k.path||k.id||'/%'
[2016-09-10 14:42:45.156] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Zemla', id: 2 }
[2016-09-10 14:42:45.159] [ INFO] console - Executing (58bbe67d-5733-4a1c-9bfd-a81e57d88a0b): START TRANSACTION;
[2016-09-10 14:42:45.160] [ INFO] console - Executing (0afab896-bfae-4ff4-b6f8-1d087dc4b0a5): START TRANSACTION;
[2016-09-10 14:42:45.162] [ INFO] console - Executing (0afab896-bfae-4ff4-b6f8-1d087dc4b0a5): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 14:42:45.162] [ INFO] console - Executing (58bbe67d-5733-4a1c-9bfd-a81e57d88a0b): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 14:42:45.182] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 14:42:45.186] [ INFO] console - Executing (default): SELECT "Zemla"."id", "Zemla"."path", "Zemla"."name", "Zemla"."intensity", "Zemla"."note", "Zemla"."created_at", "Zemla"."updated_at", "Zemla"."deleted_at", "Zemla"."parent_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Zemla" AS "Zemla" LEFT OUTER JOIN "File" AS "attachments" ON "Zemla"."id" = "attachments"."zemla_id" AND "attachments"."deleted_at" IS NULL WHERE ("Zemla"."deleted_at" IS NULL AND "Zemla"."id" = 2);
[2016-09-10 14:42:45.187] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 69);
[2016-09-10 14:42:45.188] [ INFO] console - [ 16,
  9226843848704,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id2.voiskoChange',
  [],
  { voiskoSize: 2 } ]
[2016-09-10 14:42:45.199] [ INFO] console - Executing (58bbe67d-5733-4a1c-9bfd-a81e57d88a0b): COMMIT;
[2016-09-10 14:42:45.199] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"+1
                                where
                                    '/2/69/' like path||id||'/%'
[2016-09-10 14:42:45.201] [ INFO] console - [ 70,
  52,
  {},
  [ { fullPath: 'null2/',
      id: '2',
      path: null,
      name: 'UnitTest2',
      intensity: 1000,
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      parent_id: '1',
      attachments: [] } ] ]
[2016-09-10 14:42:45.212] [ INFO] console - Executing (default): INSERT INTO "Kopnik" ("id","name","surname","patronymic","voiskoSize","birth","path","created_at","updated_at","rodina_id","starshina_id") VALUES (DEFAULT,'temp','temp','temp',0,1900,'/2/69/','2016-09-10 09:42:45.167 +00:00','2016-09-10 09:42:45.167 +00:00',NULL,69) RETURNING *;
[2016-09-10 14:42:45.216] [ INFO] console - Executing (0afab896-bfae-4ff4-b6f8-1d087dc4b0a5): COMMIT;
[2016-09-10 14:42:45.217] [ INFO] console - [ 70, 53, {}, [ '70' ] ]
[2016-09-10 14:42:45.223] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/69/' like k.path||k.id||'/%'
[2016-09-10 14:42:45.230] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2', '69')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 14:42:45.233] [ INFO] console - [ 16,
  3940575520751616,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id69.voiskoChange',
  [],
  { voiskoSize: 1 } ]
[2016-09-10 14:42:45.239] [ INFO] console - [ 16,
  8128180284030976,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id2.voiskoChange',
  [],
  { voiskoSize: 3 } ]
[2016-09-10 14:42:45.244] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 4 }
[2016-09-10 14:42:45.247] [ INFO] console - Executing (2f0c095b-1d19-487b-a841-7552b6e24ec1): START TRANSACTION;
[2016-09-10 14:42:45.247] [ INFO] console - Executing (2f0c095b-1d19-487b-a841-7552b6e24ec1): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 14:42:45.255] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 4);
[2016-09-10 14:42:45.260] [ INFO] console - Executing (2f0c095b-1d19-487b-a841-7552b6e24ec1): COMMIT;
[2016-09-10 14:42:45.262] [ INFO] console - [ 70,
  54,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/4/',
      starshina: [Object],
      id: '4',
      email: 'unittest4@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '4',
      voiskoSize: 0,
      birth: 1983,
      path: '/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: null,
      attachments: [] } ] ]
[2016-09-10 14:42:45.273] [ INFO] console - Executing (1bbad6bc-463d-4783-8323-c1d717b6e0a8): START TRANSACTION;
[2016-09-10 14:42:45.274] [ INFO] console - Executing (1bbad6bc-463d-4783-8323-c1d717b6e0a8): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 14:42:45.279] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 69);
[2016-09-10 14:42:45.282] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/' like k.path||k.id||'/%'
[2016-09-10 14:42:45.290] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 14:42:45.295] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 4);
[2016-09-10 14:42:45.299] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"-2
                                where
                                    '/2/' like path||id||'/%'
[2016-09-10 14:42:45.300] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/' like k.path||k.id||'/%'
[2016-09-10 14:42:45.306] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 14:42:45.310] [ INFO] console - Executing (default): UPDATE "Kopnik" SET "path"='/4/',"starshina_id"='4',"updated_at"='2016-09-10 09:42:45.303 +00:00' WHERE "id" = '69'
[2016-09-10 14:42:45.314] [ INFO] console - Executing (1bbad6bc-463d-4783-8323-c1d717b6e0a8): COMMIT;
[2016-09-10 14:42:45.315] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"+2
                                where
                                    '/4/' like path||id||'/%'
[2016-09-10 14:42:45.317] [ INFO] console - [ 70, 55, {}, [ undefined ] ]
[2016-09-10 14:42:45.319] [ INFO] console - [ 16,
  7155835994112000,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id2.voiskoChange',
  [],
  { voiskoSize: 3 } ]
[2016-09-10 14:42:45.322] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."starshina_id" = '69');
[2016-09-10 14:42:45.323] [ INFO] console - [ 16,
  8870063278915584,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id2.voiskoChange',
  [],
  { voiskoSize: 1 } ]
[2016-09-10 14:42:45.332] [ INFO] console - Executing (default): UPDATE "Kopnik" SET "path"='/4/69/',"updated_at"='2016-09-10 09:42:45.327 +00:00' WHERE "id" = '70'
[2016-09-10 14:43:45.762] [ INFO] console - [ 70, 57, {}, [ undefined ] ]
[2016-09-10 14:43:45.774] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 2 }
[2016-09-10 14:43:45.784] [ INFO] console - Executing (default): delete from "Kopnik"
                where
                    name like '%temp'
[2016-09-10 14:43:45.787] [ INFO] console - Executing (abefda86-e09d-4884-af37-f0547b8abf31): START TRANSACTION;
[2016-09-10 14:43:45.789] [ INFO] console - Executing (abefda86-e09d-4884-af37-f0547b8abf31): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 14:43:45.800] [ INFO] console - Executing (default): update "Kopnik"
                set 
                    "voiskoSize"= case when id=2 then 1 ELSE 0 END
                where
                    id>1 
                    and id<=5
[2016-09-10 14:43:45.802] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 2);
[2016-09-10 14:43:45.812] [ INFO] console - Executing (abefda86-e09d-4884-af37-f0547b8abf31): COMMIT;
[2016-09-10 14:43:45.814] [ INFO] console - [ 70,
  58,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/2/',
      starshina: [Object],
      id: '2',
      email: 'unittest2@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '1',
      voiskoSize: 1,
      birth: 1983,
      path: '/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: null,
      attachments: [] } ] ]
[2016-09-10 14:43:45.835] [ INFO] console - Executing (25c81196-1e70-4ebf-8cd0-8da0b89482b5): START TRANSACTION;
[2016-09-10 14:43:45.837] [ INFO] console - Executing (25c81196-1e70-4ebf-8cd0-8da0b89482b5): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 14:43:45.848] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 2);
[2016-09-10 14:43:45.852] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"+1
                                where
                                    '/2/' like path||id||'/%'
[2016-09-10 14:43:45.858] [ INFO] console - Executing (default): INSERT INTO "Kopnik" ("id","name","surname","patronymic","voiskoSize","birth","path","created_at","updated_at","rodina_id","starshina_id") VALUES (DEFAULT,'temp','temp','temp',0,1900,'/2/','2016-09-10 09:43:45.839 +00:00','2016-09-10 09:43:45.839 +00:00',NULL,2) RETURNING *;
[2016-09-10 14:43:45.862] [ INFO] console - Executing (25c81196-1e70-4ebf-8cd0-8da0b89482b5): COMMIT;
[2016-09-10 14:43:45.863] [ INFO] console - [ 70, 59, {}, [ '71' ] ]
[2016-09-10 14:43:45.867] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/' like k.path||k.id||'/%'
[2016-09-10 14:43:45.878] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 14:43:45.881] [ INFO] console - [ 16,
  6409517445152768,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id2.voiskoChange',
  [],
  { voiskoSize: 2 } ]
[2016-09-10 14:43:45.933] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Zemla', id: 2 }
[2016-09-10 14:43:45.939] [ INFO] console - Executing (fb1a9365-a97e-4535-b083-e6cf8a7175e3): START TRANSACTION;
[2016-09-10 14:43:45.940] [ INFO] console - Executing (2f250f1c-2bc9-4365-86ff-58ed67cb34ee): START TRANSACTION;
[2016-09-10 14:43:45.943] [ INFO] console - Executing (fb1a9365-a97e-4535-b083-e6cf8a7175e3): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 14:43:45.943] [ INFO] console - Executing (2f250f1c-2bc9-4365-86ff-58ed67cb34ee): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 14:43:45.952] [ INFO] console - Executing (default): SELECT "Zemla"."id", "Zemla"."path", "Zemla"."name", "Zemla"."intensity", "Zemla"."note", "Zemla"."created_at", "Zemla"."updated_at", "Zemla"."deleted_at", "Zemla"."parent_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Zemla" AS "Zemla" LEFT OUTER JOIN "File" AS "attachments" ON "Zemla"."id" = "attachments"."zemla_id" AND "attachments"."deleted_at" IS NULL WHERE ("Zemla"."deleted_at" IS NULL AND "Zemla"."id" = 2);
[2016-09-10 14:43:45.956] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 71);
[2016-09-10 14:43:45.973] [ INFO] console - Executing (fb1a9365-a97e-4535-b083-e6cf8a7175e3): COMMIT;
[2016-09-10 14:43:45.974] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"+1
                                where
                                    '/2/71/' like path||id||'/%'
[2016-09-10 14:43:45.975] [ INFO] console - [ 70,
  60,
  {},
  [ { fullPath: 'null2/',
      id: '2',
      path: null,
      name: 'UnitTest2',
      intensity: 1000,
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      parent_id: '1',
      attachments: [] } ] ]
[2016-09-10 14:43:45.986] [ INFO] console - Executing (default): INSERT INTO "Kopnik" ("id","name","surname","patronymic","voiskoSize","birth","path","created_at","updated_at","rodina_id","starshina_id") VALUES (DEFAULT,'temp','temp','temp',0,1900,'/2/71/','2016-09-10 09:43:45.946 +00:00','2016-09-10 09:43:45.946 +00:00',NULL,71) RETURNING *;
[2016-09-10 14:43:45.990] [ INFO] console - Executing (2f250f1c-2bc9-4365-86ff-58ed67cb34ee): COMMIT;
[2016-09-10 14:43:45.991] [ INFO] console - [ 70, 61, {}, [ '72' ] ]
[2016-09-10 14:43:45.998] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/71/' like k.path||k.id||'/%'
[2016-09-10 14:43:46.005] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2', '71')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 14:43:46.008] [ INFO] console - [ 16,
  8675654583189504,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id71.voiskoChange',
  [],
  { voiskoSize: 1 } ]
[2016-09-10 14:43:46.013] [ INFO] console - [ 16,
  6325621051359232,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id2.voiskoChange',
  [],
  { voiskoSize: 3 } ]
[2016-09-10 14:43:46.069] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 4 }
[2016-09-10 14:43:46.072] [ INFO] console - Executing (1429b58d-cf10-47b9-8132-ecd9c383993d): START TRANSACTION;
[2016-09-10 14:43:46.074] [ INFO] console - Executing (1429b58d-cf10-47b9-8132-ecd9c383993d): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 14:43:46.085] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 4);
[2016-09-10 14:43:46.092] [ INFO] console - Executing (1429b58d-cf10-47b9-8132-ecd9c383993d): COMMIT;
[2016-09-10 14:43:46.094] [ INFO] console - [ 70,
  62,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/4/',
      starshina: [Object],
      id: '4',
      email: 'unittest4@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '4',
      voiskoSize: 0,
      birth: 1983,
      path: '/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: null,
      attachments: [] } ] ]
[2016-09-10 14:43:46.115] [ INFO] console - Executing (cbf745b0-feae-468f-b8db-19ff522e9c5d): START TRANSACTION;
[2016-09-10 14:43:46.118] [ INFO] console - Executing (cbf745b0-feae-468f-b8db-19ff522e9c5d): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 14:43:46.125] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 71);
[2016-09-10 14:43:46.130] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/' like k.path||k.id||'/%'
[2016-09-10 14:43:46.135] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 14:43:46.159] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 4);
[2016-09-10 14:43:46.165] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"-2
                                where
                                    '/2/' like path||id||'/%'
[2016-09-10 14:43:46.166] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/' like k.path||k.id||'/%'
[2016-09-10 14:43:46.176] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 14:43:46.183] [ INFO] console - Executing (default): UPDATE "Kopnik" SET "path"='/4/',"starshina_id"='4',"updated_at"='2016-09-10 09:43:46.170 +00:00' WHERE "id" = '71'
[2016-09-10 14:43:46.188] [ INFO] console - Executing (cbf745b0-feae-468f-b8db-19ff522e9c5d): COMMIT;
[2016-09-10 14:43:46.189] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"+2
                                where
                                    '/4/' like path||id||'/%'
[2016-09-10 14:43:46.192] [ INFO] console - [ 70, 63, {}, [ undefined ] ]
[2016-09-10 14:43:46.194] [ INFO] console - [ 16,
  7292244774092800,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id2.voiskoChange',
  [],
  { voiskoSize: 3 } ]
[2016-09-10 14:43:46.206] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."starshina_id" = '71');
[2016-09-10 14:43:46.208] [ INFO] console - [ 16,
  8301348648910848,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id2.voiskoChange',
  [],
  { voiskoSize: 1 } ]
[2016-09-10 14:43:46.247] [ INFO] console - Executing (default): UPDATE "Kopnik" SET "path"='/4/71/',"updated_at"='2016-09-10 09:43:46.229 +00:00' WHERE "id" = '72'
[2016-09-10 14:46:21.965] [ INFO] console - AutobahnJS debug enabled
[2016-09-10 14:46:22.999] [ INFO] Server - starting...
[2016-09-10 14:46:23.000] [ INFO] console - trying to create WAMP transport of type: websocket
[2016-09-10 14:46:23.051] [ INFO] console - using WAMP transport type: websocket
[2016-09-10 14:46:23.147] [ INFO] console - [ 1,
  'kopa',
  { roles: 
     { caller: [Object],
       callee: [Object],
       publisher: [Object],
       subscriber: [Object] },
    authmethods: [ 'ticket' ],
    authid: 'server' } ]
[2016-09-10 14:46:23.155] [ INFO] console - [ 5, 'server', {} ]
[2016-09-10 14:46:23.169] [ INFO] Server - connection.onopen()
[2016-09-10 14:46:23.170] [ INFO] console - [ 64, 3023555352592384, {}, 'ru.kopa.model.create' ]
[2016-09-10 14:46:23.172] [DEBUG] Server - api:model.create registered
[2016-09-10 14:46:23.173] [ INFO] console - [ 64, 8194274644459520, {}, 'ru.kopa.model.get' ]
[2016-09-10 14:46:23.176] [DEBUG] Server - api:model.get registered
[2016-09-10 14:46:23.176] [ INFO] console - [ 64, 11298565783552, {}, 'ru.kopa.model.save' ]
[2016-09-10 14:46:23.179] [DEBUG] Server - api:model.save registered
[2016-09-10 14:46:23.179] [ INFO] console - [ 64, 4973409140211712, {}, 'ru.kopa.pingPong' ]
[2016-09-10 14:46:23.183] [DEBUG] Server - api:pingPong registered
[2016-09-10 14:46:23.183] [ INFO] console - [ 64, 3353631212437504, {}, 'ru.kopa.discloseCaller' ]
[2016-09-10 14:46:23.186] [DEBUG] Server - api:discloseCaller registered
[2016-09-10 14:46:23.186] [ INFO] console - [ 64, 2341684174127104, {}, 'ru.kopa.pingPongDatabase' ]
[2016-09-10 14:46:23.200] [DEBUG] Server - api:pingPongDatabase registered
[2016-09-10 14:46:23.201] [ INFO] console - [ 64, 8132592876388352, {}, 'ru.kopa.error' ]
[2016-09-10 14:46:23.207] [DEBUG] Server - api:error registered
[2016-09-10 14:46:23.207] [ INFO] console - [ 64, 7178954790141952, {}, 'ru.kopa.promiseKopas' ]
[2016-09-10 14:46:23.210] [DEBUG] Server - api:promiseKopas registered
[2016-09-10 14:46:23.210] [ INFO] console - [ 64, 2240619646812160, {}, 'ru.kopa.unitTest.cleanTempData' ]
[2016-09-10 14:46:23.213] [DEBUG] Server - api:unitTest.cleanTempData registered
[2016-09-10 14:46:23.213] [ INFO] console - [ 64, 3936143896739840, {}, 'ru.kopa.model.Kopnik.setStarshina' ]
[2016-09-10 14:46:23.216] [DEBUG] Server - api:model.Kopnik.setStarshina registered
[2016-09-10 14:46:23.216] [ INFO] console - [ 64, 2818078429675520, {}, 'ru.kopa.model.Kopa.setQuestion' ]
[2016-09-10 14:46:23.219] [DEBUG] Server - api:model.Kopa.setQuestion registered
[2016-09-10 14:46:23.221] [ INFO] Server - started
[2016-09-10 14:52:33.556] [ INFO] console - [ 70, 66, {}, [ undefined ] ]
[2016-09-10 14:52:33.611] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 2 }
[2016-09-10 14:52:33.798] [ INFO] console - Executing (default): delete from "Kopnik"
                where
                    name like '%temp'
[2016-09-10 14:52:33.800] [ INFO] console - Executing (701b5753-34f6-4513-87b0-e9d29ee01474): START TRANSACTION;
[2016-09-10 14:52:33.809] [ INFO] console - Executing (701b5753-34f6-4513-87b0-e9d29ee01474): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 14:52:33.816] [ INFO] console - Executing (default): update "Kopnik"
                set 
                    "voiskoSize"= case when id=2 then 1 ELSE 0 END
                where
                    id>1 
                    and id<=5
[2016-09-10 14:52:33.827] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 2);
[2016-09-10 14:52:33.837] [ INFO] console - Executing (701b5753-34f6-4513-87b0-e9d29ee01474): COMMIT;
[2016-09-10 14:52:33.839] [ INFO] console - [ 70,
  67,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/2/',
      starshina: [Object],
      id: '2',
      email: 'unittest2@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '1',
      voiskoSize: 1,
      birth: 1983,
      path: '/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: null,
      attachments: [] } ] ]
[2016-09-10 14:52:33.978] [ INFO] console - Executing (5cc7cdf7-29e1-40cb-9d15-7b4f94fc617e): START TRANSACTION;
[2016-09-10 14:52:33.979] [ INFO] console - Executing (5cc7cdf7-29e1-40cb-9d15-7b4f94fc617e): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 14:52:33.987] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 2);
[2016-09-10 14:52:33.992] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"+1
                                where
                                    '/2/' like path||id||'/%'
[2016-09-10 14:52:34.003] [ INFO] console - Executing (default): INSERT INTO "Kopnik" ("id","name","surname","patronymic","voiskoSize","birth","path","created_at","updated_at","rodina_id","starshina_id") VALUES (DEFAULT,'temp','temp','temp',0,1900,'/2/','2016-09-10 09:52:33.982 +00:00','2016-09-10 09:52:33.982 +00:00',NULL,2) RETURNING *;
[2016-09-10 14:52:34.011] [ INFO] console - Executing (5cc7cdf7-29e1-40cb-9d15-7b4f94fc617e): COMMIT;
[2016-09-10 14:52:34.013] [ INFO] console - [ 70, 68, {}, [ '73' ] ]
[2016-09-10 14:52:34.016] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/' like k.path||k.id||'/%'
[2016-09-10 14:52:34.029] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 14:52:34.036] [ INFO] console - [ 16,
  8686908121022464,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id2.voiskoChange',
  [],
  { voiskoSize: 2 } ]
[2016-09-10 14:52:34.039] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Zemla', id: 2 }
[2016-09-10 14:52:34.043] [ INFO] console - Executing (cacdd24a-0489-4da5-9da7-93ade7465a28): START TRANSACTION;
[2016-09-10 14:52:34.044] [ INFO] console - Executing (06e64f2c-6a67-4a90-98c6-753e4fdbed7a): START TRANSACTION;
[2016-09-10 14:52:34.047] [ INFO] console - Executing (cacdd24a-0489-4da5-9da7-93ade7465a28): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 14:52:34.048] [ INFO] console - Executing (06e64f2c-6a67-4a90-98c6-753e4fdbed7a): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 14:52:34.058] [ INFO] console - Executing (default): SELECT "Zemla"."id", "Zemla"."path", "Zemla"."name", "Zemla"."intensity", "Zemla"."note", "Zemla"."created_at", "Zemla"."updated_at", "Zemla"."deleted_at", "Zemla"."parent_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Zemla" AS "Zemla" LEFT OUTER JOIN "File" AS "attachments" ON "Zemla"."id" = "attachments"."zemla_id" AND "attachments"."deleted_at" IS NULL WHERE ("Zemla"."deleted_at" IS NULL AND "Zemla"."id" = 2);
[2016-09-10 14:52:34.066] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 73);
[2016-09-10 14:52:34.070] [ INFO] console - Executing (cacdd24a-0489-4da5-9da7-93ade7465a28): COMMIT;
[2016-09-10 14:52:34.073] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"+1
                                where
                                    '/2/73/' like path||id||'/%'
[2016-09-10 14:52:34.075] [ INFO] console - [ 70,
  69,
  {},
  [ { fullPath: 'null2/',
      id: '2',
      path: null,
      name: 'UnitTest2',
      intensity: 1000,
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      parent_id: '1',
      attachments: [] } ] ]
[2016-09-10 14:52:34.082] [ INFO] console - Executing (default): INSERT INTO "Kopnik" ("id","name","surname","patronymic","voiskoSize","birth","path","created_at","updated_at","rodina_id","starshina_id") VALUES (DEFAULT,'temp','temp','temp',0,1900,'/2/73/','2016-09-10 09:52:34.051 +00:00','2016-09-10 09:52:34.051 +00:00',NULL,73) RETURNING *;
[2016-09-10 14:52:34.087] [ INFO] console - Executing (06e64f2c-6a67-4a90-98c6-753e4fdbed7a): COMMIT;
[2016-09-10 14:52:34.092] [ INFO] console - [ 70, 70, {}, [ '74' ] ]
[2016-09-10 14:52:34.095] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/73/' like k.path||k.id||'/%'
[2016-09-10 14:52:34.100] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2', '73')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 14:52:34.108] [ INFO] console - [ 16,
  2466229109391360,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id73.voiskoChange',
  [],
  { voiskoSize: 1 } ]
[2016-09-10 14:52:34.112] [ INFO] console - [ 16,
  2952978736611328,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id2.voiskoChange',
  [],
  { voiskoSize: 3 } ]
[2016-09-10 14:52:34.125] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 4 }
[2016-09-10 14:52:34.127] [ INFO] console - Executing (0764d5df-a385-427a-9aff-5b89dee3eb10): START TRANSACTION;
[2016-09-10 14:52:34.129] [ INFO] console - Executing (0764d5df-a385-427a-9aff-5b89dee3eb10): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 14:52:34.139] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 4);
[2016-09-10 14:52:34.145] [ INFO] console - Executing (0764d5df-a385-427a-9aff-5b89dee3eb10): COMMIT;
[2016-09-10 14:52:34.146] [ INFO] console - [ 70,
  71,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/4/',
      starshina: [Object],
      id: '4',
      email: 'unittest4@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '4',
      voiskoSize: 0,
      birth: 1983,
      path: '/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: null,
      attachments: [] } ] ]
[2016-09-10 14:52:34.159] [ INFO] console - Executing (4ea0d858-1799-4d85-8067-5918079f6493): START TRANSACTION;
[2016-09-10 14:52:34.160] [ INFO] console - Executing (4ea0d858-1799-4d85-8067-5918079f6493): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 14:52:34.165] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 73);
[2016-09-10 14:52:34.169] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/' like k.path||k.id||'/%'
[2016-09-10 14:52:34.175] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 14:52:34.181] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 4);
[2016-09-10 14:52:34.186] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"-2
                                where
                                    '/2/' like path||id||'/%'
[2016-09-10 14:52:34.187] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/' like k.path||k.id||'/%'
[2016-09-10 14:52:34.198] [ INFO] console - Executing (default): UPDATE "Kopnik" SET "path"='/4/',"starshina_id"='4',"updated_at"='2016-09-10 09:52:34.191 +00:00' WHERE "id" = '73'
[2016-09-10 14:52:34.203] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 14:52:34.207] [ INFO] console - Executing (4ea0d858-1799-4d85-8067-5918079f6493): COMMIT;
[2016-09-10 14:52:34.212] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"+2
                                where
                                    '/4/' like path||id||'/%'
[2016-09-10 14:52:34.217] [ INFO] console - [ 70, 72, {}, [ undefined ] ]
[2016-09-10 14:52:34.220] [ERROR] Server - Kopnik_setStarshina error 73 4 [ReferenceError: kopnik is not defined]
ReferenceError: kopnik is not defined
    at Immediate.<anonymous> (Server.js:136:150)
    at [object Generator].next (native)
    at step (/home/alexey2baranov/htdocs/kp-sequelizejs/src/Server.js:1:253)
    at /home/alexey2baranov/htdocs/kp-sequelizejs/src/Server.js:1:513
    at new wrappedPromise (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/async-listener/index.js:372:16)
    at Immediate.<anonymous> (/home/alexey2baranov/htdocs/kp-sequelizejs/src/Server.js:1:161)
    at Immediate.asyncWrap [as _onImmediate] (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/async-listener/glue.js:188:31)
    at processImmediate [as _immediateCallback] (timers.js:383:17)
[2016-09-10 14:52:34.404] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."starshina_id" = '73');
[2016-09-10 14:52:34.415] [ INFO] console - Executing (default): UPDATE "Kopnik" SET "path"='/4/73/',"updated_at"='2016-09-10 09:52:34.408 +00:00' WHERE "id" = '74'
[2016-09-10 14:53:17.174] [ INFO] console - AutobahnJS debug enabled
[2016-09-10 14:53:18.612] [ INFO] Server - starting...
[2016-09-10 14:53:18.613] [ INFO] console - trying to create WAMP transport of type: websocket
[2016-09-10 14:53:18.693] [ INFO] console - using WAMP transport type: websocket
[2016-09-10 14:53:18.938] [ INFO] console - [ 1,
  'kopa',
  { roles: 
     { caller: [Object],
       callee: [Object],
       publisher: [Object],
       subscriber: [Object] },
    authmethods: [ 'ticket' ],
    authid: 'server' } ]
[2016-09-10 14:53:18.952] [ INFO] console - [ 5, 'server', {} ]
[2016-09-10 14:53:18.992] [ INFO] Server - connection.onopen()
[2016-09-10 14:53:18.993] [ INFO] console - [ 64, 1386238978293760, {}, 'ru.kopa.model.create' ]
[2016-09-10 14:53:19.002] [DEBUG] Server - api:model.create registered
[2016-09-10 14:53:19.003] [ INFO] console - [ 64, 6608463803187200, {}, 'ru.kopa.model.get' ]
[2016-09-10 14:53:19.007] [DEBUG] Server - api:model.get registered
[2016-09-10 14:53:19.007] [ INFO] console - [ 64, 3285410046279680, {}, 'ru.kopa.model.save' ]
[2016-09-10 14:53:19.010] [DEBUG] Server - api:model.save registered
[2016-09-10 14:53:19.010] [ INFO] console - [ 64, 7259445398601728, {}, 'ru.kopa.pingPong' ]
[2016-09-10 14:53:19.013] [DEBUG] Server - api:pingPong registered
[2016-09-10 14:53:19.013] [ INFO] console - [ 64, 8125276709978112, {}, 'ru.kopa.discloseCaller' ]
[2016-09-10 14:53:19.015] [DEBUG] Server - api:discloseCaller registered
[2016-09-10 14:53:19.016] [ INFO] console - [ 64, 905772372328448, {}, 'ru.kopa.pingPongDatabase' ]
[2016-09-10 14:53:19.019] [DEBUG] Server - api:pingPongDatabase registered
[2016-09-10 14:53:19.020] [ INFO] console - [ 64, 6744979586154496, {}, 'ru.kopa.error' ]
[2016-09-10 14:53:19.023] [DEBUG] Server - api:error registered
[2016-09-10 14:53:19.024] [ INFO] console - [ 64, 5038405693997056, {}, 'ru.kopa.promiseKopas' ]
[2016-09-10 14:53:19.026] [DEBUG] Server - api:promiseKopas registered
[2016-09-10 14:53:19.027] [ INFO] console - [ 64, 5197193642246144, {}, 'ru.kopa.unitTest.cleanTempData' ]
[2016-09-10 14:53:19.029] [DEBUG] Server - api:unitTest.cleanTempData registered
[2016-09-10 14:53:19.029] [ INFO] console - [ 64, 5907503304933376, {}, 'ru.kopa.model.Kopnik.setStarshina' ]
[2016-09-10 14:53:19.044] [DEBUG] Server - api:model.Kopnik.setStarshina registered
[2016-09-10 14:53:19.044] [ INFO] console - [ 64, 2174749186719744, {}, 'ru.kopa.model.Kopa.setQuestion' ]
[2016-09-10 14:53:19.047] [DEBUG] Server - api:model.Kopa.setQuestion registered
[2016-09-10 14:53:19.048] [ INFO] Server - started
[2016-09-10 14:54:14.073] [ INFO] console - [ 70, 75, {}, [ undefined ] ]
[2016-09-10 14:54:14.088] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 2 }
[2016-09-10 14:54:14.152] [ INFO] console - Executing (default): delete from "Kopnik"
                where
                    name like '%temp'
[2016-09-10 14:54:14.155] [ INFO] console - Executing (d206c496-38ac-4114-a282-b07760ecdda1): START TRANSACTION;
[2016-09-10 14:54:14.160] [ INFO] console - Executing (d206c496-38ac-4114-a282-b07760ecdda1): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 14:54:14.170] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 2);
[2016-09-10 14:54:14.177] [ INFO] console - Executing (default): update "Kopnik"
                set 
                    "voiskoSize"= case when id=2 then 1 ELSE 0 END
                where
                    id>1 
                    and id<=5
[2016-09-10 14:54:14.180] [ INFO] console - Executing (d206c496-38ac-4114-a282-b07760ecdda1): COMMIT;
[2016-09-10 14:54:14.183] [ INFO] console - [ 70,
  76,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/2/',
      starshina: [Object],
      id: '2',
      email: 'unittest2@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '1',
      voiskoSize: 1,
      birth: 1983,
      path: '/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: null,
      attachments: [] } ] ]
[2016-09-10 14:54:14.222] [ INFO] console - Executing (465e9643-71d1-4f87-a738-568aa3f5487d): START TRANSACTION;
[2016-09-10 14:54:14.224] [ INFO] console - Executing (465e9643-71d1-4f87-a738-568aa3f5487d): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 14:54:14.231] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 2);
[2016-09-10 14:54:14.235] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"+1
                                where
                                    '/2/' like path||id||'/%'
[2016-09-10 14:54:14.242] [ INFO] console - Executing (default): INSERT INTO "Kopnik" ("id","name","surname","patronymic","voiskoSize","birth","path","created_at","updated_at","rodina_id","starshina_id") VALUES (DEFAULT,'temp','temp','temp',0,1900,'/2/','2016-09-10 09:54:14.226 +00:00','2016-09-10 09:54:14.226 +00:00',NULL,2) RETURNING *;
[2016-09-10 14:54:14.248] [ INFO] console - Executing (465e9643-71d1-4f87-a738-568aa3f5487d): COMMIT;
[2016-09-10 14:54:14.250] [ INFO] console - [ 70, 77, {}, [ '75' ] ]
[2016-09-10 14:54:14.252] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/' like k.path||k.id||'/%'
[2016-09-10 14:54:14.262] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 14:54:14.263] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Zemla', id: 2 }
[2016-09-10 14:54:14.271] [ INFO] console - Executing (2710ed67-0299-47e0-b246-32a9a63b59f8): START TRANSACTION;
[2016-09-10 14:54:14.272] [ INFO] console - Executing (56789f94-9049-43e0-8287-e59010c03534): START TRANSACTION;
[2016-09-10 14:54:14.275] [ INFO] console - Executing (2710ed67-0299-47e0-b246-32a9a63b59f8): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 14:54:14.276] [ INFO] console - Executing (56789f94-9049-43e0-8287-e59010c03534): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 14:54:14.277] [ INFO] console - [ 16,
  1905230826438656,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id2.voiskoChange',
  [],
  { voiskoSize: 2 } ]
[2016-09-10 14:54:14.291] [ INFO] console - Executing (default): SELECT "Zemla"."id", "Zemla"."path", "Zemla"."name", "Zemla"."intensity", "Zemla"."note", "Zemla"."created_at", "Zemla"."updated_at", "Zemla"."deleted_at", "Zemla"."parent_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Zemla" AS "Zemla" LEFT OUTER JOIN "File" AS "attachments" ON "Zemla"."id" = "attachments"."zemla_id" AND "attachments"."deleted_at" IS NULL WHERE ("Zemla"."deleted_at" IS NULL AND "Zemla"."id" = 2);
[2016-09-10 14:54:14.301] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 75);
[2016-09-10 14:54:14.307] [ INFO] console - Executing (2710ed67-0299-47e0-b246-32a9a63b59f8): COMMIT;
[2016-09-10 14:54:14.313] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"+1
                                where
                                    '/2/75/' like path||id||'/%'
[2016-09-10 14:54:14.314] [ INFO] console - [ 70,
  78,
  {},
  [ { fullPath: 'null2/',
      id: '2',
      path: null,
      name: 'UnitTest2',
      intensity: 1000,
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      parent_id: '1',
      attachments: [] } ] ]
[2016-09-10 14:54:14.324] [ INFO] console - Executing (default): INSERT INTO "Kopnik" ("id","name","surname","patronymic","voiskoSize","birth","path","created_at","updated_at","rodina_id","starshina_id") VALUES (DEFAULT,'temp','temp','temp',0,1900,'/2/75/','2016-09-10 09:54:14.281 +00:00','2016-09-10 09:54:14.281 +00:00',NULL,75) RETURNING *;
[2016-09-10 14:54:14.329] [ INFO] console - Executing (56789f94-9049-43e0-8287-e59010c03534): COMMIT;
[2016-09-10 14:54:14.330] [ INFO] console - [ 70, 79, {}, [ '76' ] ]
[2016-09-10 14:54:14.336] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/75/' like k.path||k.id||'/%'
[2016-09-10 14:54:14.344] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2', '75')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 14:54:14.348] [ INFO] console - [ 16,
  5094862376402944,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id75.voiskoChange',
  [],
  { voiskoSize: 1 } ]
[2016-09-10 14:54:14.353] [ INFO] console - [ 16,
  6303073037189120,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id2.voiskoChange',
  [],
  { voiskoSize: 3 } ]
[2016-09-10 14:54:14.406] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 4 }
[2016-09-10 14:54:14.409] [ INFO] console - Executing (61bbe2b9-8484-4c53-b7ab-1cda13c54138): START TRANSACTION;
[2016-09-10 14:54:14.410] [ INFO] console - Executing (61bbe2b9-8484-4c53-b7ab-1cda13c54138): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 14:54:14.418] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 4);
[2016-09-10 14:54:14.425] [ INFO] console - Executing (61bbe2b9-8484-4c53-b7ab-1cda13c54138): COMMIT;
[2016-09-10 14:54:14.427] [ INFO] console - [ 70,
  80,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/4/',
      starshina: [Object],
      id: '4',
      email: 'unittest4@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '4',
      voiskoSize: 0,
      birth: 1983,
      path: '/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: null,
      attachments: [] } ] ]
[2016-09-10 14:54:14.441] [ INFO] console - Executing (35b17b09-bf1e-4774-b45c-074475fd7def): START TRANSACTION;
[2016-09-10 14:54:14.443] [ INFO] console - Executing (35b17b09-bf1e-4774-b45c-074475fd7def): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 14:54:14.448] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 75);
[2016-09-10 14:54:14.454] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 4);
[2016-09-10 14:54:14.458] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/' like k.path||k.id||'/%'
[2016-09-10 14:54:14.467] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 14:54:14.471] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"-2
                                where
                                    '/2/' like path||id||'/%'
[2016-09-10 14:54:14.473] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/' like k.path||k.id||'/%'
[2016-09-10 14:54:14.481] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 14:54:14.488] [ INFO] console - Executing (default): UPDATE "Kopnik" SET "path"='/4/',"starshina_id"='4',"updated_at"='2016-09-10 09:54:14.478 +00:00' WHERE "id" = '75'
[2016-09-10 14:54:14.492] [ INFO] console - Executing (35b17b09-bf1e-4774-b45c-074475fd7def): COMMIT;
[2016-09-10 14:54:14.495] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"+2
                                where
                                    '/4/' like path||id||'/%'
[2016-09-10 14:54:14.497] [ INFO] console - [ 70, 81, {}, [ undefined ] ]
[2016-09-10 14:54:14.499] [ INFO] console - [ 16,
  1301138471124992,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id2.voiskoChange',
  [],
  { voiskoSize: 2 } ]
[2016-09-10 14:54:14.515] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."starshina_id" = '75');
[2016-09-10 14:54:14.519] [ INFO] console - [ 16,
  1271439166537728,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id2.voiskoChange',
  [],
  { voiskoSize: 1 } ]
[2016-09-10 14:54:14.535] [ INFO] console - Executing (default): UPDATE "Kopnik" SET "path"='/4/75/',"updated_at"='2016-09-10 09:54:14.525 +00:00' WHERE "id" = '76'
[2016-09-10 14:54:48.239] [ INFO] console - AutobahnJS debug enabled
[2016-09-10 14:54:49.234] [ INFO] Server - starting...
[2016-09-10 14:54:49.235] [ INFO] console - trying to create WAMP transport of type: websocket
[2016-09-10 14:54:49.277] [ INFO] console - using WAMP transport type: websocket
[2016-09-10 14:54:49.379] [ INFO] console - [ 1,
  'kopa',
  { roles: 
     { caller: [Object],
       callee: [Object],
       publisher: [Object],
       subscriber: [Object] },
    authmethods: [ 'ticket' ],
    authid: 'server' } ]
[2016-09-10 14:54:49.390] [ INFO] console - [ 5, 'server', {} ]
[2016-09-10 14:54:49.405] [ INFO] Server - connection.onopen()
[2016-09-10 14:54:49.406] [ INFO] console - [ 64, 7373118490279936, {}, 'ru.kopa.model.create' ]
[2016-09-10 14:54:49.416] [DEBUG] Server - api:model.create registered
[2016-09-10 14:54:49.417] [ INFO] console - [ 64, 5670989859913728, {}, 'ru.kopa.model.get' ]
[2016-09-10 14:54:49.420] [DEBUG] Server - api:model.get registered
[2016-09-10 14:54:49.421] [ INFO] console - [ 64, 6424669420781568, {}, 'ru.kopa.model.save' ]
[2016-09-10 14:54:49.425] [DEBUG] Server - api:model.save registered
[2016-09-10 14:54:49.426] [ INFO] console - [ 64, 2174425663275008, {}, 'ru.kopa.pingPong' ]
[2016-09-10 14:54:49.431] [DEBUG] Server - api:pingPong registered
[2016-09-10 14:54:49.432] [ INFO] console - [ 64, 131503306571776, {}, 'ru.kopa.discloseCaller' ]
[2016-09-10 14:54:49.436] [DEBUG] Server - api:discloseCaller registered
[2016-09-10 14:54:49.437] [ INFO] console - [ 64, 6425002398187520, {}, 'ru.kopa.pingPongDatabase' ]
[2016-09-10 14:54:49.439] [DEBUG] Server - api:pingPongDatabase registered
[2016-09-10 14:54:49.439] [ INFO] console - [ 64, 8852908718161920, {}, 'ru.kopa.error' ]
[2016-09-10 14:54:49.443] [DEBUG] Server - api:error registered
[2016-09-10 14:54:49.443] [ INFO] console - [ 64, 4246013629956096, {}, 'ru.kopa.promiseKopas' ]
[2016-09-10 14:54:49.447] [DEBUG] Server - api:promiseKopas registered
[2016-09-10 14:54:49.447] [ INFO] console - [ 64, 7457351443415040, {}, 'ru.kopa.unitTest.cleanTempData' ]
[2016-09-10 14:54:49.451] [DEBUG] Server - api:unitTest.cleanTempData registered
[2016-09-10 14:54:49.451] [ INFO] console - [ 64, 5109462232727552, {}, 'ru.kopa.model.Kopnik.setStarshina' ]
[2016-09-10 14:54:49.456] [DEBUG] Server - api:model.Kopnik.setStarshina registered
[2016-09-10 14:54:49.456] [ INFO] console - [ 64, 8773323255185408, {}, 'ru.kopa.model.Kopa.setQuestion' ]
[2016-09-10 14:54:49.465] [DEBUG] Server - api:model.Kopa.setQuestion registered
[2016-09-10 14:54:49.466] [ INFO] Server - started
[2016-09-10 14:54:59.043] [ INFO] console - [ 70, 84, {}, [ undefined ] ]
[2016-09-10 14:54:59.074] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 2 }
[2016-09-10 14:54:59.104] [ INFO] console - Executing (default): delete from "Kopnik"
                where
                    name like '%temp'
[2016-09-10 14:54:59.106] [ INFO] console - Executing (6bc48ded-f77b-4d5b-a4d0-0fce7906fb84): START TRANSACTION;
[2016-09-10 14:54:59.107] [ INFO] console - Executing (6bc48ded-f77b-4d5b-a4d0-0fce7906fb84): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 14:54:59.118] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 2);
[2016-09-10 14:54:59.125] [ INFO] console - Executing (default): update "Kopnik"
                set 
                    "voiskoSize"= case when id=2 then 1 ELSE 0 END
                where
                    id>1 
                    and id<=5
[2016-09-10 14:54:59.128] [ INFO] console - Executing (6bc48ded-f77b-4d5b-a4d0-0fce7906fb84): COMMIT;
[2016-09-10 14:54:59.132] [ INFO] console - [ 70,
  85,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/2/',
      starshina: [Object],
      id: '2',
      email: 'unittest2@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '1',
      voiskoSize: 1,
      birth: 1983,
      path: '/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: null,
      attachments: [] } ] ]
[2016-09-10 14:54:59.145] [ INFO] console - Executing (e504591a-d435-4e29-b299-a0112df0573b): START TRANSACTION;
[2016-09-10 14:54:59.146] [ INFO] console - Executing (e504591a-d435-4e29-b299-a0112df0573b): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 14:54:59.152] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 2);
[2016-09-10 14:54:59.158] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"+1
                                where
                                    '/2/' like path||id||'/%'
[2016-09-10 14:54:59.163] [ INFO] console - Executing (default): INSERT INTO "Kopnik" ("id","name","surname","patronymic","voiskoSize","birth","path","created_at","updated_at","rodina_id","starshina_id") VALUES (DEFAULT,'temp','temp','temp',0,1900,'/2/','2016-09-10 09:54:59.148 +00:00','2016-09-10 09:54:59.148 +00:00',NULL,2) RETURNING *;
[2016-09-10 14:54:59.167] [ INFO] console - Executing (e504591a-d435-4e29-b299-a0112df0573b): COMMIT;
[2016-09-10 14:54:59.170] [ INFO] console - [ 70, 86, {}, [ '77' ] ]
[2016-09-10 14:54:59.179] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Zemla', id: 2 }
[2016-09-10 14:54:59.184] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/' like k.path||k.id||'/%'
[2016-09-10 14:54:59.185] [ INFO] console - Executing (eb67d264-3482-4cb0-8060-445406f9454f): START TRANSACTION;
[2016-09-10 14:54:59.193] [ INFO] console - Executing (eb67d264-3482-4cb0-8060-445406f9454f): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 14:54:59.196] [ INFO] console - Executing (966efdf6-a2bf-4418-b03d-8724fc2a7a99): START TRANSACTION;
[2016-09-10 14:54:59.200] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 14:54:59.204] [ INFO] console - Executing (966efdf6-a2bf-4418-b03d-8724fc2a7a99): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 14:54:59.210] [ INFO] console - Executing (default): SELECT "Zemla"."id", "Zemla"."path", "Zemla"."name", "Zemla"."intensity", "Zemla"."note", "Zemla"."created_at", "Zemla"."updated_at", "Zemla"."deleted_at", "Zemla"."parent_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Zemla" AS "Zemla" LEFT OUTER JOIN "File" AS "attachments" ON "Zemla"."id" = "attachments"."zemla_id" AND "attachments"."deleted_at" IS NULL WHERE ("Zemla"."deleted_at" IS NULL AND "Zemla"."id" = 2);
[2016-09-10 14:54:59.210] [ INFO] console - [ 16,
  773212960980992,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id2.voiskoChange',
  [],
  { voiskoSize: 2 } ]
[2016-09-10 14:54:59.218] [ INFO] console - Executing (eb67d264-3482-4cb0-8060-445406f9454f): COMMIT;
[2016-09-10 14:54:59.223] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 77);
[2016-09-10 14:54:59.226] [ INFO] console - [ 70,
  87,
  {},
  [ { fullPath: 'null2/',
      id: '2',
      path: null,
      name: 'UnitTest2',
      intensity: 1000,
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      parent_id: '1',
      attachments: [] } ] ]
[2016-09-10 14:54:59.232] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"+1
                                where
                                    '/2/77/' like path||id||'/%'
[2016-09-10 14:54:59.236] [ INFO] console - Executing (default): INSERT INTO "Kopnik" ("id","name","surname","patronymic","voiskoSize","birth","path","created_at","updated_at","rodina_id","starshina_id") VALUES (DEFAULT,'temp','temp','temp',0,1900,'/2/77/','2016-09-10 09:54:59.216 +00:00','2016-09-10 09:54:59.216 +00:00',NULL,77) RETURNING *;
[2016-09-10 14:54:59.240] [ INFO] console - Executing (966efdf6-a2bf-4418-b03d-8724fc2a7a99): COMMIT;
[2016-09-10 14:54:59.241] [ INFO] console - [ 70, 88, {}, [ '78' ] ]
[2016-09-10 14:54:59.244] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/77/' like k.path||k.id||'/%'
[2016-09-10 14:54:59.252] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2', '77')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 14:54:59.270] [ INFO] console - [ 16,
  8482565994315776,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id77.voiskoChange',
  [],
  { voiskoSize: 1 } ]
[2016-09-10 14:54:59.274] [ INFO] console - [ 16,
  2125972939735040,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id2.voiskoChange',
  [],
  { voiskoSize: 3 } ]
[2016-09-10 14:54:59.286] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 4 }
[2016-09-10 14:54:59.292] [ INFO] console - Executing (3b534293-2df3-459e-8cee-7af1467549d8): START TRANSACTION;
[2016-09-10 14:54:59.293] [ INFO] console - Executing (3b534293-2df3-459e-8cee-7af1467549d8): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 14:54:59.300] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 4);
[2016-09-10 14:54:59.304] [ INFO] console - Executing (3b534293-2df3-459e-8cee-7af1467549d8): COMMIT;
[2016-09-10 14:54:59.305] [ INFO] console - [ 70,
  89,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/4/',
      starshina: [Object],
      id: '4',
      email: 'unittest4@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '4',
      voiskoSize: 0,
      birth: 1983,
      path: '/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: null,
      attachments: [] } ] ]
[2016-09-10 14:54:59.318] [ INFO] console - Executing (39923c49-ba13-4b86-b948-15a2f28a50c8): START TRANSACTION;
[2016-09-10 14:54:59.320] [ INFO] console - Executing (39923c49-ba13-4b86-b948-15a2f28a50c8): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 14:54:59.323] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 77);
[2016-09-10 14:54:59.328] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 4);
[2016-09-10 14:54:59.332] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/' like k.path||k.id||'/%'
[2016-09-10 14:54:59.339] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 14:54:59.344] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"-2
                                where
                                    '/2/' like path||id||'/%'
[2016-09-10 14:54:59.345] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/' like k.path||k.id||'/%'
[2016-09-10 14:54:59.354] [ INFO] console - Executing (default): UPDATE "Kopnik" SET "path"='/4/',"starshina_id"='4',"updated_at"='2016-09-10 09:54:59.346 +00:00' WHERE "id" = '77'
[2016-09-10 14:54:59.360] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 14:54:59.362] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"+2
                                where
                                    '/4/' like path||id||'/%'
[2016-09-10 14:54:59.364] [ INFO] console - Executing (39923c49-ba13-4b86-b948-15a2f28a50c8): COMMIT;
[2016-09-10 14:54:59.371] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."starshina_id" = '77');
[2016-09-10 14:54:59.372] [ INFO] console - [ 70, 90, {}, [ undefined ] ]
[2016-09-10 14:54:59.381] [ INFO] console - [ 16,
  6001617851645952,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id2.voiskoChange',
  [],
  { voiskoSize: 1 } ]
[2016-09-10 14:54:59.389] [ INFO] console - [ 16,
  8271208504098816,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id2.voiskoChange',
  [],
  { voiskoSize: 1 } ]
[2016-09-10 14:54:59.402] [ INFO] console - Executing (default): UPDATE "Kopnik" SET "path"='/4/77/',"updated_at"='2016-09-10 09:54:59.388 +00:00' WHERE "id" = '78'
[2016-09-10 14:55:32.098] [ INFO] console - [ 70, 92, {}, [ undefined ] ]
[2016-09-10 14:55:32.116] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 2 }
[2016-09-10 14:55:32.125] [ INFO] console - Executing (default): delete from "Kopnik"
                where
                    name like '%temp'
[2016-09-10 14:55:32.127] [ INFO] console - Executing (256897d4-51b8-48b9-aeea-63435339811d): START TRANSACTION;
[2016-09-10 14:55:32.131] [ INFO] console - Executing (256897d4-51b8-48b9-aeea-63435339811d): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 14:55:32.141] [ INFO] console - Executing (default): update "Kopnik"
                set 
                    "voiskoSize"= case when id=2 then 1 ELSE 0 END
                where
                    id>1 
                    and id<=5
[2016-09-10 14:55:32.147] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 2);
[2016-09-10 14:55:32.153] [ INFO] console - Executing (256897d4-51b8-48b9-aeea-63435339811d): COMMIT;
[2016-09-10 14:55:32.154] [ INFO] console - [ 70,
  93,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/2/',
      starshina: [Object],
      id: '2',
      email: 'unittest2@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '1',
      voiskoSize: 1,
      birth: 1983,
      path: '/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: null,
      attachments: [] } ] ]
[2016-09-10 14:55:32.168] [ INFO] console - Executing (28be7265-7b84-401d-a542-151f9574523a): START TRANSACTION;
[2016-09-10 14:55:32.172] [ INFO] console - Executing (28be7265-7b84-401d-a542-151f9574523a): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 14:55:32.182] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 2);
[2016-09-10 14:55:32.186] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"+1
                                where
                                    '/2/' like path||id||'/%'
[2016-09-10 14:55:32.193] [ INFO] console - Executing (default): INSERT INTO "Kopnik" ("id","name","surname","patronymic","voiskoSize","birth","path","created_at","updated_at","rodina_id","starshina_id") VALUES (DEFAULT,'temp','temp','temp',0,1900,'/2/','2016-09-10 09:55:32.174 +00:00','2016-09-10 09:55:32.174 +00:00',NULL,2) RETURNING *;
[2016-09-10 14:55:32.196] [ INFO] console - Executing (28be7265-7b84-401d-a542-151f9574523a): COMMIT;
[2016-09-10 14:55:32.198] [ INFO] console - [ 70, 94, {}, [ '79' ] ]
[2016-09-10 14:55:32.201] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/' like k.path||k.id||'/%'
[2016-09-10 14:55:32.207] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 14:55:32.210] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Zemla', id: 2 }
[2016-09-10 14:55:32.213] [ INFO] console - Executing (4983dfe0-af97-4d2c-b198-cdeda128eccb): START TRANSACTION;
[2016-09-10 14:55:32.217] [ INFO] console - Executing (9768eaa9-4f1d-43c1-a4fb-566d545cd801): START TRANSACTION;
[2016-09-10 14:55:32.218] [ INFO] console - Executing (4983dfe0-af97-4d2c-b198-cdeda128eccb): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 14:55:32.219] [ INFO] console - [ 16,
  8388879522463744,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id2.voiskoChange',
  [],
  { voiskoSize: 2 } ]
[2016-09-10 14:55:32.222] [ INFO] console - Executing (9768eaa9-4f1d-43c1-a4fb-566d545cd801): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 14:55:32.230] [ INFO] console - Executing (default): SELECT "Zemla"."id", "Zemla"."path", "Zemla"."name", "Zemla"."intensity", "Zemla"."note", "Zemla"."created_at", "Zemla"."updated_at", "Zemla"."deleted_at", "Zemla"."parent_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Zemla" AS "Zemla" LEFT OUTER JOIN "File" AS "attachments" ON "Zemla"."id" = "attachments"."zemla_id" AND "attachments"."deleted_at" IS NULL WHERE ("Zemla"."deleted_at" IS NULL AND "Zemla"."id" = 2);
[2016-09-10 14:55:32.242] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 79);
[2016-09-10 14:55:32.244] [ INFO] console - Executing (4983dfe0-af97-4d2c-b198-cdeda128eccb): COMMIT;
[2016-09-10 14:55:32.248] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"+1
                                where
                                    '/2/79/' like path||id||'/%'
[2016-09-10 14:55:32.250] [ INFO] console - [ 70,
  95,
  {},
  [ { fullPath: 'null2/',
      id: '2',
      path: null,
      name: 'UnitTest2',
      intensity: 1000,
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      parent_id: '1',
      attachments: [] } ] ]
[2016-09-10 14:55:32.258] [ INFO] console - Executing (default): INSERT INTO "Kopnik" ("id","name","surname","patronymic","voiskoSize","birth","path","created_at","updated_at","rodina_id","starshina_id") VALUES (DEFAULT,'temp','temp','temp',0,1900,'/2/79/','2016-09-10 09:55:32.231 +00:00','2016-09-10 09:55:32.231 +00:00',NULL,79) RETURNING *;
[2016-09-10 14:55:32.262] [ INFO] console - Executing (9768eaa9-4f1d-43c1-a4fb-566d545cd801): COMMIT;
[2016-09-10 14:55:32.264] [ INFO] console - [ 70, 96, {}, [ '80' ] ]
[2016-09-10 14:55:32.267] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/79/' like k.path||k.id||'/%'
[2016-09-10 14:55:32.278] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2', '79')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 14:55:32.283] [ INFO] console - [ 16,
  5578263864803328,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id79.voiskoChange',
  [],
  { voiskoSize: 1 } ]
[2016-09-10 14:55:32.287] [ INFO] console - [ 16,
  464259964207104,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id2.voiskoChange',
  [],
  { voiskoSize: 3 } ]
[2016-09-10 14:55:32.296] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 4 }
[2016-09-10 14:55:32.302] [ INFO] console - Executing (4942484d-f2b2-4673-82b6-ee38c8bbfcbe): START TRANSACTION;
[2016-09-10 14:55:32.303] [ INFO] console - Executing (4942484d-f2b2-4673-82b6-ee38c8bbfcbe): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 14:55:32.317] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 4);
[2016-09-10 14:55:32.323] [ INFO] console - Executing (4942484d-f2b2-4673-82b6-ee38c8bbfcbe): COMMIT;
[2016-09-10 14:55:32.324] [ INFO] console - [ 70,
  97,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/4/',
      starshina: [Object],
      id: '4',
      email: 'unittest4@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '4',
      voiskoSize: 0,
      birth: 1983,
      path: '/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: null,
      attachments: [] } ] ]
[2016-09-10 14:55:32.337] [ INFO] console - Executing (3ff40189-1d0e-4f0c-aa88-c3d1960d8054): START TRANSACTION;
[2016-09-10 14:55:32.339] [ INFO] console - Executing (3ff40189-1d0e-4f0c-aa88-c3d1960d8054): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 14:55:32.344] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 79);
[2016-09-10 14:55:32.351] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 4);
[2016-09-10 14:55:32.354] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/' like k.path||k.id||'/%'
[2016-09-10 14:55:32.360] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 14:55:32.363] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"-2
                                where
                                    '/2/' like path||id||'/%'
[2016-09-10 14:55:32.364] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/' like k.path||k.id||'/%'
[2016-09-10 14:55:32.374] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 14:55:32.379] [ INFO] console - Executing (default): UPDATE "Kopnik" SET "path"='/4/',"starshina_id"='4',"updated_at"='2016-09-10 09:55:32.367 +00:00' WHERE "id" = '79'
[2016-09-10 14:55:32.383] [ INFO] console - Executing (3ff40189-1d0e-4f0c-aa88-c3d1960d8054): COMMIT;
[2016-09-10 14:55:32.388] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"+2
                                where
                                    '/4/' like path||id||'/%'
[2016-09-10 14:55:32.389] [ INFO] console - [ 70, 98, {}, [ undefined ] ]
[2016-09-10 14:55:32.392] [ INFO] console - [ 16,
  5578815432556544,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id2.voiskoChange',
  [],
  { voiskoSize: 1 } ]
[2016-09-10 14:55:32.403] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."starshina_id" = '79');
[2016-09-10 14:55:32.405] [ INFO] console - [ 16,
  8885845639561216,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id2.voiskoChange',
  [],
  { voiskoSize: 1 } ]
[2016-09-10 14:55:32.426] [ INFO] console - Executing (default): UPDATE "Kopnik" SET "path"='/4/79/',"updated_at"='2016-09-10 09:55:32.419 +00:00' WHERE "id" = '80'
[2016-09-10 14:56:39.017] [ INFO] console - [ 70, 100, {}, [ undefined ] ]
[2016-09-10 14:56:39.026] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 2 }
[2016-09-10 14:56:39.030] [ INFO] console - Executing (default): delete from "Kopnik"
                where
                    name like '%temp'
[2016-09-10 14:56:39.038] [ INFO] console - Executing (7cc52e08-9bc0-49a4-98d5-99db75eecd67): START TRANSACTION;
[2016-09-10 14:56:39.039] [ INFO] console - Executing (7cc52e08-9bc0-49a4-98d5-99db75eecd67): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 14:56:39.052] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 2);
[2016-09-10 14:56:39.063] [ INFO] console - Executing (default): update "Kopnik"
                set 
                    "voiskoSize"= case when id=2 then 1 ELSE 0 END
                where
                    id>1 
                    and id<=5
[2016-09-10 14:56:39.068] [ INFO] console - Executing (7cc52e08-9bc0-49a4-98d5-99db75eecd67): COMMIT;
[2016-09-10 14:56:39.073] [ INFO] console - [ 70,
  101,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/2/',
      starshina: [Object],
      id: '2',
      email: 'unittest2@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '1',
      voiskoSize: 1,
      birth: 1983,
      path: '/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: null,
      attachments: [] } ] ]
[2016-09-10 14:56:39.372] [ INFO] console - Executing (3d05cde3-8d87-4487-aaaf-f982323fc3cf): START TRANSACTION;
[2016-09-10 14:56:39.376] [ INFO] console - Executing (3d05cde3-8d87-4487-aaaf-f982323fc3cf): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 14:56:39.391] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 2);
[2016-09-10 14:56:39.403] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"+1
                                where
                                    '/2/' like path||id||'/%'
[2016-09-10 14:56:39.409] [ INFO] console - Executing (default): INSERT INTO "Kopnik" ("id","name","surname","patronymic","voiskoSize","birth","path","created_at","updated_at","rodina_id","starshina_id") VALUES (DEFAULT,'temp','temp','temp',0,1900,'/2/','2016-09-10 09:56:39.378 +00:00','2016-09-10 09:56:39.378 +00:00',NULL,2) RETURNING *;
[2016-09-10 14:56:39.412] [ INFO] console - Executing (3d05cde3-8d87-4487-aaaf-f982323fc3cf): COMMIT;
[2016-09-10 14:56:39.415] [ INFO] console - [ 70, 102, {}, [ '81' ] ]
[2016-09-10 14:56:39.425] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/' like k.path||k.id||'/%'
[2016-09-10 14:56:39.435] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 14:56:39.440] [ INFO] console - [ 16,
  6094530944172032,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id2.voiskoChange',
  [],
  { voiskoSize: 2 } ]
[2016-09-10 14:56:39.771] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Zemla', id: 2 }
[2016-09-10 14:56:39.776] [ INFO] console - Executing (208372af-924b-4c22-b0df-67eae6dd6d18): START TRANSACTION;
[2016-09-10 14:56:39.777] [ INFO] console - Executing (ebb1ea7b-1ee7-4d01-8d45-e8d0fee5d842): START TRANSACTION;
[2016-09-10 14:56:39.779] [ INFO] console - Executing (208372af-924b-4c22-b0df-67eae6dd6d18): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 14:56:39.780] [ INFO] console - Executing (ebb1ea7b-1ee7-4d01-8d45-e8d0fee5d842): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 14:56:39.790] [ INFO] console - Executing (default): SELECT "Zemla"."id", "Zemla"."path", "Zemla"."name", "Zemla"."intensity", "Zemla"."note", "Zemla"."created_at", "Zemla"."updated_at", "Zemla"."deleted_at", "Zemla"."parent_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Zemla" AS "Zemla" LEFT OUTER JOIN "File" AS "attachments" ON "Zemla"."id" = "attachments"."zemla_id" AND "attachments"."deleted_at" IS NULL WHERE ("Zemla"."deleted_at" IS NULL AND "Zemla"."id" = 2);
[2016-09-10 14:56:39.797] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 81);
[2016-09-10 14:56:39.803] [ INFO] console - Executing (208372af-924b-4c22-b0df-67eae6dd6d18): COMMIT;
[2016-09-10 14:56:39.805] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"+1
                                where
                                    '/2/81/' like path||id||'/%'
[2016-09-10 14:56:39.808] [ INFO] console - [ 70,
  103,
  {},
  [ { fullPath: 'null2/',
      id: '2',
      path: null,
      name: 'UnitTest2',
      intensity: 1000,
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      parent_id: '1',
      attachments: [] } ] ]
[2016-09-10 14:56:39.818] [ INFO] console - Executing (default): INSERT INTO "Kopnik" ("id","name","surname","patronymic","voiskoSize","birth","path","created_at","updated_at","rodina_id","starshina_id") VALUES (DEFAULT,'temp','temp','temp',0,1900,'/2/81/','2016-09-10 09:56:39.782 +00:00','2016-09-10 09:56:39.782 +00:00',NULL,81) RETURNING *;
[2016-09-10 14:56:39.822] [ INFO] console - Executing (ebb1ea7b-1ee7-4d01-8d45-e8d0fee5d842): COMMIT;
[2016-09-10 14:56:39.823] [ INFO] console - [ 70, 104, {}, [ '82' ] ]
[2016-09-10 14:56:39.828] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/81/' like k.path||k.id||'/%'
[2016-09-10 14:56:39.837] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2', '81')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 14:56:39.840] [ INFO] console - [ 16,
  2279157614510080,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id81.voiskoChange',
  [],
  { voiskoSize: 1 } ]
[2016-09-10 14:56:40.100] [ INFO] console - [ 16,
  6127929100599296,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id2.voiskoChange',
  [],
  { voiskoSize: 3 } ]
[2016-09-10 14:56:40.290] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 4 }
[2016-09-10 14:56:40.294] [ INFO] console - Executing (3ce3594d-507f-49e5-9378-10678eba74e1): START TRANSACTION;
[2016-09-10 14:56:40.297] [ INFO] console - Executing (3ce3594d-507f-49e5-9378-10678eba74e1): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 14:56:40.317] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 4);
[2016-09-10 14:56:40.327] [ INFO] console - Executing (3ce3594d-507f-49e5-9378-10678eba74e1): COMMIT;
[2016-09-10 14:56:40.331] [ INFO] console - [ 70,
  105,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/4/',
      starshina: [Object],
      id: '4',
      email: 'unittest4@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '4',
      voiskoSize: 0,
      birth: 1983,
      path: '/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: null,
      attachments: [] } ] ]
[2016-09-10 14:56:40.489] [ INFO] console - Executing (0af5adfd-7e2c-47a0-afdd-80ceddffd2da): START TRANSACTION;
[2016-09-10 14:56:40.491] [ INFO] console - Executing (0af5adfd-7e2c-47a0-afdd-80ceddffd2da): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 14:56:40.496] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 81);
[2016-09-10 14:56:40.503] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 4);
[2016-09-10 14:56:40.507] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/' like k.path||k.id||'/%'
[2016-09-10 14:56:40.517] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 14:56:40.521] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"-2
                                where
                                    '/2/' like path||id||'/%'
[2016-09-10 14:56:40.523] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/' like k.path||k.id||'/%'
[2016-09-10 14:56:40.529] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 14:56:40.538] [ INFO] console - Executing (default): UPDATE "Kopnik" SET "path"='/4/',"starshina_id"='4',"updated_at"='2016-09-10 09:56:40.530 +00:00' WHERE "id" = '81'
[2016-09-10 14:56:40.539] [ INFO] console - Executing (0af5adfd-7e2c-47a0-afdd-80ceddffd2da): COMMIT;
[2016-09-10 14:56:40.543] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"+2
                                where
                                    '/4/' like path||id||'/%'
[2016-09-10 14:56:40.545] [ INFO] console - [ 70, 106, {}, [ undefined ] ]
[2016-09-10 14:56:48.572] [ INFO] console - [ 16,
  8248459823939584,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id2.voiskoChange',
  [],
  { voiskoSize: 1 } ]
[2016-09-10 14:56:48.580] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."starshina_id" = '81');
[2016-09-10 14:56:48.588] [ INFO] console - Executing (default): UPDATE "Kopnik" SET "path"='/4/81/',"updated_at"='2016-09-10 09:56:48.584 +00:00' WHERE "id" = '82'
[2016-09-10 14:58:03.943] [ INFO] console - [ 16,
  5345245793353728,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id2.voiskoChange',
  [],
  { voiskoSize: 1 } ]
[2016-09-10 14:58:55.379] [ INFO] console - [ 70, 108, {}, [ undefined ] ]
[2016-09-10 14:58:55.395] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 2 }
[2016-09-10 14:58:55.403] [ INFO] console - Executing (default): delete from "Kopnik"
                where
                    name like '%temp'
[2016-09-10 14:58:55.405] [ INFO] console - Executing (698d225f-25c1-42cf-b3cd-0f1e77fe81a0): START TRANSACTION;
[2016-09-10 14:58:55.408] [ INFO] console - Executing (698d225f-25c1-42cf-b3cd-0f1e77fe81a0): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 14:58:55.417] [ INFO] console - Executing (default): update "Kopnik"
                set 
                    "voiskoSize"= case when id=2 then 1 ELSE 0 END
                where
                    id>1 
                    and id<=5
[2016-09-10 14:58:55.420] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 2);
[2016-09-10 14:58:55.431] [ INFO] console - Executing (698d225f-25c1-42cf-b3cd-0f1e77fe81a0): COMMIT;
[2016-09-10 14:58:55.432] [ INFO] console - [ 70,
  109,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/2/',
      starshina: [Object],
      id: '2',
      email: 'unittest2@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '1',
      voiskoSize: 1,
      birth: 1983,
      path: '/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: null,
      attachments: [] } ] ]
[2016-09-10 14:58:55.471] [ INFO] console - Executing (c9291ee9-07d7-49d9-8b06-59ad38c1397d): START TRANSACTION;
[2016-09-10 14:58:55.473] [ INFO] console - Executing (c9291ee9-07d7-49d9-8b06-59ad38c1397d): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 14:58:55.479] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 2);
[2016-09-10 14:58:55.482] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"+1
                                where
                                    '/2/' like path||id||'/%'
[2016-09-10 14:58:55.491] [ INFO] console - Executing (default): INSERT INTO "Kopnik" ("id","name","surname","patronymic","voiskoSize","birth","path","created_at","updated_at","rodina_id","starshina_id") VALUES (DEFAULT,'temp','temp','temp',0,1900,'/2/','2016-09-10 09:58:55.475 +00:00','2016-09-10 09:58:55.475 +00:00',NULL,2) RETURNING *;
[2016-09-10 14:58:55.495] [ INFO] console - Executing (c9291ee9-07d7-49d9-8b06-59ad38c1397d): COMMIT;
[2016-09-10 14:58:55.498] [ INFO] console - [ 70, 110, {}, [ '83' ] ]
[2016-09-10 14:58:55.504] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/' like k.path||k.id||'/%'
[2016-09-10 14:58:55.513] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 14:58:55.519] [ INFO] console - [ 16,
  7677477566545920,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id2.voiskoChange',
  [],
  { voiskoSize: 2 } ]
[2016-09-10 14:58:55.581] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Zemla', id: 2 }
[2016-09-10 14:58:55.591] [ INFO] console - Executing (d60fc3ef-d950-4027-9118-44cd2923b07d): START TRANSACTION;
[2016-09-10 14:58:55.592] [ INFO] console - Executing (bfd9b3ce-47f9-4e19-98d5-d01618c97775): START TRANSACTION;
[2016-09-10 14:58:55.595] [ INFO] console - Executing (d60fc3ef-d950-4027-9118-44cd2923b07d): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 14:58:55.596] [ INFO] console - Executing (bfd9b3ce-47f9-4e19-98d5-d01618c97775): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 14:58:55.610] [ INFO] console - Executing (default): SELECT "Zemla"."id", "Zemla"."path", "Zemla"."name", "Zemla"."intensity", "Zemla"."note", "Zemla"."created_at", "Zemla"."updated_at", "Zemla"."deleted_at", "Zemla"."parent_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Zemla" AS "Zemla" LEFT OUTER JOIN "File" AS "attachments" ON "Zemla"."id" = "attachments"."zemla_id" AND "attachments"."deleted_at" IS NULL WHERE ("Zemla"."deleted_at" IS NULL AND "Zemla"."id" = 2);
[2016-09-10 14:58:55.629] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 83);
[2016-09-10 14:58:55.654] [ INFO] console - Executing (d60fc3ef-d950-4027-9118-44cd2923b07d): COMMIT;
[2016-09-10 14:58:55.656] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"+1
                                where
                                    '/2/83/' like path||id||'/%'
[2016-09-10 14:58:55.659] [ INFO] console - [ 70,
  111,
  {},
  [ { fullPath: 'null2/',
      id: '2',
      path: null,
      name: 'UnitTest2',
      intensity: 1000,
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      parent_id: '1',
      attachments: [] } ] ]
[2016-09-10 14:58:55.684] [ INFO] console - Executing (default): INSERT INTO "Kopnik" ("id","name","surname","patronymic","voiskoSize","birth","path","created_at","updated_at","rodina_id","starshina_id") VALUES (DEFAULT,'temp','temp','temp',0,1900,'/2/83/','2016-09-10 09:58:55.599 +00:00','2016-09-10 09:58:55.599 +00:00',NULL,83) RETURNING *;
[2016-09-10 14:58:55.689] [ INFO] console - Executing (bfd9b3ce-47f9-4e19-98d5-d01618c97775): COMMIT;
[2016-09-10 14:58:55.692] [ INFO] console - [ 70, 112, {}, [ '84' ] ]
[2016-09-10 14:58:55.700] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/83/' like k.path||k.id||'/%'
[2016-09-10 14:58:55.713] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2', '83')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 14:58:55.720] [ INFO] console - [ 16,
  6097818760511488,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id83.voiskoChange',
  [],
  { voiskoSize: 1 } ]
[2016-09-10 14:58:55.823] [ INFO] console - [ 16,
  7874460384231424,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id2.voiskoChange',
  [],
  { voiskoSize: 3 } ]
[2016-09-10 14:58:55.838] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 4 }
[2016-09-10 14:58:55.842] [ INFO] console - Executing (3148584e-e7af-4236-86f8-be6a0ffa7efc): START TRANSACTION;
[2016-09-10 14:58:55.845] [ INFO] console - Executing (3148584e-e7af-4236-86f8-be6a0ffa7efc): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 14:58:55.853] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 4);
[2016-09-10 14:58:55.860] [ INFO] console - Executing (3148584e-e7af-4236-86f8-be6a0ffa7efc): COMMIT;
[2016-09-10 14:58:55.861] [ INFO] console - [ 70,
  113,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/4/',
      starshina: [Object],
      id: '4',
      email: 'unittest4@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '4',
      voiskoSize: 0,
      birth: 1983,
      path: '/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: null,
      attachments: [] } ] ]
[2016-09-10 14:58:55.876] [ INFO] console - Executing (0e629c11-a5c2-4b0f-a314-5241ed20fea5): START TRANSACTION;
[2016-09-10 14:58:55.878] [ INFO] console - Executing (0e629c11-a5c2-4b0f-a314-5241ed20fea5): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 14:58:55.882] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 83);
[2016-09-10 14:58:55.889] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 4);
[2016-09-10 14:58:55.894] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/' like k.path||k.id||'/%'
[2016-09-10 14:58:55.902] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 14:58:55.911] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"-2
                                where
                                    '/2/' like path||id||'/%'
[2016-09-10 14:58:55.912] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/' like k.path||k.id||'/%'
[2016-09-10 14:58:55.920] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 14:58:55.926] [ INFO] console - Executing (default): UPDATE "Kopnik" SET "path"='/4/',"starshina_id"='4',"updated_at"='2016-09-10 09:58:55.915 +00:00' WHERE "id" = '83'
[2016-09-10 15:00:01.080] [ INFO] console - Executing (0e629c11-a5c2-4b0f-a314-5241ed20fea5): COMMIT;
[2016-09-10 15:00:01.083] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"+2
                                where
                                    '/4/' like path||id||'/%'
[2016-09-10 15:00:04.103] [ INFO] console - [ 70, 114, {}, [ undefined ] ]
[2016-09-10 15:00:07.123] [ INFO] console - [ 16,
  4129004485345280,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id2.voiskoChange',
  [],
  { voiskoSize: 1 } ]
[2016-09-10 15:00:08.141] [ INFO] console - [ 16,
  8493331008978944,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id2.voiskoChange',
  [],
  { voiskoSize: 1 } ]
[2016-09-10 15:00:09.158] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."starshina_id" = '83');
[2016-09-10 15:00:12.187] [ INFO] console - Executing (default): UPDATE "Kopnik" SET "path"='/4/83/',"updated_at"='2016-09-10 10:00:12.182 +00:00' WHERE "id" = '84'
[2016-09-10 15:00:18.574] [ INFO] console - [ 70, 116, {}, [ undefined ] ]
[2016-09-10 15:00:18.580] [ INFO] console - Executing (default): delete from "Kopnik"
                where
                    name like '%temp'
[2016-09-10 15:00:18.583] [ INFO] console - Executing (default): update "Kopnik"
                set 
                    "voiskoSize"= case when id=2 then 1 ELSE 0 END
                where
                    id>1 
                    and id<=5
[2016-09-10 15:00:18.591] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 2 }
[2016-09-10 15:00:18.593] [ INFO] console - Executing (95db3659-2935-4379-80d9-6208ed7c0c69): START TRANSACTION;
[2016-09-10 15:00:18.595] [ INFO] console - Executing (95db3659-2935-4379-80d9-6208ed7c0c69): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:00:18.603] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 2);
[2016-09-10 15:00:18.609] [ INFO] console - Executing (95db3659-2935-4379-80d9-6208ed7c0c69): COMMIT;
[2016-09-10 15:00:18.610] [ INFO] console - [ 70,
  117,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/2/',
      starshina: [Object],
      id: '2',
      email: 'unittest2@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '1',
      voiskoSize: 1,
      birth: 1983,
      path: '/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: null,
      attachments: [] } ] ]
[2016-09-10 15:00:18.628] [ INFO] console - Executing (00482f53-efa8-4a65-a666-eedf302d2761): START TRANSACTION;
[2016-09-10 15:00:18.630] [ INFO] console - Executing (00482f53-efa8-4a65-a666-eedf302d2761): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:00:18.638] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 2);
[2016-09-10 15:00:18.641] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"+1
                                where
                                    '/2/' like path||id||'/%'
[2016-09-10 15:00:18.648] [ INFO] console - Executing (default): INSERT INTO "Kopnik" ("id","name","surname","patronymic","voiskoSize","birth","path","created_at","updated_at","rodina_id","starshina_id") VALUES (DEFAULT,'temp','temp','temp',0,1900,'/2/','2016-09-10 10:00:18.632 +00:00','2016-09-10 10:00:18.632 +00:00',NULL,2) RETURNING *;
[2016-09-10 15:00:18.652] [ INFO] console - Executing (00482f53-efa8-4a65-a666-eedf302d2761): COMMIT;
[2016-09-10 15:00:18.653] [ INFO] console - [ 70, 118, {}, [ '85' ] ]
[2016-09-10 15:00:18.658] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/' like k.path||k.id||'/%'
[2016-09-10 15:00:18.663] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Zemla', id: 2 }
[2016-09-10 15:00:18.667] [ INFO] console - Executing (d65c3ce5-3eac-4662-ac87-955249ad893c): START TRANSACTION;
[2016-09-10 15:00:18.672] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 15:00:18.679] [ INFO] console - Executing (e63a5500-b070-4274-8bf4-bd313d6ced5c): START TRANSACTION;
[2016-09-10 15:00:18.680] [ INFO] console - Executing (d65c3ce5-3eac-4662-ac87-955249ad893c): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:00:18.681] [ INFO] console - [ 16,
  6783313538711552,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id2.voiskoChange',
  [],
  { voiskoSize: 2 } ]
[2016-09-10 15:00:18.685] [ INFO] console - Executing (e63a5500-b070-4274-8bf4-bd313d6ced5c): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:00:18.710] [ INFO] console - Executing (default): SELECT "Zemla"."id", "Zemla"."path", "Zemla"."name", "Zemla"."intensity", "Zemla"."note", "Zemla"."created_at", "Zemla"."updated_at", "Zemla"."deleted_at", "Zemla"."parent_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Zemla" AS "Zemla" LEFT OUTER JOIN "File" AS "attachments" ON "Zemla"."id" = "attachments"."zemla_id" AND "attachments"."deleted_at" IS NULL WHERE ("Zemla"."deleted_at" IS NULL AND "Zemla"."id" = 2);
[2016-09-10 15:00:18.714] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 85);
[2016-09-10 15:00:18.723] [ INFO] console - Executing (d65c3ce5-3eac-4662-ac87-955249ad893c): COMMIT;
[2016-09-10 15:00:18.729] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"+1
                                where
                                    '/2/85/' like path||id||'/%'
[2016-09-10 15:00:18.730] [ INFO] console - [ 70,
  119,
  {},
  [ { fullPath: 'null2/',
      id: '2',
      path: null,
      name: 'UnitTest2',
      intensity: 1000,
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      parent_id: '1',
      attachments: [] } ] ]
[2016-09-10 15:00:18.746] [ INFO] console - Executing (default): INSERT INTO "Kopnik" ("id","name","surname","patronymic","voiskoSize","birth","path","created_at","updated_at","rodina_id","starshina_id") VALUES (DEFAULT,'temp','temp','temp',0,1900,'/2/85/','2016-09-10 10:00:18.697 +00:00','2016-09-10 10:00:18.697 +00:00',NULL,85) RETURNING *;
[2016-09-10 15:00:18.765] [ INFO] console - Executing (e63a5500-b070-4274-8bf4-bd313d6ced5c): COMMIT;
[2016-09-10 15:00:18.772] [ INFO] console - [ 70, 120, {}, [ '86' ] ]
[2016-09-10 15:00:18.780] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/85/' like k.path||k.id||'/%'
[2016-09-10 15:00:18.794] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2', '85')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 15:00:18.801] [ INFO] console - [ 16,
  1805509740986368,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id85.voiskoChange',
  [],
  { voiskoSize: 1 } ]
[2016-09-10 15:00:18.814] [ INFO] console - [ 16,
  8142174810013696,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id2.voiskoChange',
  [],
  { voiskoSize: 3 } ]
[2016-09-10 15:00:18.823] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 4 }
[2016-09-10 15:00:18.826] [ INFO] console - Executing (383b02ef-803f-4bb9-97d6-5954eb277561): START TRANSACTION;
[2016-09-10 15:00:18.828] [ INFO] console - Executing (383b02ef-803f-4bb9-97d6-5954eb277561): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:00:18.837] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 4);
[2016-09-10 15:00:18.843] [ INFO] console - Executing (383b02ef-803f-4bb9-97d6-5954eb277561): COMMIT;
[2016-09-10 15:00:18.844] [ INFO] console - [ 70,
  121,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/4/',
      starshina: [Object],
      id: '4',
      email: 'unittest4@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '4',
      voiskoSize: 0,
      birth: 1983,
      path: '/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: null,
      attachments: [] } ] ]
[2016-09-10 15:00:18.865] [ INFO] console - Executing (c6ed7a4b-7066-4f71-81ee-ccf3ee3e42ab): START TRANSACTION;
[2016-09-10 15:00:18.868] [ INFO] console - Executing (c6ed7a4b-7066-4f71-81ee-ccf3ee3e42ab): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:00:18.872] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 85);
[2016-09-10 15:00:18.878] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 4);
[2016-09-10 15:00:18.882] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/' like k.path||k.id||'/%'
[2016-09-10 15:00:18.886] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 15:00:18.892] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"-2
                                where
                                    '/2/' like path||id||'/%'
[2016-09-10 15:00:18.893] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/' like k.path||k.id||'/%'
[2016-09-10 15:00:18.903] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 15:00:18.910] [ INFO] console - Executing (default): UPDATE "Kopnik" SET "path"='/4/',"starshina_id"='4',"updated_at"='2016-09-10 10:00:18.896 +00:00' WHERE "id" = '85'
[2016-09-10 15:00:18.914] [ INFO] console - Executing (c6ed7a4b-7066-4f71-81ee-ccf3ee3e42ab): COMMIT;
[2016-09-10 15:00:18.916] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"+2
                                where
                                    '/4/' like path||id||'/%'
[2016-09-10 15:01:20.043] [ INFO] console - [ 70, 122, {}, [ undefined ] ]
[2016-09-10 15:01:23.071] [ INFO] console - [ 16,
  5206546686410752,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id2.voiskoChange',
  [],
  { voiskoSize: 1 } ]
[2016-09-10 15:01:23.079] [ INFO] console - [ 16,
  1665399363993600,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id2.voiskoChange',
  [],
  { voiskoSize: 1 } ]
[2016-09-10 15:01:23.098] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."starshina_id" = '85');
[2016-09-10 15:01:23.109] [ INFO] console - Executing (default): UPDATE "Kopnik" SET "path"='/4/85/',"updated_at"='2016-09-10 10:01:23.103 +00:00' WHERE "id" = '86'
[2016-09-10 15:01:40.519] [ INFO] console - [ 70, 124, {}, [ undefined ] ]
[2016-09-10 15:01:40.529] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 2 }
[2016-09-10 15:01:40.540] [ INFO] console - Executing (default): delete from "Kopnik"
                where
                    name like '%temp'
[2016-09-10 15:01:40.543] [ INFO] console - Executing (613234ac-b6c2-49a1-b3e5-7b897e79df3f): START TRANSACTION;
[2016-09-10 15:01:40.546] [ INFO] console - Executing (613234ac-b6c2-49a1-b3e5-7b897e79df3f): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:01:40.549] [ INFO] console - Executing (default): update "Kopnik"
                set 
                    "voiskoSize"= case when id=2 then 1 ELSE 0 END
                where
                    id>1 
                    and id<=5
[2016-09-10 15:01:40.556] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 2);
[2016-09-10 15:01:40.562] [ INFO] console - Executing (613234ac-b6c2-49a1-b3e5-7b897e79df3f): COMMIT;
[2016-09-10 15:01:40.563] [ INFO] console - [ 70,
  125,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/2/',
      starshina: [Object],
      id: '2',
      email: 'unittest2@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '1',
      voiskoSize: 1,
      birth: 1983,
      path: '/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: null,
      attachments: [] } ] ]
[2016-09-10 15:01:40.580] [ INFO] console - Executing (8db403ff-980c-4ccb-a374-ec66aa7e15ed): START TRANSACTION;
[2016-09-10 15:01:40.581] [ INFO] console - Executing (8db403ff-980c-4ccb-a374-ec66aa7e15ed): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:01:40.587] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 2);
[2016-09-10 15:01:40.591] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"+1
                                where
                                    '/2/' like path||id||'/%'
[2016-09-10 15:01:40.596] [ INFO] console - Executing (default): INSERT INTO "Kopnik" ("id","name","surname","patronymic","voiskoSize","birth","path","created_at","updated_at","rodina_id","starshina_id") VALUES (DEFAULT,'temp','temp','temp',0,1900,'/2/','2016-09-10 10:01:40.583 +00:00','2016-09-10 10:01:40.583 +00:00',NULL,2) RETURNING *;
[2016-09-10 15:01:40.600] [ INFO] console - Executing (8db403ff-980c-4ccb-a374-ec66aa7e15ed): COMMIT;
[2016-09-10 15:01:40.602] [ INFO] console - [ 70, 126, {}, [ '87' ] ]
[2016-09-10 15:01:40.609] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/' like k.path||k.id||'/%'
[2016-09-10 15:01:40.619] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 15:01:40.623] [ INFO] console - [ 16,
  4675754914742272,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id2.voiskoChange',
  [],
  { voiskoSize: 2 } ]
[2016-09-10 15:01:40.636] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Zemla', id: 2 }
[2016-09-10 15:01:40.640] [ INFO] console - Executing (eb0368c2-cd19-4516-819d-13bfc8ec1047): START TRANSACTION;
[2016-09-10 15:01:40.640] [ INFO] console - Executing (dec7fc72-1ebe-4162-b886-8758ed483910): START TRANSACTION;
[2016-09-10 15:01:40.643] [ INFO] console - Executing (eb0368c2-cd19-4516-819d-13bfc8ec1047): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:01:40.643] [ INFO] console - Executing (dec7fc72-1ebe-4162-b886-8758ed483910): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:01:40.653] [ INFO] console - Executing (default): SELECT "Zemla"."id", "Zemla"."path", "Zemla"."name", "Zemla"."intensity", "Zemla"."note", "Zemla"."created_at", "Zemla"."updated_at", "Zemla"."deleted_at", "Zemla"."parent_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Zemla" AS "Zemla" LEFT OUTER JOIN "File" AS "attachments" ON "Zemla"."id" = "attachments"."zemla_id" AND "attachments"."deleted_at" IS NULL WHERE ("Zemla"."deleted_at" IS NULL AND "Zemla"."id" = 2);
[2016-09-10 15:01:40.661] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 87);
[2016-09-10 15:01:40.665] [ INFO] console - Executing (eb0368c2-cd19-4516-819d-13bfc8ec1047): COMMIT;
[2016-09-10 15:01:40.668] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"+1
                                where
                                    '/2/87/' like path||id||'/%'
[2016-09-10 15:01:40.670] [ INFO] console - [ 70,
  127,
  {},
  [ { fullPath: 'null2/',
      id: '2',
      path: null,
      name: 'UnitTest2',
      intensity: 1000,
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      parent_id: '1',
      attachments: [] } ] ]
[2016-09-10 15:01:40.680] [ INFO] console - Executing (default): INSERT INTO "Kopnik" ("id","name","surname","patronymic","voiskoSize","birth","path","created_at","updated_at","rodina_id","starshina_id") VALUES (DEFAULT,'temp','temp','temp',0,1900,'/2/87/','2016-09-10 10:01:40.646 +00:00','2016-09-10 10:01:40.646 +00:00',NULL,87) RETURNING *;
[2016-09-10 15:01:40.685] [ INFO] console - Executing (dec7fc72-1ebe-4162-b886-8758ed483910): COMMIT;
[2016-09-10 15:01:40.687] [ INFO] console - [ 70, 128, {}, [ '88' ] ]
[2016-09-10 15:01:40.691] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/87/' like k.path||k.id||'/%'
[2016-09-10 15:01:40.698] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2', '87')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 15:01:40.702] [ INFO] console - [ 16,
  3187850136780800,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id87.voiskoChange',
  [],
  { voiskoSize: 1 } ]
[2016-09-10 15:01:40.706] [ INFO] console - [ 16,
  3508285047046144,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id2.voiskoChange',
  [],
  { voiskoSize: 3 } ]
[2016-09-10 15:01:40.714] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 4 }
[2016-09-10 15:01:40.718] [ INFO] console - Executing (9dfc689c-c44a-4222-844a-a95352c273f6): START TRANSACTION;
[2016-09-10 15:01:40.719] [ INFO] console - Executing (9dfc689c-c44a-4222-844a-a95352c273f6): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:01:40.742] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 4);
[2016-09-10 15:01:40.750] [ INFO] console - Executing (9dfc689c-c44a-4222-844a-a95352c273f6): COMMIT;
[2016-09-10 15:01:40.754] [ INFO] console - [ 70,
  129,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/4/',
      starshina: [Object],
      id: '4',
      email: 'unittest4@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '4',
      voiskoSize: 0,
      birth: 1983,
      path: '/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: null,
      attachments: [] } ] ]
[2016-09-10 15:01:40.766] [ INFO] console - Executing (a315dfe7-821f-4bee-a2d5-917879278ced): START TRANSACTION;
[2016-09-10 15:01:40.768] [ INFO] console - Executing (a315dfe7-821f-4bee-a2d5-917879278ced): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:01:40.773] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 87);
[2016-09-10 15:01:40.779] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 4);
[2016-09-10 15:01:40.782] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/' like k.path||k.id||'/%'
[2016-09-10 15:01:40.788] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 15:02:06.904] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"-2
                                where
                                    '/2/' like path||id||'/%'
[2016-09-10 15:02:06.906] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/' like k.path||k.id||'/%'
[2016-09-10 15:02:33.991] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 15:02:34.000] [ INFO] console - Executing (default): UPDATE "Kopnik" SET "path"='/4/',"starshina_id"='4',"updated_at"='2016-09-10 10:02:33.992 +00:00' WHERE "id" = '87'
[2016-09-10 15:02:34.002] [ INFO] console - Executing (a315dfe7-821f-4bee-a2d5-917879278ced): COMMIT;
[2016-09-10 15:02:34.004] [ INFO] console - [ 70, 130, {}, [ undefined ] ]
[2016-09-10 15:02:34.007] [ INFO] console - [ 16,
  6313615099428864,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id2.voiskoChange',
  [],
  { voiskoSize: 1 } ]
[2016-09-10 15:02:34.013] [ INFO] console - [ 16,
  1714419063062528,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id2.voiskoChange',
  [],
  { voiskoSize: 1 } ]
[2016-09-10 15:02:34.019] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"+2
                                where
                                    '/4/' like path||id||'/%'
[2016-09-10 15:02:34.024] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."starshina_id" = '87');
[2016-09-10 15:02:34.032] [ INFO] console - Executing (default): UPDATE "Kopnik" SET "path"='/4/87/',"updated_at"='2016-09-10 10:02:34.027 +00:00' WHERE "id" = '88'
[2016-09-10 15:02:42.414] [ INFO] console - [ 70, 132, {}, [ undefined ] ]
[2016-09-10 15:02:42.424] [ INFO] console - Executing (default): delete from "Kopnik"
                where
                    name like '%temp'
[2016-09-10 15:02:42.429] [ INFO] console - Executing (default): update "Kopnik"
                set 
                    "voiskoSize"= case when id=2 then 1 ELSE 0 END
                where
                    id>1 
                    and id<=5
[2016-09-10 15:02:42.431] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 2 }
[2016-09-10 15:02:42.434] [ INFO] console - Executing (eaea4e5b-dac7-48f6-abad-ceacdb4d85bf): START TRANSACTION;
[2016-09-10 15:02:42.437] [ INFO] console - Executing (eaea4e5b-dac7-48f6-abad-ceacdb4d85bf): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:02:42.447] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 2);
[2016-09-10 15:02:42.452] [ INFO] console - Executing (eaea4e5b-dac7-48f6-abad-ceacdb4d85bf): COMMIT;
[2016-09-10 15:02:42.454] [ INFO] console - [ 70,
  133,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/2/',
      starshina: [Object],
      id: '2',
      email: 'unittest2@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '1',
      voiskoSize: 1,
      birth: 1983,
      path: '/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: null,
      attachments: [] } ] ]
[2016-09-10 15:02:42.472] [ INFO] console - Executing (4e064fdc-6e56-416b-a474-fd88186f5f36): START TRANSACTION;
[2016-09-10 15:02:42.474] [ INFO] console - Executing (4e064fdc-6e56-416b-a474-fd88186f5f36): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:02:42.481] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 2);
[2016-09-10 15:02:42.485] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"+1
                                where
                                    '/2/' like path||id||'/%'
[2016-09-10 15:02:42.489] [ INFO] console - Executing (default): INSERT INTO "Kopnik" ("id","name","surname","patronymic","voiskoSize","birth","path","created_at","updated_at","rodina_id","starshina_id") VALUES (DEFAULT,'temp','temp','temp',0,1900,'/2/','2016-09-10 10:02:42.476 +00:00','2016-09-10 10:02:42.476 +00:00',NULL,2) RETURNING *;
[2016-09-10 15:02:42.493] [ INFO] console - Executing (4e064fdc-6e56-416b-a474-fd88186f5f36): COMMIT;
[2016-09-10 15:02:42.495] [ INFO] console - [ 70, 134, {}, [ '89' ] ]
[2016-09-10 15:02:42.501] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/' like k.path||k.id||'/%'
[2016-09-10 15:02:42.509] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 15:02:42.510] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Zemla', id: 2 }
[2016-09-10 15:02:42.516] [ INFO] console - Executing (9be0a9d9-0858-4c5d-95c7-1b747a22a652): START TRANSACTION;
[2016-09-10 15:02:42.517] [ INFO] console - Executing (66f45f8c-1a7a-402e-82d8-05183ab4d821): START TRANSACTION;
[2016-09-10 15:02:42.518] [ INFO] console - [ 16,
  6436280262983680,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id2.voiskoChange',
  [],
  { voiskoSize: 2 } ]
[2016-09-10 15:02:42.522] [ INFO] console - Executing (9be0a9d9-0858-4c5d-95c7-1b747a22a652): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:02:42.523] [ INFO] console - Executing (66f45f8c-1a7a-402e-82d8-05183ab4d821): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:02:42.534] [ INFO] console - Executing (default): SELECT "Zemla"."id", "Zemla"."path", "Zemla"."name", "Zemla"."intensity", "Zemla"."note", "Zemla"."created_at", "Zemla"."updated_at", "Zemla"."deleted_at", "Zemla"."parent_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Zemla" AS "Zemla" LEFT OUTER JOIN "File" AS "attachments" ON "Zemla"."id" = "attachments"."zemla_id" AND "attachments"."deleted_at" IS NULL WHERE ("Zemla"."deleted_at" IS NULL AND "Zemla"."id" = 2);
[2016-09-10 15:02:42.542] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 89);
[2016-09-10 15:02:42.545] [ INFO] console - Executing (9be0a9d9-0858-4c5d-95c7-1b747a22a652): COMMIT;
[2016-09-10 15:02:42.551] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"+1
                                where
                                    '/2/89/' like path||id||'/%'
[2016-09-10 15:02:42.552] [ INFO] console - [ 70,
  135,
  {},
  [ { fullPath: 'null2/',
      id: '2',
      path: null,
      name: 'UnitTest2',
      intensity: 1000,
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      parent_id: '1',
      attachments: [] } ] ]
[2016-09-10 15:02:42.566] [ INFO] console - Executing (default): INSERT INTO "Kopnik" ("id","name","surname","patronymic","voiskoSize","birth","path","created_at","updated_at","rodina_id","starshina_id") VALUES (DEFAULT,'temp','temp','temp',0,1900,'/2/89/','2016-09-10 10:02:42.527 +00:00','2016-09-10 10:02:42.527 +00:00',NULL,89) RETURNING *;
[2016-09-10 15:02:42.571] [ INFO] console - Executing (66f45f8c-1a7a-402e-82d8-05183ab4d821): COMMIT;
[2016-09-10 15:02:42.572] [ INFO] console - [ 70, 136, {}, [ '90' ] ]
[2016-09-10 15:02:42.578] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/89/' like k.path||k.id||'/%'
[2016-09-10 15:02:42.584] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2', '89')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 15:02:42.589] [ INFO] console - [ 16,
  1726796026347520,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id89.voiskoChange',
  [],
  { voiskoSize: 1 } ]
[2016-09-10 15:02:42.594] [ INFO] console - [ 16,
  5725591579918336,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id2.voiskoChange',
  [],
  { voiskoSize: 3 } ]
[2016-09-10 15:02:42.607] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 4 }
[2016-09-10 15:02:42.622] [ INFO] console - Executing (d57e200a-04a9-4838-b8d4-63c9c3424556): START TRANSACTION;
[2016-09-10 15:02:42.623] [ INFO] console - Executing (d57e200a-04a9-4838-b8d4-63c9c3424556): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:02:42.653] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 4);
[2016-09-10 15:02:42.661] [ INFO] console - Executing (d57e200a-04a9-4838-b8d4-63c9c3424556): COMMIT;
[2016-09-10 15:02:42.663] [ INFO] console - [ 70,
  137,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/4/',
      starshina: [Object],
      id: '4',
      email: 'unittest4@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '4',
      voiskoSize: 0,
      birth: 1983,
      path: '/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: null,
      attachments: [] } ] ]
[2016-09-10 15:02:42.692] [ INFO] console - Executing (9dea4463-08e2-4c9d-96a1-8361bcb8d3bb): START TRANSACTION;
[2016-09-10 15:02:42.693] [ INFO] console - Executing (9dea4463-08e2-4c9d-96a1-8361bcb8d3bb): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:02:42.699] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 89);
[2016-09-10 15:02:42.705] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 4);
[2016-09-10 15:02:42.713] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/' like k.path||k.id||'/%'
[2016-09-10 15:02:42.721] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 15:03:09.802] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"-2
                                where
                                    '/2/' like path||id||'/%'
[2016-09-10 15:03:09.805] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/' like k.path||k.id||'/%'
[2016-09-10 15:03:09.814] [ INFO] console - Executing (default): UPDATE "Kopnik" SET "path"='/4/',"starshina_id"='4',"updated_at"='2016-09-10 10:03:09.806 +00:00' WHERE "id" = '89'
[2016-09-10 15:03:09.819] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 15:03:09.822] [ INFO] console - Executing (9dea4463-08e2-4c9d-96a1-8361bcb8d3bb): COMMIT;
[2016-09-10 15:03:09.823] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"+2
                                where
                                    '/4/' like path||id||'/%'
[2016-09-10 15:03:09.825] [ INFO] console - [ 70, 138, {}, [ undefined ] ]
[2016-09-10 15:03:09.828] [ INFO] console - [ 16,
  2876061238951936,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id2.voiskoChange',
  [],
  { voiskoSize: 1 } ]
[2016-09-10 15:03:09.832] [ INFO] console - [ 16,
  3006147525083136,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id2.voiskoChange',
  [],
  { voiskoSize: 1 } ]
[2016-09-10 15:03:09.838] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."starshina_id" = '89');
[2016-09-10 15:03:09.847] [ INFO] console - Executing (default): UPDATE "Kopnik" SET "path"='/4/89/',"updated_at"='2016-09-10 10:03:09.841 +00:00' WHERE "id" = '90'
[2016-09-10 15:03:20.333] [ INFO] console - [ 70, 140, {}, [ undefined ] ]
[2016-09-10 15:03:20.335] [ INFO] console - Executing (default): delete from "Kopnik"
                where
                    name like '%temp'
[2016-09-10 15:03:20.341] [ INFO] console - Executing (default): update "Kopnik"
                set 
                    "voiskoSize"= case when id=2 then 1 ELSE 0 END
                where
                    id>1 
                    and id<=5
[2016-09-10 15:03:20.344] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 2 }
[2016-09-10 15:03:20.346] [ INFO] console - Executing (3d2c7fb0-defa-4118-955e-84b03ff7bca4): START TRANSACTION;
[2016-09-10 15:03:20.347] [ INFO] console - Executing (3d2c7fb0-defa-4118-955e-84b03ff7bca4): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:03:20.354] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 2);
[2016-09-10 15:03:20.359] [ INFO] console - Executing (3d2c7fb0-defa-4118-955e-84b03ff7bca4): COMMIT;
[2016-09-10 15:03:20.360] [ INFO] console - [ 70,
  141,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/2/',
      starshina: [Object],
      id: '2',
      email: 'unittest2@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '1',
      voiskoSize: 1,
      birth: 1983,
      path: '/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: null,
      attachments: [] } ] ]
[2016-09-10 15:03:20.375] [ INFO] console - Executing (dc7dcb95-ff0b-4a35-a33e-637fba1680ee): START TRANSACTION;
[2016-09-10 15:03:20.377] [ INFO] console - Executing (dc7dcb95-ff0b-4a35-a33e-637fba1680ee): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:03:20.385] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 2);
[2016-09-10 15:03:20.390] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"+1
                                where
                                    '/2/' like path||id||'/%'
[2016-09-10 15:03:20.397] [ INFO] console - Executing (default): INSERT INTO "Kopnik" ("id","name","surname","patronymic","voiskoSize","birth","path","created_at","updated_at","rodina_id","starshina_id") VALUES (DEFAULT,'temp','temp','temp',0,1900,'/2/','2016-09-10 10:03:20.379 +00:00','2016-09-10 10:03:20.379 +00:00',NULL,2) RETURNING *;
[2016-09-10 15:03:20.400] [ INFO] console - Executing (dc7dcb95-ff0b-4a35-a33e-637fba1680ee): COMMIT;
[2016-09-10 15:03:20.401] [ INFO] console - [ 70, 142, {}, [ '91' ] ]
[2016-09-10 15:03:20.405] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/' like k.path||k.id||'/%'
[2016-09-10 15:03:20.412] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 15:03:20.415] [ INFO] console - [ 16,
  5187660729548800,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id2.voiskoChange',
  [],
  { voiskoSize: 2 } ]
[2016-09-10 15:03:20.418] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Zemla', id: 2 }
[2016-09-10 15:03:20.421] [ INFO] console - Executing (a1967a88-36d3-46bd-9b7a-0b9029eecbaa): START TRANSACTION;
[2016-09-10 15:03:20.421] [ INFO] console - Executing (c191e6d0-77cc-4dd6-a371-9df28a3daf3e): START TRANSACTION;
[2016-09-10 15:03:20.423] [ INFO] console - Executing (a1967a88-36d3-46bd-9b7a-0b9029eecbaa): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:03:20.424] [ INFO] console - Executing (c191e6d0-77cc-4dd6-a371-9df28a3daf3e): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:03:20.433] [ INFO] console - Executing (default): SELECT "Zemla"."id", "Zemla"."path", "Zemla"."name", "Zemla"."intensity", "Zemla"."note", "Zemla"."created_at", "Zemla"."updated_at", "Zemla"."deleted_at", "Zemla"."parent_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Zemla" AS "Zemla" LEFT OUTER JOIN "File" AS "attachments" ON "Zemla"."id" = "attachments"."zemla_id" AND "attachments"."deleted_at" IS NULL WHERE ("Zemla"."deleted_at" IS NULL AND "Zemla"."id" = 2);
[2016-09-10 15:03:20.440] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 91);
[2016-09-10 15:03:20.445] [ INFO] console - Executing (a1967a88-36d3-46bd-9b7a-0b9029eecbaa): COMMIT;
[2016-09-10 15:03:20.449] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"+1
                                where
                                    '/2/91/' like path||id||'/%'
[2016-09-10 15:03:20.450] [ INFO] console - [ 70,
  143,
  {},
  [ { fullPath: 'null2/',
      id: '2',
      path: null,
      name: 'UnitTest2',
      intensity: 1000,
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      parent_id: '1',
      attachments: [] } ] ]
[2016-09-10 15:03:20.458] [ INFO] console - Executing (default): INSERT INTO "Kopnik" ("id","name","surname","patronymic","voiskoSize","birth","path","created_at","updated_at","rodina_id","starshina_id") VALUES (DEFAULT,'temp','temp','temp',0,1900,'/2/91/','2016-09-10 10:03:20.427 +00:00','2016-09-10 10:03:20.427 +00:00',NULL,91) RETURNING *;
[2016-09-10 15:03:20.464] [ INFO] console - Executing (c191e6d0-77cc-4dd6-a371-9df28a3daf3e): COMMIT;
[2016-09-10 15:03:20.466] [ INFO] console - [ 70, 144, {}, [ '92' ] ]
[2016-09-10 15:03:20.468] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/91/' like k.path||k.id||'/%'
[2016-09-10 15:03:20.475] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2', '91')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 15:03:20.481] [ INFO] console - [ 16,
  16395364466688,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id91.voiskoChange',
  [],
  { voiskoSize: 1 } ]
[2016-09-10 15:03:20.486] [ INFO] console - [ 16,
  6761421190725632,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id2.voiskoChange',
  [],
  { voiskoSize: 3 } ]
[2016-09-10 15:03:20.495] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 4 }
[2016-09-10 15:03:20.501] [ INFO] console - Executing (114bb167-220b-4bb3-aa67-ee65a26aca5d): START TRANSACTION;
[2016-09-10 15:03:20.503] [ INFO] console - Executing (114bb167-220b-4bb3-aa67-ee65a26aca5d): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:03:20.511] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 4);
[2016-09-10 15:03:20.520] [ INFO] console - Executing (114bb167-220b-4bb3-aa67-ee65a26aca5d): COMMIT;
[2016-09-10 15:03:20.523] [ INFO] console - [ 70,
  145,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/4/',
      starshina: [Object],
      id: '4',
      email: 'unittest4@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '4',
      voiskoSize: 0,
      birth: 1983,
      path: '/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: null,
      attachments: [] } ] ]
[2016-09-10 15:03:20.538] [ INFO] console - Executing (5f523b10-e2ad-47ff-bf2c-ff92b71bac1f): START TRANSACTION;
[2016-09-10 15:03:20.540] [ INFO] console - Executing (5f523b10-e2ad-47ff-bf2c-ff92b71bac1f): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:03:20.546] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 91);
[2016-09-10 15:03:20.552] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 4);
[2016-09-10 15:03:20.556] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/' like k.path||k.id||'/%'
[2016-09-10 15:03:20.563] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 15:03:56.722] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"-2
                                where
                                    '/2/' like path||id||'/%'
[2016-09-10 15:03:56.727] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/' like k.path||k.id||'/%'
[2016-09-10 15:03:56.733] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 15:05:48.394] [ INFO] console - Executing (default): UPDATE "Kopnik" SET "path"='/4/',"starshina_id"='4',"updated_at"='2016-09-10 10:05:48.383 +00:00' WHERE "id" = '91'
[2016-09-10 15:05:48.396] [ INFO] console - Executing (5f523b10-e2ad-47ff-bf2c-ff92b71bac1f): COMMIT;
[2016-09-10 15:05:48.400] [ INFO] console - [ 70, 146, {}, [ undefined ] ]
[2016-09-10 15:05:48.402] [ INFO] console - [ 16,
  2545192018116608,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id2.voiskoChange',
  [],
  { voiskoSize: 1 } ]
[2016-09-10 15:06:33.500] [ INFO] console - [ 16,
  1756129036075008,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id2.voiskoChange',
  [],
  { voiskoSize: 1 } ]
[2016-09-10 15:06:33.514] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"+2
                                where
                                    '/4/' like path||id||'/%'
[2016-09-10 15:06:33.528] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."starshina_id" = '91');
[2016-09-10 15:06:33.537] [ INFO] console - Executing (default): UPDATE "Kopnik" SET "path"='/4/91/',"updated_at"='2016-09-10 10:06:33.532 +00:00' WHERE "id" = '92'
[2016-09-10 15:06:50.464] [ INFO] console - AutobahnJS debug enabled
[2016-09-10 15:06:51.567] [ INFO] Server - starting...
[2016-09-10 15:06:51.568] [ INFO] console - trying to create WAMP transport of type: websocket
[2016-09-10 15:06:51.619] [ INFO] console - using WAMP transport type: websocket
[2016-09-10 15:06:51.763] [ INFO] console - [ 1,
  'kopa',
  { roles: 
     { caller: [Object],
       callee: [Object],
       publisher: [Object],
       subscriber: [Object] },
    authmethods: [ 'ticket' ],
    authid: 'server' } ]
[2016-09-10 15:06:51.773] [ INFO] console - [ 5, 'server', {} ]
[2016-09-10 15:06:51.796] [ INFO] Server - connection.onopen()
[2016-09-10 15:06:51.797] [ INFO] console - [ 64, 7294724557766656, {}, 'ru.kopa.model.create' ]
[2016-09-10 15:06:51.804] [DEBUG] Server - api:model.create registered
[2016-09-10 15:06:51.805] [ INFO] console - [ 64, 8852507482652672, {}, 'ru.kopa.model.get' ]
[2016-09-10 15:06:51.808] [DEBUG] Server - api:model.get registered
[2016-09-10 15:06:51.808] [ INFO] console - [ 64, 6954468235018240, {}, 'ru.kopa.model.save' ]
[2016-09-10 15:06:51.812] [DEBUG] Server - api:model.save registered
[2016-09-10 15:06:51.812] [ INFO] console - [ 64, 5758292689158144, {}, 'ru.kopa.pingPong' ]
[2016-09-10 15:06:51.816] [DEBUG] Server - api:pingPong registered
[2016-09-10 15:06:51.817] [ INFO] console - [ 64, 4650834717573120, {}, 'ru.kopa.discloseCaller' ]
[2016-09-10 15:06:51.820] [DEBUG] Server - api:discloseCaller registered
[2016-09-10 15:06:51.820] [ INFO] console - [ 64, 5953571161899008, {}, 'ru.kopa.pingPongDatabase' ]
[2016-09-10 15:06:51.823] [DEBUG] Server - api:pingPongDatabase registered
[2016-09-10 15:06:51.823] [ INFO] console - [ 64, 7947109812666368, {}, 'ru.kopa.error' ]
[2016-09-10 15:06:51.825] [DEBUG] Server - api:error registered
[2016-09-10 15:06:51.826] [ INFO] console - [ 64, 1618134031138816, {}, 'ru.kopa.promiseKopas' ]
[2016-09-10 15:06:51.832] [DEBUG] Server - api:promiseKopas registered
[2016-09-10 15:06:51.833] [ INFO] console - [ 64, 5609561503301632, {}, 'ru.kopa.unitTest.cleanTempData' ]
[2016-09-10 15:06:51.835] [DEBUG] Server - api:unitTest.cleanTempData registered
[2016-09-10 15:06:51.836] [ INFO] console - [ 64, 8594390228402176, {}, 'ru.kopa.model.Kopnik.setStarshina' ]
[2016-09-10 15:06:51.838] [DEBUG] Server - api:model.Kopnik.setStarshina registered
[2016-09-10 15:06:51.839] [ INFO] console - [ 64, 5087852362727424, {}, 'ru.kopa.model.Kopa.setQuestion' ]
[2016-09-10 15:06:51.843] [DEBUG] Server - api:model.Kopa.setQuestion registered
[2016-09-10 15:06:51.845] [ INFO] Server - started
[2016-09-10 15:07:04.639] [ INFO] console - [ 70, 149, {}, [ undefined ] ]
[2016-09-10 15:07:04.651] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 2 }
[2016-09-10 15:07:04.676] [ INFO] console - Executing (default): delete from "Kopnik"
                where
                    name like '%temp'
[2016-09-10 15:07:04.678] [ INFO] console - Executing (08c09ca6-f01e-4545-8178-db51c512793f): START TRANSACTION;
[2016-09-10 15:07:04.679] [ INFO] console - Executing (08c09ca6-f01e-4545-8178-db51c512793f): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:07:04.687] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 2);
[2016-09-10 15:07:04.694] [ INFO] console - Executing (default): update "Kopnik"
                set 
                    "voiskoSize"= case when id=2 then 1 ELSE 0 END
                where
                    id>1 
                    and id<=5
[2016-09-10 15:07:04.696] [ INFO] console - Executing (08c09ca6-f01e-4545-8178-db51c512793f): COMMIT;
[2016-09-10 15:07:04.698] [ INFO] console - [ 70,
  150,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/2/',
      starshina: [Object],
      id: '2',
      email: 'unittest2@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '1',
      voiskoSize: 1,
      birth: 1983,
      path: '/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: null,
      attachments: [] } ] ]
[2016-09-10 15:07:04.716] [ INFO] console - Executing (69b40c4d-9b9a-430c-b6d2-cf971ba62f24): START TRANSACTION;
[2016-09-10 15:07:04.717] [ INFO] console - Executing (69b40c4d-9b9a-430c-b6d2-cf971ba62f24): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:07:04.726] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 2);
[2016-09-10 15:07:04.730] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"+1
                                where
                                    '/2/' like path||id||'/%'
[2016-09-10 15:07:04.737] [ INFO] console - Executing (default): INSERT INTO "Kopnik" ("id","name","surname","patronymic","voiskoSize","birth","path","created_at","updated_at","rodina_id","starshina_id") VALUES (DEFAULT,'temp','temp','temp',0,1900,'/2/','2016-09-10 10:07:04.719 +00:00','2016-09-10 10:07:04.719 +00:00',NULL,2) RETURNING *;
[2016-09-10 15:07:04.740] [ INFO] console - Executing (69b40c4d-9b9a-430c-b6d2-cf971ba62f24): COMMIT;
[2016-09-10 15:07:04.742] [ INFO] console - [ 70, 151, {}, [ '93' ] ]
[2016-09-10 15:07:04.748] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/' like k.path||k.id||'/%'
[2016-09-10 15:07:04.750] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Zemla', id: 2 }
[2016-09-10 15:07:04.754] [ INFO] console - Executing (892c540a-2e71-43e7-8a92-5001a15a3d4d): START TRANSACTION;
[2016-09-10 15:07:04.759] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 15:07:04.762] [ INFO] console - Executing (0123177a-4fc8-49fe-9a0b-6f8f2b39a8ab): START TRANSACTION;
[2016-09-10 15:07:04.763] [ INFO] console - Executing (892c540a-2e71-43e7-8a92-5001a15a3d4d): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:07:04.764] [ INFO] console - [ 16,
  5139998615535616,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id2.voiskoChange',
  [],
  { voiskoSize: 2 } ]
[2016-09-10 15:07:04.767] [ INFO] console - Executing (0123177a-4fc8-49fe-9a0b-6f8f2b39a8ab): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:07:04.774] [ INFO] console - Executing (default): SELECT "Zemla"."id", "Zemla"."path", "Zemla"."name", "Zemla"."intensity", "Zemla"."note", "Zemla"."created_at", "Zemla"."updated_at", "Zemla"."deleted_at", "Zemla"."parent_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Zemla" AS "Zemla" LEFT OUTER JOIN "File" AS "attachments" ON "Zemla"."id" = "attachments"."zemla_id" AND "attachments"."deleted_at" IS NULL WHERE ("Zemla"."deleted_at" IS NULL AND "Zemla"."id" = 2);
[2016-09-10 15:07:04.782] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 93);
[2016-09-10 15:07:04.784] [ INFO] console - Executing (892c540a-2e71-43e7-8a92-5001a15a3d4d): COMMIT;
[2016-09-10 15:07:04.787] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"+1
                                where
                                    '/2/93/' like path||id||'/%'
[2016-09-10 15:07:04.788] [ INFO] console - [ 70,
  152,
  {},
  [ { fullPath: 'null2/',
      id: '2',
      path: null,
      name: 'UnitTest2',
      intensity: 1000,
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      parent_id: '1',
      attachments: [] } ] ]
[2016-09-10 15:07:04.794] [ INFO] console - Executing (default): INSERT INTO "Kopnik" ("id","name","surname","patronymic","voiskoSize","birth","path","created_at","updated_at","rodina_id","starshina_id") VALUES (DEFAULT,'temp','temp','temp',0,1900,'/2/93/','2016-09-10 10:07:04.775 +00:00','2016-09-10 10:07:04.775 +00:00',NULL,93) RETURNING *;
[2016-09-10 15:07:04.800] [ INFO] console - Executing (0123177a-4fc8-49fe-9a0b-6f8f2b39a8ab): COMMIT;
[2016-09-10 15:07:04.801] [ INFO] console - [ 70, 153, {}, [ '94' ] ]
[2016-09-10 15:07:04.804] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/93/' like k.path||k.id||'/%'
[2016-09-10 15:07:04.809] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2', '93')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 15:07:04.813] [ INFO] console - [ 16,
  5452380631990272,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id93.voiskoChange',
  [],
  { voiskoSize: 1 } ]
[2016-09-10 15:07:04.817] [ INFO] console - [ 16,
  6038379426742272,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id2.voiskoChange',
  [],
  { voiskoSize: 3 } ]
[2016-09-10 15:07:04.828] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 4 }
[2016-09-10 15:07:04.835] [ INFO] console - Executing (4b0fe823-c304-433f-9573-73f90fa8d525): START TRANSACTION;
[2016-09-10 15:07:04.836] [ INFO] console - Executing (4b0fe823-c304-433f-9573-73f90fa8d525): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:07:04.849] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 4);
[2016-09-10 15:07:04.856] [ INFO] console - Executing (4b0fe823-c304-433f-9573-73f90fa8d525): COMMIT;
[2016-09-10 15:07:04.857] [ INFO] console - [ 70,
  154,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/4/',
      starshina: [Object],
      id: '4',
      email: 'unittest4@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '4',
      voiskoSize: 0,
      birth: 1983,
      path: '/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: null,
      attachments: [] } ] ]
[2016-09-10 15:07:04.872] [ INFO] console - Executing (78741819-874d-4cce-bbec-28a1c155cbcd): START TRANSACTION;
[2016-09-10 15:07:04.873] [ INFO] console - Executing (78741819-874d-4cce-bbec-28a1c155cbcd): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:07:04.876] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 93);
[2016-09-10 15:07:04.881] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 4);
[2016-09-10 15:07:04.884] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/' like k.path||k.id||'/%'
[2016-09-10 15:07:04.888] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 15:07:50.990] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"-2
                                where
                                    '/2/' like path||id||'/%'
[2016-09-10 15:07:50.992] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/' like k.path||k.id||'/%'
[2016-09-10 15:07:51.000] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 15:07:51.005] [ INFO] console - Executing (78741819-874d-4cce-bbec-28a1c155cbcd): COMMIT;
[2016-09-10 15:07:51.012] [ INFO] console - Executing (default): UPDATE "Kopnik" SET "path"='/4/',"starshina_id"='4',"updated_at"='2016-09-10 10:07:51.004 +00:00' WHERE "id" = '93'
[2016-09-10 15:07:51.014] [ INFO] console - [ 70, 155, {}, [ undefined ] ]
[2016-09-10 15:07:51.017] [ INFO] console - [ 16,
  4530555968290816,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id2.voiskoChange',
  [],
  { voiskoSize: 1 } ]
[2016-09-10 15:07:51.021] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"+2
                                where
                                    '/4/' like path||id||'/%'
[2016-09-10 15:07:51.022] [ INFO] console - [ 16,
  7472165637062656,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id2.voiskoChange',
  [],
  { voiskoSize: 3 } ]
[2016-09-10 15:07:51.032] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."starshina_id" = '93');
[2016-09-10 15:07:51.043] [ INFO] console - Executing (default): UPDATE "Kopnik" SET "path"='/4/93/',"updated_at"='2016-09-10 10:07:51.037 +00:00' WHERE "id" = '94'
[2016-09-10 15:07:59.375] [ INFO] console - [ 70, 157, {}, [ undefined ] ]
[2016-09-10 15:07:59.381] [ INFO] console - Executing (default): delete from "Kopnik"
                where
                    name like '%temp'
[2016-09-10 15:07:59.382] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 2 }
[2016-09-10 15:07:59.385] [ INFO] console - Executing (c6df3b03-120f-41f1-8b2f-d17f9a811b67): START TRANSACTION;
[2016-09-10 15:07:59.386] [ INFO] console - Executing (default): update "Kopnik"
                set 
                    "voiskoSize"= case when id=2 then 1 ELSE 0 END
                where
                    id>1 
                    and id<=5
[2016-09-10 15:07:59.387] [ INFO] console - Executing (c6df3b03-120f-41f1-8b2f-d17f9a811b67): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:07:59.394] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 2);
[2016-09-10 15:07:59.398] [ INFO] console - Executing (c6df3b03-120f-41f1-8b2f-d17f9a811b67): COMMIT;
[2016-09-10 15:07:59.399] [ INFO] console - [ 70,
  158,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/2/',
      starshina: [Object],
      id: '2',
      email: 'unittest2@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '1',
      voiskoSize: 1,
      birth: 1983,
      path: '/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: null,
      attachments: [] } ] ]
[2016-09-10 15:07:59.413] [ INFO] console - Executing (5232eb07-8525-4043-9bbb-405d2352587b): START TRANSACTION;
[2016-09-10 15:07:59.414] [ INFO] console - Executing (5232eb07-8525-4043-9bbb-405d2352587b): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:07:59.420] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 2);
[2016-09-10 15:07:59.423] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"+1
                                where
                                    '/2/' like path||id||'/%'
[2016-09-10 15:07:59.428] [ INFO] console - Executing (default): INSERT INTO "Kopnik" ("id","name","surname","patronymic","voiskoSize","birth","path","created_at","updated_at","rodina_id","starshina_id") VALUES (DEFAULT,'temp','temp','temp',0,1900,'/2/','2016-09-10 10:07:59.416 +00:00','2016-09-10 10:07:59.416 +00:00',NULL,2) RETURNING *;
[2016-09-10 15:07:59.432] [ INFO] console - Executing (5232eb07-8525-4043-9bbb-405d2352587b): COMMIT;
[2016-09-10 15:07:59.434] [ INFO] console - [ 70, 159, {}, [ '95' ] ]
[2016-09-10 15:07:59.437] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/' like k.path||k.id||'/%'
[2016-09-10 15:07:59.445] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 15:07:59.448] [ INFO] console - [ 16,
  4439514888011776,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id2.voiskoChange',
  [],
  { voiskoSize: 2 } ]
[2016-09-10 15:07:59.458] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Zemla', id: 2 }
[2016-09-10 15:07:59.463] [ INFO] console - Executing (591ffd71-339b-43b5-bf80-daa9b44acdb4): START TRANSACTION;
[2016-09-10 15:07:59.463] [ INFO] console - Executing (d9e748f6-bb53-4e94-a495-38aba8ee8e54): START TRANSACTION;
[2016-09-10 15:07:59.465] [ INFO] console - Executing (591ffd71-339b-43b5-bf80-daa9b44acdb4): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:07:59.466] [ INFO] console - Executing (d9e748f6-bb53-4e94-a495-38aba8ee8e54): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:07:59.486] [ INFO] console - Executing (default): SELECT "Zemla"."id", "Zemla"."path", "Zemla"."name", "Zemla"."intensity", "Zemla"."note", "Zemla"."created_at", "Zemla"."updated_at", "Zemla"."deleted_at", "Zemla"."parent_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Zemla" AS "Zemla" LEFT OUTER JOIN "File" AS "attachments" ON "Zemla"."id" = "attachments"."zemla_id" AND "attachments"."deleted_at" IS NULL WHERE ("Zemla"."deleted_at" IS NULL AND "Zemla"."id" = 2);
[2016-09-10 15:07:59.494] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 95);
[2016-09-10 15:07:59.497] [ INFO] console - Executing (591ffd71-339b-43b5-bf80-daa9b44acdb4): COMMIT;
[2016-09-10 15:07:59.500] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"+1
                                where
                                    '/2/95/' like path||id||'/%'
[2016-09-10 15:07:59.501] [ INFO] console - [ 70,
  160,
  {},
  [ { fullPath: 'null2/',
      id: '2',
      path: null,
      name: 'UnitTest2',
      intensity: 1000,
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      parent_id: '1',
      attachments: [] } ] ]
[2016-09-10 15:07:59.510] [ INFO] console - Executing (default): INSERT INTO "Kopnik" ("id","name","surname","patronymic","voiskoSize","birth","path","created_at","updated_at","rodina_id","starshina_id") VALUES (DEFAULT,'temp','temp','temp',0,1900,'/2/95/','2016-09-10 10:07:59.469 +00:00','2016-09-10 10:07:59.469 +00:00',NULL,95) RETURNING *;
[2016-09-10 15:07:59.513] [ INFO] console - Executing (d9e748f6-bb53-4e94-a495-38aba8ee8e54): COMMIT;
[2016-09-10 15:07:59.514] [ INFO] console - [ 70, 161, {}, [ '96' ] ]
[2016-09-10 15:07:59.523] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/95/' like k.path||k.id||'/%'
[2016-09-10 15:07:59.531] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2', '95')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 15:07:59.536] [ INFO] console - [ 16,
  8824061423517696,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id95.voiskoChange',
  [],
  { voiskoSize: 1 } ]
[2016-09-10 15:07:59.544] [ INFO] console - [ 16,
  3315737236078592,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id2.voiskoChange',
  [],
  { voiskoSize: 3 } ]
[2016-09-10 15:07:59.555] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 4 }
[2016-09-10 15:07:59.560] [ INFO] console - Executing (aac88910-65f6-4d46-8c5f-943019fb85ec): START TRANSACTION;
[2016-09-10 15:07:59.562] [ INFO] console - Executing (aac88910-65f6-4d46-8c5f-943019fb85ec): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:07:59.571] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 4);
[2016-09-10 15:07:59.579] [ INFO] console - Executing (aac88910-65f6-4d46-8c5f-943019fb85ec): COMMIT;
[2016-09-10 15:07:59.583] [ INFO] console - [ 70,
  162,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/4/',
      starshina: [Object],
      id: '4',
      email: 'unittest4@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '4',
      voiskoSize: 0,
      birth: 1983,
      path: '/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: null,
      attachments: [] } ] ]
[2016-09-10 15:07:59.603] [ INFO] console - Executing (514f3a9a-77bd-46ba-97ae-bac78c60a86b): START TRANSACTION;
[2016-09-10 15:07:59.606] [ INFO] console - Executing (514f3a9a-77bd-46ba-97ae-bac78c60a86b): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:07:59.619] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 95);
[2016-09-10 15:07:59.631] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 4);
[2016-09-10 15:07:59.635] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/' like k.path||k.id||'/%'
[2016-09-10 15:07:59.644] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 15:08:18.723] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"-2
                                where
                                    '/2/' like path||id||'/%'
[2016-09-10 15:08:18.728] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/' like k.path||k.id||'/%'
[2016-09-10 15:08:18.734] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 15:08:18.742] [ INFO] console - Executing (514f3a9a-77bd-46ba-97ae-bac78c60a86b): COMMIT;
[2016-09-10 15:08:18.749] [ INFO] console - Executing (default): UPDATE "Kopnik" SET "path"='/4/',"starshina_id"='4',"updated_at"='2016-09-10 10:08:18.742 +00:00' WHERE "id" = '95'
[2016-09-10 15:08:18.750] [ INFO] console - [ 70, 163, {}, [ undefined ] ]
[2016-09-10 15:08:18.754] [ INFO] console - [ 16,
  107453077258240,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id2.voiskoChange',
  [],
  { voiskoSize: 1 } ]
[2016-09-10 15:08:18.759] [ INFO] console - [ 16,
  8380813125091328,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id2.voiskoChange',
  [],
  { voiskoSize: 1 } ]
[2016-09-10 15:08:18.766] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"+2
                                where
                                    '/4/' like path||id||'/%'
[2016-09-10 15:08:30.815] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."starshina_id" = '95');
[2016-09-10 15:08:30.823] [ INFO] console - Executing (default): UPDATE "Kopnik" SET "path"='/4/95/',"updated_at"='2016-09-10 10:08:30.818 +00:00' WHERE "id" = '96'
[2016-09-10 15:08:37.165] [ INFO] console - AutobahnJS debug enabled
[2016-09-10 15:08:38.117] [ INFO] Server - starting...
[2016-09-10 15:08:38.119] [ INFO] console - trying to create WAMP transport of type: websocket
[2016-09-10 15:08:38.165] [ INFO] console - using WAMP transport type: websocket
[2016-09-10 15:08:38.297] [ INFO] console - [ 1,
  'kopa',
  { roles: 
     { caller: [Object],
       callee: [Object],
       publisher: [Object],
       subscriber: [Object] },
    authmethods: [ 'ticket' ],
    authid: 'server' } ]
[2016-09-10 15:08:38.307] [ INFO] console - [ 5, 'server', {} ]
[2016-09-10 15:08:38.315] [ INFO] Server - connection.onopen()
[2016-09-10 15:08:38.316] [ INFO] console - [ 64, 3150545405607936, {}, 'ru.kopa.model.create' ]
[2016-09-10 15:08:38.329] [DEBUG] Server - api:model.create registered
[2016-09-10 15:08:38.330] [ INFO] console - [ 64, 6437788392095744, {}, 'ru.kopa.model.get' ]
[2016-09-10 15:08:38.334] [DEBUG] Server - api:model.get registered
[2016-09-10 15:08:38.334] [ INFO] console - [ 64, 4943245406633984, {}, 'ru.kopa.model.save' ]
[2016-09-10 15:08:38.338] [DEBUG] Server - api:model.save registered
[2016-09-10 15:08:38.338] [ INFO] console - [ 64, 7852516901388288, {}, 'ru.kopa.pingPong' ]
[2016-09-10 15:08:38.341] [DEBUG] Server - api:pingPong registered
[2016-09-10 15:08:38.341] [ INFO] console - [ 64, 1179234160607232, {}, 'ru.kopa.discloseCaller' ]
[2016-09-10 15:08:38.343] [DEBUG] Server - api:discloseCaller registered
[2016-09-10 15:08:38.344] [ INFO] console - [ 64, 4747434026598400, {}, 'ru.kopa.pingPongDatabase' ]
[2016-09-10 15:08:38.348] [DEBUG] Server - api:pingPongDatabase registered
[2016-09-10 15:08:38.348] [ INFO] console - [ 64, 515629108953088, {}, 'ru.kopa.error' ]
[2016-09-10 15:08:38.350] [DEBUG] Server - api:error registered
[2016-09-10 15:08:38.351] [ INFO] console - [ 64, 8169657729024000, {}, 'ru.kopa.promiseKopas' ]
[2016-09-10 15:08:38.354] [DEBUG] Server - api:promiseKopas registered
[2016-09-10 15:08:38.355] [ INFO] console - [ 64, 8765403960442880, {}, 'ru.kopa.unitTest.cleanTempData' ]
[2016-09-10 15:08:38.357] [DEBUG] Server - api:unitTest.cleanTempData registered
[2016-09-10 15:08:38.357] [ INFO] console - [ 64, 8072177945411584, {}, 'ru.kopa.model.Kopnik.setStarshina' ]
[2016-09-10 15:08:38.360] [DEBUG] Server - api:model.Kopnik.setStarshina registered
[2016-09-10 15:08:38.360] [ INFO] console - [ 64, 8538482427297792, {}, 'ru.kopa.model.Kopa.setQuestion' ]
[2016-09-10 15:08:38.363] [DEBUG] Server - api:model.Kopa.setQuestion registered
[2016-09-10 15:08:38.364] [ INFO] Server - started
[2016-09-10 15:08:51.528] [ INFO] console - [ 70, 166, {}, [ undefined ] ]
[2016-09-10 15:08:51.545] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 2 }
[2016-09-10 15:08:51.563] [ INFO] console - Executing (default): delete from "Kopnik"
                where
                    name like '%temp'
[2016-09-10 15:08:51.569] [ INFO] console - Executing (7184dc5a-00d4-41b1-a5b9-da65c5057805): START TRANSACTION;
[2016-09-10 15:08:51.571] [ INFO] console - Executing (7184dc5a-00d4-41b1-a5b9-da65c5057805): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:08:51.582] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 2);
[2016-09-10 15:08:51.593] [ INFO] console - Executing (default): update "Kopnik"
                set 
                    "voiskoSize"= case when id=2 then 1 ELSE 0 END
                where
                    id>1 
                    and id<=5
[2016-09-10 15:08:51.596] [ INFO] console - Executing (7184dc5a-00d4-41b1-a5b9-da65c5057805): COMMIT;
[2016-09-10 15:08:51.605] [ INFO] console - [ 70,
  167,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/2/',
      starshina: [Object],
      id: '2',
      email: 'unittest2@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '1',
      voiskoSize: 1,
      birth: 1983,
      path: '/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: null,
      attachments: [] } ] ]
[2016-09-10 15:08:51.624] [ INFO] console - Executing (ae4bcfc3-fc99-4306-8cc1-998bbcb3e994): START TRANSACTION;
[2016-09-10 15:08:51.626] [ INFO] console - Executing (ae4bcfc3-fc99-4306-8cc1-998bbcb3e994): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:08:51.633] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 2);
[2016-09-10 15:08:51.638] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"+1
                                where
                                    '/2/' like path||id||'/%'
[2016-09-10 15:08:51.649] [ INFO] console - Executing (default): INSERT INTO "Kopnik" ("id","name","surname","patronymic","voiskoSize","birth","path","created_at","updated_at","rodina_id","starshina_id") VALUES (DEFAULT,'temp','temp','temp',0,1900,'/2/','2016-09-10 10:08:51.628 +00:00','2016-09-10 10:08:51.628 +00:00',NULL,2) RETURNING *;
[2016-09-10 15:08:51.654] [ INFO] console - Executing (ae4bcfc3-fc99-4306-8cc1-998bbcb3e994): COMMIT;
[2016-09-10 15:08:51.655] [ INFO] console - [ 70, 168, {}, [ '97' ] ]
[2016-09-10 15:08:51.659] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/' like k.path||k.id||'/%'
[2016-09-10 15:08:51.664] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Zemla', id: 2 }
[2016-09-10 15:08:51.669] [ INFO] console - Executing (50ec0a5c-b2c5-498e-b6a0-9fa5af898090): START TRANSACTION;
[2016-09-10 15:08:51.670] [ INFO] console - Executing (1ae5e832-b954-4954-a292-c69502efae6e): START TRANSACTION;
[2016-09-10 15:08:51.674] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 15:08:51.676] [ INFO] console - Executing (50ec0a5c-b2c5-498e-b6a0-9fa5af898090): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:08:51.677] [ INFO] console - Executing (1ae5e832-b954-4954-a292-c69502efae6e): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:08:51.678] [ INFO] console - [ 16,
  6181394229231616,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id2.voiskoChange',
  [],
  { voiskoSize: 2 } ]
[2016-09-10 15:08:51.689] [ INFO] console - Executing (default): SELECT "Zemla"."id", "Zemla"."path", "Zemla"."name", "Zemla"."intensity", "Zemla"."note", "Zemla"."created_at", "Zemla"."updated_at", "Zemla"."deleted_at", "Zemla"."parent_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Zemla" AS "Zemla" LEFT OUTER JOIN "File" AS "attachments" ON "Zemla"."id" = "attachments"."zemla_id" AND "attachments"."deleted_at" IS NULL WHERE ("Zemla"."deleted_at" IS NULL AND "Zemla"."id" = 2);
[2016-09-10 15:08:51.693] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 97);
[2016-09-10 15:08:51.702] [ INFO] console - Executing (50ec0a5c-b2c5-498e-b6a0-9fa5af898090): COMMIT;
[2016-09-10 15:08:51.704] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"+1
                                where
                                    '/2/97/' like path||id||'/%'
[2016-09-10 15:08:51.706] [ INFO] console - [ 70,
  169,
  {},
  [ { fullPath: 'null2/',
      id: '2',
      path: null,
      name: 'UnitTest2',
      intensity: 1000,
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      parent_id: '1',
      attachments: [] } ] ]
[2016-09-10 15:08:51.713] [ INFO] console - Executing (default): INSERT INTO "Kopnik" ("id","name","surname","patronymic","voiskoSize","birth","path","created_at","updated_at","rodina_id","starshina_id") VALUES (DEFAULT,'temp','temp','temp',0,1900,'/2/97/','2016-09-10 10:08:51.682 +00:00','2016-09-10 10:08:51.682 +00:00',NULL,97) RETURNING *;
[2016-09-10 15:08:51.717] [ INFO] console - Executing (1ae5e832-b954-4954-a292-c69502efae6e): COMMIT;
[2016-09-10 15:08:51.718] [ INFO] console - [ 70, 170, {}, [ '98' ] ]
[2016-09-10 15:08:51.721] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/97/' like k.path||k.id||'/%'
[2016-09-10 15:08:51.729] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2', '97')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 15:08:51.732] [ INFO] console - [ 16,
  6452825259245568,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id97.voiskoChange',
  [],
  { voiskoSize: 1 } ]
[2016-09-10 15:08:51.737] [ INFO] console - [ 16,
  3304205087408128,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id2.voiskoChange',
  [],
  { voiskoSize: 3 } ]
[2016-09-10 15:08:51.750] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 4 }
[2016-09-10 15:08:51.758] [ INFO] console - Executing (38dc8b90-8191-4018-a14d-54f0178bdf5c): START TRANSACTION;
[2016-09-10 15:08:51.763] [ INFO] console - Executing (38dc8b90-8191-4018-a14d-54f0178bdf5c): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:08:51.771] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 4);
[2016-09-10 15:08:51.775] [ INFO] console - Executing (38dc8b90-8191-4018-a14d-54f0178bdf5c): COMMIT;
[2016-09-10 15:08:51.777] [ INFO] console - [ 70,
  171,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/4/',
      starshina: [Object],
      id: '4',
      email: 'unittest4@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '4',
      voiskoSize: 0,
      birth: 1983,
      path: '/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: null,
      attachments: [] } ] ]
[2016-09-10 15:08:51.789] [ INFO] console - Executing (3a5eff7e-53ba-433f-ae10-c9b1087ea8b8): START TRANSACTION;
[2016-09-10 15:08:51.790] [ INFO] console - Executing (3a5eff7e-53ba-433f-ae10-c9b1087ea8b8): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:08:51.795] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 97);
[2016-09-10 15:08:51.800] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 4);
[2016-09-10 15:08:51.804] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/' like k.path||k.id||'/%'
[2016-09-10 15:08:51.810] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 15:08:51.816] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"-2
                                where
                                    '/2/' like path||id||'/%'
[2016-09-10 15:08:51.826] [ INFO] console - Executing (default): UPDATE "Kopnik" SET "path"='/4/',"starshina_id"='4',"updated_at"='2016-09-10 10:08:51.818 +00:00' WHERE "id" = '97'
[2016-09-10 15:08:51.828] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"+2
                                where
                                    '/4/' like path||id||'/%'
[2016-09-10 15:08:55.860] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."starshina_id" = '97');
[2016-09-10 15:08:55.866] [ INFO] console - Executing (default): UPDATE "Kopnik" SET "path"='/4/97/',"updated_at"='2016-09-10 10:08:55.862 +00:00' WHERE "id" = '98'
[2016-09-10 15:08:55.873] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/4/' like k.path||k.id||'/%'
[2016-09-10 15:08:55.878] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('4')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 15:08:55.880] [ INFO] console - Executing (3a5eff7e-53ba-433f-ae10-c9b1087ea8b8): COMMIT;
[2016-09-10 15:08:55.882] [ INFO] console - [ 70, 172, {}, [ undefined ] ]
[2016-09-10 15:08:55.885] [ INFO] console - [ 16,
  3686053449826304,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id2.voiskoChange',
  [],
  { voiskoSize: 1 } ]
[2016-09-10 15:08:55.890] [ INFO] console - [ 16,
  5424543508201472,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id4.voiskoChange',
  [],
  { voiskoSize: 2 } ]
[2016-09-10 15:09:08.158] [ INFO] console - [ 70, 174, {}, [ 'unittest2@domain.ru' ] ]
[2016-09-10 15:09:08.171] [DEBUG] Server - #pingPong() [ 1, 2, 3 ] { x: 1, y: 2, z: 3 }
[2016-09-10 15:09:08.173] [ INFO] console - [ 70, 175, {}, [ 1, 2, 3 ], { x: 1, y: 2, z: 3 } ]
[2016-09-10 15:09:08.198] [ INFO] console - Executing (default): select 'КОПА' as result
[2016-09-10 15:09:08.201] [ INFO] console - [ 70, 176, {}, [ 'КОПА' ] ]
[2016-09-10 15:09:08.207] [DEBUG] Server - #error() [ 'sadkljfaskldjfs;af' ] {}
[2016-09-10 15:09:08.210] [ERROR] Server - [Error: sadkljfaskldjfs;af]
Error: sadkljfaskldjfs;af
    at MySuperError (Server.js:335:9)
    at fn.constructor.error.Error (Server.js:340:19)
    at new wrappedPromise (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/async-listener/index.js:372:16)
    at Server.error (Server.js:339:16)
    at Object.<anonymous> (Server.js:411:43)
    at [object Generator].next (native)
    at step (/home/alexey2baranov/htdocs/kp-sequelizejs/src/Server.js:1:253)
    at /home/alexey2baranov/htdocs/kp-sequelizejs/src/Server.js:1:513
    at new wrappedPromise (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/async-listener/index.js:372:16)
    at Object.<anonymous> (/home/alexey2baranov/htdocs/kp-sequelizejs/src/Server.js:1:161)
    at Object.<anonymous> (Server.js:408:28)
    at tryCatchResolve (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/apply.js:46:23)
    at callAndResolve (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/apply.js:30:12)
    at callAndResolveNext (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/apply.js:40:4)
    at tryCatchReject3 (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/makePromise.js:856:7)
    at runContinuation3 (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/makePromise.js:814:4)
[2016-09-10 15:09:08.260] [ INFO] console - [ 8,
  68,
  177,
  {},
  'MySuperError',
  [ 'sadkljfaskldjfs;af' ],
  { stack: 
     [ 'Error: sadkljfaskldjfs;af',
       '    at MySuperError (Server.js:335:9)',
       '    at fn.constructor.error.Error (Server.js:340:19)',
       '    at new wrappedPromise (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/async-listener/index.js:372:16)',
       '    at Server.error (Server.js:339:16)',
       '    at Object.<anonymous> (Server.js:411:43)',
       '    at [object Generator].next (native)',
       '    at step (/home/alexey2baranov/htdocs/kp-sequelizejs/src/Server.js:1:253)',
       '    at /home/alexey2baranov/htdocs/kp-sequelizejs/src/Server.js:1:513',
       '    at new wrappedPromise (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/async-listener/index.js:372:16)',
       '    at Object.<anonymous> (/home/alexey2baranov/htdocs/kp-sequelizejs/src/Server.js:1:161)',
       '    at Object.<anonymous> (Server.js:408:28)',
       '    at tryCatchResolve (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/apply.js:46:23)',
       '    at callAndResolve (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/apply.js:30:12)',
       '    at callAndResolveNext (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/apply.js:40:4)',
       '    at tryCatchReject3 (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/makePromise.js:856:7)',
       '    at runContinuation3 (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/makePromise.js:814:4)' ] } ]
[2016-09-10 15:09:08.279] [ INFO] console - [ 70, 178, {}, [ undefined ] ]
[2016-09-10 15:09:08.287] [ INFO] console - Executing (default): delete from "Slovo"
                where
                    place_id<5
                    and value like '%temp'
[2016-09-10 15:09:08.289] [ INFO] console - Executing (default): delete from "Kopnik"
                where
                    name like '%temp'
[2016-09-10 15:09:08.300] [ INFO] console - Executing (default): update "Kopnik"
                set 
                    "voiskoSize"= case when id=2 then 1 ELSE 0 END
                where
                    id>1 
                    and id<=5
[2016-09-10 15:09:08.337] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopa', id: 3 }
[2016-09-10 15:09:08.340] [ INFO] console - Executing (9120c240-35f3-49bf-95e1-8b09d34e313d): START TRANSACTION;
[2016-09-10 15:09:08.341] [ INFO] console - Executing (9120c240-35f3-49bf-95e1-8b09d34e313d): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:09:08.355] [ INFO] console - Executing (default): SELECT "Kopa"."id", "Kopa"."question", "Kopa"."planned", "Kopa"."started", "Kopa"."closed", "Kopa"."isOpen", "Kopa"."note", "Kopa"."created_at", "Kopa"."updated_at", "Kopa"."deleted_at", "Kopa"."place_id", "Kopa"."inviter_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopa" AS "Kopa" LEFT OUTER JOIN "File" AS "attachments" ON "Kopa"."id" = "attachments"."kopa_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopa"."deleted_at" IS NULL AND "Kopa"."id" = 3);
[2016-09-10 15:09:08.361] [ INFO] console - Executing (9120c240-35f3-49bf-95e1-8b09d34e313d): COMMIT;
[2016-09-10 15:09:08.362] [ INFO] console - [ 70,
  180,
  {},
  [ { id: '3',
      question: 'CHE',
      planned: Thu Sep 01 2016 00:00:00 GMT+0500 (YEKT),
      started: Thu Sep 01 2016 00:00:00 GMT+0500 (YEKT),
      closed: null,
      isOpen: false,
      note: null,
      created_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      deleted_at: null,
      place_id: '2',
      inviter_id: '2',
      attachments: [] } ] ]
[2016-09-10 15:09:08.376] [ INFO] console - Executing (0208d3d7-20aa-46d9-80f9-ee3ea3607d97): START TRANSACTION;
[2016-09-10 15:09:08.379] [ INFO] console - Executing (0208d3d7-20aa-46d9-80f9-ee3ea3607d97): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:09:08.384] [ INFO] console - Executing (default): INSERT INTO "Golos" ("id","value","created_at","updated_at","for_id","owner_id") VALUES (DEFAULT,1,'2016-09-10 10:09:08.381 +00:00','2016-09-10 10:09:08.381 +00:00',1,2) RETURNING *;
[2016-09-10 15:09:08.397] [ INFO] console - Executing (0208d3d7-20aa-46d9-80f9-ee3ea3607d97): COMMIT;
[2016-09-10 15:09:08.398] [ INFO] console - [ 70, 181, {}, [ '2' ] ]
[2016-09-10 15:09:08.401] [ INFO] console - [ 16,
  5598807876173824,
  { acknowledge: true },
  'ru.kopa.model.Predlozhenie.id1.golosAdd',
  [ '2' ] ]
[2016-09-10 15:09:08.449] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopa', id: 3 }
[2016-09-10 15:09:08.453] [ INFO] console - Executing (7161a89d-e24f-4fc6-8706-930bfcfa1407): START TRANSACTION;
[2016-09-10 15:09:08.455] [ INFO] console - Executing (7161a89d-e24f-4fc6-8706-930bfcfa1407): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:09:08.461] [ INFO] console - Executing (default): SELECT "Kopa"."id", "Kopa"."question", "Kopa"."planned", "Kopa"."started", "Kopa"."closed", "Kopa"."isOpen", "Kopa"."note", "Kopa"."created_at", "Kopa"."updated_at", "Kopa"."deleted_at", "Kopa"."place_id", "Kopa"."inviter_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopa" AS "Kopa" LEFT OUTER JOIN "File" AS "attachments" ON "Kopa"."id" = "attachments"."kopa_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopa"."deleted_at" IS NULL AND "Kopa"."id" = 3);
[2016-09-10 15:09:08.468] [ INFO] console - Executing (7161a89d-e24f-4fc6-8706-930bfcfa1407): COMMIT;
[2016-09-10 15:09:08.469] [ INFO] console - [ 70,
  183,
  {},
  [ { id: '3',
      question: 'CHE',
      planned: Thu Sep 01 2016 00:00:00 GMT+0500 (YEKT),
      started: Thu Sep 01 2016 00:00:00 GMT+0500 (YEKT),
      closed: null,
      isOpen: false,
      note: null,
      created_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      deleted_at: null,
      place_id: '2',
      inviter_id: '2',
      attachments: [] } ] ]
[2016-09-10 15:09:08.479] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 2 }
[2016-09-10 15:09:08.482] [ INFO] console - Executing (ca692f29-9f45-4934-9e98-1c02d0e63a67): START TRANSACTION;
[2016-09-10 15:09:08.486] [ INFO] console - Executing (ca692f29-9f45-4934-9e98-1c02d0e63a67): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:09:08.491] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 2);
[2016-09-10 15:09:08.499] [ INFO] console - Executing (ca692f29-9f45-4934-9e98-1c02d0e63a67): COMMIT;
[2016-09-10 15:09:08.500] [ INFO] console - [ 70,
  184,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/2/',
      starshina: [Object],
      id: '2',
      email: 'unittest2@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '1',
      voiskoSize: 1,
      birth: 1983,
      path: '/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: null,
      attachments: [] } ] ]
[2016-09-10 15:09:08.511] [ INFO] console - Executing (3a8267ae-1ce1-4eb1-8f81-8e9585e3d218): START TRANSACTION;
[2016-09-10 15:09:08.512] [ INFO] console - Executing (3a8267ae-1ce1-4eb1-8f81-8e9585e3d218): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:09:08.517] [ INFO] console - Executing (default): INSERT INTO "Slovo" ("id","value","created_at","updated_at","owner_id","place_id") VALUES (DEFAULT,'some Slovo temp 1473502148508','2016-09-10 10:09:08.514 +00:00','2016-09-10 10:09:08.514 +00:00',2,3) RETURNING *;
[2016-09-10 15:09:08.523] [ INFO] console - Executing (3a8267ae-1ce1-4eb1-8f81-8e9585e3d218): COMMIT;
[2016-09-10 15:09:08.524] [ INFO] console - [ 70, 185, {}, [ '2' ] ]
[2016-09-10 15:09:08.529] [ INFO] console - [ 16,
  3767692710379520,
  { acknowledge: true },
  'ru.kopa.model.Kopa.id3.slovoAdd',
  [ '2' ] ]
[2016-09-10 15:09:08.540] [ INFO] console - Executing (dc5e9521-8d64-42d8-bd42-5b6c14d62886): START TRANSACTION;
[2016-09-10 15:09:08.543] [ INFO] console - Executing (dc5e9521-8d64-42d8-bd42-5b6c14d62886): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:09:08.548] [ INFO] console - Executing (default): INSERT INTO "Predlozhenie" ("id","value","created_at","updated_at","initiator_id","place_id") VALUES (DEFAULT,'some Predlozhenie temp 1473502148535','2016-09-10 10:09:08.545 +00:00','2016-09-10 10:09:08.545 +00:00',2,3) RETURNING *;
[2016-09-10 15:09:08.553] [ INFO] console - Executing (dc5e9521-8d64-42d8-bd42-5b6c14d62886): COMMIT;
[2016-09-10 15:09:08.554] [ INFO] console - [ 70, 186, {}, [ '2' ] ]
[2016-09-10 15:09:08.556] [ INFO] console - [ 16,
  6210784510083072,
  { acknowledge: true },
  'ru.kopa.model.Kopa.id3.predlozhenieAdd',
  [ '2' ] ]
[2016-09-10 15:09:08.698] [ INFO] console - [ 70, 188, {}, [ undefined ] ]
[2016-09-10 15:09:08.703] [ INFO] console - Executing (default): delete from "Kopnik"
                where
                    name like '%temp'
[2016-09-10 15:09:08.719] [ INFO] console - Executing (default): update "Kopnik"
                set 
                    "voiskoSize"= case when id=2 then 1 ELSE 0 END
                where
                    id>1 
                    and id<=5
[2016-09-10 15:09:08.725] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 2 }
[2016-09-10 15:09:08.731] [ INFO] console - Executing (a455c9df-0e94-4fc0-a577-a4f5ec06f26c): START TRANSACTION;
[2016-09-10 15:09:08.732] [ INFO] console - Executing (a455c9df-0e94-4fc0-a577-a4f5ec06f26c): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:09:08.753] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 2);
[2016-09-10 15:09:08.758] [ INFO] console - Executing (a455c9df-0e94-4fc0-a577-a4f5ec06f26c): COMMIT;
[2016-09-10 15:09:08.760] [ INFO] console - [ 70,
  189,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/2/',
      starshina: [Object],
      id: '2',
      email: 'unittest2@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '1',
      voiskoSize: 1,
      birth: 1983,
      path: '/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: null,
      attachments: [] } ] ]
[2016-09-10 15:09:08.778] [ INFO] console - Executing (479c517e-346c-4321-b0b9-694cb0a9fa07): START TRANSACTION;
[2016-09-10 15:09:08.780] [ INFO] console - Executing (479c517e-346c-4321-b0b9-694cb0a9fa07): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:09:08.786] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 2);
[2016-09-10 15:09:08.791] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"+1
                                where
                                    '/2/' like path||id||'/%'
[2016-09-10 15:09:08.795] [ INFO] console - Executing (default): INSERT INTO "Kopnik" ("id","name","surname","patronymic","voiskoSize","birth","path","created_at","updated_at","rodina_id","starshina_id") VALUES (DEFAULT,'temp','temp','temp',0,1900,'/2/','2016-09-10 10:09:08.781 +00:00','2016-09-10 10:09:08.781 +00:00',NULL,2) RETURNING *;
[2016-09-10 15:09:08.798] [ INFO] console - Executing (479c517e-346c-4321-b0b9-694cb0a9fa07): COMMIT;
[2016-09-10 15:09:08.799] [ INFO] console - [ 70, 190, {}, [ '99' ] ]
[2016-09-10 15:09:08.804] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/' like k.path||k.id||'/%'
[2016-09-10 15:09:08.810] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Zemla', id: 2 }
[2016-09-10 15:09:08.814] [ INFO] console - Executing (c7a1f0c6-42d0-4142-9626-c144f27c99f3): START TRANSACTION;
[2016-09-10 15:09:08.814] [ INFO] console - Executing (e98301a8-319a-4f5b-8eb2-a8630d5b6a64): START TRANSACTION;
[2016-09-10 15:09:08.816] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 15:09:08.818] [ INFO] console - Executing (c7a1f0c6-42d0-4142-9626-c144f27c99f3): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:09:08.819] [ INFO] console - Executing (e98301a8-319a-4f5b-8eb2-a8630d5b6a64): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:09:08.823] [ INFO] console - [ 16,
  5349718253109248,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id2.voiskoChange',
  [],
  { voiskoSize: 2 } ]
[2016-09-10 15:09:08.833] [ INFO] console - Executing (default): SELECT "Zemla"."id", "Zemla"."path", "Zemla"."name", "Zemla"."intensity", "Zemla"."note", "Zemla"."created_at", "Zemla"."updated_at", "Zemla"."deleted_at", "Zemla"."parent_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Zemla" AS "Zemla" LEFT OUTER JOIN "File" AS "attachments" ON "Zemla"."id" = "attachments"."zemla_id" AND "attachments"."deleted_at" IS NULL WHERE ("Zemla"."deleted_at" IS NULL AND "Zemla"."id" = 2);
[2016-09-10 15:09:08.839] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 99);
[2016-09-10 15:09:08.842] [ INFO] console - Executing (c7a1f0c6-42d0-4142-9626-c144f27c99f3): COMMIT;
[2016-09-10 15:09:08.845] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"+1
                                where
                                    '/2/99/' like path||id||'/%'
[2016-09-10 15:09:08.845] [ INFO] console - [ 70,
  191,
  {},
  [ { fullPath: 'null2/',
      id: '2',
      path: null,
      name: 'UnitTest2',
      intensity: 1000,
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      parent_id: '1',
      attachments: [] } ] ]
[2016-09-10 15:09:08.856] [ INFO] console - Executing (default): INSERT INTO "Kopnik" ("id","name","surname","patronymic","voiskoSize","birth","path","created_at","updated_at","rodina_id","starshina_id") VALUES (DEFAULT,'temp','temp','temp',0,1900,'/2/99/','2016-09-10 10:09:08.822 +00:00','2016-09-10 10:09:08.822 +00:00',NULL,99) RETURNING *;
[2016-09-10 15:09:08.863] [ INFO] console - Executing (e98301a8-319a-4f5b-8eb2-a8630d5b6a64): COMMIT;
[2016-09-10 15:09:08.864] [ INFO] console - [ 70, 192, {}, [ '100' ] ]
[2016-09-10 15:09:08.868] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/99/' like k.path||k.id||'/%'
[2016-09-10 15:09:08.875] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2', '99')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 15:09:08.877] [ INFO] console - [ 16,
  2549084655190016,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id99.voiskoChange',
  [],
  { voiskoSize: 1 } ]
[2016-09-10 15:09:08.880] [ INFO] console - [ 16,
  4697250930360320,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id2.voiskoChange',
  [],
  { voiskoSize: 3 } ]
[2016-09-10 15:09:08.887] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 4 }
[2016-09-10 15:09:08.891] [ INFO] console - Executing (aa5ca9d5-9dd8-4780-9c90-ec31e2abce1f): START TRANSACTION;
[2016-09-10 15:09:08.892] [ INFO] console - Executing (aa5ca9d5-9dd8-4780-9c90-ec31e2abce1f): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:09:08.898] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 4);
[2016-09-10 15:09:08.902] [ INFO] console - Executing (aa5ca9d5-9dd8-4780-9c90-ec31e2abce1f): COMMIT;
[2016-09-10 15:09:08.904] [ INFO] console - [ 70,
  193,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/4/',
      starshina: [Object],
      id: '4',
      email: 'unittest4@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '4',
      voiskoSize: 0,
      birth: 1983,
      path: '/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: null,
      attachments: [] } ] ]
[2016-09-10 15:09:08.918] [ INFO] console - Executing (04278b10-69d0-4c01-9d42-06bec16caee9): START TRANSACTION;
[2016-09-10 15:09:08.919] [ INFO] console - Executing (04278b10-69d0-4c01-9d42-06bec16caee9): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:09:08.923] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 99);
[2016-09-10 15:09:08.929] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 4);
[2016-09-10 15:09:08.932] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/' like k.path||k.id||'/%'
[2016-09-10 15:09:08.938] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 15:09:08.941] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"-2
                                where
                                    '/2/' like path||id||'/%'
[2016-09-10 15:09:08.948] [ INFO] console - Executing (default): UPDATE "Kopnik" SET "path"='/4/',"starshina_id"='4',"updated_at"='2016-09-10 10:09:08.943 +00:00' WHERE "id" = '99'
[2016-09-10 15:09:08.950] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"+2
                                where
                                    '/4/' like path||id||'/%'
[2016-09-10 15:09:08.955] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."starshina_id" = '99');
[2016-09-10 15:09:08.962] [ INFO] console - Executing (default): UPDATE "Kopnik" SET "path"='/4/99/',"updated_at"='2016-09-10 10:09:08.958 +00:00' WHERE "id" = '100'
[2016-09-10 15:09:08.964] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/4/' like k.path||k.id||'/%'
[2016-09-10 15:09:08.969] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('4')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 15:09:08.972] [ INFO] console - Executing (04278b10-69d0-4c01-9d42-06bec16caee9): COMMIT;
[2016-09-10 15:09:08.974] [ INFO] console - [ 70, 194, {}, [ undefined ] ]
[2016-09-10 15:09:08.979] [ INFO] console - [ 16,
  6207541279195136,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id2.voiskoChange',
  [],
  { voiskoSize: 1 } ]
[2016-09-10 15:09:08.984] [ INFO] console - [ 16,
  3664050552569856,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id4.voiskoChange',
  [],
  { voiskoSize: 2 } ]
[2016-09-10 15:09:09.027] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopa', id: 3 }
[2016-09-10 15:09:09.030] [ INFO] console - Executing (12378694-a88a-4def-8d05-4c7ff6f0b4ee): START TRANSACTION;
[2016-09-10 15:09:09.032] [ INFO] console - Executing (12378694-a88a-4def-8d05-4c7ff6f0b4ee): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:09:09.037] [ INFO] console - Executing (default): SELECT "Kopa"."id", "Kopa"."question", "Kopa"."planned", "Kopa"."started", "Kopa"."closed", "Kopa"."isOpen", "Kopa"."note", "Kopa"."created_at", "Kopa"."updated_at", "Kopa"."deleted_at", "Kopa"."place_id", "Kopa"."inviter_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopa" AS "Kopa" LEFT OUTER JOIN "File" AS "attachments" ON "Kopa"."id" = "attachments"."kopa_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopa"."deleted_at" IS NULL AND "Kopa"."id" = 3);
[2016-09-10 15:09:09.041] [ INFO] console - Executing (12378694-a88a-4def-8d05-4c7ff6f0b4ee): COMMIT;
[2016-09-10 15:09:09.043] [ INFO] console - [ 70,
  196,
  {},
  [ { id: '3',
      question: 'CHE',
      planned: Thu Sep 01 2016 00:00:00 GMT+0500 (YEKT),
      started: Thu Sep 01 2016 00:00:00 GMT+0500 (YEKT),
      closed: null,
      isOpen: false,
      note: null,
      created_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      deleted_at: null,
      place_id: '2',
      inviter_id: '2',
      attachments: [] } ] ]
[2016-09-10 15:09:09.055] [ INFO] console - Executing (d265a1b0-0414-4012-a21b-c459bb3306be): START TRANSACTION;
[2016-09-10 15:09:09.056] [ INFO] console - Executing (d265a1b0-0414-4012-a21b-c459bb3306be): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:09:09.062] [ INFO] console - Executing (default): INSERT INTO "Predlozhenie" ("id","value","created_at","updated_at","initiator_id","place_id") VALUES (DEFAULT,'some Predlozhenie temp 1473502146808','2016-09-10 10:09:09.058 +00:00','2016-09-10 10:09:09.058 +00:00',2,3) RETURNING *;
[2016-09-10 15:09:09.065] [ INFO] console - Executing (d265a1b0-0414-4012-a21b-c459bb3306be): COMMIT;
[2016-09-10 15:09:09.066] [ INFO] console - [ 70, 197, {}, [ '3' ] ]
[2016-09-10 15:09:09.072] [ INFO] console - [ 16,
  3511883696963584,
  { acknowledge: true },
  'ru.kopa.model.Kopa.id3.predlozhenieAdd',
  [ '3' ] ]
[2016-09-10 15:09:09.079] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Predlozhenie', id: 1 }
[2016-09-10 15:09:09.084] [ INFO] console - Executing (fc8dc0ee-59b6-406b-aa8c-cc56c6e35c4d): START TRANSACTION;
[2016-09-10 15:09:09.085] [ INFO] console - Executing (fc8dc0ee-59b6-406b-aa8c-cc56c6e35c4d): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:09:09.094] [ INFO] console - Executing (default): SELECT "Predlozhenie"."id", "Predlozhenie"."value", "Predlozhenie"."note", "Predlozhenie"."created_at", "Predlozhenie"."updated_at", "Predlozhenie"."deleted_at", "Predlozhenie"."initiator_id", "Predlozhenie"."place_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Predlozhenie" AS "Predlozhenie" LEFT OUTER JOIN "File" AS "attachments" ON "Predlozhenie"."id" = "attachments"."predlozhenie_id" AND "attachments"."deleted_at" IS NULL WHERE ("Predlozhenie"."deleted_at" IS NULL AND "Predlozhenie"."id" = 1);
[2016-09-10 15:09:09.098] [ INFO] console - Executing (fc8dc0ee-59b6-406b-aa8c-cc56c6e35c4d): COMMIT;
[2016-09-10 15:09:09.099] [ INFO] console - [ 70,
  198,
  {},
  [ { id: '1',
      value: 'Будет ...',
      note: null,
      created_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      deleted_at: null,
      initiator_id: '2',
      place_id: '3',
      attachments: [] } ] ]
[2016-09-10 15:09:09.110] [ INFO] console - Executing (a54508ed-cb07-48cf-a363-2110d1eb4155): START TRANSACTION;
[2016-09-10 15:09:09.112] [ INFO] console - Executing (a54508ed-cb07-48cf-a363-2110d1eb4155): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:09:09.116] [ INFO] console - Executing (default): INSERT INTO "Golos" ("id","value","created_at","updated_at","for_id","owner_id") VALUES (DEFAULT,1,'2016-09-10 10:09:09.113 +00:00','2016-09-10 10:09:09.113 +00:00',1,2) RETURNING *;
[2016-09-10 15:09:09.120] [ INFO] console - Executing (a54508ed-cb07-48cf-a363-2110d1eb4155): COMMIT;
[2016-09-10 15:09:09.121] [ INFO] console - [ 70, 199, {}, [ '3' ] ]
[2016-09-10 15:09:09.127] [ INFO] console - [ 16,
  6373330401624064,
  { acknowledge: true },
  'ru.kopa.model.Predlozhenie.id1.golosAdd',
  [ '3' ] ]
[2016-09-10 15:09:09.168] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 3 }
[2016-09-10 15:09:09.172] [ INFO] console - Executing (98f1e0c2-5264-466f-9184-152fc0e8be7b): START TRANSACTION;
[2016-09-10 15:09:09.175] [ INFO] console - Executing (98f1e0c2-5264-466f-9184-152fc0e8be7b): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:09:09.181] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 3);
[2016-09-10 15:09:09.185] [ INFO] console - Executing (98f1e0c2-5264-466f-9184-152fc0e8be7b): COMMIT;
[2016-09-10 15:09:09.187] [ INFO] console - [ 70,
  201,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/2/3/',
      starshina: [Object],
      id: '3',
      email: 'unittest3@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '3',
      voiskoSize: 0,
      birth: 1983,
      path: '/2/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: '2',
      attachments: [] } ] ]
[2016-09-10 15:09:09.199] [ INFO] console - Executing (3a5819e0-4706-481a-95a7-457b6894d711): START TRANSACTION;
[2016-09-10 15:09:09.200] [ INFO] console - Executing (3a5819e0-4706-481a-95a7-457b6894d711): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:09:09.205] [ INFO] console - Executing (default): INSERT INTO "Slovo" ("id","value","note","created_at","updated_at","owner_id","place_id") VALUES (DEFAULT,'123 temp','456','2016-09-10 10:09:09.201 +00:00','2016-09-10 10:09:09.201 +00:00',2,3) RETURNING *;
[2016-09-10 15:09:09.208] [ INFO] console - Executing (3a5819e0-4706-481a-95a7-457b6894d711): COMMIT;
[2016-09-10 15:09:09.210] [ INFO] console - [ 70, 202, {}, [ '3' ] ]
[2016-09-10 15:09:09.215] [ INFO] console - [ 16,
  5142882757378048,
  { acknowledge: true },
  'ru.kopa.model.Kopa.id3.slovoAdd',
  [ '3' ] ]
[2016-09-10 15:09:09.220] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Slovo', id: 3 }
[2016-09-10 15:09:09.228] [ INFO] console - Executing (72dc3ede-037e-45e8-a711-9a517b8b1415): START TRANSACTION;
[2016-09-10 15:09:09.229] [ INFO] console - Executing (72dc3ede-037e-45e8-a711-9a517b8b1415): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:09:09.237] [ INFO] console - Executing (default): SELECT "Slovo"."id", "Slovo"."value", "Slovo"."note", "Slovo"."created_at", "Slovo"."updated_at", "Slovo"."deleted_at", "Slovo"."owner_id", "Slovo"."place_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Slovo" AS "Slovo" LEFT OUTER JOIN "File" AS "attachments" ON "Slovo"."id" = "attachments"."slovo_id" AND "attachments"."deleted_at" IS NULL WHERE ("Slovo"."deleted_at" IS NULL AND "Slovo"."id" = 3);
[2016-09-10 15:09:09.241] [ INFO] console - Executing (72dc3ede-037e-45e8-a711-9a517b8b1415): COMMIT;
[2016-09-10 15:09:09.243] [ INFO] console - [ 70,
  203,
  {},
  [ { id: '3',
      value: '123 temp',
      note: '456',
      created_at: Sat Sep 10 2016 15:09:09 GMT+0500 (YEKT),
      updated_at: Sat Sep 10 2016 15:09:09 GMT+0500 (YEKT),
      deleted_at: null,
      owner_id: '2',
      place_id: '3',
      attachments: [] } ] ]
[2016-09-10 15:09:09.253] [ INFO] console - Executing (3904092b-33d0-4374-8325-b9997d44bff9): START TRANSACTION;
[2016-09-10 15:09:09.254] [ INFO] console - Executing (3904092b-33d0-4374-8325-b9997d44bff9): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:09:09.260] [ INFO] console - Executing (default): INSERT INTO "Slovo" ("id","value","created_at","updated_at","owner_id","place_id") VALUES (DEFAULT,'some value temp 1473502149250','2016-09-10 10:09:09.256 +00:00','2016-09-10 10:09:09.256 +00:00',2,3) RETURNING *;
[2016-09-10 15:09:09.263] [ INFO] console - Executing (3904092b-33d0-4374-8325-b9997d44bff9): COMMIT;
[2016-09-10 15:09:09.264] [ INFO] console - [ 70, 204, {}, [ '4' ] ]
[2016-09-10 15:09:09.267] [ INFO] console - [ 16,
  7219476661534720,
  { acknowledge: true },
  'ru.kopa.model.Kopa.id3.slovoAdd',
  [ '4' ] ]
[2016-09-10 15:09:09.278] [ INFO] console - Executing (6e60f046-84db-43bd-8f05-c61a41529069): START TRANSACTION;
[2016-09-10 15:09:09.280] [ INFO] console - Executing (6e60f046-84db-43bd-8f05-c61a41529069): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:09:09.284] [ INFO] console - Executing (default): SELECT "id", "path", "name", "intensity", "note", "created_at", "updated_at", "deleted_at", "parent_id" FROM "Zemla" AS "Zemla" WHERE ("Zemla"."deleted_at" IS NULL AND "Zemla"."id" = 2);
[2016-09-10 15:09:09.294] [ INFO] console - Executing (default): UPDATE "Zemla" SET "parent_id"=1,"note"='unit test 1473502146813',"updated_at"='2016-09-10 10:09:09.288 +00:00' WHERE "id" = '2'
[2016-09-10 15:09:09.295] [ INFO] console - Executing (6e60f046-84db-43bd-8f05-c61a41529069): COMMIT;
[2016-09-10 15:09:09.298] [ INFO] console - [ 16,
  7297333687484416,
  { acknowledge: true },
  'ru.kopa.model.Zemla.id2.change' ]
[2016-09-10 15:09:09.302] [ INFO] console - [ 70, 205, {}, [ undefined ] ]
[2016-09-10 15:09:09.307] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Zemla', id: 2 }
[2016-09-10 15:09:09.309] [ INFO] console - Executing (c74e92d1-0d70-4bd5-a623-721c1009df93): START TRANSACTION;
[2016-09-10 15:09:09.310] [ INFO] console - Executing (c74e92d1-0d70-4bd5-a623-721c1009df93): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:09:09.316] [ INFO] console - Executing (default): SELECT "Zemla"."id", "Zemla"."path", "Zemla"."name", "Zemla"."intensity", "Zemla"."note", "Zemla"."created_at", "Zemla"."updated_at", "Zemla"."deleted_at", "Zemla"."parent_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Zemla" AS "Zemla" LEFT OUTER JOIN "File" AS "attachments" ON "Zemla"."id" = "attachments"."zemla_id" AND "attachments"."deleted_at" IS NULL WHERE ("Zemla"."deleted_at" IS NULL AND "Zemla"."id" = 2);
[2016-09-10 15:09:09.320] [ INFO] console - Executing (c74e92d1-0d70-4bd5-a623-721c1009df93): COMMIT;
[2016-09-10 15:09:09.322] [ INFO] console - [ 70,
  206,
  {},
  [ { fullPath: 'null2/',
      id: '2',
      path: null,
      name: 'UnitTest2',
      intensity: 1000,
      note: 'unit test 1473502146813',
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Sat Sep 10 2016 15:09:09 GMT+0500 (YEKT),
      deleted_at: null,
      parent_id: '1',
      attachments: [] } ] ]
[2016-09-10 15:09:09.377] [ INFO] console - Executing (490c94b8-aa90-4600-8233-7b9db36f5a1e): START TRANSACTION;
[2016-09-10 15:09:09.378] [ INFO] console - Executing (490c94b8-aa90-4600-8233-7b9db36f5a1e): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:09:09.389] [ INFO] console - Executing (default): INSERT INTO "Slovo" ("id","value","created_at","updated_at","owner_id","place_id") VALUES (DEFAULT,'some Slovo temp','2016-09-10 10:09:09.380 +00:00','2016-09-10 10:09:09.380 +00:00',2,3) RETURNING *;
[2016-09-10 15:09:09.391] [ INFO] console - Executing (490c94b8-aa90-4600-8233-7b9db36f5a1e): COMMIT;
[2016-09-10 15:09:09.392] [ INFO] console - [ 70, 208, {}, [ '5' ] ]
[2016-09-10 15:09:09.398] [ INFO] console - [ 16,
  6588856428134400,
  { acknowledge: true },
  'ru.kopa.model.Kopa.id3.slovoAdd',
  [ '5' ] ]
[2016-09-10 15:17:12.676] [ INFO] console - [ 70, 210, {}, [ 'unittest2@domain.ru' ] ]
[2016-09-10 15:17:12.697] [DEBUG] Server - #pingPong() [ 1, 2, 3 ] { x: 1, y: 2, z: 3 }
[2016-09-10 15:17:12.700] [ INFO] console - [ 70, 211, {}, [ 1, 2, 3 ], { x: 1, y: 2, z: 3 } ]
[2016-09-10 15:17:12.773] [ INFO] console - Executing (default): select 'КОПА' as result
[2016-09-10 15:17:12.775] [ INFO] console - [ 70, 212, {}, [ 'КОПА' ] ]
[2016-09-10 15:17:12.794] [DEBUG] Server - #error() [ 'sadkljfaskldjfs;af' ] {}
[2016-09-10 15:17:12.798] [ERROR] Server - [Error: sadkljfaskldjfs;af]
Error: sadkljfaskldjfs;af
    at MySuperError (Server.js:335:9)
    at fn.constructor.error.Error (Server.js:340:19)
    at new wrappedPromise (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/async-listener/index.js:372:16)
    at Server.error (Server.js:339:16)
    at Object.<anonymous> (Server.js:411:43)
    at [object Generator].next (native)
    at step (/home/alexey2baranov/htdocs/kp-sequelizejs/src/Server.js:1:253)
    at /home/alexey2baranov/htdocs/kp-sequelizejs/src/Server.js:1:513
    at new wrappedPromise (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/async-listener/index.js:372:16)
    at Object.<anonymous> (/home/alexey2baranov/htdocs/kp-sequelizejs/src/Server.js:1:161)
    at Object.<anonymous> (Server.js:408:28)
    at tryCatchResolve (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/apply.js:46:23)
    at callAndResolve (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/apply.js:30:12)
    at callAndResolveNext (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/apply.js:40:4)
    at tryCatchReject3 (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/makePromise.js:856:7)
    at runContinuation3 (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/makePromise.js:814:4)
[2016-09-10 15:17:12.800] [ INFO] console - [ 8,
  68,
  213,
  {},
  'MySuperError',
  [ 'sadkljfaskldjfs;af' ],
  { stack: 
     [ 'Error: sadkljfaskldjfs;af',
       '    at MySuperError (Server.js:335:9)',
       '    at fn.constructor.error.Error (Server.js:340:19)',
       '    at new wrappedPromise (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/async-listener/index.js:372:16)',
       '    at Server.error (Server.js:339:16)',
       '    at Object.<anonymous> (Server.js:411:43)',
       '    at [object Generator].next (native)',
       '    at step (/home/alexey2baranov/htdocs/kp-sequelizejs/src/Server.js:1:253)',
       '    at /home/alexey2baranov/htdocs/kp-sequelizejs/src/Server.js:1:513',
       '    at new wrappedPromise (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/async-listener/index.js:372:16)',
       '    at Object.<anonymous> (/home/alexey2baranov/htdocs/kp-sequelizejs/src/Server.js:1:161)',
       '    at Object.<anonymous> (Server.js:408:28)',
       '    at tryCatchResolve (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/apply.js:46:23)',
       '    at callAndResolve (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/apply.js:30:12)',
       '    at callAndResolveNext (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/apply.js:40:4)',
       '    at tryCatchReject3 (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/makePromise.js:856:7)',
       '    at runContinuation3 (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/makePromise.js:814:4)' ] } ]
[2016-09-10 15:17:12.819] [ INFO] console - [ 70, 214, {}, [ undefined ] ]
[2016-09-10 15:17:12.829] [ INFO] console - Executing (default): delete from "Slovo"
                where
                    place_id<5
                    and value like '%temp'
[2016-09-10 15:17:12.858] [ INFO] console - Executing (default): delete from "Kopnik"
                where
                    name like '%temp'
[2016-09-10 15:17:12.863] [ INFO] console - Executing (default): update "Kopnik"
                set 
                    "voiskoSize"= case when id=2 then 1 ELSE 0 END
                where
                    id>1 
                    and id<=5
[2016-09-10 15:17:12.936] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopa', id: 3 }
[2016-09-10 15:17:12.944] [ INFO] console - Executing (14cbbdcb-f286-4293-8389-2b671ac10139): START TRANSACTION;
[2016-09-10 15:17:12.947] [ INFO] console - Executing (14cbbdcb-f286-4293-8389-2b671ac10139): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:17:12.973] [ INFO] console - Executing (default): SELECT "Kopa"."id", "Kopa"."question", "Kopa"."planned", "Kopa"."started", "Kopa"."closed", "Kopa"."isOpen", "Kopa"."note", "Kopa"."created_at", "Kopa"."updated_at", "Kopa"."deleted_at", "Kopa"."place_id", "Kopa"."inviter_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopa" AS "Kopa" LEFT OUTER JOIN "File" AS "attachments" ON "Kopa"."id" = "attachments"."kopa_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopa"."deleted_at" IS NULL AND "Kopa"."id" = 3);
[2016-09-10 15:17:12.986] [ INFO] console - Executing (14cbbdcb-f286-4293-8389-2b671ac10139): COMMIT;
[2016-09-10 15:17:12.988] [ INFO] console - [ 70,
  216,
  {},
  [ { id: '3',
      question: 'CHE',
      planned: Thu Sep 01 2016 00:00:00 GMT+0500 (YEKT),
      started: Thu Sep 01 2016 00:00:00 GMT+0500 (YEKT),
      closed: null,
      isOpen: false,
      note: null,
      created_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      deleted_at: null,
      place_id: '2',
      inviter_id: '2',
      attachments: [] } ] ]
[2016-09-10 15:17:13.007] [ INFO] console - Executing (4ad88666-374a-4e8d-835e-c965edd20998): START TRANSACTION;
[2016-09-10 15:17:13.008] [ INFO] console - Executing (4ad88666-374a-4e8d-835e-c965edd20998): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:17:13.013] [ INFO] console - Executing (default): INSERT INTO "Golos" ("id","value","created_at","updated_at","for_id","owner_id") VALUES (DEFAULT,1,'2016-09-10 10:17:13.010 +00:00','2016-09-10 10:17:13.010 +00:00',1,2) RETURNING *;
[2016-09-10 15:17:13.018] [ INFO] console - Executing (4ad88666-374a-4e8d-835e-c965edd20998): COMMIT;
[2016-09-10 15:17:13.019] [ INFO] console - [ 70, 217, {}, [ '4' ] ]
[2016-09-10 15:17:13.022] [ INFO] console - [ 16,
  44616990588928,
  { acknowledge: true },
  'ru.kopa.model.Predlozhenie.id1.golosAdd',
  [ '4' ] ]
[2016-09-10 15:17:13.063] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopa', id: 3 }
[2016-09-10 15:17:13.068] [ INFO] console - Executing (b00e1e10-22e6-4e00-bf32-e37307e605c4): START TRANSACTION;
[2016-09-10 15:17:13.070] [ INFO] console - Executing (b00e1e10-22e6-4e00-bf32-e37307e605c4): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:17:13.078] [ INFO] console - Executing (default): SELECT "Kopa"."id", "Kopa"."question", "Kopa"."planned", "Kopa"."started", "Kopa"."closed", "Kopa"."isOpen", "Kopa"."note", "Kopa"."created_at", "Kopa"."updated_at", "Kopa"."deleted_at", "Kopa"."place_id", "Kopa"."inviter_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopa" AS "Kopa" LEFT OUTER JOIN "File" AS "attachments" ON "Kopa"."id" = "attachments"."kopa_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopa"."deleted_at" IS NULL AND "Kopa"."id" = 3);
[2016-09-10 15:17:13.082] [ INFO] console - Executing (b00e1e10-22e6-4e00-bf32-e37307e605c4): COMMIT;
[2016-09-10 15:17:13.084] [ INFO] console - [ 70,
  219,
  {},
  [ { id: '3',
      question: 'CHE',
      planned: Thu Sep 01 2016 00:00:00 GMT+0500 (YEKT),
      started: Thu Sep 01 2016 00:00:00 GMT+0500 (YEKT),
      closed: null,
      isOpen: false,
      note: null,
      created_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      deleted_at: null,
      place_id: '2',
      inviter_id: '2',
      attachments: [] } ] ]
[2016-09-10 15:17:13.099] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 2 }
[2016-09-10 15:17:13.102] [ INFO] console - Executing (4912c4fb-a7ee-4e8d-bba7-00334b0bf631): START TRANSACTION;
[2016-09-10 15:17:13.103] [ INFO] console - Executing (4912c4fb-a7ee-4e8d-bba7-00334b0bf631): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:17:13.112] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 2);
[2016-09-10 15:17:13.119] [ INFO] console - Executing (4912c4fb-a7ee-4e8d-bba7-00334b0bf631): COMMIT;
[2016-09-10 15:17:13.120] [ INFO] console - [ 70,
  220,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/2/',
      starshina: [Object],
      id: '2',
      email: 'unittest2@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '1',
      voiskoSize: 1,
      birth: 1983,
      path: '/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: null,
      attachments: [] } ] ]
[2016-09-10 15:17:13.133] [ INFO] console - Executing (283a0bbf-3bca-4114-b430-07fbefef81ec): START TRANSACTION;
[2016-09-10 15:17:13.134] [ INFO] console - Executing (283a0bbf-3bca-4114-b430-07fbefef81ec): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:17:13.139] [ INFO] console - Executing (default): INSERT INTO "Slovo" ("id","value","created_at","updated_at","owner_id","place_id") VALUES (DEFAULT,'some Slovo temp 1473502633130','2016-09-10 10:17:13.136 +00:00','2016-09-10 10:17:13.136 +00:00',2,3) RETURNING *;
[2016-09-10 15:17:13.143] [ INFO] console - Executing (283a0bbf-3bca-4114-b430-07fbefef81ec): COMMIT;
[2016-09-10 15:17:13.144] [ INFO] console - [ 70, 221, {}, [ '6' ] ]
[2016-09-10 15:17:13.146] [ INFO] console - [ 16,
  2263251211517952,
  { acknowledge: true },
  'ru.kopa.model.Kopa.id3.slovoAdd',
  [ '6' ] ]
[2016-09-10 15:17:13.173] [ INFO] console - Executing (64bad0a1-cef8-4155-8246-98faf8cd127b): START TRANSACTION;
[2016-09-10 15:17:13.175] [ INFO] console - Executing (64bad0a1-cef8-4155-8246-98faf8cd127b): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:17:13.180] [ INFO] console - Executing (default): INSERT INTO "Predlozhenie" ("id","value","created_at","updated_at","initiator_id","place_id") VALUES (DEFAULT,'some Predlozhenie temp 1473502633156','2016-09-10 10:17:13.177 +00:00','2016-09-10 10:17:13.177 +00:00',2,3) RETURNING *;
[2016-09-10 15:17:13.183] [ INFO] console - Executing (64bad0a1-cef8-4155-8246-98faf8cd127b): COMMIT;
[2016-09-10 15:17:13.185] [ INFO] console - [ 70, 222, {}, [ '4' ] ]
[2016-09-10 15:17:13.186] [ INFO] console - [ 16,
  8253479187382272,
  { acknowledge: true },
  'ru.kopa.model.Kopa.id3.predlozhenieAdd',
  [ '4' ] ]
[2016-09-10 15:17:13.229] [ INFO] console - [ 70, 224, {}, [ undefined ] ]
[2016-09-10 15:17:13.232] [ INFO] console - Executing (default): delete from "Kopnik"
                where
                    name like '%temp'
[2016-09-10 15:17:13.233] [ INFO] console - Executing (default): update "Kopnik"
                set 
                    "voiskoSize"= case when id=2 then 1 ELSE 0 END
                where
                    id>1 
                    and id<=5
[2016-09-10 15:17:13.244] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 2 }
[2016-09-10 15:17:13.248] [ INFO] console - Executing (7a931aae-82fc-419b-9cdb-bd9713d36824): START TRANSACTION;
[2016-09-10 15:17:13.249] [ INFO] console - Executing (7a931aae-82fc-419b-9cdb-bd9713d36824): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:17:13.263] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 2);
[2016-09-10 15:17:13.268] [ INFO] console - Executing (7a931aae-82fc-419b-9cdb-bd9713d36824): COMMIT;
[2016-09-10 15:17:13.269] [ INFO] console - [ 70,
  225,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/2/',
      starshina: [Object],
      id: '2',
      email: 'unittest2@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '1',
      voiskoSize: 1,
      birth: 1983,
      path: '/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: null,
      attachments: [] } ] ]
[2016-09-10 15:17:13.289] [ INFO] console - Executing (7f3e61f9-34fc-4003-83ff-2302b74c5d1f): START TRANSACTION;
[2016-09-10 15:17:13.292] [ INFO] console - Executing (7f3e61f9-34fc-4003-83ff-2302b74c5d1f): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:17:13.304] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 2);
[2016-09-10 15:17:13.310] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"+1
                                where
                                    '/2/' like path||id||'/%'
[2016-09-10 15:17:13.317] [ INFO] console - Executing (default): INSERT INTO "Kopnik" ("id","name","surname","patronymic","voiskoSize","birth","path","created_at","updated_at","rodina_id","starshina_id") VALUES (DEFAULT,'temp','temp','temp',0,1900,'/2/','2016-09-10 10:17:13.296 +00:00','2016-09-10 10:17:13.296 +00:00',NULL,2) RETURNING *;
[2016-09-10 15:17:13.326] [ INFO] console - Executing (7f3e61f9-34fc-4003-83ff-2302b74c5d1f): COMMIT;
[2016-09-10 15:17:13.328] [ INFO] console - [ 70, 226, {}, [ '101' ] ]
[2016-09-10 15:17:13.331] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/' like k.path||k.id||'/%'
[2016-09-10 15:17:13.341] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 15:17:13.354] [ INFO] console - [ 16,
  768897007484928,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id2.voiskoChange',
  [],
  { voiskoSize: 2 } ]
[2016-09-10 15:17:13.359] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Zemla', id: 2 }
[2016-09-10 15:17:13.370] [ INFO] console - Executing (7ef4b63d-8b48-45b4-95a6-5c4cc9575268): START TRANSACTION;
[2016-09-10 15:17:13.371] [ INFO] console - Executing (f6a7402b-b611-415d-8a44-4d78c1f81578): START TRANSACTION;
[2016-09-10 15:17:13.375] [ INFO] console - Executing (7ef4b63d-8b48-45b4-95a6-5c4cc9575268): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:17:13.377] [ INFO] console - Executing (f6a7402b-b611-415d-8a44-4d78c1f81578): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:17:13.410] [ INFO] console - Executing (default): SELECT "Zemla"."id", "Zemla"."path", "Zemla"."name", "Zemla"."intensity", "Zemla"."note", "Zemla"."created_at", "Zemla"."updated_at", "Zemla"."deleted_at", "Zemla"."parent_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Zemla" AS "Zemla" LEFT OUTER JOIN "File" AS "attachments" ON "Zemla"."id" = "attachments"."zemla_id" AND "attachments"."deleted_at" IS NULL WHERE ("Zemla"."deleted_at" IS NULL AND "Zemla"."id" = 2);
[2016-09-10 15:17:13.413] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 101);
[2016-09-10 15:17:13.425] [ INFO] console - Executing (7ef4b63d-8b48-45b4-95a6-5c4cc9575268): COMMIT;
[2016-09-10 15:17:13.427] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"+1
                                where
                                    '/2/101/' like path||id||'/%'
[2016-09-10 15:17:13.429] [ INFO] console - [ 70,
  227,
  {},
  [ { fullPath: 'null2/',
      id: '2',
      path: null,
      name: 'UnitTest2',
      intensity: 1000,
      note: 'unit test 1473502146813',
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Sat Sep 10 2016 15:09:09 GMT+0500 (YEKT),
      deleted_at: null,
      parent_id: '1',
      attachments: [] } ] ]
[2016-09-10 15:17:13.442] [ INFO] console - Executing (default): INSERT INTO "Kopnik" ("id","name","surname","patronymic","voiskoSize","birth","path","created_at","updated_at","rodina_id","starshina_id") VALUES (DEFAULT,'temp','temp','temp',0,1900,'/2/101/','2016-09-10 10:17:13.381 +00:00','2016-09-10 10:17:13.381 +00:00',NULL,101) RETURNING *;
[2016-09-10 15:17:13.449] [ INFO] console - Executing (f6a7402b-b611-415d-8a44-4d78c1f81578): COMMIT;
[2016-09-10 15:17:13.452] [ INFO] console - [ 70, 228, {}, [ '102' ] ]
[2016-09-10 15:17:13.458] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/101/' like k.path||k.id||'/%'
[2016-09-10 15:17:13.468] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2', '101')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 15:17:13.473] [ INFO] console - [ 16,
  5674337476542464,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id101.voiskoChange',
  [],
  { voiskoSize: 1 } ]
[2016-09-10 15:17:13.479] [ INFO] console - [ 16,
  3846366107271168,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id2.voiskoChange',
  [],
  { voiskoSize: 3 } ]
[2016-09-10 15:17:13.493] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 4 }
[2016-09-10 15:17:13.499] [ INFO] console - Executing (18d133dc-0a65-4ec1-85bb-81708bfe4cd9): START TRANSACTION;
[2016-09-10 15:17:13.503] [ INFO] console - Executing (18d133dc-0a65-4ec1-85bb-81708bfe4cd9): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:17:13.512] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 4);
[2016-09-10 15:17:13.523] [ INFO] console - Executing (18d133dc-0a65-4ec1-85bb-81708bfe4cd9): COMMIT;
[2016-09-10 15:17:13.526] [ INFO] console - [ 70,
  229,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/4/',
      starshina: [Object],
      id: '4',
      email: 'unittest4@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '4',
      voiskoSize: 0,
      birth: 1983,
      path: '/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: null,
      attachments: [] } ] ]
[2016-09-10 15:17:13.550] [ INFO] console - Executing (55db38fc-35b6-41b9-99cf-d7dad701e809): START TRANSACTION;
[2016-09-10 15:17:13.553] [ INFO] console - Executing (55db38fc-35b6-41b9-99cf-d7dad701e809): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:17:13.560] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 101);
[2016-09-10 15:17:13.568] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 4);
[2016-09-10 15:17:13.573] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/' like k.path||k.id||'/%'
[2016-09-10 15:17:13.581] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 15:17:13.588] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"-2
                                where
                                    '/2/' like path||id||'/%'
[2016-09-10 15:17:13.600] [ INFO] console - Executing (default): UPDATE "Kopnik" SET "path"='/4/',"starshina_id"='4',"updated_at"='2016-09-10 10:17:13.591 +00:00' WHERE "id" = '101'
[2016-09-10 15:17:13.604] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"+2
                                where
                                    '/4/' like path||id||'/%'
[2016-09-10 15:17:13.609] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."starshina_id" = '101');
[2016-09-10 15:17:13.621] [ INFO] console - Executing (default): UPDATE "Kopnik" SET "path"='/4/101/',"updated_at"='2016-09-10 10:17:13.613 +00:00' WHERE "id" = '102'
[2016-09-10 15:17:13.624] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/4/' like k.path||k.id||'/%'
[2016-09-10 15:17:13.631] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('4')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 15:17:13.637] [ INFO] console - Executing (55db38fc-35b6-41b9-99cf-d7dad701e809): COMMIT;
[2016-09-10 15:17:13.647] [ INFO] console - [ 70, 230, {}, [ undefined ] ]
[2016-09-10 15:17:13.652] [ INFO] console - [ 16,
  5442475843911680,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id2.voiskoChange',
  [],
  { voiskoSize: 1 } ]
[2016-09-10 15:17:13.658] [ INFO] console - [ 16,
  1947662255390720,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id4.voiskoChange',
  [],
  { voiskoSize: 2 } ]
[2016-09-10 15:17:13.712] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopa', id: 3 }
[2016-09-10 15:17:13.719] [ INFO] console - Executing (964b3e85-685a-4e75-a4ab-d430441717ed): START TRANSACTION;
[2016-09-10 15:17:13.721] [ INFO] console - Executing (964b3e85-685a-4e75-a4ab-d430441717ed): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:17:13.732] [ INFO] console - Executing (default): SELECT "Kopa"."id", "Kopa"."question", "Kopa"."planned", "Kopa"."started", "Kopa"."closed", "Kopa"."isOpen", "Kopa"."note", "Kopa"."created_at", "Kopa"."updated_at", "Kopa"."deleted_at", "Kopa"."place_id", "Kopa"."inviter_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopa" AS "Kopa" LEFT OUTER JOIN "File" AS "attachments" ON "Kopa"."id" = "attachments"."kopa_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopa"."deleted_at" IS NULL AND "Kopa"."id" = 3);
[2016-09-10 15:17:13.740] [ INFO] console - Executing (964b3e85-685a-4e75-a4ab-d430441717ed): COMMIT;
[2016-09-10 15:17:13.744] [ INFO] console - [ 70,
  232,
  {},
  [ { id: '3',
      question: 'CHE',
      planned: Thu Sep 01 2016 00:00:00 GMT+0500 (YEKT),
      started: Thu Sep 01 2016 00:00:00 GMT+0500 (YEKT),
      closed: null,
      isOpen: false,
      note: null,
      created_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      deleted_at: null,
      place_id: '2',
      inviter_id: '2',
      attachments: [] } ] ]
[2016-09-10 15:17:13.765] [ INFO] console - Executing (1a173e4e-858d-4e0e-ae9a-a7ec93a9049e): START TRANSACTION;
[2016-09-10 15:17:13.766] [ INFO] console - Executing (1a173e4e-858d-4e0e-ae9a-a7ec93a9049e): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:17:13.775] [ INFO] console - Executing (default): INSERT INTO "Predlozhenie" ("id","value","created_at","updated_at","initiator_id","place_id") VALUES (DEFAULT,'some Predlozhenie temp 1473502630444','2016-09-10 10:17:13.770 +00:00','2016-09-10 10:17:13.770 +00:00',2,3) RETURNING *;
[2016-09-10 15:17:13.779] [ INFO] console - Executing (1a173e4e-858d-4e0e-ae9a-a7ec93a9049e): COMMIT;
[2016-09-10 15:17:13.780] [ INFO] console - [ 70, 233, {}, [ '5' ] ]
[2016-09-10 15:17:13.785] [ INFO] console - [ 16,
  1334928656564224,
  { acknowledge: true },
  'ru.kopa.model.Kopa.id3.predlozhenieAdd',
  [ '5' ] ]
[2016-09-10 15:17:13.800] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Predlozhenie', id: 1 }
[2016-09-10 15:17:13.807] [ INFO] console - Executing (9f69192a-8be8-4318-82e6-84cd85e78c67): START TRANSACTION;
[2016-09-10 15:17:13.809] [ INFO] console - Executing (9f69192a-8be8-4318-82e6-84cd85e78c67): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:17:13.819] [ INFO] console - Executing (default): SELECT "Predlozhenie"."id", "Predlozhenie"."value", "Predlozhenie"."note", "Predlozhenie"."created_at", "Predlozhenie"."updated_at", "Predlozhenie"."deleted_at", "Predlozhenie"."initiator_id", "Predlozhenie"."place_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Predlozhenie" AS "Predlozhenie" LEFT OUTER JOIN "File" AS "attachments" ON "Predlozhenie"."id" = "attachments"."predlozhenie_id" AND "attachments"."deleted_at" IS NULL WHERE ("Predlozhenie"."deleted_at" IS NULL AND "Predlozhenie"."id" = 1);
[2016-09-10 15:17:13.827] [ INFO] console - Executing (9f69192a-8be8-4318-82e6-84cd85e78c67): COMMIT;
[2016-09-10 15:17:13.830] [ INFO] console - [ 70,
  234,
  {},
  [ { id: '1',
      value: 'Будет ...',
      note: null,
      created_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      deleted_at: null,
      initiator_id: '2',
      place_id: '3',
      attachments: [] } ] ]
[2016-09-10 15:17:13.849] [ INFO] console - Executing (9e1df1d6-19ad-4a69-9990-1204af0a3941): START TRANSACTION;
[2016-09-10 15:17:13.852] [ INFO] console - Executing (9e1df1d6-19ad-4a69-9990-1204af0a3941): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:17:13.864] [ INFO] console - Executing (default): INSERT INTO "Golos" ("id","value","created_at","updated_at","for_id","owner_id") VALUES (DEFAULT,1,'2016-09-10 10:17:13.857 +00:00','2016-09-10 10:17:13.857 +00:00',1,2) RETURNING *;
[2016-09-10 15:17:13.870] [ INFO] console - Executing (9e1df1d6-19ad-4a69-9990-1204af0a3941): COMMIT;
[2016-09-10 15:17:13.875] [ INFO] console - [ 70, 235, {}, [ '5' ] ]
[2016-09-10 15:17:13.879] [ INFO] console - [ 16,
  6499833974095872,
  { acknowledge: true },
  'ru.kopa.model.Predlozhenie.id1.golosAdd',
  [ '5' ] ]
[2016-09-10 15:17:13.938] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 2 }
[2016-09-10 15:17:13.944] [ INFO] console - Executing (7c5818df-883e-46cf-808a-ad13117ef9ad): START TRANSACTION;
[2016-09-10 15:17:13.946] [ INFO] console - Executing (7c5818df-883e-46cf-808a-ad13117ef9ad): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:17:13.962] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 2);
[2016-09-10 15:17:13.990] [ INFO] console - Executing (7c5818df-883e-46cf-808a-ad13117ef9ad): COMMIT;
[2016-09-10 15:17:13.992] [ INFO] console - [ 70,
  237,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/2/',
      starshina: [Object],
      id: '2',
      email: 'unittest2@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '1',
      voiskoSize: 1,
      birth: 1983,
      path: '/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: null,
      attachments: [] } ] ]
[2016-09-10 15:17:14.018] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 3 }
[2016-09-10 15:17:14.026] [ INFO] console - Executing (afee8496-773e-45e7-be4c-ced670c06607): START TRANSACTION;
[2016-09-10 15:17:14.030] [ INFO] console - Executing (afee8496-773e-45e7-be4c-ced670c06607): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:17:14.042] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 3);
[2016-09-10 15:17:14.046] [ INFO] console - Executing (afee8496-773e-45e7-be4c-ced670c06607): COMMIT;
[2016-09-10 15:17:14.048] [ INFO] console - [ 70,
  238,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/2/3/',
      starshina: [Object],
      id: '3',
      email: 'unittest3@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '3',
      voiskoSize: 0,
      birth: 1983,
      path: '/2/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: '2',
      attachments: [] } ] ]
[2016-09-10 15:17:14.063] [ INFO] console - Executing (b42157e7-baa3-4211-8d93-41f01208734c): START TRANSACTION;
[2016-09-10 15:17:14.065] [ INFO] console - Executing (b42157e7-baa3-4211-8d93-41f01208734c): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:17:14.078] [ INFO] console - Executing (default): INSERT INTO "Slovo" ("id","value","note","created_at","updated_at","owner_id","place_id") VALUES (DEFAULT,'123 temp','456','2016-09-10 10:17:14.069 +00:00','2016-09-10 10:17:14.069 +00:00',2,3) RETURNING *;
[2016-09-10 15:17:14.082] [ INFO] console - Executing (b42157e7-baa3-4211-8d93-41f01208734c): COMMIT;
[2016-09-10 15:17:14.085] [ INFO] console - [ 70, 239, {}, [ '7' ] ]
[2016-09-10 15:17:14.088] [ INFO] console - [ 16,
  5624852576731136,
  { acknowledge: true },
  'ru.kopa.model.Kopa.id3.slovoAdd',
  [ '7' ] ]
[2016-09-10 15:17:14.097] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Slovo', id: 7 }
[2016-09-10 15:17:14.104] [ INFO] console - Executing (023d1e73-299b-430a-baea-3875429711b0): START TRANSACTION;
[2016-09-10 15:17:14.108] [ INFO] console - Executing (023d1e73-299b-430a-baea-3875429711b0): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:17:14.116] [ INFO] console - Executing (default): SELECT "Slovo"."id", "Slovo"."value", "Slovo"."note", "Slovo"."created_at", "Slovo"."updated_at", "Slovo"."deleted_at", "Slovo"."owner_id", "Slovo"."place_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Slovo" AS "Slovo" LEFT OUTER JOIN "File" AS "attachments" ON "Slovo"."id" = "attachments"."slovo_id" AND "attachments"."deleted_at" IS NULL WHERE ("Slovo"."deleted_at" IS NULL AND "Slovo"."id" = 7);
[2016-09-10 15:17:14.120] [ INFO] console - Executing (023d1e73-299b-430a-baea-3875429711b0): COMMIT;
[2016-09-10 15:17:14.123] [ INFO] console - [ 70,
  240,
  {},
  [ { id: '7',
      value: '123 temp',
      note: '456',
      created_at: Sat Sep 10 2016 15:17:14 GMT+0500 (YEKT),
      updated_at: Sat Sep 10 2016 15:17:14 GMT+0500 (YEKT),
      deleted_at: null,
      owner_id: '2',
      place_id: '3',
      attachments: [] } ] ]
[2016-09-10 15:17:14.160] [ INFO] console - Executing (d5d75929-833f-4534-91b4-00fd9ec0948e): START TRANSACTION;
[2016-09-10 15:17:14.162] [ INFO] console - Executing (d5d75929-833f-4534-91b4-00fd9ec0948e): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:17:14.171] [ INFO] console - Executing (default): INSERT INTO "Slovo" ("id","value","created_at","updated_at","owner_id","place_id") VALUES (DEFAULT,'some value temp 1473502634153','2016-09-10 10:17:14.164 +00:00','2016-09-10 10:17:14.164 +00:00',2,3) RETURNING *;
[2016-09-10 15:17:14.175] [ INFO] console - Executing (d5d75929-833f-4534-91b4-00fd9ec0948e): COMMIT;
[2016-09-10 15:17:14.177] [ INFO] console - [ 70, 241, {}, [ '8' ] ]
[2016-09-10 15:17:14.182] [ INFO] console - [ 16,
  5568159492866048,
  { acknowledge: true },
  'ru.kopa.model.Kopa.id3.slovoAdd',
  [ '8' ] ]
[2016-09-10 15:17:14.201] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Zemla', id: 2 }
[2016-09-10 15:17:14.209] [ INFO] console - Executing (30824771-9c16-46c0-b2a7-1df5d063734a): START TRANSACTION;
[2016-09-10 15:17:14.213] [ INFO] console - Executing (30824771-9c16-46c0-b2a7-1df5d063734a): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:17:14.229] [ INFO] console - Executing (default): SELECT "Zemla"."id", "Zemla"."path", "Zemla"."name", "Zemla"."intensity", "Zemla"."note", "Zemla"."created_at", "Zemla"."updated_at", "Zemla"."deleted_at", "Zemla"."parent_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Zemla" AS "Zemla" LEFT OUTER JOIN "File" AS "attachments" ON "Zemla"."id" = "attachments"."zemla_id" AND "attachments"."deleted_at" IS NULL WHERE ("Zemla"."deleted_at" IS NULL AND "Zemla"."id" = 2);
[2016-09-10 15:17:14.237] [ INFO] console - Executing (30824771-9c16-46c0-b2a7-1df5d063734a): COMMIT;
[2016-09-10 15:17:14.240] [ INFO] console - [ 70,
  242,
  {},
  [ { fullPath: 'null2/',
      id: '2',
      path: null,
      name: 'UnitTest2',
      intensity: 1000,
      note: 'unit test 1473502146813',
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Sat Sep 10 2016 15:09:09 GMT+0500 (YEKT),
      deleted_at: null,
      parent_id: '1',
      attachments: [] } ] ]
[2016-09-10 15:17:14.270] [ INFO] console - Executing (7af00d53-03f9-44a6-a0f6-b59ff9b23830): START TRANSACTION;
[2016-09-10 15:17:14.272] [ INFO] console - Executing (7af00d53-03f9-44a6-a0f6-b59ff9b23830): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:17:14.278] [ INFO] console - Executing (default): SELECT "id", "path", "name", "intensity", "note", "created_at", "updated_at", "deleted_at", "parent_id" FROM "Zemla" AS "Zemla" WHERE ("Zemla"."deleted_at" IS NULL AND "Zemla"."id" = 2);
[2016-09-10 15:17:14.287] [ INFO] console - Executing (default): UPDATE "Zemla" SET "parent_id"=1,"note"='unit test 1473502631080',"updated_at"='2016-09-10 10:17:14.282 +00:00' WHERE "id" = '2'
[2016-09-10 15:17:14.290] [ INFO] console - Executing (7af00d53-03f9-44a6-a0f6-b59ff9b23830): COMMIT;
[2016-09-10 15:17:14.292] [ INFO] console - [ 16,
  8534696203911168,
  { acknowledge: true },
  'ru.kopa.model.Zemla.id2.change' ]
[2016-09-10 15:17:14.311] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Zemla', id: 2 }
[2016-09-10 15:17:14.319] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Zemla', id: 2 }
[2016-09-10 15:17:14.321] [ INFO] console - [ 70, 243, {}, [ undefined ] ]
[2016-09-10 15:17:14.329] [ INFO] console - Executing (709af886-f1cb-42b3-8cd9-ff887925061a): START TRANSACTION;
[2016-09-10 15:17:14.330] [ INFO] console - Executing (43c3dc7e-48ce-460c-a3f1-e63a68bdb9be): START TRANSACTION;
[2016-09-10 15:17:14.333] [ INFO] console - Executing (709af886-f1cb-42b3-8cd9-ff887925061a): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:17:14.335] [ INFO] console - Executing (43c3dc7e-48ce-460c-a3f1-e63a68bdb9be): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:17:14.353] [ INFO] console - Executing (default): SELECT "Zemla"."id", "Zemla"."path", "Zemla"."name", "Zemla"."intensity", "Zemla"."note", "Zemla"."created_at", "Zemla"."updated_at", "Zemla"."deleted_at", "Zemla"."parent_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Zemla" AS "Zemla" LEFT OUTER JOIN "File" AS "attachments" ON "Zemla"."id" = "attachments"."zemla_id" AND "attachments"."deleted_at" IS NULL WHERE ("Zemla"."deleted_at" IS NULL AND "Zemla"."id" = 2);
[2016-09-10 15:17:14.359] [ INFO] console - Executing (default): SELECT "Zemla"."id", "Zemla"."path", "Zemla"."name", "Zemla"."intensity", "Zemla"."note", "Zemla"."created_at", "Zemla"."updated_at", "Zemla"."deleted_at", "Zemla"."parent_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Zemla" AS "Zemla" LEFT OUTER JOIN "File" AS "attachments" ON "Zemla"."id" = "attachments"."zemla_id" AND "attachments"."deleted_at" IS NULL WHERE ("Zemla"."deleted_at" IS NULL AND "Zemla"."id" = 2);
[2016-09-10 15:17:14.368] [ INFO] console - Executing (709af886-f1cb-42b3-8cd9-ff887925061a): COMMIT;
[2016-09-10 15:17:14.369] [ INFO] console - Executing (43c3dc7e-48ce-460c-a3f1-e63a68bdb9be): COMMIT;
[2016-09-10 15:17:14.371] [ INFO] console - [ 70,
  244,
  {},
  [ { fullPath: 'null2/',
      id: '2',
      path: null,
      name: 'UnitTest2',
      intensity: 1000,
      note: 'unit test 1473502631080',
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Sat Sep 10 2016 15:17:14 GMT+0500 (YEKT),
      deleted_at: null,
      parent_id: '1',
      attachments: [] } ] ]
[2016-09-10 15:17:14.378] [ INFO] console - [ 70,
  245,
  {},
  [ { fullPath: 'null2/',
      id: '2',
      path: null,
      name: 'UnitTest2',
      intensity: 1000,
      note: 'unit test 1473502631080',
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Sat Sep 10 2016 15:17:14 GMT+0500 (YEKT),
      deleted_at: null,
      parent_id: '1',
      attachments: [] } ] ]
[2016-09-10 15:17:14.441] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopa', id: 3 }
[2016-09-10 15:17:14.445] [ INFO] console - Executing (376873f3-4cad-418c-a9c3-4205df16bd6a): START TRANSACTION;
[2016-09-10 15:17:14.447] [ INFO] console - Executing (376873f3-4cad-418c-a9c3-4205df16bd6a): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:17:14.466] [ INFO] console - Executing (default): SELECT "Kopa"."id", "Kopa"."question", "Kopa"."planned", "Kopa"."started", "Kopa"."closed", "Kopa"."isOpen", "Kopa"."note", "Kopa"."created_at", "Kopa"."updated_at", "Kopa"."deleted_at", "Kopa"."place_id", "Kopa"."inviter_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopa" AS "Kopa" LEFT OUTER JOIN "File" AS "attachments" ON "Kopa"."id" = "attachments"."kopa_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopa"."deleted_at" IS NULL AND "Kopa"."id" = 3);
[2016-09-10 15:17:14.473] [ INFO] console - Executing (376873f3-4cad-418c-a9c3-4205df16bd6a): COMMIT;
[2016-09-10 15:17:14.475] [ INFO] console - [ 70,
  247,
  {},
  [ { id: '3',
      question: 'CHE',
      planned: Thu Sep 01 2016 00:00:00 GMT+0500 (YEKT),
      started: Thu Sep 01 2016 00:00:00 GMT+0500 (YEKT),
      closed: null,
      isOpen: false,
      note: null,
      created_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      deleted_at: null,
      place_id: '2',
      inviter_id: '2',
      attachments: [] } ] ]
[2016-09-10 15:17:14.491] [ INFO] console - Executing (26cb6231-cfd0-4d87-aeff-9941280e9550): START TRANSACTION;
[2016-09-10 15:17:14.492] [ INFO] console - Executing (26cb6231-cfd0-4d87-aeff-9941280e9550): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:17:14.500] [ INFO] console - Executing (default): INSERT INTO "Slovo" ("id","value","created_at","updated_at","owner_id","place_id") VALUES (DEFAULT,'some Slovo temp','2016-09-10 10:17:14.495 +00:00','2016-09-10 10:17:14.495 +00:00',2,3) RETURNING *;
[2016-09-10 15:17:14.503] [ INFO] console - Executing (26cb6231-cfd0-4d87-aeff-9941280e9550): COMMIT;
[2016-09-10 15:17:14.506] [ INFO] console - [ 70, 248, {}, [ '9' ] ]
[2016-09-10 15:17:14.511] [ INFO] console - [ 16,
  6640875490770944,
  { acknowledge: true },
  'ru.kopa.model.Kopa.id3.slovoAdd',
  [ '9' ] ]
[2016-09-10 15:17:53.744] [ INFO] console - [ 70, 250, {}, [ 'unittest2@domain.ru' ] ]
[2016-09-10 15:17:53.755] [DEBUG] Server - #pingPong() [ 1, 2, 3 ] { x: 1, y: 2, z: 3 }
[2016-09-10 15:17:53.758] [ INFO] console - [ 70, 251, {}, [ 1, 2, 3 ], { x: 1, y: 2, z: 3 } ]
[2016-09-10 15:17:53.796] [ INFO] console - Executing (default): select 'КОПА' as result
[2016-09-10 15:17:53.799] [ INFO] console - [ 70, 252, {}, [ 'КОПА' ] ]
[2016-09-10 15:17:53.805] [DEBUG] Server - #error() [ 'sadkljfaskldjfs;af' ] {}
[2016-09-10 15:17:53.808] [ERROR] Server - [Error: sadkljfaskldjfs;af]
Error: sadkljfaskldjfs;af
    at MySuperError (Server.js:335:9)
    at fn.constructor.error.Error (Server.js:340:19)
    at new wrappedPromise (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/async-listener/index.js:372:16)
    at Server.error (Server.js:339:16)
    at Object.<anonymous> (Server.js:411:43)
    at [object Generator].next (native)
    at step (/home/alexey2baranov/htdocs/kp-sequelizejs/src/Server.js:1:253)
    at /home/alexey2baranov/htdocs/kp-sequelizejs/src/Server.js:1:513
    at new wrappedPromise (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/async-listener/index.js:372:16)
    at Object.<anonymous> (/home/alexey2baranov/htdocs/kp-sequelizejs/src/Server.js:1:161)
    at Object.<anonymous> (Server.js:408:28)
    at tryCatchResolve (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/apply.js:46:23)
    at callAndResolve (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/apply.js:30:12)
    at callAndResolveNext (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/apply.js:40:4)
    at tryCatchReject3 (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/makePromise.js:856:7)
    at runContinuation3 (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/makePromise.js:814:4)
[2016-09-10 15:17:53.812] [ INFO] console - [ 8,
  68,
  253,
  {},
  'MySuperError',
  [ 'sadkljfaskldjfs;af' ],
  { stack: 
     [ 'Error: sadkljfaskldjfs;af',
       '    at MySuperError (Server.js:335:9)',
       '    at fn.constructor.error.Error (Server.js:340:19)',
       '    at new wrappedPromise (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/async-listener/index.js:372:16)',
       '    at Server.error (Server.js:339:16)',
       '    at Object.<anonymous> (Server.js:411:43)',
       '    at [object Generator].next (native)',
       '    at step (/home/alexey2baranov/htdocs/kp-sequelizejs/src/Server.js:1:253)',
       '    at /home/alexey2baranov/htdocs/kp-sequelizejs/src/Server.js:1:513',
       '    at new wrappedPromise (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/async-listener/index.js:372:16)',
       '    at Object.<anonymous> (/home/alexey2baranov/htdocs/kp-sequelizejs/src/Server.js:1:161)',
       '    at Object.<anonymous> (Server.js:408:28)',
       '    at tryCatchResolve (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/apply.js:46:23)',
       '    at callAndResolve (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/apply.js:30:12)',
       '    at callAndResolveNext (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/apply.js:40:4)',
       '    at tryCatchReject3 (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/makePromise.js:856:7)',
       '    at runContinuation3 (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/makePromise.js:814:4)' ] } ]
[2016-09-10 15:17:53.826] [ INFO] console - [ 70, 254, {}, [ undefined ] ]
[2016-09-10 15:17:53.830] [ INFO] console - Executing (default): delete from "Slovo"
                where
                    place_id<5
                    and value like '%temp'
[2016-09-10 15:17:53.835] [ INFO] console - Executing (default): delete from "Kopnik"
                where
                    name like '%temp'
[2016-09-10 15:17:53.846] [ INFO] console - Executing (default): update "Kopnik"
                set 
                    "voiskoSize"= case when id=2 then 1 ELSE 0 END
                where
                    id>1 
                    and id<=5
[2016-09-10 15:17:53.918] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopa', id: 3 }
[2016-09-10 15:17:53.923] [ INFO] console - Executing (34aa6b48-20e6-49a8-8e60-6cb5589bccfd): START TRANSACTION;
[2016-09-10 15:17:53.931] [ INFO] console - Executing (34aa6b48-20e6-49a8-8e60-6cb5589bccfd): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:17:53.987] [ INFO] console - Executing (default): SELECT "Kopa"."id", "Kopa"."question", "Kopa"."planned", "Kopa"."started", "Kopa"."closed", "Kopa"."isOpen", "Kopa"."note", "Kopa"."created_at", "Kopa"."updated_at", "Kopa"."deleted_at", "Kopa"."place_id", "Kopa"."inviter_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopa" AS "Kopa" LEFT OUTER JOIN "File" AS "attachments" ON "Kopa"."id" = "attachments"."kopa_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopa"."deleted_at" IS NULL AND "Kopa"."id" = 3);
[2016-09-10 15:17:54.012] [ INFO] console - Executing (34aa6b48-20e6-49a8-8e60-6cb5589bccfd): COMMIT;
[2016-09-10 15:17:54.028] [ INFO] console - [ 70,
  256,
  {},
  [ { id: '3',
      question: 'CHE',
      planned: Thu Sep 01 2016 00:00:00 GMT+0500 (YEKT),
      started: Thu Sep 01 2016 00:00:00 GMT+0500 (YEKT),
      closed: null,
      isOpen: false,
      note: null,
      created_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      deleted_at: null,
      place_id: '2',
      inviter_id: '2',
      attachments: [] } ] ]
[2016-09-10 15:17:54.056] [ INFO] console - Executing (1a968e55-b298-49c1-a803-86523993e2b2): START TRANSACTION;
[2016-09-10 15:17:54.062] [ INFO] console - Executing (1a968e55-b298-49c1-a803-86523993e2b2): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:17:54.086] [ INFO] console - Executing (default): INSERT INTO "Golos" ("id","value","created_at","updated_at","for_id","owner_id") VALUES (DEFAULT,1,'2016-09-10 10:17:54.064 +00:00','2016-09-10 10:17:54.064 +00:00',1,2) RETURNING *;
[2016-09-10 15:17:54.096] [ INFO] console - Executing (1a968e55-b298-49c1-a803-86523993e2b2): COMMIT;
[2016-09-10 15:17:54.097] [ INFO] console - [ 70, 257, {}, [ '6' ] ]
[2016-09-10 15:17:54.101] [ INFO] console - [ 16,
  4326585243009024,
  { acknowledge: true },
  'ru.kopa.model.Predlozhenie.id1.golosAdd',
  [ '6' ] ]
[2016-09-10 15:17:54.283] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopa', id: 3 }
[2016-09-10 15:17:54.286] [ INFO] console - Executing (5edd2c93-b098-42c8-be3f-02cba5582f05): START TRANSACTION;
[2016-09-10 15:17:54.287] [ INFO] console - Executing (5edd2c93-b098-42c8-be3f-02cba5582f05): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:17:54.297] [ INFO] console - Executing (default): SELECT "Kopa"."id", "Kopa"."question", "Kopa"."planned", "Kopa"."started", "Kopa"."closed", "Kopa"."isOpen", "Kopa"."note", "Kopa"."created_at", "Kopa"."updated_at", "Kopa"."deleted_at", "Kopa"."place_id", "Kopa"."inviter_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopa" AS "Kopa" LEFT OUTER JOIN "File" AS "attachments" ON "Kopa"."id" = "attachments"."kopa_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopa"."deleted_at" IS NULL AND "Kopa"."id" = 3);
[2016-09-10 15:17:54.304] [ INFO] console - Executing (5edd2c93-b098-42c8-be3f-02cba5582f05): COMMIT;
[2016-09-10 15:17:54.306] [ INFO] console - [ 70,
  259,
  {},
  [ { id: '3',
      question: 'CHE',
      planned: Thu Sep 01 2016 00:00:00 GMT+0500 (YEKT),
      started: Thu Sep 01 2016 00:00:00 GMT+0500 (YEKT),
      closed: null,
      isOpen: false,
      note: null,
      created_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      deleted_at: null,
      place_id: '2',
      inviter_id: '2',
      attachments: [] } ] ]
[2016-09-10 15:17:54.324] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 2 }
[2016-09-10 15:17:54.326] [ INFO] console - Executing (e873485c-1302-4177-a810-372e963943ba): START TRANSACTION;
[2016-09-10 15:17:54.328] [ INFO] console - Executing (e873485c-1302-4177-a810-372e963943ba): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:17:54.335] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 2);
[2016-09-10 15:17:54.341] [ INFO] console - Executing (e873485c-1302-4177-a810-372e963943ba): COMMIT;
[2016-09-10 15:17:54.343] [ INFO] console - [ 70,
  260,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/2/',
      starshina: [Object],
      id: '2',
      email: 'unittest2@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '1',
      voiskoSize: 1,
      birth: 1983,
      path: '/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: null,
      attachments: [] } ] ]
[2016-09-10 15:17:54.355] [ INFO] console - Executing (27830dcd-f54e-4eb2-82a5-4d0b5a642f39): START TRANSACTION;
[2016-09-10 15:17:54.357] [ INFO] console - Executing (27830dcd-f54e-4eb2-82a5-4d0b5a642f39): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:17:54.363] [ INFO] console - Executing (default): INSERT INTO "Slovo" ("id","value","created_at","updated_at","owner_id","place_id") VALUES (DEFAULT,'some Slovo temp 1473502674352','2016-09-10 10:17:54.358 +00:00','2016-09-10 10:17:54.358 +00:00',2,3) RETURNING *;
[2016-09-10 15:17:54.365] [ INFO] console - Executing (27830dcd-f54e-4eb2-82a5-4d0b5a642f39): COMMIT;
[2016-09-10 15:17:54.367] [ INFO] console - [ 70, 261, {}, [ '10' ] ]
[2016-09-10 15:17:54.369] [ INFO] console - [ 16,
  8827538224709632,
  { acknowledge: true },
  'ru.kopa.model.Kopa.id3.slovoAdd',
  [ '10' ] ]
[2016-09-10 15:17:54.385] [ INFO] console - Executing (44848f36-d009-47a8-a279-f284a9fc6711): START TRANSACTION;
[2016-09-10 15:17:54.387] [ INFO] console - Executing (44848f36-d009-47a8-a279-f284a9fc6711): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:17:54.392] [ INFO] console - Executing (default): INSERT INTO "Predlozhenie" ("id","value","created_at","updated_at","initiator_id","place_id") VALUES (DEFAULT,'some Predlozhenie temp 1473502674380','2016-09-10 10:17:54.388 +00:00','2016-09-10 10:17:54.388 +00:00',2,3) RETURNING *;
[2016-09-10 15:17:54.397] [ INFO] console - Executing (44848f36-d009-47a8-a279-f284a9fc6711): COMMIT;
[2016-09-10 15:17:54.398] [ INFO] console - [ 70, 262, {}, [ '6' ] ]
[2016-09-10 15:17:54.409] [ INFO] console - [ 16,
  3594267851227136,
  { acknowledge: true },
  'ru.kopa.model.Kopa.id3.predlozhenieAdd',
  [ '6' ] ]
[2016-09-10 15:17:54.450] [ INFO] console - [ 70, 264, {}, [ undefined ] ]
[2016-09-10 15:17:54.454] [ INFO] console - Executing (default): delete from "Kopnik"
                where
                    name like '%temp'
[2016-09-10 15:17:54.458] [ INFO] console - Executing (default): update "Kopnik"
                set 
                    "voiskoSize"= case when id=2 then 1 ELSE 0 END
                where
                    id>1 
                    and id<=5
[2016-09-10 15:17:54.467] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 2 }
[2016-09-10 15:17:54.473] [ INFO] console - Executing (8c00f6e4-256e-4657-af04-b48b8e4c5025): START TRANSACTION;
[2016-09-10 15:17:54.475] [ INFO] console - Executing (8c00f6e4-256e-4657-af04-b48b8e4c5025): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:17:54.485] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 2);
[2016-09-10 15:17:54.501] [ INFO] console - Executing (8c00f6e4-256e-4657-af04-b48b8e4c5025): COMMIT;
[2016-09-10 15:17:54.503] [ INFO] console - [ 70,
  265,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/2/',
      starshina: [Object],
      id: '2',
      email: 'unittest2@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '1',
      voiskoSize: 1,
      birth: 1983,
      path: '/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: null,
      attachments: [] } ] ]
[2016-09-10 15:17:54.519] [ INFO] console - Executing (ea9fd810-e49f-4e92-8757-5f2bb5470258): START TRANSACTION;
[2016-09-10 15:17:54.521] [ INFO] console - Executing (ea9fd810-e49f-4e92-8757-5f2bb5470258): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:17:54.527] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 2);
[2016-09-10 15:17:54.533] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"+1
                                where
                                    '/2/' like path||id||'/%'
[2016-09-10 15:17:54.540] [ INFO] console - Executing (default): INSERT INTO "Kopnik" ("id","name","surname","patronymic","voiskoSize","birth","path","created_at","updated_at","rodina_id","starshina_id") VALUES (DEFAULT,'temp','temp','temp',0,1900,'/2/','2016-09-10 10:17:54.523 +00:00','2016-09-10 10:17:54.523 +00:00',NULL,2) RETURNING *;
[2016-09-10 15:17:54.544] [ INFO] console - Executing (ea9fd810-e49f-4e92-8757-5f2bb5470258): COMMIT;
[2016-09-10 15:17:54.546] [ INFO] console - [ 70, 266, {}, [ '103' ] ]
[2016-09-10 15:17:54.551] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/' like k.path||k.id||'/%'
[2016-09-10 15:17:54.554] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Zemla', id: 2 }
[2016-09-10 15:17:54.558] [ INFO] console - Executing (5fdcc560-ef1b-4cd8-bbd2-77aecf0b8cd7): START TRANSACTION;
[2016-09-10 15:17:54.562] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 15:17:54.567] [ INFO] console - Executing (1f583cfe-daff-455b-a40e-eae370033b20): START TRANSACTION;
[2016-09-10 15:17:54.567] [ INFO] console - Executing (5fdcc560-ef1b-4cd8-bbd2-77aecf0b8cd7): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:17:54.568] [ INFO] console - [ 16,
  5174347629068288,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id2.voiskoChange',
  [],
  { voiskoSize: 2 } ]
[2016-09-10 15:17:54.572] [ INFO] console - Executing (1f583cfe-daff-455b-a40e-eae370033b20): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:17:54.587] [ INFO] console - Executing (default): SELECT "Zemla"."id", "Zemla"."path", "Zemla"."name", "Zemla"."intensity", "Zemla"."note", "Zemla"."created_at", "Zemla"."updated_at", "Zemla"."deleted_at", "Zemla"."parent_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Zemla" AS "Zemla" LEFT OUTER JOIN "File" AS "attachments" ON "Zemla"."id" = "attachments"."zemla_id" AND "attachments"."deleted_at" IS NULL WHERE ("Zemla"."deleted_at" IS NULL AND "Zemla"."id" = 2);
[2016-09-10 15:17:54.592] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 103);
[2016-09-10 15:17:54.597] [ INFO] console - Executing (5fdcc560-ef1b-4cd8-bbd2-77aecf0b8cd7): COMMIT;
[2016-09-10 15:17:54.600] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"+1
                                where
                                    '/2/103/' like path||id||'/%'
[2016-09-10 15:17:54.600] [ INFO] console - [ 70,
  267,
  {},
  [ { fullPath: 'null2/',
      id: '2',
      path: null,
      name: 'UnitTest2',
      intensity: 1000,
      note: 'unit test 1473502631080',
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Sat Sep 10 2016 15:17:14 GMT+0500 (YEKT),
      deleted_at: null,
      parent_id: '1',
      attachments: [] } ] ]
[2016-09-10 15:17:54.610] [ INFO] console - Executing (default): INSERT INTO "Kopnik" ("id","name","surname","patronymic","voiskoSize","birth","path","created_at","updated_at","rodina_id","starshina_id") VALUES (DEFAULT,'temp','temp','temp',0,1900,'/2/103/','2016-09-10 10:17:54.579 +00:00','2016-09-10 10:17:54.579 +00:00',NULL,103) RETURNING *;
[2016-09-10 15:17:54.616] [ INFO] console - Executing (1f583cfe-daff-455b-a40e-eae370033b20): COMMIT;
[2016-09-10 15:17:54.619] [ INFO] console - [ 70, 268, {}, [ '104' ] ]
[2016-09-10 15:17:54.622] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/103/' like k.path||k.id||'/%'
[2016-09-10 15:17:54.631] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2', '103')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 15:17:54.634] [ INFO] console - [ 16,
  7106214395641856,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id103.voiskoChange',
  [],
  { voiskoSize: 1 } ]
[2016-09-10 15:17:54.640] [ INFO] console - [ 16,
  5007900986572800,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id2.voiskoChange',
  [],
  { voiskoSize: 3 } ]
[2016-09-10 15:17:54.651] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 4 }
[2016-09-10 15:17:54.654] [ INFO] console - Executing (a3cd1996-f1c6-4114-b82c-a9704e47149f): START TRANSACTION;
[2016-09-10 15:17:54.655] [ INFO] console - Executing (a3cd1996-f1c6-4114-b82c-a9704e47149f): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:17:54.665] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 4);
[2016-09-10 15:17:54.670] [ INFO] console - Executing (a3cd1996-f1c6-4114-b82c-a9704e47149f): COMMIT;
[2016-09-10 15:17:54.671] [ INFO] console - [ 70,
  269,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/4/',
      starshina: [Object],
      id: '4',
      email: 'unittest4@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '4',
      voiskoSize: 0,
      birth: 1983,
      path: '/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: null,
      attachments: [] } ] ]
[2016-09-10 15:17:54.684] [ INFO] console - Executing (5d24ce85-f365-4b2e-84e3-90d3d572e11d): START TRANSACTION;
[2016-09-10 15:17:54.685] [ INFO] console - Executing (5d24ce85-f365-4b2e-84e3-90d3d572e11d): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:17:54.690] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 103);
[2016-09-10 15:17:54.696] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 4);
[2016-09-10 15:17:54.699] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/' like k.path||k.id||'/%'
[2016-09-10 15:17:54.705] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 15:17:54.709] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"-2
                                where
                                    '/2/' like path||id||'/%'
[2016-09-10 15:17:54.718] [ INFO] console - Executing (default): UPDATE "Kopnik" SET "path"='/4/',"starshina_id"='4',"updated_at"='2016-09-10 10:17:54.710 +00:00' WHERE "id" = '103'
[2016-09-10 15:17:54.721] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"+2
                                where
                                    '/4/' like path||id||'/%'
[2016-09-10 15:17:54.725] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."starshina_id" = '103');
[2016-09-10 15:17:54.733] [ INFO] console - Executing (default): UPDATE "Kopnik" SET "path"='/4/103/',"updated_at"='2016-09-10 10:17:54.728 +00:00' WHERE "id" = '104'
[2016-09-10 15:17:54.735] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/4/' like k.path||k.id||'/%'
[2016-09-10 15:17:54.740] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('4')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 15:17:54.744] [ INFO] console - Executing (5d24ce85-f365-4b2e-84e3-90d3d572e11d): COMMIT;
[2016-09-10 15:17:54.745] [ INFO] console - [ 70, 270, {}, [ undefined ] ]
[2016-09-10 15:17:54.747] [ INFO] console - [ 16,
  4523304473853952,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id2.voiskoChange',
  [],
  { voiskoSize: 1 } ]
[2016-09-10 15:17:54.752] [ INFO] console - [ 16,
  6680723519963136,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id4.voiskoChange',
  [],
  { voiskoSize: 2 } ]
[2016-09-10 15:17:54.785] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopa', id: 3 }
[2016-09-10 15:17:54.794] [ INFO] console - Executing (a3cacc04-375a-4de4-9d74-882c04b388c3): START TRANSACTION;
[2016-09-10 15:17:54.798] [ INFO] console - Executing (a3cacc04-375a-4de4-9d74-882c04b388c3): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:17:54.804] [ INFO] console - Executing (default): SELECT "Kopa"."id", "Kopa"."question", "Kopa"."planned", "Kopa"."started", "Kopa"."closed", "Kopa"."isOpen", "Kopa"."note", "Kopa"."created_at", "Kopa"."updated_at", "Kopa"."deleted_at", "Kopa"."place_id", "Kopa"."inviter_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopa" AS "Kopa" LEFT OUTER JOIN "File" AS "attachments" ON "Kopa"."id" = "attachments"."kopa_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopa"."deleted_at" IS NULL AND "Kopa"."id" = 3);
[2016-09-10 15:17:54.808] [ INFO] console - Executing (a3cacc04-375a-4de4-9d74-882c04b388c3): COMMIT;
[2016-09-10 15:17:54.809] [ INFO] console - [ 70,
  272,
  {},
  [ { id: '3',
      question: 'CHE',
      planned: Thu Sep 01 2016 00:00:00 GMT+0500 (YEKT),
      started: Thu Sep 01 2016 00:00:00 GMT+0500 (YEKT),
      closed: null,
      isOpen: false,
      note: null,
      created_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      deleted_at: null,
      place_id: '2',
      inviter_id: '2',
      attachments: [] } ] ]
[2016-09-10 15:17:54.823] [ INFO] console - Executing (51b1ef3a-92df-49fa-90c9-57affb9006f7): START TRANSACTION;
[2016-09-10 15:17:54.826] [ INFO] console - Executing (51b1ef3a-92df-49fa-90c9-57affb9006f7): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:17:54.833] [ INFO] console - Executing (default): INSERT INTO "Predlozhenie" ("id","value","created_at","updated_at","initiator_id","place_id") VALUES (DEFAULT,'some Predlozhenie temp 1473502672584','2016-09-10 10:17:54.828 +00:00','2016-09-10 10:17:54.828 +00:00',2,3) RETURNING *;
[2016-09-10 15:17:54.838] [ INFO] console - Executing (51b1ef3a-92df-49fa-90c9-57affb9006f7): COMMIT;
[2016-09-10 15:17:54.839] [ INFO] console - [ 70, 273, {}, [ '7' ] ]
[2016-09-10 15:17:54.844] [ INFO] console - [ 16,
  3525907669057536,
  { acknowledge: true },
  'ru.kopa.model.Kopa.id3.predlozhenieAdd',
  [ '7' ] ]
[2016-09-10 15:17:54.850] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Predlozhenie', id: 1 }
[2016-09-10 15:17:54.856] [ INFO] console - Executing (1cb08ff4-a120-438f-956d-13b132984ce9): START TRANSACTION;
[2016-09-10 15:17:54.857] [ INFO] console - Executing (1cb08ff4-a120-438f-956d-13b132984ce9): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:17:54.865] [ INFO] console - Executing (default): SELECT "Predlozhenie"."id", "Predlozhenie"."value", "Predlozhenie"."note", "Predlozhenie"."created_at", "Predlozhenie"."updated_at", "Predlozhenie"."deleted_at", "Predlozhenie"."initiator_id", "Predlozhenie"."place_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Predlozhenie" AS "Predlozhenie" LEFT OUTER JOIN "File" AS "attachments" ON "Predlozhenie"."id" = "attachments"."predlozhenie_id" AND "attachments"."deleted_at" IS NULL WHERE ("Predlozhenie"."deleted_at" IS NULL AND "Predlozhenie"."id" = 1);
[2016-09-10 15:17:54.870] [ INFO] console - Executing (1cb08ff4-a120-438f-956d-13b132984ce9): COMMIT;
[2016-09-10 15:17:54.871] [ INFO] console - [ 70,
  274,
  {},
  [ { id: '1',
      value: 'Будет ...',
      note: null,
      created_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      deleted_at: null,
      initiator_id: '2',
      place_id: '3',
      attachments: [] } ] ]
[2016-09-10 15:17:54.882] [ INFO] console - Executing (f3ead201-25c0-404f-95ac-421d04d9c728): START TRANSACTION;
[2016-09-10 15:17:54.885] [ INFO] console - Executing (f3ead201-25c0-404f-95ac-421d04d9c728): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:17:54.892] [ INFO] console - Executing (default): INSERT INTO "Golos" ("id","value","created_at","updated_at","for_id","owner_id") VALUES (DEFAULT,1,'2016-09-10 10:17:54.887 +00:00','2016-09-10 10:17:54.887 +00:00',1,2) RETURNING *;
[2016-09-10 15:17:54.896] [ INFO] console - Executing (f3ead201-25c0-404f-95ac-421d04d9c728): COMMIT;
[2016-09-10 15:17:54.898] [ INFO] console - [ 70, 275, {}, [ '7' ] ]
[2016-09-10 15:17:54.901] [ INFO] console - [ 16,
  5931092039172096,
  { acknowledge: true },
  'ru.kopa.model.Predlozhenie.id1.golosAdd',
  [ '7' ] ]
[2016-09-10 15:17:54.936] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 2 }
[2016-09-10 15:17:54.942] [ INFO] console - Executing (73a4b09e-9f45-4fe0-8ec2-37c42d8ae869): START TRANSACTION;
[2016-09-10 15:17:54.943] [ INFO] console - Executing (73a4b09e-9f45-4fe0-8ec2-37c42d8ae869): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:17:54.956] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 2);
[2016-09-10 15:17:54.961] [ INFO] console - Executing (73a4b09e-9f45-4fe0-8ec2-37c42d8ae869): COMMIT;
[2016-09-10 15:17:54.962] [ INFO] console - [ 70,
  277,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/2/',
      starshina: [Object],
      id: '2',
      email: 'unittest2@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '1',
      voiskoSize: 1,
      birth: 1983,
      path: '/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: null,
      attachments: [] } ] ]
[2016-09-10 15:17:54.979] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 3 }
[2016-09-10 15:17:54.982] [ INFO] console - Executing (c1c6ab40-9355-4329-9ddd-6ab68e835130): START TRANSACTION;
[2016-09-10 15:17:54.984] [ INFO] console - Executing (c1c6ab40-9355-4329-9ddd-6ab68e835130): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:17:54.993] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 3);
[2016-09-10 15:17:54.998] [ INFO] console - Executing (c1c6ab40-9355-4329-9ddd-6ab68e835130): COMMIT;
[2016-09-10 15:17:55.000] [ INFO] console - [ 70,
  278,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/2/3/',
      starshina: [Object],
      id: '3',
      email: 'unittest3@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '3',
      voiskoSize: 0,
      birth: 1983,
      path: '/2/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: '2',
      attachments: [] } ] ]
[2016-09-10 15:17:55.023] [ INFO] console - Executing (79cee1f0-3cd0-4c1f-adcb-bf337bbc9860): START TRANSACTION;
[2016-09-10 15:17:55.028] [ INFO] console - Executing (79cee1f0-3cd0-4c1f-adcb-bf337bbc9860): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:17:55.034] [ INFO] console - Executing (default): INSERT INTO "Slovo" ("id","value","note","created_at","updated_at","owner_id","place_id") VALUES (DEFAULT,'123 temp','456','2016-09-10 10:17:55.029 +00:00','2016-09-10 10:17:55.029 +00:00',2,3) RETURNING *;
[2016-09-10 15:17:55.040] [ INFO] console - Executing (79cee1f0-3cd0-4c1f-adcb-bf337bbc9860): COMMIT;
[2016-09-10 15:17:55.041] [ INFO] console - [ 70, 279, {}, [ '11' ] ]
[2016-09-10 15:17:55.044] [ INFO] console - [ 16,
  2276785999839232,
  { acknowledge: true },
  'ru.kopa.model.Kopa.id3.slovoAdd',
  [ '11' ] ]
[2016-09-10 15:17:55.051] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Slovo', id: 11 }
[2016-09-10 15:17:55.057] [ INFO] console - Executing (959e427e-4258-49a2-af96-3e232983ceb3): START TRANSACTION;
[2016-09-10 15:17:55.059] [ INFO] console - Executing (959e427e-4258-49a2-af96-3e232983ceb3): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:17:55.066] [ INFO] console - Executing (default): SELECT "Slovo"."id", "Slovo"."value", "Slovo"."note", "Slovo"."created_at", "Slovo"."updated_at", "Slovo"."deleted_at", "Slovo"."owner_id", "Slovo"."place_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Slovo" AS "Slovo" LEFT OUTER JOIN "File" AS "attachments" ON "Slovo"."id" = "attachments"."slovo_id" AND "attachments"."deleted_at" IS NULL WHERE ("Slovo"."deleted_at" IS NULL AND "Slovo"."id" = 11);
[2016-09-10 15:17:55.071] [ INFO] console - Executing (959e427e-4258-49a2-af96-3e232983ceb3): COMMIT;
[2016-09-10 15:17:55.072] [ INFO] console - [ 70,
  280,
  {},
  [ { id: '11',
      value: '123 temp',
      note: '456',
      created_at: Sat Sep 10 2016 15:17:55 GMT+0500 (YEKT),
      updated_at: Sat Sep 10 2016 15:17:55 GMT+0500 (YEKT),
      deleted_at: null,
      owner_id: '2',
      place_id: '3',
      attachments: [] } ] ]
[2016-09-10 15:17:55.087] [ INFO] console - Executing (2453fb66-b7ab-4510-b0d1-e97aa46a8bf5): START TRANSACTION;
[2016-09-10 15:17:55.088] [ INFO] console - Executing (2453fb66-b7ab-4510-b0d1-e97aa46a8bf5): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:17:55.095] [ INFO] console - Executing (default): INSERT INTO "Slovo" ("id","value","created_at","updated_at","owner_id","place_id") VALUES (DEFAULT,'some value temp 1473502675080','2016-09-10 10:17:55.090 +00:00','2016-09-10 10:17:55.090 +00:00',2,3) RETURNING *;
[2016-09-10 15:17:55.099] [ INFO] console - Executing (2453fb66-b7ab-4510-b0d1-e97aa46a8bf5): COMMIT;
[2016-09-10 15:17:55.100] [ INFO] console - [ 70, 281, {}, [ '12' ] ]
[2016-09-10 15:17:55.109] [ INFO] console - [ 16,
  8025066732257280,
  { acknowledge: true },
  'ru.kopa.model.Kopa.id3.slovoAdd',
  [ '12' ] ]
[2016-09-10 15:17:55.258] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Zemla', id: 2 }
[2016-09-10 15:17:55.260] [ INFO] console - Executing (3d6b0b42-03c7-4401-b43a-e3746ac10d61): START TRANSACTION;
[2016-09-10 15:17:55.261] [ INFO] console - Executing (3d6b0b42-03c7-4401-b43a-e3746ac10d61): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:17:55.268] [ INFO] console - Executing (default): SELECT "Zemla"."id", "Zemla"."path", "Zemla"."name", "Zemla"."intensity", "Zemla"."note", "Zemla"."created_at", "Zemla"."updated_at", "Zemla"."deleted_at", "Zemla"."parent_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Zemla" AS "Zemla" LEFT OUTER JOIN "File" AS "attachments" ON "Zemla"."id" = "attachments"."zemla_id" AND "attachments"."deleted_at" IS NULL WHERE ("Zemla"."deleted_at" IS NULL AND "Zemla"."id" = 2);
[2016-09-10 15:17:55.273] [ INFO] console - Executing (3d6b0b42-03c7-4401-b43a-e3746ac10d61): COMMIT;
[2016-09-10 15:17:55.274] [ INFO] console - [ 70,
  282,
  {},
  [ { fullPath: 'null2/',
      id: '2',
      path: null,
      name: 'UnitTest2',
      intensity: 1000,
      note: 'unit test 1473502631080',
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Sat Sep 10 2016 15:17:14 GMT+0500 (YEKT),
      deleted_at: null,
      parent_id: '1',
      attachments: [] } ] ]
[2016-09-10 15:17:55.387] [ INFO] console - Executing (2a84694e-5cd3-499e-ba82-d2ffff6651b0): START TRANSACTION;
[2016-09-10 15:17:55.389] [ INFO] console - Executing (2a84694e-5cd3-499e-ba82-d2ffff6651b0): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:17:55.392] [ INFO] console - Executing (default): SELECT "id", "path", "name", "intensity", "note", "created_at", "updated_at", "deleted_at", "parent_id" FROM "Zemla" AS "Zemla" WHERE ("Zemla"."deleted_at" IS NULL AND "Zemla"."id" = 2);
[2016-09-10 15:17:55.399] [ INFO] console - Executing (default): UPDATE "Zemla" SET "parent_id"=1,"note"='unit test 1473502672592',"updated_at"='2016-09-10 10:17:55.395 +00:00' WHERE "id" = '2'
[2016-09-10 15:17:55.402] [ INFO] console - Executing (2a84694e-5cd3-499e-ba82-d2ffff6651b0): COMMIT;
[2016-09-10 15:17:55.403] [ INFO] console - [ 16,
  4186132824719360,
  { acknowledge: true },
  'ru.kopa.model.Zemla.id2.change' ]
[2016-09-10 15:17:55.408] [ INFO] console - [ 70, 283, {}, [ undefined ] ]
[2016-09-10 15:17:55.410] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Zemla', id: 2 }
[2016-09-10 15:17:55.414] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Zemla', id: 2 }
[2016-09-10 15:17:55.417] [ INFO] console - Executing (0e15c6a9-32e2-40aa-8113-bf8ca56714bf): START TRANSACTION;
[2016-09-10 15:17:55.417] [ INFO] console - Executing (7b075235-74a5-4413-92bc-25c82805ccfb): START TRANSACTION;
[2016-09-10 15:17:55.419] [ INFO] console - Executing (0e15c6a9-32e2-40aa-8113-bf8ca56714bf): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:17:55.419] [ INFO] console - Executing (7b075235-74a5-4413-92bc-25c82805ccfb): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:17:55.430] [ INFO] console - Executing (default): SELECT "Zemla"."id", "Zemla"."path", "Zemla"."name", "Zemla"."intensity", "Zemla"."note", "Zemla"."created_at", "Zemla"."updated_at", "Zemla"."deleted_at", "Zemla"."parent_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Zemla" AS "Zemla" LEFT OUTER JOIN "File" AS "attachments" ON "Zemla"."id" = "attachments"."zemla_id" AND "attachments"."deleted_at" IS NULL WHERE ("Zemla"."deleted_at" IS NULL AND "Zemla"."id" = 2);
[2016-09-10 15:17:55.431] [ INFO] console - Executing (default): SELECT "Zemla"."id", "Zemla"."path", "Zemla"."name", "Zemla"."intensity", "Zemla"."note", "Zemla"."created_at", "Zemla"."updated_at", "Zemla"."deleted_at", "Zemla"."parent_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Zemla" AS "Zemla" LEFT OUTER JOIN "File" AS "attachments" ON "Zemla"."id" = "attachments"."zemla_id" AND "attachments"."deleted_at" IS NULL WHERE ("Zemla"."deleted_at" IS NULL AND "Zemla"."id" = 2);
[2016-09-10 15:17:55.437] [ INFO] console - Executing (0e15c6a9-32e2-40aa-8113-bf8ca56714bf): COMMIT;
[2016-09-10 15:17:55.440] [ INFO] console - Executing (7b075235-74a5-4413-92bc-25c82805ccfb): COMMIT;
[2016-09-10 15:17:55.441] [ INFO] console - [ 70,
  284,
  {},
  [ { fullPath: 'null2/',
      id: '2',
      path: null,
      name: 'UnitTest2',
      intensity: 1000,
      note: 'unit test 1473502672592',
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Sat Sep 10 2016 15:17:55 GMT+0500 (YEKT),
      deleted_at: null,
      parent_id: '1',
      attachments: [] } ] ]
[2016-09-10 15:17:55.445] [ INFO] console - [ 70,
  285,
  {},
  [ { fullPath: 'null2/',
      id: '2',
      path: null,
      name: 'UnitTest2',
      intensity: 1000,
      note: 'unit test 1473502672592',
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Sat Sep 10 2016 15:17:55 GMT+0500 (YEKT),
      deleted_at: null,
      parent_id: '1',
      attachments: [] } ] ]
[2016-09-10 15:17:55.487] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopa', id: 3 }
[2016-09-10 15:17:55.496] [ INFO] console - Executing (7bfcd323-17c7-424e-8cb7-b481101c578e): START TRANSACTION;
[2016-09-10 15:17:55.500] [ INFO] console - Executing (7bfcd323-17c7-424e-8cb7-b481101c578e): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:17:55.510] [ INFO] console - Executing (default): SELECT "Kopa"."id", "Kopa"."question", "Kopa"."planned", "Kopa"."started", "Kopa"."closed", "Kopa"."isOpen", "Kopa"."note", "Kopa"."created_at", "Kopa"."updated_at", "Kopa"."deleted_at", "Kopa"."place_id", "Kopa"."inviter_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopa" AS "Kopa" LEFT OUTER JOIN "File" AS "attachments" ON "Kopa"."id" = "attachments"."kopa_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopa"."deleted_at" IS NULL AND "Kopa"."id" = 3);
[2016-09-10 15:17:55.521] [ INFO] console - Executing (7bfcd323-17c7-424e-8cb7-b481101c578e): COMMIT;
[2016-09-10 15:17:55.525] [ INFO] console - [ 70,
  287,
  {},
  [ { id: '3',
      question: 'CHE',
      planned: Thu Sep 01 2016 00:00:00 GMT+0500 (YEKT),
      started: Thu Sep 01 2016 00:00:00 GMT+0500 (YEKT),
      closed: null,
      isOpen: false,
      note: null,
      created_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      deleted_at: null,
      place_id: '2',
      inviter_id: '2',
      attachments: [] } ] ]
[2016-09-10 15:17:55.541] [ INFO] console - Executing (c0372755-5483-4575-a82a-83f3a0f2cacb): START TRANSACTION;
[2016-09-10 15:17:55.542] [ INFO] console - Executing (c0372755-5483-4575-a82a-83f3a0f2cacb): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:17:55.548] [ INFO] console - Executing (default): INSERT INTO "Slovo" ("id","value","created_at","updated_at","owner_id","place_id") VALUES (DEFAULT,'some Slovo temp','2016-09-10 10:17:55.544 +00:00','2016-09-10 10:17:55.544 +00:00',2,3) RETURNING *;
[2016-09-10 15:17:55.552] [ INFO] console - Executing (c0372755-5483-4575-a82a-83f3a0f2cacb): COMMIT;
[2016-09-10 15:17:55.553] [ INFO] console - [ 70, 288, {}, [ '13' ] ]
[2016-09-10 15:17:55.559] [ INFO] console - [ 16,
  6203795977535488,
  { acknowledge: true },
  'ru.kopa.model.Kopa.id3.slovoAdd',
  [ '13' ] ]
[2016-09-10 15:18:24.748] [ INFO] console - [ 70, 290, {}, [ 'unittest2@domain.ru' ] ]
[2016-09-10 15:18:24.761] [DEBUG] Server - #pingPong() [ 1, 2, 3 ] { x: 1, y: 2, z: 3 }
[2016-09-10 15:18:24.768] [ INFO] console - [ 70, 291, {}, [ 1, 2, 3 ], { x: 1, y: 2, z: 3 } ]
[2016-09-10 15:18:24.792] [ INFO] console - Executing (default): select 'КОПА' as result
[2016-09-10 15:18:24.793] [ INFO] console - [ 70, 292, {}, [ 'КОПА' ] ]
[2016-09-10 15:18:24.799] [DEBUG] Server - #error() [ 'sadkljfaskldjfs;af' ] {}
[2016-09-10 15:18:24.805] [ERROR] Server - [Error: sadkljfaskldjfs;af]
Error: sadkljfaskldjfs;af
    at MySuperError (Server.js:335:9)
    at fn.constructor.error.Error (Server.js:340:19)
    at new wrappedPromise (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/async-listener/index.js:372:16)
    at Server.error (Server.js:339:16)
    at Object.<anonymous> (Server.js:411:43)
    at [object Generator].next (native)
    at step (/home/alexey2baranov/htdocs/kp-sequelizejs/src/Server.js:1:253)
    at /home/alexey2baranov/htdocs/kp-sequelizejs/src/Server.js:1:513
    at new wrappedPromise (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/async-listener/index.js:372:16)
    at Object.<anonymous> (/home/alexey2baranov/htdocs/kp-sequelizejs/src/Server.js:1:161)
    at Object.<anonymous> (Server.js:408:28)
    at tryCatchResolve (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/apply.js:46:23)
    at callAndResolve (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/apply.js:30:12)
    at callAndResolveNext (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/apply.js:40:4)
    at tryCatchReject3 (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/makePromise.js:856:7)
    at runContinuation3 (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/makePromise.js:814:4)
[2016-09-10 15:18:24.807] [ INFO] console - [ 8,
  68,
  293,
  {},
  'MySuperError',
  [ 'sadkljfaskldjfs;af' ],
  { stack: 
     [ 'Error: sadkljfaskldjfs;af',
       '    at MySuperError (Server.js:335:9)',
       '    at fn.constructor.error.Error (Server.js:340:19)',
       '    at new wrappedPromise (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/async-listener/index.js:372:16)',
       '    at Server.error (Server.js:339:16)',
       '    at Object.<anonymous> (Server.js:411:43)',
       '    at [object Generator].next (native)',
       '    at step (/home/alexey2baranov/htdocs/kp-sequelizejs/src/Server.js:1:253)',
       '    at /home/alexey2baranov/htdocs/kp-sequelizejs/src/Server.js:1:513',
       '    at new wrappedPromise (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/async-listener/index.js:372:16)',
       '    at Object.<anonymous> (/home/alexey2baranov/htdocs/kp-sequelizejs/src/Server.js:1:161)',
       '    at Object.<anonymous> (Server.js:408:28)',
       '    at tryCatchResolve (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/apply.js:46:23)',
       '    at callAndResolve (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/apply.js:30:12)',
       '    at callAndResolveNext (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/apply.js:40:4)',
       '    at tryCatchReject3 (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/makePromise.js:856:7)',
       '    at runContinuation3 (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/makePromise.js:814:4)' ] } ]
[2016-09-10 15:18:24.833] [ INFO] console - [ 70, 294, {}, [ undefined ] ]
[2016-09-10 15:18:24.837] [ INFO] console - Executing (default): delete from "Slovo"
                where
                    place_id<5
                    and value like '%temp'
[2016-09-10 15:18:24.843] [ INFO] console - Executing (default): delete from "Kopnik"
                where
                    name like '%temp'
[2016-09-10 15:18:24.846] [ INFO] console - Executing (default): update "Kopnik"
                set 
                    "voiskoSize"= case when id=2 then 1 ELSE 0 END
                where
                    id>1 
                    and id<=5
[2016-09-10 15:18:24.884] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopa', id: 3 }
[2016-09-10 15:18:24.886] [ INFO] console - Executing (f2e445e9-7b98-4216-88cb-090b48953179): START TRANSACTION;
[2016-09-10 15:18:24.888] [ INFO] console - Executing (f2e445e9-7b98-4216-88cb-090b48953179): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:18:24.905] [ INFO] console - Executing (default): SELECT "Kopa"."id", "Kopa"."question", "Kopa"."planned", "Kopa"."started", "Kopa"."closed", "Kopa"."isOpen", "Kopa"."note", "Kopa"."created_at", "Kopa"."updated_at", "Kopa"."deleted_at", "Kopa"."place_id", "Kopa"."inviter_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopa" AS "Kopa" LEFT OUTER JOIN "File" AS "attachments" ON "Kopa"."id" = "attachments"."kopa_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopa"."deleted_at" IS NULL AND "Kopa"."id" = 3);
[2016-09-10 15:18:24.912] [ INFO] console - Executing (f2e445e9-7b98-4216-88cb-090b48953179): COMMIT;
[2016-09-10 15:18:24.914] [ INFO] console - [ 70,
  296,
  {},
  [ { id: '3',
      question: 'CHE',
      planned: Thu Sep 01 2016 00:00:00 GMT+0500 (YEKT),
      started: Thu Sep 01 2016 00:00:00 GMT+0500 (YEKT),
      closed: null,
      isOpen: false,
      note: null,
      created_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      deleted_at: null,
      place_id: '2',
      inviter_id: '2',
      attachments: [] } ] ]
[2016-09-10 15:18:24.932] [ INFO] console - Executing (c2ce03e0-9ac3-421b-9ef9-f5e3ddde0cd1): START TRANSACTION;
[2016-09-10 15:18:24.934] [ INFO] console - Executing (c2ce03e0-9ac3-421b-9ef9-f5e3ddde0cd1): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:18:24.940] [ INFO] console - Executing (default): INSERT INTO "Golos" ("id","value","created_at","updated_at","for_id","owner_id") VALUES (DEFAULT,1,'2016-09-10 10:18:24.935 +00:00','2016-09-10 10:18:24.935 +00:00',1,2) RETURNING *;
[2016-09-10 15:18:24.944] [ INFO] console - Executing (c2ce03e0-9ac3-421b-9ef9-f5e3ddde0cd1): COMMIT;
[2016-09-10 15:18:24.945] [ INFO] console - [ 70, 297, {}, [ '8' ] ]
[2016-09-10 15:18:24.947] [ INFO] console - [ 16,
  5261119243419648,
  { acknowledge: true },
  'ru.kopa.model.Predlozhenie.id1.golosAdd',
  [ '8' ] ]
[2016-09-10 15:18:25.016] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopa', id: 3 }
[2016-09-10 15:18:25.021] [ INFO] console - Executing (aadfc241-da3f-444a-8cd2-f638575699c5): START TRANSACTION;
[2016-09-10 15:18:25.022] [ INFO] console - Executing (aadfc241-da3f-444a-8cd2-f638575699c5): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:18:25.030] [ INFO] console - Executing (default): SELECT "Kopa"."id", "Kopa"."question", "Kopa"."planned", "Kopa"."started", "Kopa"."closed", "Kopa"."isOpen", "Kopa"."note", "Kopa"."created_at", "Kopa"."updated_at", "Kopa"."deleted_at", "Kopa"."place_id", "Kopa"."inviter_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopa" AS "Kopa" LEFT OUTER JOIN "File" AS "attachments" ON "Kopa"."id" = "attachments"."kopa_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopa"."deleted_at" IS NULL AND "Kopa"."id" = 3);
[2016-09-10 15:18:25.034] [ INFO] console - Executing (aadfc241-da3f-444a-8cd2-f638575699c5): COMMIT;
[2016-09-10 15:18:25.036] [ INFO] console - [ 70,
  299,
  {},
  [ { id: '3',
      question: 'CHE',
      planned: Thu Sep 01 2016 00:00:00 GMT+0500 (YEKT),
      started: Thu Sep 01 2016 00:00:00 GMT+0500 (YEKT),
      closed: null,
      isOpen: false,
      note: null,
      created_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      deleted_at: null,
      place_id: '2',
      inviter_id: '2',
      attachments: [] } ] ]
[2016-09-10 15:18:25.057] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 2 }
[2016-09-10 15:18:25.060] [ INFO] console - Executing (d991e3f1-09ec-432b-80b4-08a4a0fee6da): START TRANSACTION;
[2016-09-10 15:18:25.061] [ INFO] console - Executing (d991e3f1-09ec-432b-80b4-08a4a0fee6da): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:18:25.071] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 2);
[2016-09-10 15:18:25.078] [ INFO] console - Executing (d991e3f1-09ec-432b-80b4-08a4a0fee6da): COMMIT;
[2016-09-10 15:18:25.079] [ INFO] console - [ 70,
  300,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/2/',
      starshina: [Object],
      id: '2',
      email: 'unittest2@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '1',
      voiskoSize: 1,
      birth: 1983,
      path: '/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: null,
      attachments: [] } ] ]
[2016-09-10 15:18:25.098] [ INFO] console - Executing (9e3f70c3-5c23-4e06-80aa-2aef577bd80d): START TRANSACTION;
[2016-09-10 15:18:25.099] [ INFO] console - Executing (9e3f70c3-5c23-4e06-80aa-2aef577bd80d): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:18:25.106] [ INFO] console - Executing (default): INSERT INTO "Slovo" ("id","value","created_at","updated_at","owner_id","place_id") VALUES (DEFAULT,'some Slovo temp 1473502705094','2016-09-10 10:18:25.101 +00:00','2016-09-10 10:18:25.101 +00:00',2,3) RETURNING *;
[2016-09-10 15:18:25.109] [ INFO] console - Executing (9e3f70c3-5c23-4e06-80aa-2aef577bd80d): COMMIT;
[2016-09-10 15:18:25.111] [ INFO] console - [ 70, 301, {}, [ '14' ] ]
[2016-09-10 15:18:25.113] [ INFO] console - [ 16,
  3211494359564288,
  { acknowledge: true },
  'ru.kopa.model.Kopa.id3.slovoAdd',
  [ '14' ] ]
[2016-09-10 15:18:25.126] [ INFO] console - Executing (f1d6b2d2-95b3-449a-870d-4644c0f3fb91): START TRANSACTION;
[2016-09-10 15:18:25.129] [ INFO] console - Executing (f1d6b2d2-95b3-449a-870d-4644c0f3fb91): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:18:25.137] [ INFO] console - Executing (default): INSERT INTO "Predlozhenie" ("id","value","created_at","updated_at","initiator_id","place_id") VALUES (DEFAULT,'some Predlozhenie temp 1473502705120','2016-09-10 10:18:25.130 +00:00','2016-09-10 10:18:25.130 +00:00',2,3) RETURNING *;
[2016-09-10 15:18:25.141] [ INFO] console - Executing (f1d6b2d2-95b3-449a-870d-4644c0f3fb91): COMMIT;
[2016-09-10 15:18:25.142] [ INFO] console - [ 70, 302, {}, [ '8' ] ]
[2016-09-10 15:18:25.145] [ INFO] console - [ 16,
  7356792749162496,
  { acknowledge: true },
  'ru.kopa.model.Kopa.id3.predlozhenieAdd',
  [ '8' ] ]
[2016-09-10 15:18:25.201] [ INFO] console - [ 70, 304, {}, [ undefined ] ]
[2016-09-10 15:18:25.204] [ INFO] console - Executing (default): delete from "Kopnik"
                where
                    name like '%temp'
[2016-09-10 15:18:25.212] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 2 }
[2016-09-10 15:18:25.215] [ INFO] console - Executing (c8a98b10-1837-43f7-9a39-27132223b51a): START TRANSACTION;
[2016-09-10 15:18:25.217] [ INFO] console - Executing (default): update "Kopnik"
                set 
                    "voiskoSize"= case when id=2 then 1 ELSE 0 END
                where
                    id>1 
                    and id<=5
[2016-09-10 15:18:25.218] [ INFO] console - Executing (c8a98b10-1837-43f7-9a39-27132223b51a): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:18:25.234] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 2);
[2016-09-10 15:18:25.239] [ INFO] console - Executing (c8a98b10-1837-43f7-9a39-27132223b51a): COMMIT;
[2016-09-10 15:18:25.240] [ INFO] console - [ 70,
  305,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/2/',
      starshina: [Object],
      id: '2',
      email: 'unittest2@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '1',
      voiskoSize: 1,
      birth: 1983,
      path: '/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: null,
      attachments: [] } ] ]
[2016-09-10 15:18:25.253] [ INFO] console - Executing (81cf3ba7-fdb1-4c52-893a-530e07e70ec5): START TRANSACTION;
[2016-09-10 15:18:25.258] [ INFO] console - Executing (81cf3ba7-fdb1-4c52-893a-530e07e70ec5): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:18:25.266] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 2);
[2016-09-10 15:18:25.270] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"+1
                                where
                                    '/2/' like path||id||'/%'
[2016-09-10 15:18:25.275] [ INFO] console - Executing (default): INSERT INTO "Kopnik" ("id","name","surname","patronymic","voiskoSize","birth","path","created_at","updated_at","rodina_id","starshina_id") VALUES (DEFAULT,'temp','temp','temp',0,1900,'/2/','2016-09-10 10:18:25.261 +00:00','2016-09-10 10:18:25.261 +00:00',NULL,2) RETURNING *;
[2016-09-10 15:18:25.279] [ INFO] console - Executing (81cf3ba7-fdb1-4c52-893a-530e07e70ec5): COMMIT;
[2016-09-10 15:18:25.280] [ INFO] console - [ 70, 306, {}, [ '105' ] ]
[2016-09-10 15:18:25.282] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/' like k.path||k.id||'/%'
[2016-09-10 15:18:25.287] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 15:18:25.289] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Zemla', id: 2 }
[2016-09-10 15:18:25.293] [ INFO] console - Executing (888a1f75-c8d2-4b89-98e6-4654411e6ac7): START TRANSACTION;
[2016-09-10 15:18:25.297] [ INFO] console - Executing (920c7712-0e20-47a5-9dc1-8c3a408b1754): START TRANSACTION;
[2016-09-10 15:18:25.298] [ INFO] console - Executing (888a1f75-c8d2-4b89-98e6-4654411e6ac7): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:18:25.298] [ INFO] console - [ 16,
  8799932450340864,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id2.voiskoChange',
  [],
  { voiskoSize: 2 } ]
[2016-09-10 15:18:25.303] [ INFO] console - Executing (920c7712-0e20-47a5-9dc1-8c3a408b1754): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:18:25.319] [ INFO] console - Executing (default): SELECT "Zemla"."id", "Zemla"."path", "Zemla"."name", "Zemla"."intensity", "Zemla"."note", "Zemla"."created_at", "Zemla"."updated_at", "Zemla"."deleted_at", "Zemla"."parent_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Zemla" AS "Zemla" LEFT OUTER JOIN "File" AS "attachments" ON "Zemla"."id" = "attachments"."zemla_id" AND "attachments"."deleted_at" IS NULL WHERE ("Zemla"."deleted_at" IS NULL AND "Zemla"."id" = 2);
[2016-09-10 15:18:25.344] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 105);
[2016-09-10 15:18:25.348] [ INFO] console - Executing (888a1f75-c8d2-4b89-98e6-4654411e6ac7): COMMIT;
[2016-09-10 15:18:25.353] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"+1
                                where
                                    '/2/105/' like path||id||'/%'
[2016-09-10 15:18:25.360] [ INFO] console - [ 70,
  307,
  {},
  [ { fullPath: 'null2/',
      id: '2',
      path: null,
      name: 'UnitTest2',
      intensity: 1000,
      note: 'unit test 1473502672592',
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Sat Sep 10 2016 15:17:55 GMT+0500 (YEKT),
      deleted_at: null,
      parent_id: '1',
      attachments: [] } ] ]
[2016-09-10 15:18:25.372] [ INFO] console - Executing (default): INSERT INTO "Kopnik" ("id","name","surname","patronymic","voiskoSize","birth","path","created_at","updated_at","rodina_id","starshina_id") VALUES (DEFAULT,'temp','temp','temp',0,1900,'/2/105/','2016-09-10 10:18:25.316 +00:00','2016-09-10 10:18:25.316 +00:00',NULL,105) RETURNING *;
[2016-09-10 15:18:25.377] [ INFO] console - Executing (920c7712-0e20-47a5-9dc1-8c3a408b1754): COMMIT;
[2016-09-10 15:18:25.380] [ INFO] console - [ 70, 308, {}, [ '106' ] ]
[2016-09-10 15:18:25.384] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/105/' like k.path||k.id||'/%'
[2016-09-10 15:18:25.389] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2', '105')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 15:18:25.393] [ INFO] console - [ 16,
  2047498336075776,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id105.voiskoChange',
  [],
  { voiskoSize: 1 } ]
[2016-09-10 15:18:25.397] [ INFO] console - [ 16,
  6033394628558848,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id2.voiskoChange',
  [],
  { voiskoSize: 3 } ]
[2016-09-10 15:18:25.404] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 4 }
[2016-09-10 15:18:25.407] [ INFO] console - Executing (0faaf57d-0f18-473c-8112-6860b8b0ad54): START TRANSACTION;
[2016-09-10 15:18:25.409] [ INFO] console - Executing (0faaf57d-0f18-473c-8112-6860b8b0ad54): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:18:25.416] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 4);
[2016-09-10 15:18:25.422] [ INFO] console - Executing (0faaf57d-0f18-473c-8112-6860b8b0ad54): COMMIT;
[2016-09-10 15:18:25.424] [ INFO] console - [ 70,
  309,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/4/',
      starshina: [Object],
      id: '4',
      email: 'unittest4@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '4',
      voiskoSize: 0,
      birth: 1983,
      path: '/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: null,
      attachments: [] } ] ]
[2016-09-10 15:18:25.437] [ INFO] console - Executing (f444723a-22bd-4035-92ec-e55af178ca64): START TRANSACTION;
[2016-09-10 15:18:25.438] [ INFO] console - Executing (f444723a-22bd-4035-92ec-e55af178ca64): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:18:25.442] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 105);
[2016-09-10 15:18:25.447] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 4);
[2016-09-10 15:18:25.450] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/' like k.path||k.id||'/%'
[2016-09-10 15:18:25.454] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 15:18:25.458] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"-2
                                where
                                    '/2/' like path||id||'/%'
[2016-09-10 15:18:25.466] [ INFO] console - Executing (default): UPDATE "Kopnik" SET "path"='/4/',"starshina_id"='4',"updated_at"='2016-09-10 10:18:25.461 +00:00' WHERE "id" = '105'
[2016-09-10 15:18:25.468] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"+2
                                where
                                    '/4/' like path||id||'/%'
[2016-09-10 15:18:25.472] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."starshina_id" = '105');
[2016-09-10 15:18:25.480] [ INFO] console - Executing (default): UPDATE "Kopnik" SET "path"='/4/105/',"updated_at"='2016-09-10 10:18:25.475 +00:00' WHERE "id" = '106'
[2016-09-10 15:18:25.483] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/4/' like k.path||k.id||'/%'
[2016-09-10 15:18:25.489] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('4')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 15:18:25.492] [ INFO] console - Executing (f444723a-22bd-4035-92ec-e55af178ca64): COMMIT;
[2016-09-10 15:18:25.493] [ INFO] console - [ 70, 310, {}, [ undefined ] ]
[2016-09-10 15:18:25.496] [ INFO] console - [ 16,
  3324864821723136,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id2.voiskoChange',
  [],
  { voiskoSize: 1 } ]
[2016-09-10 15:18:25.501] [ INFO] console - [ 16,
  7964157714366464,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id4.voiskoChange',
  [],
  { voiskoSize: 2 } ]
[2016-09-10 15:18:25.540] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopa', id: 3 }
[2016-09-10 15:18:25.544] [ INFO] console - Executing (cc0870e6-903b-4440-8a42-c1933a55fd75): START TRANSACTION;
[2016-09-10 15:18:25.546] [ INFO] console - Executing (cc0870e6-903b-4440-8a42-c1933a55fd75): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:18:25.553] [ INFO] console - Executing (default): SELECT "Kopa"."id", "Kopa"."question", "Kopa"."planned", "Kopa"."started", "Kopa"."closed", "Kopa"."isOpen", "Kopa"."note", "Kopa"."created_at", "Kopa"."updated_at", "Kopa"."deleted_at", "Kopa"."place_id", "Kopa"."inviter_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopa" AS "Kopa" LEFT OUTER JOIN "File" AS "attachments" ON "Kopa"."id" = "attachments"."kopa_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopa"."deleted_at" IS NULL AND "Kopa"."id" = 3);
[2016-09-10 15:18:25.560] [ INFO] console - Executing (cc0870e6-903b-4440-8a42-c1933a55fd75): COMMIT;
[2016-09-10 15:18:25.562] [ INFO] console - [ 70,
  312,
  {},
  [ { id: '3',
      question: 'CHE',
      planned: Thu Sep 01 2016 00:00:00 GMT+0500 (YEKT),
      started: Thu Sep 01 2016 00:00:00 GMT+0500 (YEKT),
      closed: null,
      isOpen: false,
      note: null,
      created_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      deleted_at: null,
      place_id: '2',
      inviter_id: '2',
      attachments: [] } ] ]
[2016-09-10 15:18:25.574] [ INFO] console - Executing (c7ff91ce-c71e-4e56-b83b-f2bf7b1b3b51): START TRANSACTION;
[2016-09-10 15:18:25.576] [ INFO] console - Executing (c7ff91ce-c71e-4e56-b83b-f2bf7b1b3b51): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:18:25.582] [ INFO] console - Executing (default): INSERT INTO "Predlozhenie" ("id","value","created_at","updated_at","initiator_id","place_id") VALUES (DEFAULT,'some Predlozhenie temp 1473502703930','2016-09-10 10:18:25.578 +00:00','2016-09-10 10:18:25.578 +00:00',2,3) RETURNING *;
[2016-09-10 15:18:25.585] [ INFO] console - Executing (c7ff91ce-c71e-4e56-b83b-f2bf7b1b3b51): COMMIT;
[2016-09-10 15:18:25.587] [ INFO] console - [ 70, 313, {}, [ '9' ] ]
[2016-09-10 15:18:25.590] [ INFO] console - [ 16,
  7245930776494080,
  { acknowledge: true },
  'ru.kopa.model.Kopa.id3.predlozhenieAdd',
  [ '9' ] ]
[2016-09-10 15:18:25.599] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Predlozhenie', id: 1 }
[2016-09-10 15:18:25.603] [ INFO] console - Executing (6149c438-c967-4063-bdbe-c1a5df9eaef4): START TRANSACTION;
[2016-09-10 15:18:25.604] [ INFO] console - Executing (6149c438-c967-4063-bdbe-c1a5df9eaef4): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:18:25.611] [ INFO] console - Executing (default): SELECT "Predlozhenie"."id", "Predlozhenie"."value", "Predlozhenie"."note", "Predlozhenie"."created_at", "Predlozhenie"."updated_at", "Predlozhenie"."deleted_at", "Predlozhenie"."initiator_id", "Predlozhenie"."place_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Predlozhenie" AS "Predlozhenie" LEFT OUTER JOIN "File" AS "attachments" ON "Predlozhenie"."id" = "attachments"."predlozhenie_id" AND "attachments"."deleted_at" IS NULL WHERE ("Predlozhenie"."deleted_at" IS NULL AND "Predlozhenie"."id" = 1);
[2016-09-10 15:18:25.621] [ INFO] console - Executing (6149c438-c967-4063-bdbe-c1a5df9eaef4): COMMIT;
[2016-09-10 15:18:25.622] [ INFO] console - [ 70,
  314,
  {},
  [ { id: '1',
      value: 'Будет ...',
      note: null,
      created_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      deleted_at: null,
      initiator_id: '2',
      place_id: '3',
      attachments: [] } ] ]
[2016-09-10 15:18:25.634] [ INFO] console - Executing (9caf8700-9e84-4a2d-a211-3151ca18dd5d): START TRANSACTION;
[2016-09-10 15:18:25.635] [ INFO] console - Executing (9caf8700-9e84-4a2d-a211-3151ca18dd5d): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:18:25.642] [ INFO] console - Executing (default): INSERT INTO "Golos" ("id","value","created_at","updated_at","for_id","owner_id") VALUES (DEFAULT,1,'2016-09-10 10:18:25.638 +00:00','2016-09-10 10:18:25.638 +00:00',1,2) RETURNING *;
[2016-09-10 15:18:25.647] [ INFO] console - Executing (9caf8700-9e84-4a2d-a211-3151ca18dd5d): COMMIT;
[2016-09-10 15:18:25.648] [ INFO] console - [ 70, 315, {}, [ '9' ] ]
[2016-09-10 15:18:25.650] [ INFO] console - [ 16,
  1289252497260544,
  { acknowledge: true },
  'ru.kopa.model.Predlozhenie.id1.golosAdd',
  [ '9' ] ]
[2016-09-10 15:18:25.682] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 2 }
[2016-09-10 15:18:25.691] [ INFO] console - Executing (0dabb2f5-32b7-4731-898b-a08116c046b7): START TRANSACTION;
[2016-09-10 15:18:25.692] [ INFO] console - Executing (0dabb2f5-32b7-4731-898b-a08116c046b7): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:18:25.700] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 2);
[2016-09-10 15:18:25.705] [ INFO] console - Executing (0dabb2f5-32b7-4731-898b-a08116c046b7): COMMIT;
[2016-09-10 15:18:25.707] [ INFO] console - [ 70,
  317,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/2/',
      starshina: [Object],
      id: '2',
      email: 'unittest2@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '1',
      voiskoSize: 1,
      birth: 1983,
      path: '/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: null,
      attachments: [] } ] ]
[2016-09-10 15:18:25.720] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 3 }
[2016-09-10 15:18:25.723] [ INFO] console - Executing (d773e54c-f104-43dc-bb00-fd4da2a7bec8): START TRANSACTION;
[2016-09-10 15:18:25.725] [ INFO] console - Executing (d773e54c-f104-43dc-bb00-fd4da2a7bec8): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:18:25.746] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 3);
[2016-09-10 15:18:25.752] [ INFO] console - Executing (d773e54c-f104-43dc-bb00-fd4da2a7bec8): COMMIT;
[2016-09-10 15:18:25.754] [ INFO] console - [ 70,
  318,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/2/3/',
      starshina: [Object],
      id: '3',
      email: 'unittest3@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '3',
      voiskoSize: 0,
      birth: 1983,
      path: '/2/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: '2',
      attachments: [] } ] ]
[2016-09-10 15:18:25.767] [ INFO] console - Executing (e8661b10-7f95-4ee9-b7c5-4c6084195034): START TRANSACTION;
[2016-09-10 15:18:25.768] [ INFO] console - Executing (e8661b10-7f95-4ee9-b7c5-4c6084195034): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:18:25.777] [ INFO] console - Executing (default): INSERT INTO "Slovo" ("id","value","note","created_at","updated_at","owner_id","place_id") VALUES (DEFAULT,'123 temp','456','2016-09-10 10:18:25.770 +00:00','2016-09-10 10:18:25.770 +00:00',2,3) RETURNING *;
[2016-09-10 15:18:25.780] [ INFO] console - Executing (e8661b10-7f95-4ee9-b7c5-4c6084195034): COMMIT;
[2016-09-10 15:18:25.781] [ INFO] console - [ 70, 319, {}, [ '15' ] ]
[2016-09-10 15:18:25.783] [ INFO] console - [ 16,
  2785864432222208,
  { acknowledge: true },
  'ru.kopa.model.Kopa.id3.slovoAdd',
  [ '15' ] ]
[2016-09-10 15:18:25.789] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Slovo', id: 15 }
[2016-09-10 15:18:25.792] [ INFO] console - Executing (77b450f4-5e3c-434f-aa6c-ee338033ccb3): START TRANSACTION;
[2016-09-10 15:18:25.794] [ INFO] console - Executing (77b450f4-5e3c-434f-aa6c-ee338033ccb3): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:18:25.800] [ INFO] console - Executing (default): SELECT "Slovo"."id", "Slovo"."value", "Slovo"."note", "Slovo"."created_at", "Slovo"."updated_at", "Slovo"."deleted_at", "Slovo"."owner_id", "Slovo"."place_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Slovo" AS "Slovo" LEFT OUTER JOIN "File" AS "attachments" ON "Slovo"."id" = "attachments"."slovo_id" AND "attachments"."deleted_at" IS NULL WHERE ("Slovo"."deleted_at" IS NULL AND "Slovo"."id" = 15);
[2016-09-10 15:18:25.805] [ INFO] console - Executing (77b450f4-5e3c-434f-aa6c-ee338033ccb3): COMMIT;
[2016-09-10 15:18:25.806] [ INFO] console - [ 70,
  320,
  {},
  [ { id: '15',
      value: '123 temp',
      note: '456',
      created_at: Sat Sep 10 2016 15:18:25 GMT+0500 (YEKT),
      updated_at: Sat Sep 10 2016 15:18:25 GMT+0500 (YEKT),
      deleted_at: null,
      owner_id: '2',
      place_id: '3',
      attachments: [] } ] ]
[2016-09-10 15:18:25.817] [ INFO] console - Executing (e20edb84-e6f9-444d-bb30-7776bbcd0f14): START TRANSACTION;
[2016-09-10 15:18:25.818] [ INFO] console - Executing (e20edb84-e6f9-444d-bb30-7776bbcd0f14): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:18:25.827] [ INFO] console - Executing (default): INSERT INTO "Slovo" ("id","value","created_at","updated_at","owner_id","place_id") VALUES (DEFAULT,'some value temp 1473502705814','2016-09-10 10:18:25.820 +00:00','2016-09-10 10:18:25.820 +00:00',2,3) RETURNING *;
[2016-09-10 15:18:25.830] [ INFO] console - Executing (e20edb84-e6f9-444d-bb30-7776bbcd0f14): COMMIT;
[2016-09-10 15:18:25.831] [ INFO] console - [ 70, 321, {}, [ '16' ] ]
[2016-09-10 15:18:25.833] [ INFO] console - [ 16,
  1364719950626816,
  { acknowledge: true },
  'ru.kopa.model.Kopa.id3.slovoAdd',
  [ '16' ] ]
[2016-09-10 15:18:25.840] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Zemla', id: 2 }
[2016-09-10 15:18:25.842] [ INFO] console - Executing (8835eb88-9fca-4fae-9897-226ac137e3d5): START TRANSACTION;
[2016-09-10 15:18:25.844] [ INFO] console - Executing (8835eb88-9fca-4fae-9897-226ac137e3d5): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:18:25.851] [ INFO] console - Executing (default): SELECT "Zemla"."id", "Zemla"."path", "Zemla"."name", "Zemla"."intensity", "Zemla"."note", "Zemla"."created_at", "Zemla"."updated_at", "Zemla"."deleted_at", "Zemla"."parent_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Zemla" AS "Zemla" LEFT OUTER JOIN "File" AS "attachments" ON "Zemla"."id" = "attachments"."zemla_id" AND "attachments"."deleted_at" IS NULL WHERE ("Zemla"."deleted_at" IS NULL AND "Zemla"."id" = 2);
[2016-09-10 15:18:25.855] [ INFO] console - Executing (8835eb88-9fca-4fae-9897-226ac137e3d5): COMMIT;
[2016-09-10 15:18:25.857] [ INFO] console - [ 70,
  322,
  {},
  [ { fullPath: 'null2/',
      id: '2',
      path: null,
      name: 'UnitTest2',
      intensity: 1000,
      note: 'unit test 1473502672592',
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Sat Sep 10 2016 15:17:55 GMT+0500 (YEKT),
      deleted_at: null,
      parent_id: '1',
      attachments: [] } ] ]
[2016-09-10 15:18:25.868] [ INFO] console - Executing (59fe3343-7b51-47bf-b1bf-3d6265566fab): START TRANSACTION;
[2016-09-10 15:18:25.869] [ INFO] console - Executing (59fe3343-7b51-47bf-b1bf-3d6265566fab): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:18:25.874] [ INFO] console - Executing (default): SELECT "id", "path", "name", "intensity", "note", "created_at", "updated_at", "deleted_at", "parent_id" FROM "Zemla" AS "Zemla" WHERE ("Zemla"."deleted_at" IS NULL AND "Zemla"."id" = 2);
[2016-09-10 15:18:25.882] [ INFO] console - Executing (default): UPDATE "Zemla" SET "parent_id"=1,"note"='unit test 1473502703935',"updated_at"='2016-09-10 10:18:25.876 +00:00' WHERE "id" = '2'
[2016-09-10 15:18:25.884] [ INFO] console - Executing (59fe3343-7b51-47bf-b1bf-3d6265566fab): COMMIT;
[2016-09-10 15:18:25.885] [ INFO] console - [ 16,
  7333668534091776,
  { acknowledge: true },
  'ru.kopa.model.Zemla.id2.change' ]
[2016-09-10 15:18:25.889] [ INFO] console - [ 70, 323, {}, [ undefined ] ]
[2016-09-10 15:18:25.891] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Zemla', id: 2 }
[2016-09-10 15:18:25.894] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Zemla', id: 2 }
[2016-09-10 15:18:25.896] [ INFO] console - Executing (d426e04c-914a-4996-81c8-6a92f755b60c): START TRANSACTION;
[2016-09-10 15:18:25.897] [ INFO] console - Executing (14d311f9-3780-4540-88ba-8e325244327c): START TRANSACTION;
[2016-09-10 15:18:25.899] [ INFO] console - Executing (d426e04c-914a-4996-81c8-6a92f755b60c): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:18:25.899] [ INFO] console - Executing (14d311f9-3780-4540-88ba-8e325244327c): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:18:25.909] [ INFO] console - Executing (default): SELECT "Zemla"."id", "Zemla"."path", "Zemla"."name", "Zemla"."intensity", "Zemla"."note", "Zemla"."created_at", "Zemla"."updated_at", "Zemla"."deleted_at", "Zemla"."parent_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Zemla" AS "Zemla" LEFT OUTER JOIN "File" AS "attachments" ON "Zemla"."id" = "attachments"."zemla_id" AND "attachments"."deleted_at" IS NULL WHERE ("Zemla"."deleted_at" IS NULL AND "Zemla"."id" = 2);
[2016-09-10 15:18:25.910] [ INFO] console - Executing (default): SELECT "Zemla"."id", "Zemla"."path", "Zemla"."name", "Zemla"."intensity", "Zemla"."note", "Zemla"."created_at", "Zemla"."updated_at", "Zemla"."deleted_at", "Zemla"."parent_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Zemla" AS "Zemla" LEFT OUTER JOIN "File" AS "attachments" ON "Zemla"."id" = "attachments"."zemla_id" AND "attachments"."deleted_at" IS NULL WHERE ("Zemla"."deleted_at" IS NULL AND "Zemla"."id" = 2);
[2016-09-10 15:18:25.917] [ INFO] console - Executing (d426e04c-914a-4996-81c8-6a92f755b60c): COMMIT;
[2016-09-10 15:18:25.917] [ INFO] console - Executing (14d311f9-3780-4540-88ba-8e325244327c): COMMIT;
[2016-09-10 15:18:25.919] [ INFO] console - [ 70,
  324,
  {},
  [ { fullPath: 'null2/',
      id: '2',
      path: null,
      name: 'UnitTest2',
      intensity: 1000,
      note: 'unit test 1473502703935',
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Sat Sep 10 2016 15:18:25 GMT+0500 (YEKT),
      deleted_at: null,
      parent_id: '1',
      attachments: [] } ] ]
[2016-09-10 15:18:25.921] [ INFO] console - [ 70,
  325,
  {},
  [ { fullPath: 'null2/',
      id: '2',
      path: null,
      name: 'UnitTest2',
      intensity: 1000,
      note: 'unit test 1473502703935',
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Sat Sep 10 2016 15:18:25 GMT+0500 (YEKT),
      deleted_at: null,
      parent_id: '1',
      attachments: [] } ] ]
[2016-09-10 15:18:25.969] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopa', id: 3 }
[2016-09-10 15:18:25.971] [ INFO] console - Executing (bb93389b-e1ea-4dbf-8edb-71504a193465): START TRANSACTION;
[2016-09-10 15:18:25.972] [ INFO] console - Executing (bb93389b-e1ea-4dbf-8edb-71504a193465): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:18:25.980] [ INFO] console - Executing (default): SELECT "Kopa"."id", "Kopa"."question", "Kopa"."planned", "Kopa"."started", "Kopa"."closed", "Kopa"."isOpen", "Kopa"."note", "Kopa"."created_at", "Kopa"."updated_at", "Kopa"."deleted_at", "Kopa"."place_id", "Kopa"."inviter_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopa" AS "Kopa" LEFT OUTER JOIN "File" AS "attachments" ON "Kopa"."id" = "attachments"."kopa_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopa"."deleted_at" IS NULL AND "Kopa"."id" = 3);
[2016-09-10 15:18:25.985] [ INFO] console - Executing (bb93389b-e1ea-4dbf-8edb-71504a193465): COMMIT;
[2016-09-10 15:18:25.987] [ INFO] console - [ 70,
  327,
  {},
  [ { id: '3',
      question: 'CHE',
      planned: Thu Sep 01 2016 00:00:00 GMT+0500 (YEKT),
      started: Thu Sep 01 2016 00:00:00 GMT+0500 (YEKT),
      closed: null,
      isOpen: false,
      note: null,
      created_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      deleted_at: null,
      place_id: '2',
      inviter_id: '2',
      attachments: [] } ] ]
[2016-09-10 15:18:26.000] [ INFO] console - Executing (9b31adfd-3371-4edf-ae6b-2c9990be1368): START TRANSACTION;
[2016-09-10 15:18:26.001] [ INFO] console - Executing (9b31adfd-3371-4edf-ae6b-2c9990be1368): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:18:26.006] [ INFO] console - Executing (default): INSERT INTO "Slovo" ("id","value","created_at","updated_at","owner_id","place_id") VALUES (DEFAULT,'some Slovo temp','2016-09-10 10:18:26.003 +00:00','2016-09-10 10:18:26.003 +00:00',2,3) RETURNING *;
[2016-09-10 15:18:26.008] [ INFO] console - Executing (9b31adfd-3371-4edf-ae6b-2c9990be1368): COMMIT;
[2016-09-10 15:18:26.010] [ INFO] console - [ 70, 328, {}, [ '17' ] ]
[2016-09-10 15:18:26.011] [ INFO] console - [ 16,
  4005974415245312,
  { acknowledge: true },
  'ru.kopa.model.Kopa.id3.slovoAdd',
  [ '17' ] ]
[2016-09-10 15:18:32.154] [ INFO] console - [ 70, 330, {}, [ 'unittest2@domain.ru' ] ]
[2016-09-10 15:18:32.161] [DEBUG] Server - #pingPong() [ 1, 2, 3 ] { x: 1, y: 2, z: 3 }
[2016-09-10 15:18:32.164] [ INFO] console - [ 70, 331, {}, [ 1, 2, 3 ], { x: 1, y: 2, z: 3 } ]
[2016-09-10 15:18:32.173] [ INFO] console - Executing (default): select 'КОПА' as result
[2016-09-10 15:18:32.175] [ INFO] console - [ 70, 332, {}, [ 'КОПА' ] ]
[2016-09-10 15:18:32.182] [DEBUG] Server - #error() [ 'sadkljfaskldjfs;af' ] {}
[2016-09-10 15:18:32.183] [ERROR] Server - [Error: sadkljfaskldjfs;af]
Error: sadkljfaskldjfs;af
    at MySuperError (Server.js:335:9)
    at fn.constructor.error.Error (Server.js:340:19)
    at new wrappedPromise (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/async-listener/index.js:372:16)
    at Server.error (Server.js:339:16)
    at Object.<anonymous> (Server.js:411:43)
    at [object Generator].next (native)
    at step (/home/alexey2baranov/htdocs/kp-sequelizejs/src/Server.js:1:253)
    at /home/alexey2baranov/htdocs/kp-sequelizejs/src/Server.js:1:513
    at new wrappedPromise (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/async-listener/index.js:372:16)
    at Object.<anonymous> (/home/alexey2baranov/htdocs/kp-sequelizejs/src/Server.js:1:161)
    at Object.<anonymous> (Server.js:408:28)
    at tryCatchResolve (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/apply.js:46:23)
    at callAndResolve (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/apply.js:30:12)
    at callAndResolveNext (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/apply.js:40:4)
    at tryCatchReject3 (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/makePromise.js:856:7)
    at runContinuation3 (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/makePromise.js:814:4)
[2016-09-10 15:18:32.187] [ INFO] console - [ 8,
  68,
  333,
  {},
  'MySuperError',
  [ 'sadkljfaskldjfs;af' ],
  { stack: 
     [ 'Error: sadkljfaskldjfs;af',
       '    at MySuperError (Server.js:335:9)',
       '    at fn.constructor.error.Error (Server.js:340:19)',
       '    at new wrappedPromise (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/async-listener/index.js:372:16)',
       '    at Server.error (Server.js:339:16)',
       '    at Object.<anonymous> (Server.js:411:43)',
       '    at [object Generator].next (native)',
       '    at step (/home/alexey2baranov/htdocs/kp-sequelizejs/src/Server.js:1:253)',
       '    at /home/alexey2baranov/htdocs/kp-sequelizejs/src/Server.js:1:513',
       '    at new wrappedPromise (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/async-listener/index.js:372:16)',
       '    at Object.<anonymous> (/home/alexey2baranov/htdocs/kp-sequelizejs/src/Server.js:1:161)',
       '    at Object.<anonymous> (Server.js:408:28)',
       '    at tryCatchResolve (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/apply.js:46:23)',
       '    at callAndResolve (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/apply.js:30:12)',
       '    at callAndResolveNext (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/apply.js:40:4)',
       '    at tryCatchReject3 (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/makePromise.js:856:7)',
       '    at runContinuation3 (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/makePromise.js:814:4)' ] } ]
[2016-09-10 15:18:32.198] [ INFO] console - [ 70, 334, {}, [ undefined ] ]
[2016-09-10 15:18:32.213] [ INFO] console - Executing (default): delete from "Slovo"
                where
                    place_id<5
                    and value like '%temp'
[2016-09-10 15:18:32.222] [ INFO] console - Executing (default): delete from "Kopnik"
                where
                    name like '%temp'
[2016-09-10 15:18:32.235] [ INFO] console - Executing (default): update "Kopnik"
                set 
                    "voiskoSize"= case when id=2 then 1 ELSE 0 END
                where
                    id>1 
                    and id<=5
[2016-09-10 15:18:32.254] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopa', id: 3 }
[2016-09-10 15:18:32.257] [ INFO] console - Executing (e14f96c1-4045-40bd-88e2-f8cd9a155b57): START TRANSACTION;
[2016-09-10 15:18:32.258] [ INFO] console - Executing (e14f96c1-4045-40bd-88e2-f8cd9a155b57): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:18:32.268] [ INFO] console - Executing (default): SELECT "Kopa"."id", "Kopa"."question", "Kopa"."planned", "Kopa"."started", "Kopa"."closed", "Kopa"."isOpen", "Kopa"."note", "Kopa"."created_at", "Kopa"."updated_at", "Kopa"."deleted_at", "Kopa"."place_id", "Kopa"."inviter_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopa" AS "Kopa" LEFT OUTER JOIN "File" AS "attachments" ON "Kopa"."id" = "attachments"."kopa_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopa"."deleted_at" IS NULL AND "Kopa"."id" = 3);
[2016-09-10 15:18:32.272] [ INFO] console - Executing (e14f96c1-4045-40bd-88e2-f8cd9a155b57): COMMIT;
[2016-09-10 15:18:32.275] [ INFO] console - [ 70,
  336,
  {},
  [ { id: '3',
      question: 'CHE',
      planned: Thu Sep 01 2016 00:00:00 GMT+0500 (YEKT),
      started: Thu Sep 01 2016 00:00:00 GMT+0500 (YEKT),
      closed: null,
      isOpen: false,
      note: null,
      created_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      deleted_at: null,
      place_id: '2',
      inviter_id: '2',
      attachments: [] } ] ]
[2016-09-10 15:18:32.289] [ INFO] console - Executing (69ab7b8a-98ce-4d11-8ef7-f39f69036e89): START TRANSACTION;
[2016-09-10 15:18:32.291] [ INFO] console - Executing (69ab7b8a-98ce-4d11-8ef7-f39f69036e89): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:18:32.296] [ INFO] console - Executing (default): INSERT INTO "Golos" ("id","value","created_at","updated_at","for_id","owner_id") VALUES (DEFAULT,1,'2016-09-10 10:18:32.292 +00:00','2016-09-10 10:18:32.292 +00:00',1,2) RETURNING *;
[2016-09-10 15:18:32.300] [ INFO] console - Executing (69ab7b8a-98ce-4d11-8ef7-f39f69036e89): COMMIT;
[2016-09-10 15:18:32.301] [ INFO] console - [ 70, 337, {}, [ '10' ] ]
[2016-09-10 15:18:32.309] [ INFO] console - [ 16,
  885366699589632,
  { acknowledge: true },
  'ru.kopa.model.Predlozhenie.id1.golosAdd',
  [ '10' ] ]
[2016-09-10 15:18:32.345] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopa', id: 3 }
[2016-09-10 15:18:32.348] [ INFO] console - Executing (e832f043-6a7a-434a-af87-5ba9ba46541d): START TRANSACTION;
[2016-09-10 15:18:32.349] [ INFO] console - Executing (e832f043-6a7a-434a-af87-5ba9ba46541d): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:18:32.357] [ INFO] console - Executing (default): SELECT "Kopa"."id", "Kopa"."question", "Kopa"."planned", "Kopa"."started", "Kopa"."closed", "Kopa"."isOpen", "Kopa"."note", "Kopa"."created_at", "Kopa"."updated_at", "Kopa"."deleted_at", "Kopa"."place_id", "Kopa"."inviter_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopa" AS "Kopa" LEFT OUTER JOIN "File" AS "attachments" ON "Kopa"."id" = "attachments"."kopa_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopa"."deleted_at" IS NULL AND "Kopa"."id" = 3);
[2016-09-10 15:18:32.361] [ INFO] console - Executing (e832f043-6a7a-434a-af87-5ba9ba46541d): COMMIT;
[2016-09-10 15:18:32.363] [ INFO] console - [ 70,
  339,
  {},
  [ { id: '3',
      question: 'CHE',
      planned: Thu Sep 01 2016 00:00:00 GMT+0500 (YEKT),
      started: Thu Sep 01 2016 00:00:00 GMT+0500 (YEKT),
      closed: null,
      isOpen: false,
      note: null,
      created_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      deleted_at: null,
      place_id: '2',
      inviter_id: '2',
      attachments: [] } ] ]
[2016-09-10 15:18:32.374] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 2 }
[2016-09-10 15:18:32.378] [ INFO] console - Executing (2bbc7d79-eee7-4a29-bb54-3ae8a3fd585a): START TRANSACTION;
[2016-09-10 15:18:32.379] [ INFO] console - Executing (2bbc7d79-eee7-4a29-bb54-3ae8a3fd585a): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:18:32.392] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 2);
[2016-09-10 15:18:32.402] [ INFO] console - Executing (2bbc7d79-eee7-4a29-bb54-3ae8a3fd585a): COMMIT;
[2016-09-10 15:18:32.405] [ INFO] console - [ 70,
  340,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/2/',
      starshina: [Object],
      id: '2',
      email: 'unittest2@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '1',
      voiskoSize: 1,
      birth: 1983,
      path: '/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: null,
      attachments: [] } ] ]
[2016-09-10 15:18:32.429] [ INFO] console - Executing (46569d02-7105-44a2-8acf-cd49fff54417): START TRANSACTION;
[2016-09-10 15:18:32.430] [ INFO] console - Executing (46569d02-7105-44a2-8acf-cd49fff54417): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:18:32.447] [ INFO] console - Executing (default): INSERT INTO "Slovo" ("id","value","created_at","updated_at","owner_id","place_id") VALUES (DEFAULT,'some Slovo temp 1473502712422','2016-09-10 10:18:32.437 +00:00','2016-09-10 10:18:32.437 +00:00',2,3) RETURNING *;
[2016-09-10 15:18:32.456] [ INFO] console - Executing (46569d02-7105-44a2-8acf-cd49fff54417): COMMIT;
[2016-09-10 15:18:32.459] [ INFO] console - [ 70, 341, {}, [ '18' ] ]
[2016-09-10 15:18:32.473] [ INFO] console - [ 16,
  1209786773274624,
  { acknowledge: true },
  'ru.kopa.model.Kopa.id3.slovoAdd',
  [ '18' ] ]
[2016-09-10 15:18:32.486] [ INFO] console - Executing (24421b83-b24b-4f0d-a92f-d04381a43c90): START TRANSACTION;
[2016-09-10 15:18:32.491] [ INFO] console - Executing (24421b83-b24b-4f0d-a92f-d04381a43c90): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:18:32.508] [ INFO] console - Executing (default): INSERT INTO "Predlozhenie" ("id","value","created_at","updated_at","initiator_id","place_id") VALUES (DEFAULT,'some Predlozhenie temp 1473502712482','2016-09-10 10:18:32.497 +00:00','2016-09-10 10:18:32.497 +00:00',2,3) RETURNING *;
[2016-09-10 15:18:32.514] [ INFO] console - Executing (24421b83-b24b-4f0d-a92f-d04381a43c90): COMMIT;
[2016-09-10 15:18:32.515] [ INFO] console - [ 70, 342, {}, [ '10' ] ]
[2016-09-10 15:18:32.525] [ INFO] console - [ 16,
  8407802426949632,
  { acknowledge: true },
  'ru.kopa.model.Kopa.id3.predlozhenieAdd',
  [ '10' ] ]
[2016-09-10 15:18:32.568] [ INFO] console - [ 70, 344, {}, [ undefined ] ]
[2016-09-10 15:18:32.581] [ INFO] console - Executing (default): delete from "Kopnik"
                where
                    name like '%temp'
[2016-09-10 15:18:32.582] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 2 }
[2016-09-10 15:18:32.586] [ INFO] console - Executing (006160f8-27cb-4989-9566-cd0a69b8a158): START TRANSACTION;
[2016-09-10 15:18:32.588] [ INFO] console - Executing (default): update "Kopnik"
                set 
                    "voiskoSize"= case when id=2 then 1 ELSE 0 END
                where
                    id>1 
                    and id<=5
[2016-09-10 15:18:32.589] [ INFO] console - Executing (006160f8-27cb-4989-9566-cd0a69b8a158): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:18:32.600] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 2);
[2016-09-10 15:18:32.607] [ INFO] console - Executing (006160f8-27cb-4989-9566-cd0a69b8a158): COMMIT;
[2016-09-10 15:18:32.610] [ INFO] console - [ 70,
  345,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/2/',
      starshina: [Object],
      id: '2',
      email: 'unittest2@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '1',
      voiskoSize: 1,
      birth: 1983,
      path: '/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: null,
      attachments: [] } ] ]
[2016-09-10 15:18:32.626] [ INFO] console - Executing (7f917d98-e7a8-4445-a996-89e82e164497): START TRANSACTION;
[2016-09-10 15:18:32.628] [ INFO] console - Executing (7f917d98-e7a8-4445-a996-89e82e164497): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:18:32.634] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 2);
[2016-09-10 15:18:32.640] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"+1
                                where
                                    '/2/' like path||id||'/%'
[2016-09-10 15:18:32.646] [ INFO] console - Executing (default): INSERT INTO "Kopnik" ("id","name","surname","patronymic","voiskoSize","birth","path","created_at","updated_at","rodina_id","starshina_id") VALUES (DEFAULT,'temp','temp','temp',0,1900,'/2/','2016-09-10 10:18:32.629 +00:00','2016-09-10 10:18:32.629 +00:00',NULL,2) RETURNING *;
[2016-09-10 15:18:32.651] [ INFO] console - Executing (7f917d98-e7a8-4445-a996-89e82e164497): COMMIT;
[2016-09-10 15:18:32.652] [ INFO] console - [ 70, 346, {}, [ '107' ] ]
[2016-09-10 15:18:32.661] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Zemla', id: 2 }
[2016-09-10 15:18:32.665] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/' like k.path||k.id||'/%'
[2016-09-10 15:18:32.666] [ INFO] console - Executing (bdd4f357-c199-46e4-b3f1-e8efaed9874c): START TRANSACTION;
[2016-09-10 15:18:32.667] [ INFO] console - Executing (dc5a02c7-bf55-4a0d-8f24-3556a3da99c7): START TRANSACTION;
[2016-09-10 15:18:32.672] [ INFO] console - Executing (bdd4f357-c199-46e4-b3f1-e8efaed9874c): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:18:32.673] [ INFO] console - Executing (dc5a02c7-bf55-4a0d-8f24-3556a3da99c7): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:18:32.679] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 15:18:32.689] [ INFO] console - Executing (default): SELECT "Zemla"."id", "Zemla"."path", "Zemla"."name", "Zemla"."intensity", "Zemla"."note", "Zemla"."created_at", "Zemla"."updated_at", "Zemla"."deleted_at", "Zemla"."parent_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Zemla" AS "Zemla" LEFT OUTER JOIN "File" AS "attachments" ON "Zemla"."id" = "attachments"."zemla_id" AND "attachments"."deleted_at" IS NULL WHERE ("Zemla"."deleted_at" IS NULL AND "Zemla"."id" = 2);
[2016-09-10 15:18:32.693] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 107);
[2016-09-10 15:18:32.694] [ INFO] console - [ 16,
  2581912176558080,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id2.voiskoChange',
  [],
  { voiskoSize: 2 } ]
[2016-09-10 15:18:32.707] [ INFO] console - Executing (bdd4f357-c199-46e4-b3f1-e8efaed9874c): COMMIT;
[2016-09-10 15:18:32.709] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"+1
                                where
                                    '/2/107/' like path||id||'/%'
[2016-09-10 15:18:32.711] [ INFO] console - [ 70,
  347,
  {},
  [ { fullPath: 'null2/',
      id: '2',
      path: null,
      name: 'UnitTest2',
      intensity: 1000,
      note: 'unit test 1473502703935',
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Sat Sep 10 2016 15:18:25 GMT+0500 (YEKT),
      deleted_at: null,
      parent_id: '1',
      attachments: [] } ] ]
[2016-09-10 15:18:32.726] [ INFO] console - Executing (default): INSERT INTO "Kopnik" ("id","name","surname","patronymic","voiskoSize","birth","path","created_at","updated_at","rodina_id","starshina_id") VALUES (DEFAULT,'temp','temp','temp',0,1900,'/2/107/','2016-09-10 10:18:32.681 +00:00','2016-09-10 10:18:32.681 +00:00',NULL,107) RETURNING *;
[2016-09-10 15:18:32.730] [ INFO] console - Executing (dc5a02c7-bf55-4a0d-8f24-3556a3da99c7): COMMIT;
[2016-09-10 15:18:32.732] [ INFO] console - [ 70, 348, {}, [ '108' ] ]
[2016-09-10 15:18:32.742] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/107/' like k.path||k.id||'/%'
[2016-09-10 15:18:32.747] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2', '107')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 15:18:32.750] [ INFO] console - [ 16,
  2379402316873728,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id107.voiskoChange',
  [],
  { voiskoSize: 1 } ]
[2016-09-10 15:18:32.755] [ INFO] console - [ 16,
  1731549527539712,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id2.voiskoChange',
  [],
  { voiskoSize: 3 } ]
[2016-09-10 15:18:32.761] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 4 }
[2016-09-10 15:18:32.764] [ INFO] console - Executing (f0107de2-6f3e-4e34-8d29-b53e79018440): START TRANSACTION;
[2016-09-10 15:18:32.765] [ INFO] console - Executing (f0107de2-6f3e-4e34-8d29-b53e79018440): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:18:32.779] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 4);
[2016-09-10 15:18:32.789] [ INFO] console - Executing (f0107de2-6f3e-4e34-8d29-b53e79018440): COMMIT;
[2016-09-10 15:18:32.791] [ INFO] console - [ 70,
  349,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/4/',
      starshina: [Object],
      id: '4',
      email: 'unittest4@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '4',
      voiskoSize: 0,
      birth: 1983,
      path: '/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: null,
      attachments: [] } ] ]
[2016-09-10 15:18:32.803] [ INFO] console - Executing (1cbe1790-49fb-45f4-8e28-5c20c9d614a3): START TRANSACTION;
[2016-09-10 15:18:32.804] [ INFO] console - Executing (1cbe1790-49fb-45f4-8e28-5c20c9d614a3): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:18:32.808] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 107);
[2016-09-10 15:18:32.814] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 4);
[2016-09-10 15:18:32.817] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/' like k.path||k.id||'/%'
[2016-09-10 15:18:32.822] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 15:18:32.824] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"-2
                                where
                                    '/2/' like path||id||'/%'
[2016-09-10 15:18:32.830] [ INFO] console - Executing (default): UPDATE "Kopnik" SET "path"='/4/',"starshina_id"='4',"updated_at"='2016-09-10 10:18:32.826 +00:00' WHERE "id" = '107'
[2016-09-10 15:18:32.833] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"+2
                                where
                                    '/4/' like path||id||'/%'
[2016-09-10 15:18:32.837] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."starshina_id" = '107');
[2016-09-10 15:18:32.844] [ INFO] console - Executing (default): UPDATE "Kopnik" SET "path"='/4/107/',"updated_at"='2016-09-10 10:18:32.840 +00:00' WHERE "id" = '108'
[2016-09-10 15:18:32.847] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/4/' like k.path||k.id||'/%'
[2016-09-10 15:18:32.851] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('4')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 15:18:32.854] [ INFO] console - Executing (1cbe1790-49fb-45f4-8e28-5c20c9d614a3): COMMIT;
[2016-09-10 15:18:32.855] [ INFO] console - [ 70, 350, {}, [ undefined ] ]
[2016-09-10 15:18:32.858] [ INFO] console - [ 16,
  4264192601227264,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id2.voiskoChange',
  [],
  { voiskoSize: 1 } ]
[2016-09-10 15:18:32.862] [ INFO] console - [ 16,
  247193474695168,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id4.voiskoChange',
  [],
  { voiskoSize: 2 } ]
[2016-09-10 15:18:32.886] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopa', id: 3 }
[2016-09-10 15:18:32.892] [ INFO] console - Executing (e8496dcb-352b-4258-99a8-125f0e649081): START TRANSACTION;
[2016-09-10 15:18:32.893] [ INFO] console - Executing (e8496dcb-352b-4258-99a8-125f0e649081): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:18:32.901] [ INFO] console - Executing (default): SELECT "Kopa"."id", "Kopa"."question", "Kopa"."planned", "Kopa"."started", "Kopa"."closed", "Kopa"."isOpen", "Kopa"."note", "Kopa"."created_at", "Kopa"."updated_at", "Kopa"."deleted_at", "Kopa"."place_id", "Kopa"."inviter_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopa" AS "Kopa" LEFT OUTER JOIN "File" AS "attachments" ON "Kopa"."id" = "attachments"."kopa_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopa"."deleted_at" IS NULL AND "Kopa"."id" = 3);
[2016-09-10 15:18:32.906] [ INFO] console - Executing (e8496dcb-352b-4258-99a8-125f0e649081): COMMIT;
[2016-09-10 15:18:32.907] [ INFO] console - [ 70,
  352,
  {},
  [ { id: '3',
      question: 'CHE',
      planned: Thu Sep 01 2016 00:00:00 GMT+0500 (YEKT),
      started: Thu Sep 01 2016 00:00:00 GMT+0500 (YEKT),
      closed: null,
      isOpen: false,
      note: null,
      created_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      deleted_at: null,
      place_id: '2',
      inviter_id: '2',
      attachments: [] } ] ]
[2016-09-10 15:18:32.918] [ INFO] console - Executing (dd1974e5-db74-400a-9704-acb26a5eb848): START TRANSACTION;
[2016-09-10 15:18:32.919] [ INFO] console - Executing (dd1974e5-db74-400a-9704-acb26a5eb848): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:18:32.925] [ INFO] console - Executing (default): INSERT INTO "Predlozhenie" ("id","value","created_at","updated_at","initiator_id","place_id") VALUES (DEFAULT,'some Predlozhenie temp 1473502711308','2016-09-10 10:18:32.921 +00:00','2016-09-10 10:18:32.921 +00:00',2,3) RETURNING *;
[2016-09-10 15:18:32.927] [ INFO] console - Executing (dd1974e5-db74-400a-9704-acb26a5eb848): COMMIT;
[2016-09-10 15:18:32.928] [ INFO] console - [ 70, 353, {}, [ '11' ] ]
[2016-09-10 15:18:32.931] [ INFO] console - [ 16,
  1505866444439552,
  { acknowledge: true },
  'ru.kopa.model.Kopa.id3.predlozhenieAdd',
  [ '11' ] ]
[2016-09-10 15:18:32.938] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Predlozhenie', id: 1 }
[2016-09-10 15:18:32.941] [ INFO] console - Executing (8c1019cb-6bce-4419-a4e2-96680e9016e5): START TRANSACTION;
[2016-09-10 15:18:32.942] [ INFO] console - Executing (8c1019cb-6bce-4419-a4e2-96680e9016e5): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:18:32.947] [ INFO] console - Executing (default): SELECT "Predlozhenie"."id", "Predlozhenie"."value", "Predlozhenie"."note", "Predlozhenie"."created_at", "Predlozhenie"."updated_at", "Predlozhenie"."deleted_at", "Predlozhenie"."initiator_id", "Predlozhenie"."place_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Predlozhenie" AS "Predlozhenie" LEFT OUTER JOIN "File" AS "attachments" ON "Predlozhenie"."id" = "attachments"."predlozhenie_id" AND "attachments"."deleted_at" IS NULL WHERE ("Predlozhenie"."deleted_at" IS NULL AND "Predlozhenie"."id" = 1);
[2016-09-10 15:18:32.951] [ INFO] console - Executing (8c1019cb-6bce-4419-a4e2-96680e9016e5): COMMIT;
[2016-09-10 15:18:32.954] [ INFO] console - [ 70,
  354,
  {},
  [ { id: '1',
      value: 'Будет ...',
      note: null,
      created_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      deleted_at: null,
      initiator_id: '2',
      place_id: '3',
      attachments: [] } ] ]
[2016-09-10 15:18:32.963] [ INFO] console - Executing (4ad31ce2-8190-4751-930e-d9e39c67d721): START TRANSACTION;
[2016-09-10 15:18:32.965] [ INFO] console - Executing (4ad31ce2-8190-4751-930e-d9e39c67d721): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:18:32.970] [ INFO] console - Executing (default): INSERT INTO "Golos" ("id","value","created_at","updated_at","for_id","owner_id") VALUES (DEFAULT,1,'2016-09-10 10:18:32.966 +00:00','2016-09-10 10:18:32.966 +00:00',1,2) RETURNING *;
[2016-09-10 15:18:32.973] [ INFO] console - Executing (4ad31ce2-8190-4751-930e-d9e39c67d721): COMMIT;
[2016-09-10 15:18:32.974] [ INFO] console - [ 70, 355, {}, [ '11' ] ]
[2016-09-10 15:18:32.978] [ INFO] console - [ 16,
  6812771240902656,
  { acknowledge: true },
  'ru.kopa.model.Predlozhenie.id1.golosAdd',
  [ '11' ] ]
[2016-09-10 15:18:33.083] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 2 }
[2016-09-10 15:18:33.085] [ INFO] console - Executing (c3cd641d-449d-4982-9ee2-e6a40ee32cd3): START TRANSACTION;
[2016-09-10 15:18:33.086] [ INFO] console - Executing (c3cd641d-449d-4982-9ee2-e6a40ee32cd3): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:18:33.092] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 2);
[2016-09-10 15:18:33.097] [ INFO] console - Executing (c3cd641d-449d-4982-9ee2-e6a40ee32cd3): COMMIT;
[2016-09-10 15:18:33.098] [ INFO] console - [ 70,
  357,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/2/',
      starshina: [Object],
      id: '2',
      email: 'unittest2@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '1',
      voiskoSize: 1,
      birth: 1983,
      path: '/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: null,
      attachments: [] } ] ]
[2016-09-10 15:18:33.111] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 3 }
[2016-09-10 15:18:33.114] [ INFO] console - Executing (51052d2b-dd3f-41e8-933b-abcf8124496e): START TRANSACTION;
[2016-09-10 15:18:33.117] [ INFO] console - Executing (51052d2b-dd3f-41e8-933b-abcf8124496e): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:18:33.123] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 3);
[2016-09-10 15:18:33.129] [ INFO] console - Executing (51052d2b-dd3f-41e8-933b-abcf8124496e): COMMIT;
[2016-09-10 15:18:33.131] [ INFO] console - [ 70,
  358,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/2/3/',
      starshina: [Object],
      id: '3',
      email: 'unittest3@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '3',
      voiskoSize: 0,
      birth: 1983,
      path: '/2/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: '2',
      attachments: [] } ] ]
[2016-09-10 15:18:33.142] [ INFO] console - Executing (044ea821-4569-40c9-bd29-a37f8794a080): START TRANSACTION;
[2016-09-10 15:18:33.144] [ INFO] console - Executing (044ea821-4569-40c9-bd29-a37f8794a080): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:18:33.148] [ INFO] console - Executing (default): INSERT INTO "Slovo" ("id","value","note","created_at","updated_at","owner_id","place_id") VALUES (DEFAULT,'123 temp','456','2016-09-10 10:18:33.145 +00:00','2016-09-10 10:18:33.145 +00:00',2,3) RETURNING *;
[2016-09-10 15:18:33.152] [ INFO] console - Executing (044ea821-4569-40c9-bd29-a37f8794a080): COMMIT;
[2016-09-10 15:18:33.153] [ INFO] console - [ 70, 359, {}, [ '19' ] ]
[2016-09-10 15:18:33.155] [ INFO] console - [ 16,
  8244698619576320,
  { acknowledge: true },
  'ru.kopa.model.Kopa.id3.slovoAdd',
  [ '19' ] ]
[2016-09-10 15:18:33.163] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Slovo', id: 19 }
[2016-09-10 15:18:33.166] [ INFO] console - Executing (8edf1f02-16ac-4bfa-adf9-f853ba6409ac): START TRANSACTION;
[2016-09-10 15:18:33.167] [ INFO] console - Executing (8edf1f02-16ac-4bfa-adf9-f853ba6409ac): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:18:33.174] [ INFO] console - Executing (default): SELECT "Slovo"."id", "Slovo"."value", "Slovo"."note", "Slovo"."created_at", "Slovo"."updated_at", "Slovo"."deleted_at", "Slovo"."owner_id", "Slovo"."place_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Slovo" AS "Slovo" LEFT OUTER JOIN "File" AS "attachments" ON "Slovo"."id" = "attachments"."slovo_id" AND "attachments"."deleted_at" IS NULL WHERE ("Slovo"."deleted_at" IS NULL AND "Slovo"."id" = 19);
[2016-09-10 15:18:33.178] [ INFO] console - Executing (8edf1f02-16ac-4bfa-adf9-f853ba6409ac): COMMIT;
[2016-09-10 15:18:33.179] [ INFO] console - [ 70,
  360,
  {},
  [ { id: '19',
      value: '123 temp',
      note: '456',
      created_at: Sat Sep 10 2016 15:18:33 GMT+0500 (YEKT),
      updated_at: Sat Sep 10 2016 15:18:33 GMT+0500 (YEKT),
      deleted_at: null,
      owner_id: '2',
      place_id: '3',
      attachments: [] } ] ]
[2016-09-10 15:18:33.192] [ INFO] console - Executing (f1050390-b8de-4c59-b83d-a01c3a98c8f2): START TRANSACTION;
[2016-09-10 15:18:33.194] [ INFO] console - Executing (f1050390-b8de-4c59-b83d-a01c3a98c8f2): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:18:33.200] [ INFO] console - Executing (default): INSERT INTO "Slovo" ("id","value","created_at","updated_at","owner_id","place_id") VALUES (DEFAULT,'some value temp 1473502713188','2016-09-10 10:18:33.196 +00:00','2016-09-10 10:18:33.196 +00:00',2,3) RETURNING *;
[2016-09-10 15:18:33.204] [ INFO] console - Executing (f1050390-b8de-4c59-b83d-a01c3a98c8f2): COMMIT;
[2016-09-10 15:18:33.206] [ INFO] console - [ 70, 361, {}, [ '20' ] ]
[2016-09-10 15:18:33.211] [ INFO] console - [ 16,
  1422744447090688,
  { acknowledge: true },
  'ru.kopa.model.Kopa.id3.slovoAdd',
  [ '20' ] ]
[2016-09-10 15:18:33.218] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Zemla', id: 2 }
[2016-09-10 15:18:33.220] [ INFO] console - Executing (31ba6a4a-7958-46d1-9e14-44365cb1b459): START TRANSACTION;
[2016-09-10 15:18:33.222] [ INFO] console - Executing (31ba6a4a-7958-46d1-9e14-44365cb1b459): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:18:33.227] [ INFO] console - Executing (default): SELECT "Zemla"."id", "Zemla"."path", "Zemla"."name", "Zemla"."intensity", "Zemla"."note", "Zemla"."created_at", "Zemla"."updated_at", "Zemla"."deleted_at", "Zemla"."parent_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Zemla" AS "Zemla" LEFT OUTER JOIN "File" AS "attachments" ON "Zemla"."id" = "attachments"."zemla_id" AND "attachments"."deleted_at" IS NULL WHERE ("Zemla"."deleted_at" IS NULL AND "Zemla"."id" = 2);
[2016-09-10 15:18:33.231] [ INFO] console - Executing (31ba6a4a-7958-46d1-9e14-44365cb1b459): COMMIT;
[2016-09-10 15:18:33.233] [ INFO] console - [ 70,
  362,
  {},
  [ { fullPath: 'null2/',
      id: '2',
      path: null,
      name: 'UnitTest2',
      intensity: 1000,
      note: 'unit test 1473502703935',
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Sat Sep 10 2016 15:18:25 GMT+0500 (YEKT),
      deleted_at: null,
      parent_id: '1',
      attachments: [] } ] ]
[2016-09-10 15:18:33.245] [ INFO] console - Executing (1f8129f6-4646-404b-8af6-fbb72ef8c558): START TRANSACTION;
[2016-09-10 15:18:33.246] [ INFO] console - Executing (1f8129f6-4646-404b-8af6-fbb72ef8c558): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:18:33.250] [ INFO] console - Executing (default): SELECT "id", "path", "name", "intensity", "note", "created_at", "updated_at", "deleted_at", "parent_id" FROM "Zemla" AS "Zemla" WHERE ("Zemla"."deleted_at" IS NULL AND "Zemla"."id" = 2);
[2016-09-10 15:18:33.257] [ INFO] console - Executing (default): UPDATE "Zemla" SET "parent_id"=1,"note"='unit test 1473502711312',"updated_at"='2016-09-10 10:18:33.253 +00:00' WHERE "id" = '2'
[2016-09-10 15:18:33.259] [ INFO] console - Executing (1f8129f6-4646-404b-8af6-fbb72ef8c558): COMMIT;
[2016-09-10 15:18:33.261] [ INFO] console - [ 16,
  2419168290799616,
  { acknowledge: true },
  'ru.kopa.model.Zemla.id2.change' ]
[2016-09-10 15:18:33.264] [ INFO] console - [ 70, 363, {}, [ undefined ] ]
[2016-09-10 15:18:33.267] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Zemla', id: 2 }
[2016-09-10 15:18:33.269] [ INFO] console - Executing (e4f9058d-98b8-479e-bd03-8e2c24e072fe): START TRANSACTION;
[2016-09-10 15:18:33.269] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Zemla', id: 2 }
[2016-09-10 15:18:33.272] [ INFO] console - Executing (16345c51-7796-4bad-862c-1f34c59aba29): START TRANSACTION;
[2016-09-10 15:18:33.273] [ INFO] console - Executing (e4f9058d-98b8-479e-bd03-8e2c24e072fe): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:18:33.274] [ INFO] console - Executing (16345c51-7796-4bad-862c-1f34c59aba29): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:18:33.281] [ INFO] console - Executing (default): SELECT "Zemla"."id", "Zemla"."path", "Zemla"."name", "Zemla"."intensity", "Zemla"."note", "Zemla"."created_at", "Zemla"."updated_at", "Zemla"."deleted_at", "Zemla"."parent_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Zemla" AS "Zemla" LEFT OUTER JOIN "File" AS "attachments" ON "Zemla"."id" = "attachments"."zemla_id" AND "attachments"."deleted_at" IS NULL WHERE ("Zemla"."deleted_at" IS NULL AND "Zemla"."id" = 2);
[2016-09-10 15:18:33.289] [ INFO] console - Executing (default): SELECT "Zemla"."id", "Zemla"."path", "Zemla"."name", "Zemla"."intensity", "Zemla"."note", "Zemla"."created_at", "Zemla"."updated_at", "Zemla"."deleted_at", "Zemla"."parent_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Zemla" AS "Zemla" LEFT OUTER JOIN "File" AS "attachments" ON "Zemla"."id" = "attachments"."zemla_id" AND "attachments"."deleted_at" IS NULL WHERE ("Zemla"."deleted_at" IS NULL AND "Zemla"."id" = 2);
[2016-09-10 15:18:33.293] [ INFO] console - Executing (e4f9058d-98b8-479e-bd03-8e2c24e072fe): COMMIT;
[2016-09-10 15:18:33.296] [ INFO] console - Executing (16345c51-7796-4bad-862c-1f34c59aba29): COMMIT;
[2016-09-10 15:18:33.298] [ INFO] console - [ 70,
  364,
  {},
  [ { fullPath: 'null2/',
      id: '2',
      path: null,
      name: 'UnitTest2',
      intensity: 1000,
      note: 'unit test 1473502711312',
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Sat Sep 10 2016 15:18:33 GMT+0500 (YEKT),
      deleted_at: null,
      parent_id: '1',
      attachments: [] } ] ]
[2016-09-10 15:18:33.303] [ INFO] console - [ 70,
  365,
  {},
  [ { fullPath: 'null2/',
      id: '2',
      path: null,
      name: 'UnitTest2',
      intensity: 1000,
      note: 'unit test 1473502711312',
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Sat Sep 10 2016 15:18:33 GMT+0500 (YEKT),
      deleted_at: null,
      parent_id: '1',
      attachments: [] } ] ]
[2016-09-10 15:18:33.344] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopa', id: 3 }
[2016-09-10 15:18:33.352] [ INFO] console - Executing (8d731701-2c10-479a-ab9a-419f2a2947e8): START TRANSACTION;
[2016-09-10 15:18:33.353] [ INFO] console - Executing (8d731701-2c10-479a-ab9a-419f2a2947e8): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:18:33.361] [ INFO] console - Executing (default): SELECT "Kopa"."id", "Kopa"."question", "Kopa"."planned", "Kopa"."started", "Kopa"."closed", "Kopa"."isOpen", "Kopa"."note", "Kopa"."created_at", "Kopa"."updated_at", "Kopa"."deleted_at", "Kopa"."place_id", "Kopa"."inviter_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopa" AS "Kopa" LEFT OUTER JOIN "File" AS "attachments" ON "Kopa"."id" = "attachments"."kopa_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopa"."deleted_at" IS NULL AND "Kopa"."id" = 3);
[2016-09-10 15:18:33.369] [ INFO] console - Executing (8d731701-2c10-479a-ab9a-419f2a2947e8): COMMIT;
[2016-09-10 15:18:33.370] [ INFO] console - [ 70,
  367,
  {},
  [ { id: '3',
      question: 'CHE',
      planned: Thu Sep 01 2016 00:00:00 GMT+0500 (YEKT),
      started: Thu Sep 01 2016 00:00:00 GMT+0500 (YEKT),
      closed: null,
      isOpen: false,
      note: null,
      created_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      deleted_at: null,
      place_id: '2',
      inviter_id: '2',
      attachments: [] } ] ]
[2016-09-10 15:18:33.393] [ INFO] console - Executing (f235b7f8-a194-49b9-b787-d882ddece6b3): START TRANSACTION;
[2016-09-10 15:18:33.394] [ INFO] console - Executing (f235b7f8-a194-49b9-b787-d882ddece6b3): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:18:33.401] [ INFO] console - Executing (default): INSERT INTO "Slovo" ("id","value","created_at","updated_at","owner_id","place_id") VALUES (DEFAULT,'some Slovo temp','2016-09-10 10:18:33.397 +00:00','2016-09-10 10:18:33.397 +00:00',2,3) RETURNING *;
[2016-09-10 15:18:33.405] [ INFO] console - Executing (f235b7f8-a194-49b9-b787-d882ddece6b3): COMMIT;
[2016-09-10 15:18:33.406] [ INFO] console - [ 70, 368, {}, [ '21' ] ]
[2016-09-10 15:18:33.408] [ INFO] console - [ 16,
  4538436159537152,
  { acknowledge: true },
  'ru.kopa.model.Kopa.id3.slovoAdd',
  [ '21' ] ]
[2016-09-10 15:19:19.814] [ INFO] console - [ 70, 370, {}, [ 'unittest2@domain.ru' ] ]
[2016-09-10 15:19:19.833] [DEBUG] Server - #pingPong() [ 1, 2, 3 ] { x: 1, y: 2, z: 3 }
[2016-09-10 15:19:19.836] [ INFO] console - [ 70, 371, {}, [ 1, 2, 3 ], { x: 1, y: 2, z: 3 } ]
[2016-09-10 15:19:19.853] [ INFO] console - Executing (default): select 'КОПА' as result
[2016-09-10 15:19:19.856] [ INFO] console - [ 70, 372, {}, [ 'КОПА' ] ]
[2016-09-10 15:19:19.863] [DEBUG] Server - #error() [ 'sadkljfaskldjfs;af' ] {}
[2016-09-10 15:19:19.864] [ERROR] Server - [Error: sadkljfaskldjfs;af]
Error: sadkljfaskldjfs;af
    at MySuperError (Server.js:335:9)
    at fn.constructor.error.Error (Server.js:340:19)
    at new wrappedPromise (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/async-listener/index.js:372:16)
    at Server.error (Server.js:339:16)
    at Object.<anonymous> (Server.js:411:43)
    at [object Generator].next (native)
    at step (/home/alexey2baranov/htdocs/kp-sequelizejs/src/Server.js:1:253)
    at /home/alexey2baranov/htdocs/kp-sequelizejs/src/Server.js:1:513
    at new wrappedPromise (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/async-listener/index.js:372:16)
    at Object.<anonymous> (/home/alexey2baranov/htdocs/kp-sequelizejs/src/Server.js:1:161)
    at Object.<anonymous> (Server.js:408:28)
    at tryCatchResolve (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/apply.js:46:23)
    at callAndResolve (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/apply.js:30:12)
    at callAndResolveNext (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/apply.js:40:4)
    at tryCatchReject3 (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/makePromise.js:856:7)
    at runContinuation3 (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/makePromise.js:814:4)
[2016-09-10 15:19:19.867] [ INFO] console - [ 8,
  68,
  373,
  {},
  'MySuperError',
  [ 'sadkljfaskldjfs;af' ],
  { stack: 
     [ 'Error: sadkljfaskldjfs;af',
       '    at MySuperError (Server.js:335:9)',
       '    at fn.constructor.error.Error (Server.js:340:19)',
       '    at new wrappedPromise (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/async-listener/index.js:372:16)',
       '    at Server.error (Server.js:339:16)',
       '    at Object.<anonymous> (Server.js:411:43)',
       '    at [object Generator].next (native)',
       '    at step (/home/alexey2baranov/htdocs/kp-sequelizejs/src/Server.js:1:253)',
       '    at /home/alexey2baranov/htdocs/kp-sequelizejs/src/Server.js:1:513',
       '    at new wrappedPromise (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/async-listener/index.js:372:16)',
       '    at Object.<anonymous> (/home/alexey2baranov/htdocs/kp-sequelizejs/src/Server.js:1:161)',
       '    at Object.<anonymous> (Server.js:408:28)',
       '    at tryCatchResolve (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/apply.js:46:23)',
       '    at callAndResolve (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/apply.js:30:12)',
       '    at callAndResolveNext (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/apply.js:40:4)',
       '    at tryCatchReject3 (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/makePromise.js:856:7)',
       '    at runContinuation3 (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/makePromise.js:814:4)' ] } ]
[2016-09-10 15:19:19.882] [ INFO] console - [ 70, 374, {}, [ undefined ] ]
[2016-09-10 15:19:19.888] [ INFO] console - Executing (default): delete from "Slovo"
                where
                    place_id<5
                    and value like '%temp'
[2016-09-10 15:19:19.896] [ INFO] console - Executing (default): delete from "Kopnik"
                where
                    name like '%temp'
[2016-09-10 15:19:19.900] [ INFO] console - Executing (default): update "Kopnik"
                set 
                    "voiskoSize"= case when id=2 then 1 ELSE 0 END
                where
                    id>1 
                    and id<=5
[2016-09-10 15:19:19.946] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopa', id: 3 }
[2016-09-10 15:19:19.949] [ INFO] console - Executing (95a20c52-d281-42fe-bb21-fc5c3705b2fd): START TRANSACTION;
[2016-09-10 15:19:19.950] [ INFO] console - Executing (95a20c52-d281-42fe-bb21-fc5c3705b2fd): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:19:19.963] [ INFO] console - Executing (default): SELECT "Kopa"."id", "Kopa"."question", "Kopa"."planned", "Kopa"."started", "Kopa"."closed", "Kopa"."isOpen", "Kopa"."note", "Kopa"."created_at", "Kopa"."updated_at", "Kopa"."deleted_at", "Kopa"."place_id", "Kopa"."inviter_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopa" AS "Kopa" LEFT OUTER JOIN "File" AS "attachments" ON "Kopa"."id" = "attachments"."kopa_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopa"."deleted_at" IS NULL AND "Kopa"."id" = 3);
[2016-09-10 15:19:19.969] [ INFO] console - Executing (95a20c52-d281-42fe-bb21-fc5c3705b2fd): COMMIT;
[2016-09-10 15:19:19.970] [ INFO] console - [ 70,
  376,
  {},
  [ { id: '3',
      question: 'CHE',
      planned: Thu Sep 01 2016 00:00:00 GMT+0500 (YEKT),
      started: Thu Sep 01 2016 00:00:00 GMT+0500 (YEKT),
      closed: null,
      isOpen: false,
      note: null,
      created_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      deleted_at: null,
      place_id: '2',
      inviter_id: '2',
      attachments: [] } ] ]
[2016-09-10 15:19:19.986] [ INFO] console - Executing (b22f7903-1017-463a-ba12-42942a672192): START TRANSACTION;
[2016-09-10 15:19:19.988] [ INFO] console - Executing (b22f7903-1017-463a-ba12-42942a672192): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:19:19.993] [ INFO] console - Executing (default): INSERT INTO "Golos" ("id","value","created_at","updated_at","for_id","owner_id") VALUES (DEFAULT,1,'2016-09-10 10:19:19.989 +00:00','2016-09-10 10:19:19.989 +00:00',1,2) RETURNING *;
[2016-09-10 15:19:19.996] [ INFO] console - Executing (b22f7903-1017-463a-ba12-42942a672192): COMMIT;
[2016-09-10 15:19:19.997] [ INFO] console - [ 70, 377, {}, [ '12' ] ]
[2016-09-10 15:19:20.000] [ INFO] console - [ 16,
  3564981966602240,
  { acknowledge: true },
  'ru.kopa.model.Predlozhenie.id1.golosAdd',
  [ '12' ] ]
[2016-09-10 15:19:20.084] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopa', id: 3 }
[2016-09-10 15:19:20.090] [ INFO] console - Executing (220298d3-cd58-48b0-b59b-e89c11739838): START TRANSACTION;
[2016-09-10 15:19:20.092] [ INFO] console - Executing (220298d3-cd58-48b0-b59b-e89c11739838): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:19:20.105] [ INFO] console - Executing (default): SELECT "Kopa"."id", "Kopa"."question", "Kopa"."planned", "Kopa"."started", "Kopa"."closed", "Kopa"."isOpen", "Kopa"."note", "Kopa"."created_at", "Kopa"."updated_at", "Kopa"."deleted_at", "Kopa"."place_id", "Kopa"."inviter_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopa" AS "Kopa" LEFT OUTER JOIN "File" AS "attachments" ON "Kopa"."id" = "attachments"."kopa_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopa"."deleted_at" IS NULL AND "Kopa"."id" = 3);
[2016-09-10 15:19:20.109] [ INFO] console - Executing (220298d3-cd58-48b0-b59b-e89c11739838): COMMIT;
[2016-09-10 15:19:20.111] [ INFO] console - [ 70,
  379,
  {},
  [ { id: '3',
      question: 'CHE',
      planned: Thu Sep 01 2016 00:00:00 GMT+0500 (YEKT),
      started: Thu Sep 01 2016 00:00:00 GMT+0500 (YEKT),
      closed: null,
      isOpen: false,
      note: null,
      created_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      deleted_at: null,
      place_id: '2',
      inviter_id: '2',
      attachments: [] } ] ]
[2016-09-10 15:19:20.122] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 2 }
[2016-09-10 15:19:20.125] [ INFO] console - Executing (5981bd81-f01a-4cc1-8544-b242deb31084): START TRANSACTION;
[2016-09-10 15:19:20.126] [ INFO] console - Executing (5981bd81-f01a-4cc1-8544-b242deb31084): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:19:20.132] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 2);
[2016-09-10 15:19:20.139] [ INFO] console - Executing (5981bd81-f01a-4cc1-8544-b242deb31084): COMMIT;
[2016-09-10 15:19:20.141] [ INFO] console - [ 70,
  380,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/2/',
      starshina: [Object],
      id: '2',
      email: 'unittest2@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '1',
      voiskoSize: 1,
      birth: 1983,
      path: '/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: null,
      attachments: [] } ] ]
[2016-09-10 15:19:20.154] [ INFO] console - Executing (272004b7-3f8e-479c-b86b-f07c2c65ca08): START TRANSACTION;
[2016-09-10 15:19:20.156] [ INFO] console - Executing (272004b7-3f8e-479c-b86b-f07c2c65ca08): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:19:20.161] [ INFO] console - Executing (default): INSERT INTO "Slovo" ("id","value","created_at","updated_at","owner_id","place_id") VALUES (DEFAULT,'some Slovo temp 1473502760150','2016-09-10 10:19:20.157 +00:00','2016-09-10 10:19:20.157 +00:00',2,3) RETURNING *;
[2016-09-10 15:19:20.166] [ INFO] console - Executing (272004b7-3f8e-479c-b86b-f07c2c65ca08): COMMIT;
[2016-09-10 15:19:20.168] [ INFO] console - [ 70, 381, {}, [ '22' ] ]
[2016-09-10 15:19:20.170] [ INFO] console - [ 16,
  2969417222717440,
  { acknowledge: true },
  'ru.kopa.model.Kopa.id3.slovoAdd',
  [ '22' ] ]
[2016-09-10 15:19:20.181] [ INFO] console - Executing (4c8aa3e3-a74a-4e85-bcd6-77a9df4d07c4): START TRANSACTION;
[2016-09-10 15:19:20.183] [ INFO] console - Executing (4c8aa3e3-a74a-4e85-bcd6-77a9df4d07c4): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:19:20.187] [ INFO] console - Executing (default): INSERT INTO "Predlozhenie" ("id","value","created_at","updated_at","initiator_id","place_id") VALUES (DEFAULT,'some Predlozhenie temp 1473502760176','2016-09-10 10:19:20.184 +00:00','2016-09-10 10:19:20.184 +00:00',2,3) RETURNING *;
[2016-09-10 15:19:20.191] [ INFO] console - Executing (4c8aa3e3-a74a-4e85-bcd6-77a9df4d07c4): COMMIT;
[2016-09-10 15:19:20.193] [ INFO] console - [ 70, 382, {}, [ '12' ] ]
[2016-09-10 15:19:20.196] [ INFO] console - [ 16,
  3210290386698240,
  { acknowledge: true },
  'ru.kopa.model.Kopa.id3.predlozhenieAdd',
  [ '12' ] ]
[2016-09-10 15:19:20.228] [ INFO] console - [ 70, 384, {}, [ undefined ] ]
[2016-09-10 15:19:20.235] [ INFO] console - Executing (default): delete from "Kopnik"
                where
                    name like '%temp'
[2016-09-10 15:19:20.238] [ INFO] console - Executing (default): update "Kopnik"
                set 
                    "voiskoSize"= case when id=2 then 1 ELSE 0 END
                where
                    id>1 
                    and id<=5
[2016-09-10 15:19:20.245] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 2 }
[2016-09-10 15:19:20.248] [ INFO] console - Executing (77be1563-0349-4f4f-9dfd-fa6cb38b8237): START TRANSACTION;
[2016-09-10 15:19:20.250] [ INFO] console - Executing (77be1563-0349-4f4f-9dfd-fa6cb38b8237): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:19:20.257] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 2);
[2016-09-10 15:19:20.263] [ INFO] console - Executing (77be1563-0349-4f4f-9dfd-fa6cb38b8237): COMMIT;
[2016-09-10 15:19:20.264] [ INFO] console - [ 70,
  385,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/2/',
      starshina: [Object],
      id: '2',
      email: 'unittest2@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '1',
      voiskoSize: 1,
      birth: 1983,
      path: '/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: null,
      attachments: [] } ] ]
[2016-09-10 15:19:20.276] [ INFO] console - Executing (49a22528-ea5b-447a-9bd7-3b0c00353030): START TRANSACTION;
[2016-09-10 15:19:20.278] [ INFO] console - Executing (49a22528-ea5b-447a-9bd7-3b0c00353030): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:19:20.284] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 2);
[2016-09-10 15:19:20.290] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"+1
                                where
                                    '/2/' like path||id||'/%'
[2016-09-10 15:19:20.295] [ INFO] console - Executing (default): INSERT INTO "Kopnik" ("id","name","surname","patronymic","voiskoSize","birth","path","created_at","updated_at","rodina_id","starshina_id") VALUES (DEFAULT,'temp','temp','temp',0,1900,'/2/','2016-09-10 10:19:20.280 +00:00','2016-09-10 10:19:20.280 +00:00',NULL,2) RETURNING *;
[2016-09-10 15:19:20.299] [ INFO] console - Executing (49a22528-ea5b-447a-9bd7-3b0c00353030): COMMIT;
[2016-09-10 15:19:20.301] [ INFO] console - [ 70, 386, {}, [ '109' ] ]
[2016-09-10 15:19:20.303] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/' like k.path||k.id||'/%'
[2016-09-10 15:19:20.309] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Zemla', id: 2 }
[2016-09-10 15:19:20.313] [ INFO] console - Executing (5891389f-0295-487c-90a9-55d9dd1666e6): START TRANSACTION;
[2016-09-10 15:19:20.313] [ INFO] console - Executing (a49e78c0-4d13-4cd8-b3c5-2592480ae994): START TRANSACTION;
[2016-09-10 15:19:20.318] [ INFO] console - Executing (5891389f-0295-487c-90a9-55d9dd1666e6): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:19:20.319] [ INFO] console - Executing (a49e78c0-4d13-4cd8-b3c5-2592480ae994): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:19:20.332] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 15:19:20.345] [ INFO] console - Executing (default): SELECT "Zemla"."id", "Zemla"."path", "Zemla"."name", "Zemla"."intensity", "Zemla"."note", "Zemla"."created_at", "Zemla"."updated_at", "Zemla"."deleted_at", "Zemla"."parent_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Zemla" AS "Zemla" LEFT OUTER JOIN "File" AS "attachments" ON "Zemla"."id" = "attachments"."zemla_id" AND "attachments"."deleted_at" IS NULL WHERE ("Zemla"."deleted_at" IS NULL AND "Zemla"."id" = 2);
[2016-09-10 15:19:20.346] [ INFO] console - [ 16,
  8890841493929984,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id2.voiskoChange',
  [],
  { voiskoSize: 2 } ]
[2016-09-10 15:19:20.363] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 109);
[2016-09-10 15:19:20.367] [ INFO] console - Executing (5891389f-0295-487c-90a9-55d9dd1666e6): COMMIT;
[2016-09-10 15:19:20.370] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"+1
                                where
                                    '/2/109/' like path||id||'/%'
[2016-09-10 15:19:20.370] [ INFO] console - [ 70,
  387,
  {},
  [ { fullPath: 'null2/',
      id: '2',
      path: null,
      name: 'UnitTest2',
      intensity: 1000,
      note: 'unit test 1473502711312',
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Sat Sep 10 2016 15:18:33 GMT+0500 (YEKT),
      deleted_at: null,
      parent_id: '1',
      attachments: [] } ] ]
[2016-09-10 15:19:20.381] [ INFO] console - Executing (default): INSERT INTO "Kopnik" ("id","name","surname","patronymic","voiskoSize","birth","path","created_at","updated_at","rodina_id","starshina_id") VALUES (DEFAULT,'temp','temp','temp',0,1900,'/2/109/','2016-09-10 10:19:20.321 +00:00','2016-09-10 10:19:20.321 +00:00',NULL,109) RETURNING *;
[2016-09-10 15:19:20.385] [ INFO] console - Executing (a49e78c0-4d13-4cd8-b3c5-2592480ae994): COMMIT;
[2016-09-10 15:19:20.387] [ INFO] console - [ 70, 388, {}, [ '110' ] ]
[2016-09-10 15:19:20.389] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/109/' like k.path||k.id||'/%'
[2016-09-10 15:19:20.400] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2', '109')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 15:19:20.404] [ INFO] console - [ 16,
  5612930401828864,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id109.voiskoChange',
  [],
  { voiskoSize: 1 } ]
[2016-09-10 15:19:20.411] [ INFO] console - [ 16,
  3151665771315200,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id2.voiskoChange',
  [],
  { voiskoSize: 3 } ]
[2016-09-10 15:19:20.417] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 4 }
[2016-09-10 15:19:20.421] [ INFO] console - Executing (c9a9d916-2711-404d-bce0-a01f4edde394): START TRANSACTION;
[2016-09-10 15:19:20.423] [ INFO] console - Executing (c9a9d916-2711-404d-bce0-a01f4edde394): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:19:20.430] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 4);
[2016-09-10 15:19:20.435] [ INFO] console - Executing (c9a9d916-2711-404d-bce0-a01f4edde394): COMMIT;
[2016-09-10 15:19:20.436] [ INFO] console - [ 70,
  389,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/4/',
      starshina: [Object],
      id: '4',
      email: 'unittest4@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '4',
      voiskoSize: 0,
      birth: 1983,
      path: '/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: null,
      attachments: [] } ] ]
[2016-09-10 15:19:20.451] [ INFO] console - Executing (17aafc0b-bdf6-46dd-9bda-c67325ce0212): START TRANSACTION;
[2016-09-10 15:19:20.452] [ INFO] console - Executing (17aafc0b-bdf6-46dd-9bda-c67325ce0212): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:19:20.455] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 109);
[2016-09-10 15:19:20.462] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 4);
[2016-09-10 15:19:20.466] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/' like k.path||k.id||'/%'
[2016-09-10 15:19:20.472] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 15:19:20.475] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"-2
                                where
                                    '/2/' like path||id||'/%'
[2016-09-10 15:19:20.486] [ INFO] console - Executing (default): UPDATE "Kopnik" SET "path"='/4/',"starshina_id"='4',"updated_at"='2016-09-10 10:19:20.477 +00:00' WHERE "id" = '109'
[2016-09-10 15:19:20.488] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"+2
                                where
                                    '/4/' like path||id||'/%'
[2016-09-10 15:19:20.493] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."starshina_id" = '109');
[2016-09-10 15:19:20.500] [ INFO] console - Executing (default): UPDATE "Kopnik" SET "path"='/4/109/',"updated_at"='2016-09-10 10:19:20.495 +00:00' WHERE "id" = '110'
[2016-09-10 15:19:20.503] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/4/' like k.path||k.id||'/%'
[2016-09-10 15:19:20.510] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('4')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 15:19:20.513] [ INFO] console - Executing (17aafc0b-bdf6-46dd-9bda-c67325ce0212): COMMIT;
[2016-09-10 15:19:20.515] [ INFO] console - [ 70, 390, {}, [ undefined ] ]
[2016-09-10 15:19:20.517] [ INFO] console - [ 16,
  4243262023925760,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id2.voiskoChange',
  [],
  { voiskoSize: 1 } ]
[2016-09-10 15:19:20.521] [ INFO] console - [ 16,
  836429217267712,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id4.voiskoChange',
  [],
  { voiskoSize: 2 } ]
[2016-09-10 15:19:20.562] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopa', id: 3 }
[2016-09-10 15:19:20.569] [ INFO] console - Executing (3da5ddd9-6ee5-4a38-b26b-c88497905291): START TRANSACTION;
[2016-09-10 15:19:20.572] [ INFO] console - Executing (3da5ddd9-6ee5-4a38-b26b-c88497905291): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:19:20.581] [ INFO] console - Executing (default): SELECT "Kopa"."id", "Kopa"."question", "Kopa"."planned", "Kopa"."started", "Kopa"."closed", "Kopa"."isOpen", "Kopa"."note", "Kopa"."created_at", "Kopa"."updated_at", "Kopa"."deleted_at", "Kopa"."place_id", "Kopa"."inviter_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopa" AS "Kopa" LEFT OUTER JOIN "File" AS "attachments" ON "Kopa"."id" = "attachments"."kopa_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopa"."deleted_at" IS NULL AND "Kopa"."id" = 3);
[2016-09-10 15:19:20.587] [ INFO] console - Executing (3da5ddd9-6ee5-4a38-b26b-c88497905291): COMMIT;
[2016-09-10 15:19:20.589] [ INFO] console - [ 70,
  392,
  {},
  [ { id: '3',
      question: 'CHE',
      planned: Thu Sep 01 2016 00:00:00 GMT+0500 (YEKT),
      started: Thu Sep 01 2016 00:00:00 GMT+0500 (YEKT),
      closed: null,
      isOpen: false,
      note: null,
      created_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      deleted_at: null,
      place_id: '2',
      inviter_id: '2',
      attachments: [] } ] ]
[2016-09-10 15:19:20.602] [ INFO] console - Executing (95ad67d6-b503-4a27-9ba5-76fcad7fd1bb): START TRANSACTION;
[2016-09-10 15:19:20.603] [ INFO] console - Executing (95ad67d6-b503-4a27-9ba5-76fcad7fd1bb): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:19:20.608] [ INFO] console - Executing (default): INSERT INTO "Predlozhenie" ("id","value","created_at","updated_at","initiator_id","place_id") VALUES (DEFAULT,'some Predlozhenie temp 1473502759026','2016-09-10 10:19:20.604 +00:00','2016-09-10 10:19:20.604 +00:00',2,3) RETURNING *;
[2016-09-10 15:19:20.612] [ INFO] console - Executing (95ad67d6-b503-4a27-9ba5-76fcad7fd1bb): COMMIT;
[2016-09-10 15:19:20.613] [ INFO] console - [ 70, 393, {}, [ '13' ] ]
[2016-09-10 15:19:20.621] [ INFO] console - [ 16,
  9006206695768064,
  { acknowledge: true },
  'ru.kopa.model.Kopa.id3.predlozhenieAdd',
  [ '13' ] ]
[2016-09-10 15:19:20.628] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Predlozhenie', id: 1 }
[2016-09-10 15:19:20.630] [ INFO] console - Executing (84d6e3d3-520e-486e-96f2-35731f45ac59): START TRANSACTION;
[2016-09-10 15:19:20.632] [ INFO] console - Executing (84d6e3d3-520e-486e-96f2-35731f45ac59): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:19:20.637] [ INFO] console - Executing (default): SELECT "Predlozhenie"."id", "Predlozhenie"."value", "Predlozhenie"."note", "Predlozhenie"."created_at", "Predlozhenie"."updated_at", "Predlozhenie"."deleted_at", "Predlozhenie"."initiator_id", "Predlozhenie"."place_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Predlozhenie" AS "Predlozhenie" LEFT OUTER JOIN "File" AS "attachments" ON "Predlozhenie"."id" = "attachments"."predlozhenie_id" AND "attachments"."deleted_at" IS NULL WHERE ("Predlozhenie"."deleted_at" IS NULL AND "Predlozhenie"."id" = 1);
[2016-09-10 15:19:20.645] [ INFO] console - Executing (84d6e3d3-520e-486e-96f2-35731f45ac59): COMMIT;
[2016-09-10 15:19:20.647] [ INFO] console - [ 70,
  394,
  {},
  [ { id: '1',
      value: 'Будет ...',
      note: null,
      created_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      deleted_at: null,
      initiator_id: '2',
      place_id: '3',
      attachments: [] } ] ]
[2016-09-10 15:19:20.661] [ INFO] console - Executing (552c27e2-2be0-4ccf-b1c5-987dea6ffa3a): START TRANSACTION;
[2016-09-10 15:19:20.663] [ INFO] console - Executing (552c27e2-2be0-4ccf-b1c5-987dea6ffa3a): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:19:20.671] [ INFO] console - Executing (default): INSERT INTO "Golos" ("id","value","created_at","updated_at","for_id","owner_id") VALUES (DEFAULT,1,'2016-09-10 10:19:20.667 +00:00','2016-09-10 10:19:20.667 +00:00',1,2) RETURNING *;
[2016-09-10 15:19:20.677] [ INFO] console - Executing (552c27e2-2be0-4ccf-b1c5-987dea6ffa3a): COMMIT;
[2016-09-10 15:19:20.678] [ INFO] console - [ 70, 395, {}, [ '13' ] ]
[2016-09-10 15:19:20.684] [ INFO] console - [ 16,
  367653520670720,
  { acknowledge: true },
  'ru.kopa.model.Predlozhenie.id1.golosAdd',
  [ '13' ] ]
[2016-09-10 15:19:20.708] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 2 }
[2016-09-10 15:19:20.710] [ INFO] console - Executing (a6751a2d-12df-4dbf-82b9-b8694f219699): START TRANSACTION;
[2016-09-10 15:19:20.712] [ INFO] console - Executing (a6751a2d-12df-4dbf-82b9-b8694f219699): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:19:20.719] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 2);
[2016-09-10 15:19:20.723] [ INFO] console - Executing (a6751a2d-12df-4dbf-82b9-b8694f219699): COMMIT;
[2016-09-10 15:19:20.724] [ INFO] console - [ 70,
  397,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/2/',
      starshina: [Object],
      id: '2',
      email: 'unittest2@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '1',
      voiskoSize: 1,
      birth: 1983,
      path: '/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: null,
      attachments: [] } ] ]
[2016-09-10 15:19:20.742] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 3 }
[2016-09-10 15:19:20.746] [ INFO] console - Executing (3a88da5d-07e3-47b3-bd36-4fcaaa132b1c): START TRANSACTION;
[2016-09-10 15:19:20.747] [ INFO] console - Executing (3a88da5d-07e3-47b3-bd36-4fcaaa132b1c): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:19:20.756] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 3);
[2016-09-10 15:19:20.763] [ INFO] console - Executing (3a88da5d-07e3-47b3-bd36-4fcaaa132b1c): COMMIT;
[2016-09-10 15:19:20.765] [ INFO] console - [ 70,
  398,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/2/3/',
      starshina: [Object],
      id: '3',
      email: 'unittest3@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '3',
      voiskoSize: 0,
      birth: 1983,
      path: '/2/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: '2',
      attachments: [] } ] ]
[2016-09-10 15:19:20.783] [ INFO] console - Executing (0cdaa503-19d5-40d1-90a4-578d7013ddb1): START TRANSACTION;
[2016-09-10 15:19:20.784] [ INFO] console - Executing (0cdaa503-19d5-40d1-90a4-578d7013ddb1): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:19:20.793] [ INFO] console - Executing (default): INSERT INTO "Slovo" ("id","value","note","created_at","updated_at","owner_id","place_id") VALUES (DEFAULT,'123 temp','456','2016-09-10 10:19:20.785 +00:00','2016-09-10 10:19:20.785 +00:00',2,3) RETURNING *;
[2016-09-10 15:19:20.796] [ INFO] console - Executing (0cdaa503-19d5-40d1-90a4-578d7013ddb1): COMMIT;
[2016-09-10 15:19:20.797] [ INFO] console - [ 70, 399, {}, [ '23' ] ]
[2016-09-10 15:19:20.807] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Slovo', id: 23 }
[2016-09-10 15:19:20.809] [ INFO] console - [ 16,
  6598997311488000,
  { acknowledge: true },
  'ru.kopa.model.Kopa.id3.slovoAdd',
  [ '23' ] ]
[2016-09-10 15:19:20.816] [ INFO] console - Executing (11880cf9-2b93-497c-9754-1950470002dc): START TRANSACTION;
[2016-09-10 15:19:20.820] [ INFO] console - Executing (11880cf9-2b93-497c-9754-1950470002dc): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:19:20.828] [ INFO] console - Executing (default): SELECT "Slovo"."id", "Slovo"."value", "Slovo"."note", "Slovo"."created_at", "Slovo"."updated_at", "Slovo"."deleted_at", "Slovo"."owner_id", "Slovo"."place_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Slovo" AS "Slovo" LEFT OUTER JOIN "File" AS "attachments" ON "Slovo"."id" = "attachments"."slovo_id" AND "attachments"."deleted_at" IS NULL WHERE ("Slovo"."deleted_at" IS NULL AND "Slovo"."id" = 23);
[2016-09-10 15:19:20.833] [ INFO] console - Executing (11880cf9-2b93-497c-9754-1950470002dc): COMMIT;
[2016-09-10 15:19:20.834] [ INFO] console - [ 70,
  400,
  {},
  [ { id: '23',
      value: '123 temp',
      note: '456',
      created_at: Sat Sep 10 2016 15:19:20 GMT+0500 (YEKT),
      updated_at: Sat Sep 10 2016 15:19:20 GMT+0500 (YEKT),
      deleted_at: null,
      owner_id: '2',
      place_id: '3',
      attachments: [] } ] ]
[2016-09-10 15:19:20.853] [ INFO] console - Executing (ab75efe3-1148-4de5-922d-e15bf7d2683d): START TRANSACTION;
[2016-09-10 15:19:20.855] [ INFO] console - Executing (ab75efe3-1148-4de5-922d-e15bf7d2683d): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:19:20.866] [ INFO] console - Executing (default): INSERT INTO "Slovo" ("id","value","created_at","updated_at","owner_id","place_id") VALUES (DEFAULT,'some value temp 1473502760846','2016-09-10 10:19:20.858 +00:00','2016-09-10 10:19:20.858 +00:00',2,3) RETURNING *;
[2016-09-10 15:19:20.869] [ INFO] console - Executing (ab75efe3-1148-4de5-922d-e15bf7d2683d): COMMIT;
[2016-09-10 15:19:20.870] [ INFO] console - [ 70, 401, {}, [ '24' ] ]
[2016-09-10 15:19:20.876] [ INFO] console - [ 16,
  276093005201408,
  { acknowledge: true },
  'ru.kopa.model.Kopa.id3.slovoAdd',
  [ '24' ] ]
[2016-09-10 15:19:20.884] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Zemla', id: 2 }
[2016-09-10 15:19:20.888] [ INFO] console - Executing (3295d737-a033-4cf8-b256-076d683265d7): START TRANSACTION;
[2016-09-10 15:19:20.889] [ INFO] console - Executing (3295d737-a033-4cf8-b256-076d683265d7): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:19:20.894] [ INFO] console - Executing (default): SELECT "Zemla"."id", "Zemla"."path", "Zemla"."name", "Zemla"."intensity", "Zemla"."note", "Zemla"."created_at", "Zemla"."updated_at", "Zemla"."deleted_at", "Zemla"."parent_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Zemla" AS "Zemla" LEFT OUTER JOIN "File" AS "attachments" ON "Zemla"."id" = "attachments"."zemla_id" AND "attachments"."deleted_at" IS NULL WHERE ("Zemla"."deleted_at" IS NULL AND "Zemla"."id" = 2);
[2016-09-10 15:19:20.903] [ INFO] console - Executing (3295d737-a033-4cf8-b256-076d683265d7): COMMIT;
[2016-09-10 15:19:20.907] [ INFO] console - [ 70,
  402,
  {},
  [ { fullPath: 'null2/',
      id: '2',
      path: null,
      name: 'UnitTest2',
      intensity: 1000,
      note: 'unit test 1473502711312',
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Sat Sep 10 2016 15:18:33 GMT+0500 (YEKT),
      deleted_at: null,
      parent_id: '1',
      attachments: [] } ] ]
[2016-09-10 15:19:20.929] [ INFO] console - Executing (7094e94b-b065-4bbe-a7ac-61633e4ce8e6): START TRANSACTION;
[2016-09-10 15:19:20.943] [ INFO] console - Executing (7094e94b-b065-4bbe-a7ac-61633e4ce8e6): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:19:20.971] [ INFO] console - Executing (default): SELECT "id", "path", "name", "intensity", "note", "created_at", "updated_at", "deleted_at", "parent_id" FROM "Zemla" AS "Zemla" WHERE ("Zemla"."deleted_at" IS NULL AND "Zemla"."id" = 2);
[2016-09-10 15:19:20.981] [ INFO] console - Executing (default): UPDATE "Zemla" SET "parent_id"=1,"note"='unit test 1473502759032',"updated_at"='2016-09-10 10:19:20.975 +00:00' WHERE "id" = '2'
[2016-09-10 15:19:20.987] [ INFO] console - Executing (7094e94b-b065-4bbe-a7ac-61633e4ce8e6): COMMIT;
[2016-09-10 15:19:20.988] [ INFO] console - [ 16,
  1530513925865472,
  { acknowledge: true },
  'ru.kopa.model.Zemla.id2.change' ]
[2016-09-10 15:19:21.000] [ INFO] console - [ 70, 403, {}, [ undefined ] ]
[2016-09-10 15:19:21.006] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Zemla', id: 2 }
[2016-09-10 15:19:21.009] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Zemla', id: 2 }
[2016-09-10 15:19:21.011] [ INFO] console - Executing (e4cc801e-975c-459b-8103-afe314fe9266): START TRANSACTION;
[2016-09-10 15:19:21.012] [ INFO] console - Executing (09215cf4-2d0a-4915-8964-efbcaedb6ecd): START TRANSACTION;
[2016-09-10 15:19:21.013] [ INFO] console - Executing (e4cc801e-975c-459b-8103-afe314fe9266): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:19:21.014] [ INFO] console - Executing (09215cf4-2d0a-4915-8964-efbcaedb6ecd): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:19:21.028] [ INFO] console - Executing (default): SELECT "Zemla"."id", "Zemla"."path", "Zemla"."name", "Zemla"."intensity", "Zemla"."note", "Zemla"."created_at", "Zemla"."updated_at", "Zemla"."deleted_at", "Zemla"."parent_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Zemla" AS "Zemla" LEFT OUTER JOIN "File" AS "attachments" ON "Zemla"."id" = "attachments"."zemla_id" AND "attachments"."deleted_at" IS NULL WHERE ("Zemla"."deleted_at" IS NULL AND "Zemla"."id" = 2);
[2016-09-10 15:19:21.029] [ INFO] console - Executing (default): SELECT "Zemla"."id", "Zemla"."path", "Zemla"."name", "Zemla"."intensity", "Zemla"."note", "Zemla"."created_at", "Zemla"."updated_at", "Zemla"."deleted_at", "Zemla"."parent_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Zemla" AS "Zemla" LEFT OUTER JOIN "File" AS "attachments" ON "Zemla"."id" = "attachments"."zemla_id" AND "attachments"."deleted_at" IS NULL WHERE ("Zemla"."deleted_at" IS NULL AND "Zemla"."id" = 2);
[2016-09-10 15:19:21.036] [ INFO] console - Executing (e4cc801e-975c-459b-8103-afe314fe9266): COMMIT;
[2016-09-10 15:19:21.036] [ INFO] console - Executing (09215cf4-2d0a-4915-8964-efbcaedb6ecd): COMMIT;
[2016-09-10 15:19:21.038] [ INFO] console - [ 70,
  404,
  {},
  [ { fullPath: 'null2/',
      id: '2',
      path: null,
      name: 'UnitTest2',
      intensity: 1000,
      note: 'unit test 1473502759032',
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Sat Sep 10 2016 15:19:20 GMT+0500 (YEKT),
      deleted_at: null,
      parent_id: '1',
      attachments: [] } ] ]
[2016-09-10 15:19:21.043] [ INFO] console - [ 70,
  405,
  {},
  [ { fullPath: 'null2/',
      id: '2',
      path: null,
      name: 'UnitTest2',
      intensity: 1000,
      note: 'unit test 1473502759032',
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Sat Sep 10 2016 15:19:20 GMT+0500 (YEKT),
      deleted_at: null,
      parent_id: '1',
      attachments: [] } ] ]
[2016-09-10 15:19:21.083] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopa', id: 3 }
[2016-09-10 15:19:21.091] [ INFO] console - Executing (d796a03f-a484-41d0-ac9f-a4917e5841de): START TRANSACTION;
[2016-09-10 15:19:21.093] [ INFO] console - Executing (d796a03f-a484-41d0-ac9f-a4917e5841de): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:19:21.103] [ INFO] console - Executing (default): SELECT "Kopa"."id", "Kopa"."question", "Kopa"."planned", "Kopa"."started", "Kopa"."closed", "Kopa"."isOpen", "Kopa"."note", "Kopa"."created_at", "Kopa"."updated_at", "Kopa"."deleted_at", "Kopa"."place_id", "Kopa"."inviter_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopa" AS "Kopa" LEFT OUTER JOIN "File" AS "attachments" ON "Kopa"."id" = "attachments"."kopa_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopa"."deleted_at" IS NULL AND "Kopa"."id" = 3);
[2016-09-10 15:19:21.108] [ INFO] console - Executing (d796a03f-a484-41d0-ac9f-a4917e5841de): COMMIT;
[2016-09-10 15:19:21.109] [ INFO] console - [ 70,
  407,
  {},
  [ { id: '3',
      question: 'CHE',
      planned: Thu Sep 01 2016 00:00:00 GMT+0500 (YEKT),
      started: Thu Sep 01 2016 00:00:00 GMT+0500 (YEKT),
      closed: null,
      isOpen: false,
      note: null,
      created_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      deleted_at: null,
      place_id: '2',
      inviter_id: '2',
      attachments: [] } ] ]
[2016-09-10 15:19:21.120] [ INFO] console - Executing (f89da578-d643-451c-8c6e-b6d3af58979c): START TRANSACTION;
[2016-09-10 15:19:21.122] [ INFO] console - Executing (f89da578-d643-451c-8c6e-b6d3af58979c): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:19:21.126] [ INFO] console - Executing (default): INSERT INTO "Slovo" ("id","value","created_at","updated_at","owner_id","place_id") VALUES (DEFAULT,'some Slovo temp','2016-09-10 10:19:21.123 +00:00','2016-09-10 10:19:21.123 +00:00',2,3) RETURNING *;
[2016-09-10 15:19:21.129] [ INFO] console - Executing (f89da578-d643-451c-8c6e-b6d3af58979c): COMMIT;
[2016-09-10 15:19:21.130] [ INFO] console - [ 70, 408, {}, [ '25' ] ]
[2016-09-10 15:19:21.133] [ INFO] console - [ 16,
  1139882684579840,
  { acknowledge: true },
  'ru.kopa.model.Kopa.id3.slovoAdd',
  [ '25' ] ]
[2016-09-10 15:23:03.461] [ INFO] console - AutobahnJS debug enabled
[2016-09-10 15:23:04.560] [ INFO] Server - starting...
[2016-09-10 15:23:04.562] [ INFO] console - trying to create WAMP transport of type: websocket
[2016-09-10 15:23:04.626] [ INFO] console - using WAMP transport type: websocket
[2016-09-10 15:23:04.725] [ INFO] console - [ 1,
  'kopa',
  { roles: 
     { caller: [Object],
       callee: [Object],
       publisher: [Object],
       subscriber: [Object] },
    authmethods: [ 'ticket' ],
    authid: 'server' } ]
[2016-09-10 15:23:04.734] [ INFO] console - [ 5, 'server', {} ]
[2016-09-10 15:23:04.781] [ INFO] Server - connection.onopen()
[2016-09-10 15:23:04.787] [ INFO] console - [ 64, 388911847178240, {}, 'ru.kopa.model.create' ]
[2016-09-10 15:23:04.793] [DEBUG] Server - api:model.create registered
[2016-09-10 15:23:04.793] [ INFO] console - [ 64, 715007830523904, {}, 'ru.kopa.model.get' ]
[2016-09-10 15:23:04.796] [DEBUG] Server - api:model.get registered
[2016-09-10 15:23:04.796] [ INFO] console - [ 64, 8049302062497792, {}, 'ru.kopa.model.save' ]
[2016-09-10 15:23:04.799] [DEBUG] Server - api:model.save registered
[2016-09-10 15:23:04.799] [ INFO] console - [ 64, 5825655751049216, {}, 'ru.kopa.pingPong' ]
[2016-09-10 15:23:04.803] [DEBUG] Server - api:pingPong registered
[2016-09-10 15:23:04.803] [ INFO] console - [ 64, 5271934210146304, {}, 'ru.kopa.discloseCaller' ]
[2016-09-10 15:23:04.806] [DEBUG] Server - api:discloseCaller registered
[2016-09-10 15:23:04.806] [ INFO] console - [ 64, 1957793741406208, {}, 'ru.kopa.pingPongDatabase' ]
[2016-09-10 15:23:04.810] [DEBUG] Server - api:pingPongDatabase registered
[2016-09-10 15:23:04.810] [ INFO] console - [ 64, 1368604025028608, {}, 'ru.kopa.error' ]
[2016-09-10 15:23:04.813] [DEBUG] Server - api:error registered
[2016-09-10 15:23:04.813] [ INFO] console - [ 64, 1430725704286208, {}, 'ru.kopa.promiseKopas' ]
[2016-09-10 15:23:04.815] [DEBUG] Server - api:promiseKopas registered
[2016-09-10 15:23:04.816] [ INFO] console - [ 64, 188809595584512, {}, 'ru.kopa.unitTest.cleanTempData' ]
[2016-09-10 15:23:04.818] [DEBUG] Server - api:unitTest.cleanTempData registered
[2016-09-10 15:23:04.818] [ INFO] console - [ 64, 1409536114032640, {}, 'ru.kopa.model.Kopnik.setStarshina' ]
[2016-09-10 15:23:04.820] [DEBUG] Server - api:model.Kopnik.setStarshina registered
[2016-09-10 15:23:04.821] [ INFO] console - [ 64, 3101774797864960, {}, 'ru.kopa.model.Kopa.setQuestion' ]
[2016-09-10 15:23:04.823] [DEBUG] Server - api:model.Kopa.setQuestion registered
[2016-09-10 15:23:04.824] [ INFO] Server - started
[2016-09-10 15:23:19.365] [ INFO] console - [ 70, 411, {}, [ 'unittest2@domain.ru' ] ]
[2016-09-10 15:23:19.372] [DEBUG] Server - #pingPong() [ 1, 2, 3 ] { x: 1, y: 2, z: 3 }
[2016-09-10 15:23:19.377] [ INFO] console - [ 70, 412, {}, [ 1, 2, 3 ], { x: 1, y: 2, z: 3 } ]
[2016-09-10 15:23:19.412] [ INFO] console - Executing (default): select 'КОПА' as result
[2016-09-10 15:23:19.414] [ INFO] console - [ 70, 413, {}, [ 'КОПА' ] ]
[2016-09-10 15:23:19.419] [DEBUG] Server - #error() [ 'sadkljfaskldjfs;af' ] {}
[2016-09-10 15:23:19.420] [ERROR] Server - [Error: sadkljfaskldjfs;af]
Error: sadkljfaskldjfs;af
    at MySuperError (Server.js:335:9)
    at fn.constructor.error.Error (Server.js:340:19)
    at new wrappedPromise (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/async-listener/index.js:372:16)
    at Server.error (Server.js:339:16)
    at Object.<anonymous> (Server.js:411:43)
    at [object Generator].next (native)
    at step (/home/alexey2baranov/htdocs/kp-sequelizejs/src/Server.js:1:253)
    at /home/alexey2baranov/htdocs/kp-sequelizejs/src/Server.js:1:513
    at new wrappedPromise (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/async-listener/index.js:372:16)
    at Object.<anonymous> (/home/alexey2baranov/htdocs/kp-sequelizejs/src/Server.js:1:161)
    at Object.<anonymous> (Server.js:408:28)
    at tryCatchResolve (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/apply.js:46:23)
    at callAndResolve (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/apply.js:30:12)
    at callAndResolveNext (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/apply.js:40:4)
    at tryCatchReject3 (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/makePromise.js:856:7)
    at runContinuation3 (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/makePromise.js:814:4)
[2016-09-10 15:23:19.524] [ INFO] console - [ 8,
  68,
  414,
  {},
  'MySuperError',
  [ 'sadkljfaskldjfs;af' ],
  { stack: 
     [ 'Error: sadkljfaskldjfs;af',
       '    at MySuperError (Server.js:335:9)',
       '    at fn.constructor.error.Error (Server.js:340:19)',
       '    at new wrappedPromise (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/async-listener/index.js:372:16)',
       '    at Server.error (Server.js:339:16)',
       '    at Object.<anonymous> (Server.js:411:43)',
       '    at [object Generator].next (native)',
       '    at step (/home/alexey2baranov/htdocs/kp-sequelizejs/src/Server.js:1:253)',
       '    at /home/alexey2baranov/htdocs/kp-sequelizejs/src/Server.js:1:513',
       '    at new wrappedPromise (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/async-listener/index.js:372:16)',
       '    at Object.<anonymous> (/home/alexey2baranov/htdocs/kp-sequelizejs/src/Server.js:1:161)',
       '    at Object.<anonymous> (Server.js:408:28)',
       '    at tryCatchResolve (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/apply.js:46:23)',
       '    at callAndResolve (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/apply.js:30:12)',
       '    at callAndResolveNext (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/apply.js:40:4)',
       '    at tryCatchReject3 (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/makePromise.js:856:7)',
       '    at runContinuation3 (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/makePromise.js:814:4)' ] } ]
[2016-09-10 15:23:19.534] [ INFO] console - [ 70, 415, {}, [ undefined ] ]
[2016-09-10 15:23:19.537] [ INFO] console - Executing (default): delete from "Slovo"
                where
                    place_id<5
                    and value like '%temp'
[2016-09-10 15:23:19.542] [ INFO] console - Executing (default): delete from "Kopnik"
                where
                    name like '%temp'
[2016-09-10 15:23:19.545] [ INFO] console - Executing (default): update "Kopnik"
                set 
                    "voiskoSize"= case when id=2 then 1 ELSE 0 END
                where
                    id>1 
                    and id<=5
[2016-09-10 15:23:19.572] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopa', id: 3 }
[2016-09-10 15:23:19.576] [ INFO] console - Executing (c8209bbe-acca-43ac-9631-72dfc10dd7c5): START TRANSACTION;
[2016-09-10 15:23:19.577] [ INFO] console - Executing (c8209bbe-acca-43ac-9631-72dfc10dd7c5): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:23:19.592] [ INFO] console - Executing (default): SELECT "Kopa"."id", "Kopa"."question", "Kopa"."planned", "Kopa"."started", "Kopa"."closed", "Kopa"."isOpen", "Kopa"."note", "Kopa"."created_at", "Kopa"."updated_at", "Kopa"."deleted_at", "Kopa"."place_id", "Kopa"."inviter_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopa" AS "Kopa" LEFT OUTER JOIN "File" AS "attachments" ON "Kopa"."id" = "attachments"."kopa_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopa"."deleted_at" IS NULL AND "Kopa"."id" = 3);
[2016-09-10 15:23:19.599] [ INFO] console - Executing (c8209bbe-acca-43ac-9631-72dfc10dd7c5): COMMIT;
[2016-09-10 15:23:19.600] [ INFO] console - [ 70,
  417,
  {},
  [ { id: '3',
      question: 'CHE',
      planned: Thu Sep 01 2016 00:00:00 GMT+0500 (YEKT),
      started: Thu Sep 01 2016 00:00:00 GMT+0500 (YEKT),
      closed: null,
      isOpen: false,
      note: null,
      created_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      deleted_at: null,
      place_id: '2',
      inviter_id: '2',
      attachments: [] } ] ]
[2016-09-10 15:23:19.631] [ INFO] console - Executing (908cb387-3db8-4706-9e22-26047b1f37d1): START TRANSACTION;
[2016-09-10 15:23:19.633] [ INFO] console - Executing (908cb387-3db8-4706-9e22-26047b1f37d1): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:23:19.642] [ INFO] console - Executing (default): INSERT INTO "Golos" ("id","value","created_at","updated_at","for_id","owner_id") VALUES (DEFAULT,1,'2016-09-10 10:23:19.634 +00:00','2016-09-10 10:23:19.634 +00:00',1,2) RETURNING *;
[2016-09-10 15:23:19.646] [ INFO] console - Executing (908cb387-3db8-4706-9e22-26047b1f37d1): COMMIT;
[2016-09-10 15:23:19.648] [ INFO] console - [ 70, 418, {}, [ '14' ] ]
[2016-09-10 15:23:20.649] [ INFO] console - [ 16,
  8124454179700736,
  { acknowledge: true },
  'ru.kopa.model.Predlozhenie.id1.golosAdd',
  [ '14' ] ]
[2016-09-10 15:23:20.679] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopa', id: 3 }
[2016-09-10 15:23:20.685] [ INFO] console - Executing (c8d515cf-3794-4404-8caf-68bcddb2393d): START TRANSACTION;
[2016-09-10 15:23:20.686] [ INFO] console - Executing (c8d515cf-3794-4404-8caf-68bcddb2393d): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:23:20.692] [ INFO] console - Executing (default): SELECT "Kopa"."id", "Kopa"."question", "Kopa"."planned", "Kopa"."started", "Kopa"."closed", "Kopa"."isOpen", "Kopa"."note", "Kopa"."created_at", "Kopa"."updated_at", "Kopa"."deleted_at", "Kopa"."place_id", "Kopa"."inviter_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopa" AS "Kopa" LEFT OUTER JOIN "File" AS "attachments" ON "Kopa"."id" = "attachments"."kopa_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopa"."deleted_at" IS NULL AND "Kopa"."id" = 3);
[2016-09-10 15:23:20.697] [ INFO] console - Executing (c8d515cf-3794-4404-8caf-68bcddb2393d): COMMIT;
[2016-09-10 15:23:20.698] [ INFO] console - [ 70,
  420,
  {},
  [ { id: '3',
      question: 'CHE',
      planned: Thu Sep 01 2016 00:00:00 GMT+0500 (YEKT),
      started: Thu Sep 01 2016 00:00:00 GMT+0500 (YEKT),
      closed: null,
      isOpen: false,
      note: null,
      created_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      deleted_at: null,
      place_id: '2',
      inviter_id: '2',
      attachments: [] } ] ]
[2016-09-10 15:23:20.707] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 2 }
[2016-09-10 15:23:20.709] [ INFO] console - Executing (81910f03-b1e6-4265-befb-340a6434cddb): START TRANSACTION;
[2016-09-10 15:23:20.711] [ INFO] console - Executing (81910f03-b1e6-4265-befb-340a6434cddb): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:23:20.717] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 2);
[2016-09-10 15:23:20.721] [ INFO] console - Executing (81910f03-b1e6-4265-befb-340a6434cddb): COMMIT;
[2016-09-10 15:23:20.722] [ INFO] console - [ 70,
  421,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/2/',
      starshina: [Object],
      id: '2',
      email: 'unittest2@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '1',
      voiskoSize: 1,
      birth: 1983,
      path: '/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: null,
      attachments: [] } ] ]
[2016-09-10 15:23:20.735] [ INFO] console - Executing (d4b71118-03d6-4efe-a04a-341f23151045): START TRANSACTION;
[2016-09-10 15:23:20.737] [ INFO] console - Executing (d4b71118-03d6-4efe-a04a-341f23151045): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:23:20.742] [ INFO] console - Executing (default): INSERT INTO "Slovo" ("id","value","created_at","updated_at","owner_id","place_id") VALUES (DEFAULT,'some Slovo temp 1473503000732','2016-09-10 10:23:20.738 +00:00','2016-09-10 10:23:20.738 +00:00',2,3) RETURNING *;
[2016-09-10 15:23:20.756] [ INFO] console - Executing (d4b71118-03d6-4efe-a04a-341f23151045): COMMIT;
[2016-09-10 15:23:20.757] [ INFO] console - [ 70, 422, {}, [ '26' ] ]
[2016-09-10 15:23:21.758] [ INFO] console - [ 16,
  6384796034924544,
  { acknowledge: true },
  'ru.kopa.model.Kopa.id3.slovoAdd',
  [ '26' ] ]
[2016-09-10 15:23:21.767] [ INFO] console - Executing (b3fe0d26-3a54-4552-83af-6ad2f31ff609): START TRANSACTION;
[2016-09-10 15:23:21.771] [ INFO] console - Executing (b3fe0d26-3a54-4552-83af-6ad2f31ff609): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:23:21.777] [ INFO] console - Executing (default): INSERT INTO "Predlozhenie" ("id","value","created_at","updated_at","initiator_id","place_id") VALUES (DEFAULT,'some Predlozhenie temp 1473503001764','2016-09-10 10:23:21.773 +00:00','2016-09-10 10:23:21.773 +00:00',2,3) RETURNING *;
[2016-09-10 15:23:21.791] [ INFO] console - Executing (b3fe0d26-3a54-4552-83af-6ad2f31ff609): COMMIT;
[2016-09-10 15:23:21.792] [ INFO] console - [ 70, 423, {}, [ '14' ] ]
[2016-09-10 15:23:22.793] [ INFO] console - [ 16,
  4333086227562496,
  { acknowledge: true },
  'ru.kopa.model.Kopa.id3.predlozhenieAdd',
  [ '14' ] ]
[2016-09-10 15:23:22.820] [ INFO] console - [ 70, 425, {}, [ undefined ] ]
[2016-09-10 15:23:22.823] [ INFO] console - Executing (default): delete from "Kopnik"
                where
                    name like '%temp'
[2016-09-10 15:23:22.825] [ INFO] console - Executing (default): update "Kopnik"
                set 
                    "voiskoSize"= case when id=2 then 1 ELSE 0 END
                where
                    id>1 
                    and id<=5
[2016-09-10 15:23:22.832] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 2 }
[2016-09-10 15:23:22.835] [ INFO] console - Executing (cfe57d0d-05da-4fa3-9b45-ace2bd176f30): START TRANSACTION;
[2016-09-10 15:23:22.836] [ INFO] console - Executing (cfe57d0d-05da-4fa3-9b45-ace2bd176f30): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:23:22.841] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 2);
[2016-09-10 15:23:22.847] [ INFO] console - Executing (cfe57d0d-05da-4fa3-9b45-ace2bd176f30): COMMIT;
[2016-09-10 15:23:22.850] [ INFO] console - [ 70,
  426,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/2/',
      starshina: [Object],
      id: '2',
      email: 'unittest2@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '1',
      voiskoSize: 1,
      birth: 1983,
      path: '/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: null,
      attachments: [] } ] ]
[2016-09-10 15:23:22.862] [ INFO] console - Executing (bb38ff4a-c035-4bd1-820b-0e06cb24f1cc): START TRANSACTION;
[2016-09-10 15:23:22.868] [ INFO] console - Executing (bb38ff4a-c035-4bd1-820b-0e06cb24f1cc): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:23:22.874] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 2);
[2016-09-10 15:23:22.879] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"+1
                                where
                                    '/2/' like path||id||'/%'
[2016-09-10 15:23:22.883] [ INFO] console - Executing (default): INSERT INTO "Kopnik" ("id","name","surname","patronymic","voiskoSize","birth","path","created_at","updated_at","rodina_id","starshina_id") VALUES (DEFAULT,'temp','temp','temp',0,1900,'/2/','2016-09-10 10:23:22.870 +00:00','2016-09-10 10:23:22.870 +00:00',NULL,2) RETURNING *;
[2016-09-10 15:23:22.887] [ INFO] console - Executing (bb38ff4a-c035-4bd1-820b-0e06cb24f1cc): COMMIT;
[2016-09-10 15:23:22.888] [ INFO] console - [ 70, 427, {}, [ '111' ] ]
[2016-09-10 15:23:22.895] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Zemla', id: 2 }
[2016-09-10 15:23:22.898] [ INFO] console - Executing (e546318b-f942-47dc-89f5-69b25240a435): START TRANSACTION;
[2016-09-10 15:23:22.898] [ INFO] console - Executing (f3624540-a305-4aa4-92a4-bb43c2ab746a): START TRANSACTION;
[2016-09-10 15:23:22.900] [ INFO] console - Executing (e546318b-f942-47dc-89f5-69b25240a435): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:23:22.900] [ INFO] console - Executing (f3624540-a305-4aa4-92a4-bb43c2ab746a): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:23:22.924] [ INFO] console - Executing (default): SELECT "Zemla"."id", "Zemla"."path", "Zemla"."name", "Zemla"."intensity", "Zemla"."note", "Zemla"."created_at", "Zemla"."updated_at", "Zemla"."deleted_at", "Zemla"."parent_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Zemla" AS "Zemla" LEFT OUTER JOIN "File" AS "attachments" ON "Zemla"."id" = "attachments"."zemla_id" AND "attachments"."deleted_at" IS NULL WHERE ("Zemla"."deleted_at" IS NULL AND "Zemla"."id" = 2);
[2016-09-10 15:23:22.928] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 111);
[2016-09-10 15:23:22.933] [ INFO] console - Executing (e546318b-f942-47dc-89f5-69b25240a435): COMMIT;
[2016-09-10 15:23:22.935] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"+1
                                where
                                    '/2/111/' like path||id||'/%'
[2016-09-10 15:23:22.936] [ INFO] console - [ 70,
  428,
  {},
  [ { fullPath: 'null2/',
      id: '2',
      path: null,
      name: 'UnitTest2',
      intensity: 1000,
      note: 'unit test 1473502759032',
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Sat Sep 10 2016 15:19:20 GMT+0500 (YEKT),
      deleted_at: null,
      parent_id: '1',
      attachments: [] } ] ]
[2016-09-10 15:23:22.945] [ INFO] console - Executing (default): INSERT INTO "Kopnik" ("id","name","surname","patronymic","voiskoSize","birth","path","created_at","updated_at","rodina_id","starshina_id") VALUES (DEFAULT,'temp','temp','temp',0,1900,'/2/111/','2016-09-10 10:23:22.903 +00:00','2016-09-10 10:23:22.903 +00:00',NULL,111) RETURNING *;
[2016-09-10 15:23:22.951] [ INFO] console - Executing (f3624540-a305-4aa4-92a4-bb43c2ab746a): COMMIT;
[2016-09-10 15:23:22.952] [ INFO] console - [ 70, 429, {}, [ '112' ] ]
[2016-09-10 15:23:23.889] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/' like k.path||k.id||'/%'
[2016-09-10 15:23:23.898] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 15:23:23.901] [ INFO] console - [ 16,
  8871993673777152,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id2.voiskoChange',
  [],
  { voiskoSize: 3 } ]
[2016-09-10 15:23:23.911] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 4 }
[2016-09-10 15:23:23.924] [ INFO] console - Executing (c9cedb55-30ca-4166-9231-5eb76b8663f2): START TRANSACTION;
[2016-09-10 15:23:23.930] [ INFO] console - Executing (c9cedb55-30ca-4166-9231-5eb76b8663f2): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:23:23.936] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 4);
[2016-09-10 15:23:23.941] [ INFO] console - Executing (c9cedb55-30ca-4166-9231-5eb76b8663f2): COMMIT;
[2016-09-10 15:23:23.943] [ INFO] console - [ 70,
  430,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/4/',
      starshina: [Object],
      id: '4',
      email: 'unittest4@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '4',
      voiskoSize: 0,
      birth: 1983,
      path: '/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: null,
      attachments: [] } ] ]
[2016-09-10 15:23:23.954] [ INFO] console - Executing (5bf900a2-92ba-45eb-beab-04cd89145eb5): START TRANSACTION;
[2016-09-10 15:23:23.957] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/111/' like k.path||k.id||'/%'
[2016-09-10 15:23:23.958] [ INFO] console - Executing (5bf900a2-92ba-45eb-beab-04cd89145eb5): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:23:23.966] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2', '111')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 15:23:23.967] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 111);
[2016-09-10 15:23:23.971] [ INFO] console - [ 16,
  3529765141086208,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id111.voiskoChange',
  [],
  { voiskoSize: 1 } ]
[2016-09-10 15:23:23.977] [ INFO] console - [ 16,
  1265266113642496,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id2.voiskoChange',
  [],
  { voiskoSize: 3 } ]
[2016-09-10 15:23:24.000] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 4);
[2016-09-10 15:23:24.005] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/' like k.path||k.id||'/%'
[2016-09-10 15:23:24.012] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 15:23:24.021] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"-2
                                where
                                    '/2/' like path||id||'/%'
[2016-09-10 15:23:24.031] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopa', id: 3 }
[2016-09-10 15:23:24.034] [ INFO] console - Executing (ac4ae2e7-0ba5-4385-a107-f367e59d9467): START TRANSACTION;
[2016-09-10 15:23:24.041] [ INFO] console - Executing (default): UPDATE "Kopnik" SET "path"='/4/',"starshina_id"='4',"updated_at"='2016-09-10 10:23:24.030 +00:00' WHERE "id" = '111'
[2016-09-10 15:23:24.042] [ INFO] console - Executing (ac4ae2e7-0ba5-4385-a107-f367e59d9467): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:23:24.044] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"+2
                                where
                                    '/4/' like path||id||'/%'
[2016-09-10 15:23:24.055] [ INFO] console - Executing (default): SELECT "Kopa"."id", "Kopa"."question", "Kopa"."planned", "Kopa"."started", "Kopa"."closed", "Kopa"."isOpen", "Kopa"."note", "Kopa"."created_at", "Kopa"."updated_at", "Kopa"."deleted_at", "Kopa"."place_id", "Kopa"."inviter_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopa" AS "Kopa" LEFT OUTER JOIN "File" AS "attachments" ON "Kopa"."id" = "attachments"."kopa_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopa"."deleted_at" IS NULL AND "Kopa"."id" = 3);
[2016-09-10 15:23:24.063] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."starshina_id" = '111');
[2016-09-10 15:23:24.070] [ INFO] console - Executing (ac4ae2e7-0ba5-4385-a107-f367e59d9467): COMMIT;
[2016-09-10 15:23:24.078] [ INFO] console - Executing (default): UPDATE "Kopnik" SET "path"='/4/111/',"updated_at"='2016-09-10 10:23:24.072 +00:00' WHERE "id" = '112'
[2016-09-10 15:23:24.078] [ INFO] console - [ 70,
  433,
  {},
  [ { id: '3',
      question: 'CHE',
      planned: Thu Sep 01 2016 00:00:00 GMT+0500 (YEKT),
      started: Thu Sep 01 2016 00:00:00 GMT+0500 (YEKT),
      closed: null,
      isOpen: false,
      note: null,
      created_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      deleted_at: null,
      place_id: '2',
      inviter_id: '2',
      attachments: [] } ] ]
[2016-09-10 15:23:24.092] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/4/' like k.path||k.id||'/%'
[2016-09-10 15:23:24.093] [ INFO] console - Executing (cd26807a-9728-430a-bddb-eeb7f2a6c91a): START TRANSACTION;
[2016-09-10 15:23:24.096] [ INFO] console - Executing (cd26807a-9728-430a-bddb-eeb7f2a6c91a): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:23:24.101] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('4')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 15:23:24.107] [ INFO] console - Executing (default): INSERT INTO "Predlozhenie" ("id","value","created_at","updated_at","initiator_id","place_id") VALUES (DEFAULT,'some Predlozhenie temp 1473502998499','2016-09-10 10:23:24.102 +00:00','2016-09-10 10:23:24.102 +00:00',2,3) RETURNING *;
[2016-09-10 15:23:24.109] [ INFO] console - Executing (5bf900a2-92ba-45eb-beab-04cd89145eb5): COMMIT;
[2016-09-10 15:23:24.120] [ INFO] console - [ 70, 431, {}, [ undefined ] ]
[2016-09-10 15:23:24.123] [ INFO] console - [ 16,
  7154938842972160,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id2.voiskoChange',
  [],
  { voiskoSize: 1 } ]
[2016-09-10 15:23:24.128] [ INFO] console - Executing (cd26807a-9728-430a-bddb-eeb7f2a6c91a): COMMIT;
[2016-09-10 15:23:24.130] [ INFO] console - [ 16,
  5663600184131584,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id4.voiskoChange',
  [],
  { voiskoSize: 2 } ]
[2016-09-10 15:23:24.135] [ INFO] console - [ 70, 434, {}, [ '15' ] ]
[2016-09-10 15:23:25.136] [ INFO] console - [ 16,
  570491108589568,
  { acknowledge: true },
  'ru.kopa.model.Kopa.id3.predlozhenieAdd',
  [ '15' ] ]
[2016-09-10 15:23:25.143] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Predlozhenie', id: 1 }
[2016-09-10 15:23:25.146] [ INFO] console - Executing (bcaf8a17-34aa-4412-b0e9-09fed3122ada): START TRANSACTION;
[2016-09-10 15:23:25.148] [ INFO] console - Executing (bcaf8a17-34aa-4412-b0e9-09fed3122ada): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:23:25.158] [ INFO] console - Executing (default): SELECT "Predlozhenie"."id", "Predlozhenie"."value", "Predlozhenie"."note", "Predlozhenie"."created_at", "Predlozhenie"."updated_at", "Predlozhenie"."deleted_at", "Predlozhenie"."initiator_id", "Predlozhenie"."place_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Predlozhenie" AS "Predlozhenie" LEFT OUTER JOIN "File" AS "attachments" ON "Predlozhenie"."id" = "attachments"."predlozhenie_id" AND "attachments"."deleted_at" IS NULL WHERE ("Predlozhenie"."deleted_at" IS NULL AND "Predlozhenie"."id" = 1);
[2016-09-10 15:23:25.164] [ INFO] console - Executing (bcaf8a17-34aa-4412-b0e9-09fed3122ada): COMMIT;
[2016-09-10 15:23:25.166] [ INFO] console - [ 70,
  435,
  {},
  [ { id: '1',
      value: 'Будет ...',
      note: null,
      created_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      deleted_at: null,
      initiator_id: '2',
      place_id: '3',
      attachments: [] } ] ]
[2016-09-10 15:23:25.177] [ INFO] console - Executing (c2589081-2245-4a4e-859e-82bd968751c8): START TRANSACTION;
[2016-09-10 15:23:25.178] [ INFO] console - Executing (c2589081-2245-4a4e-859e-82bd968751c8): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:23:25.183] [ INFO] console - Executing (default): INSERT INTO "Golos" ("id","value","created_at","updated_at","for_id","owner_id") VALUES (DEFAULT,1,'2016-09-10 10:23:25.180 +00:00','2016-09-10 10:23:25.180 +00:00',1,2) RETURNING *;
[2016-09-10 15:23:25.196] [ INFO] console - Executing (c2589081-2245-4a4e-859e-82bd968751c8): COMMIT;
[2016-09-10 15:23:25.198] [ INFO] console - [ 70, 436, {}, [ '15' ] ]
[2016-09-10 15:23:26.199] [ INFO] console - [ 16,
  5750742019211264,
  { acknowledge: true },
  'ru.kopa.model.Predlozhenie.id1.golosAdd',
  [ '15' ] ]
[2016-09-10 15:23:26.225] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 2 }
[2016-09-10 15:23:26.227] [ INFO] console - Executing (a4816553-02ad-40b3-893e-424ebe8a15d8): START TRANSACTION;
[2016-09-10 15:23:26.228] [ INFO] console - Executing (a4816553-02ad-40b3-893e-424ebe8a15d8): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:23:26.233] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 2);
[2016-09-10 15:23:26.238] [ INFO] console - Executing (a4816553-02ad-40b3-893e-424ebe8a15d8): COMMIT;
[2016-09-10 15:23:26.239] [ INFO] console - [ 70,
  438,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/2/',
      starshina: [Object],
      id: '2',
      email: 'unittest2@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '1',
      voiskoSize: 1,
      birth: 1983,
      path: '/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: null,
      attachments: [] } ] ]
[2016-09-10 15:23:26.255] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 3 }
[2016-09-10 15:23:26.258] [ INFO] console - Executing (f3f9c84b-26a3-4899-a61e-c03c573ff03a): START TRANSACTION;
[2016-09-10 15:23:26.259] [ INFO] console - Executing (f3f9c84b-26a3-4899-a61e-c03c573ff03a): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:23:26.268] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 3);
[2016-09-10 15:23:26.273] [ INFO] console - Executing (f3f9c84b-26a3-4899-a61e-c03c573ff03a): COMMIT;
[2016-09-10 15:23:26.274] [ INFO] console - [ 70,
  439,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/2/3/',
      starshina: [Object],
      id: '3',
      email: 'unittest3@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '3',
      voiskoSize: 0,
      birth: 1983,
      path: '/2/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: '2',
      attachments: [] } ] ]
[2016-09-10 15:23:26.286] [ INFO] console - Executing (d4a2ad3e-5c1d-4d4c-b723-3ac809fa71fd): START TRANSACTION;
[2016-09-10 15:23:26.287] [ INFO] console - Executing (d4a2ad3e-5c1d-4d4c-b723-3ac809fa71fd): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:23:26.293] [ INFO] console - Executing (default): INSERT INTO "Slovo" ("id","value","note","created_at","updated_at","owner_id","place_id") VALUES (DEFAULT,'123 temp','456','2016-09-10 10:23:26.289 +00:00','2016-09-10 10:23:26.289 +00:00',2,3) RETURNING *;
[2016-09-10 15:23:26.305] [ INFO] console - Executing (d4a2ad3e-5c1d-4d4c-b723-3ac809fa71fd): COMMIT;
[2016-09-10 15:23:26.306] [ INFO] console - [ 70, 440, {}, [ '27' ] ]
[2016-09-10 15:23:26.313] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Slovo', id: 27 }
[2016-09-10 15:23:26.316] [ INFO] console - Executing (cbba0e3f-68e2-46dc-a1f1-60ae998ea437): START TRANSACTION;
[2016-09-10 15:23:26.319] [ INFO] console - Executing (cbba0e3f-68e2-46dc-a1f1-60ae998ea437): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:23:26.326] [ INFO] console - Executing (default): SELECT "Slovo"."id", "Slovo"."value", "Slovo"."note", "Slovo"."created_at", "Slovo"."updated_at", "Slovo"."deleted_at", "Slovo"."owner_id", "Slovo"."place_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Slovo" AS "Slovo" LEFT OUTER JOIN "File" AS "attachments" ON "Slovo"."id" = "attachments"."slovo_id" AND "attachments"."deleted_at" IS NULL WHERE ("Slovo"."deleted_at" IS NULL AND "Slovo"."id" = 27);
[2016-09-10 15:23:26.331] [ INFO] console - Executing (cbba0e3f-68e2-46dc-a1f1-60ae998ea437): COMMIT;
[2016-09-10 15:23:26.332] [ INFO] console - [ 70,
  441,
  {},
  [ { id: '27',
      value: '123 temp',
      note: '456',
      created_at: Sat Sep 10 2016 15:23:26 GMT+0500 (YEKT),
      updated_at: Sat Sep 10 2016 15:23:26 GMT+0500 (YEKT),
      deleted_at: null,
      owner_id: '2',
      place_id: '3',
      attachments: [] } ] ]
[2016-09-10 15:23:26.342] [ INFO] console - Executing (d49d4e8d-3e89-49cb-b3a1-3b32a1e9fdb4): START TRANSACTION;
[2016-09-10 15:23:26.343] [ INFO] console - Executing (d49d4e8d-3e89-49cb-b3a1-3b32a1e9fdb4): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:23:26.348] [ INFO] console - Executing (default): INSERT INTO "Slovo" ("id","value","created_at","updated_at","owner_id","place_id") VALUES (DEFAULT,'some value temp 1473503006339','2016-09-10 10:23:26.345 +00:00','2016-09-10 10:23:26.345 +00:00',2,3) RETURNING *;
[2016-09-10 15:23:26.353] [ INFO] console - Executing (d49d4e8d-3e89-49cb-b3a1-3b32a1e9fdb4): COMMIT;
[2016-09-10 15:23:26.355] [ INFO] console - [ 70, 442, {}, [ '28' ] ]
[2016-09-10 15:23:27.308] [ INFO] console - [ 16,
  1845883012382720,
  { acknowledge: true },
  'ru.kopa.model.Kopa.id3.slovoAdd',
  [ '27' ] ]
[2016-09-10 15:23:27.320] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Zemla', id: 2 }
[2016-09-10 15:23:27.322] [ INFO] console - Executing (25a3de0e-3d97-48f1-a43b-5a9d663e9d2d): START TRANSACTION;
[2016-09-10 15:23:27.323] [ INFO] console - Executing (25a3de0e-3d97-48f1-a43b-5a9d663e9d2d): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:23:27.330] [ INFO] console - Executing (default): SELECT "Zemla"."id", "Zemla"."path", "Zemla"."name", "Zemla"."intensity", "Zemla"."note", "Zemla"."created_at", "Zemla"."updated_at", "Zemla"."deleted_at", "Zemla"."parent_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Zemla" AS "Zemla" LEFT OUTER JOIN "File" AS "attachments" ON "Zemla"."id" = "attachments"."zemla_id" AND "attachments"."deleted_at" IS NULL WHERE ("Zemla"."deleted_at" IS NULL AND "Zemla"."id" = 2);
[2016-09-10 15:23:27.335] [ INFO] console - Executing (25a3de0e-3d97-48f1-a43b-5a9d663e9d2d): COMMIT;
[2016-09-10 15:23:27.336] [ INFO] console - [ 70,
  443,
  {},
  [ { fullPath: 'null2/',
      id: '2',
      path: null,
      name: 'UnitTest2',
      intensity: 1000,
      note: 'unit test 1473502759032',
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Sat Sep 10 2016 15:19:20 GMT+0500 (YEKT),
      deleted_at: null,
      parent_id: '1',
      attachments: [] } ] ]
[2016-09-10 15:23:27.351] [ INFO] console - Executing (c9369396-11ae-4f3b-9c8b-3ea6907eeb8c): START TRANSACTION;
[2016-09-10 15:23:27.353] [ INFO] console - Executing (c9369396-11ae-4f3b-9c8b-3ea6907eeb8c): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:23:27.357] [ INFO] console - Executing (default): SELECT "id", "path", "name", "intensity", "note", "created_at", "updated_at", "deleted_at", "parent_id" FROM "Zemla" AS "Zemla" WHERE ("Zemla"."deleted_at" IS NULL AND "Zemla"."id" = 2);
[2016-09-10 15:23:27.357] [ INFO] console - [ 16,
  1465390181908480,
  { acknowledge: true },
  'ru.kopa.model.Kopa.id3.slovoAdd',
  [ '28' ] ]
[2016-09-10 15:23:27.367] [ INFO] console - Executing (default): UPDATE "Zemla" SET "parent_id"=1,"note"='unit test 1473502998504',"updated_at"='2016-09-10 10:23:27.362 +00:00' WHERE "id" = '2'
[2016-09-10 15:23:27.378] [ INFO] console - Executing (c9369396-11ae-4f3b-9c8b-3ea6907eeb8c): COMMIT;
[2016-09-10 15:23:27.379] [ INFO] console - [ 16,
  8000609164722176,
  { acknowledge: true },
  'ru.kopa.model.Zemla.id2.change' ]
[2016-09-10 15:23:27.383] [ INFO] console - [ 70, 444, {}, [ undefined ] ]
[2016-09-10 15:23:27.386] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Zemla', id: 2 }
[2016-09-10 15:23:27.390] [ INFO] console - Executing (74ec0081-2755-4c0b-b859-e06f347d0ba1): START TRANSACTION;
[2016-09-10 15:23:27.393] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Zemla', id: 2 }
[2016-09-10 15:23:27.396] [ INFO] console - Executing (84444a7e-ec60-4256-90fb-cec30d9d3652): START TRANSACTION;
[2016-09-10 15:23:27.397] [ INFO] console - Executing (74ec0081-2755-4c0b-b859-e06f347d0ba1): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:23:27.398] [ INFO] console - Executing (84444a7e-ec60-4256-90fb-cec30d9d3652): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:23:27.404] [ INFO] console - Executing (default): SELECT "Zemla"."id", "Zemla"."path", "Zemla"."name", "Zemla"."intensity", "Zemla"."note", "Zemla"."created_at", "Zemla"."updated_at", "Zemla"."deleted_at", "Zemla"."parent_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Zemla" AS "Zemla" LEFT OUTER JOIN "File" AS "attachments" ON "Zemla"."id" = "attachments"."zemla_id" AND "attachments"."deleted_at" IS NULL WHERE ("Zemla"."deleted_at" IS NULL AND "Zemla"."id" = 2);
[2016-09-10 15:23:27.414] [ INFO] console - Executing (default): SELECT "Zemla"."id", "Zemla"."path", "Zemla"."name", "Zemla"."intensity", "Zemla"."note", "Zemla"."created_at", "Zemla"."updated_at", "Zemla"."deleted_at", "Zemla"."parent_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Zemla" AS "Zemla" LEFT OUTER JOIN "File" AS "attachments" ON "Zemla"."id" = "attachments"."zemla_id" AND "attachments"."deleted_at" IS NULL WHERE ("Zemla"."deleted_at" IS NULL AND "Zemla"."id" = 2);
[2016-09-10 15:23:27.417] [ INFO] console - Executing (74ec0081-2755-4c0b-b859-e06f347d0ba1): COMMIT;
[2016-09-10 15:23:27.419] [ INFO] console - Executing (84444a7e-ec60-4256-90fb-cec30d9d3652): COMMIT;
[2016-09-10 15:23:27.421] [ INFO] console - [ 70,
  445,
  {},
  [ { fullPath: 'null2/',
      id: '2',
      path: null,
      name: 'UnitTest2',
      intensity: 1000,
      note: 'unit test 1473502998504',
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Sat Sep 10 2016 15:23:27 GMT+0500 (YEKT),
      deleted_at: null,
      parent_id: '1',
      attachments: [] } ] ]
[2016-09-10 15:23:27.425] [ INFO] console - [ 70,
  446,
  {},
  [ { fullPath: 'null2/',
      id: '2',
      path: null,
      name: 'UnitTest2',
      intensity: 1000,
      note: 'unit test 1473502998504',
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Sat Sep 10 2016 15:23:27 GMT+0500 (YEKT),
      deleted_at: null,
      parent_id: '1',
      attachments: [] } ] ]
[2016-09-10 15:23:27.461] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopa', id: 3 }
[2016-09-10 15:23:27.464] [ INFO] console - Executing (cd5292cb-028d-49e1-b0e3-e05964ca832b): START TRANSACTION;
[2016-09-10 15:23:27.465] [ INFO] console - Executing (cd5292cb-028d-49e1-b0e3-e05964ca832b): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:23:27.470] [ INFO] console - Executing (default): SELECT "Kopa"."id", "Kopa"."question", "Kopa"."planned", "Kopa"."started", "Kopa"."closed", "Kopa"."isOpen", "Kopa"."note", "Kopa"."created_at", "Kopa"."updated_at", "Kopa"."deleted_at", "Kopa"."place_id", "Kopa"."inviter_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopa" AS "Kopa" LEFT OUTER JOIN "File" AS "attachments" ON "Kopa"."id" = "attachments"."kopa_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopa"."deleted_at" IS NULL AND "Kopa"."id" = 3);
[2016-09-10 15:23:27.475] [ INFO] console - Executing (cd5292cb-028d-49e1-b0e3-e05964ca832b): COMMIT;
[2016-09-10 15:23:27.476] [ INFO] console - [ 70,
  448,
  {},
  [ { id: '3',
      question: 'CHE',
      planned: Thu Sep 01 2016 00:00:00 GMT+0500 (YEKT),
      started: Thu Sep 01 2016 00:00:00 GMT+0500 (YEKT),
      closed: null,
      isOpen: false,
      note: null,
      created_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      deleted_at: null,
      place_id: '2',
      inviter_id: '2',
      attachments: [] } ] ]
[2016-09-10 15:23:27.487] [ INFO] console - Executing (b3a7a984-e02b-4cb6-926c-75cc17bfa59a): START TRANSACTION;
[2016-09-10 15:23:27.488] [ INFO] console - Executing (b3a7a984-e02b-4cb6-926c-75cc17bfa59a): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:23:27.494] [ INFO] console - Executing (default): INSERT INTO "Slovo" ("id","value","created_at","updated_at","owner_id","place_id") VALUES (DEFAULT,'some Slovo temp','2016-09-10 10:23:27.490 +00:00','2016-09-10 10:23:27.490 +00:00',2,3) RETURNING *;
[2016-09-10 15:23:27.496] [ INFO] console - Executing (b3a7a984-e02b-4cb6-926c-75cc17bfa59a): COMMIT;
[2016-09-10 15:23:27.497] [ INFO] console - [ 70, 449, {}, [ '29' ] ]
[2016-09-10 15:23:28.497] [ INFO] console - [ 16,
  3605392217079808,
  { acknowledge: true },
  'ru.kopa.model.Kopa.id3.slovoAdd',
  [ '29' ] ]
[2016-09-10 15:30:25.503] [ INFO] console - [ 70, 451, {}, [ 'unittest2@domain.ru' ] ]
[2016-09-10 15:30:25.520] [DEBUG] Server - #pingPong() [ 1, 2, 3 ] { x: 1, y: 2, z: 3 }
[2016-09-10 15:30:25.522] [ INFO] console - [ 70, 452, {}, [ 1, 2, 3 ], { x: 1, y: 2, z: 3 } ]
[2016-09-10 15:30:25.642] [ INFO] console - Executing (default): select 'КОПА' as result
[2016-09-10 15:30:25.644] [ INFO] console - [ 70, 453, {}, [ 'КОПА' ] ]
[2016-09-10 15:30:25.650] [DEBUG] Server - #error() [ 'sadkljfaskldjfs;af' ] {}
[2016-09-10 15:30:25.655] [ERROR] Server - [Error: sadkljfaskldjfs;af]
Error: sadkljfaskldjfs;af
    at MySuperError (Server.js:335:9)
    at fn.constructor.error.Error (Server.js:340:19)
    at new wrappedPromise (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/async-listener/index.js:372:16)
    at Server.error (Server.js:339:16)
    at Object.<anonymous> (Server.js:411:43)
    at [object Generator].next (native)
    at step (/home/alexey2baranov/htdocs/kp-sequelizejs/src/Server.js:1:253)
    at /home/alexey2baranov/htdocs/kp-sequelizejs/src/Server.js:1:513
    at new wrappedPromise (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/async-listener/index.js:372:16)
    at Object.<anonymous> (/home/alexey2baranov/htdocs/kp-sequelizejs/src/Server.js:1:161)
    at Object.<anonymous> (Server.js:408:28)
    at tryCatchResolve (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/apply.js:46:23)
    at callAndResolve (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/apply.js:30:12)
    at callAndResolveNext (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/apply.js:40:4)
    at tryCatchReject3 (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/makePromise.js:856:7)
    at runContinuation3 (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/makePromise.js:814:4)
[2016-09-10 15:30:25.660] [ INFO] console - [ 8,
  68,
  454,
  {},
  'MySuperError',
  [ 'sadkljfaskldjfs;af' ],
  { stack: 
     [ 'Error: sadkljfaskldjfs;af',
       '    at MySuperError (Server.js:335:9)',
       '    at fn.constructor.error.Error (Server.js:340:19)',
       '    at new wrappedPromise (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/async-listener/index.js:372:16)',
       '    at Server.error (Server.js:339:16)',
       '    at Object.<anonymous> (Server.js:411:43)',
       '    at [object Generator].next (native)',
       '    at step (/home/alexey2baranov/htdocs/kp-sequelizejs/src/Server.js:1:253)',
       '    at /home/alexey2baranov/htdocs/kp-sequelizejs/src/Server.js:1:513',
       '    at new wrappedPromise (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/async-listener/index.js:372:16)',
       '    at Object.<anonymous> (/home/alexey2baranov/htdocs/kp-sequelizejs/src/Server.js:1:161)',
       '    at Object.<anonymous> (Server.js:408:28)',
       '    at tryCatchResolve (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/apply.js:46:23)',
       '    at callAndResolve (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/apply.js:30:12)',
       '    at callAndResolveNext (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/apply.js:40:4)',
       '    at tryCatchReject3 (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/makePromise.js:856:7)',
       '    at runContinuation3 (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/makePromise.js:814:4)' ] } ]
[2016-09-10 15:30:25.671] [ INFO] console - [ 70, 455, {}, [ undefined ] ]
[2016-09-10 15:30:25.674] [ INFO] console - Executing (default): delete from "Slovo"
                where
                    place_id<5
                    and value like '%temp'
[2016-09-10 15:30:25.690] [ INFO] console - Executing (default): delete from "Kopnik"
                where
                    name like '%temp'
[2016-09-10 15:30:25.696] [ INFO] console - Executing (default): update "Kopnik"
                set 
                    "voiskoSize"= case when id=2 then 1 ELSE 0 END
                where
                    id>1 
                    and id<=5
[2016-09-10 15:30:25.739] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopa', id: 3 }
[2016-09-10 15:30:25.742] [ INFO] console - Executing (62808691-0aeb-418f-9b33-39025c1a2c14): START TRANSACTION;
[2016-09-10 15:30:25.745] [ INFO] console - Executing (62808691-0aeb-418f-9b33-39025c1a2c14): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:30:25.762] [ INFO] console - Executing (default): SELECT "Kopa"."id", "Kopa"."question", "Kopa"."planned", "Kopa"."started", "Kopa"."closed", "Kopa"."isOpen", "Kopa"."note", "Kopa"."created_at", "Kopa"."updated_at", "Kopa"."deleted_at", "Kopa"."place_id", "Kopa"."inviter_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopa" AS "Kopa" LEFT OUTER JOIN "File" AS "attachments" ON "Kopa"."id" = "attachments"."kopa_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopa"."deleted_at" IS NULL AND "Kopa"."id" = 3);
[2016-09-10 15:30:25.770] [ INFO] console - Executing (62808691-0aeb-418f-9b33-39025c1a2c14): COMMIT;
[2016-09-10 15:30:25.771] [ INFO] console - [ 70,
  457,
  {},
  [ { id: '3',
      question: 'CHE',
      planned: Thu Sep 01 2016 00:00:00 GMT+0500 (YEKT),
      started: Thu Sep 01 2016 00:00:00 GMT+0500 (YEKT),
      closed: null,
      isOpen: false,
      note: null,
      created_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      deleted_at: null,
      place_id: '2',
      inviter_id: '2',
      attachments: [] } ] ]
[2016-09-10 15:30:25.787] [ INFO] console - Executing (f147443b-6f47-424f-b421-0760882990c0): START TRANSACTION;
[2016-09-10 15:30:25.789] [ INFO] console - Executing (f147443b-6f47-424f-b421-0760882990c0): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:30:25.793] [ INFO] console - Executing (default): INSERT INTO "Golos" ("id","value","created_at","updated_at","for_id","owner_id") VALUES (DEFAULT,1,'2016-09-10 10:30:25.790 +00:00','2016-09-10 10:30:25.790 +00:00',1,2) RETURNING *;
[2016-09-10 15:30:25.800] [ INFO] console - Executing (f147443b-6f47-424f-b421-0760882990c0): COMMIT;
[2016-09-10 15:30:25.803] [ INFO] console - [ 70, 458, {}, [ '16' ] ]
[2016-09-10 15:30:26.803] [ INFO] console - [ 16,
  4980007749287936,
  { acknowledge: true },
  'ru.kopa.model.Predlozhenie.id1.golosAdd',
  [ '16' ] ]
[2016-09-10 15:30:26.843] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopa', id: 3 }
[2016-09-10 15:30:26.846] [ INFO] console - Executing (14e8edc6-72aa-4383-b07b-7c0e8d4110b3): START TRANSACTION;
[2016-09-10 15:30:26.848] [ INFO] console - Executing (14e8edc6-72aa-4383-b07b-7c0e8d4110b3): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:30:26.855] [ INFO] console - Executing (default): SELECT "Kopa"."id", "Kopa"."question", "Kopa"."planned", "Kopa"."started", "Kopa"."closed", "Kopa"."isOpen", "Kopa"."note", "Kopa"."created_at", "Kopa"."updated_at", "Kopa"."deleted_at", "Kopa"."place_id", "Kopa"."inviter_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopa" AS "Kopa" LEFT OUTER JOIN "File" AS "attachments" ON "Kopa"."id" = "attachments"."kopa_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopa"."deleted_at" IS NULL AND "Kopa"."id" = 3);
[2016-09-10 15:30:26.861] [ INFO] console - Executing (14e8edc6-72aa-4383-b07b-7c0e8d4110b3): COMMIT;
[2016-09-10 15:30:26.863] [ INFO] console - [ 70,
  460,
  {},
  [ { id: '3',
      question: 'CHE',
      planned: Thu Sep 01 2016 00:00:00 GMT+0500 (YEKT),
      started: Thu Sep 01 2016 00:00:00 GMT+0500 (YEKT),
      closed: null,
      isOpen: false,
      note: null,
      created_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      deleted_at: null,
      place_id: '2',
      inviter_id: '2',
      attachments: [] } ] ]
[2016-09-10 15:30:26.873] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 2 }
[2016-09-10 15:30:26.876] [ INFO] console - Executing (a71df128-4302-4e7d-9f9c-9f629fb0d2c5): START TRANSACTION;
[2016-09-10 15:30:26.878] [ INFO] console - Executing (a71df128-4302-4e7d-9f9c-9f629fb0d2c5): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:30:26.885] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 2);
[2016-09-10 15:30:26.891] [ INFO] console - Executing (a71df128-4302-4e7d-9f9c-9f629fb0d2c5): COMMIT;
[2016-09-10 15:30:26.893] [ INFO] console - [ 70,
  461,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/2/',
      starshina: [Object],
      id: '2',
      email: 'unittest2@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '1',
      voiskoSize: 1,
      birth: 1983,
      path: '/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: null,
      attachments: [] } ] ]
[2016-09-10 15:30:26.904] [ INFO] console - Executing (ad299e8f-4c13-44b6-bd48-67b045e41ad0): START TRANSACTION;
[2016-09-10 15:30:26.907] [ INFO] console - Executing (ad299e8f-4c13-44b6-bd48-67b045e41ad0): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:30:26.913] [ INFO] console - Executing (default): INSERT INTO "Slovo" ("id","value","created_at","updated_at","owner_id","place_id") VALUES (DEFAULT,'some Slovo temp 1473503426901','2016-09-10 10:30:26.909 +00:00','2016-09-10 10:30:26.909 +00:00',2,3) RETURNING *;
[2016-09-10 15:30:26.920] [ INFO] console - Executing (ad299e8f-4c13-44b6-bd48-67b045e41ad0): COMMIT;
[2016-09-10 15:30:26.921] [ INFO] console - [ 70, 462, {}, [ '30' ] ]
[2016-09-10 15:30:27.921] [ INFO] console - [ 16,
  4117993642524672,
  { acknowledge: true },
  'ru.kopa.model.Kopa.id3.slovoAdd',
  [ '30' ] ]
[2016-09-10 15:30:27.931] [ INFO] console - Executing (1b16dd25-353d-4e4f-96b5-92f3fd511924): START TRANSACTION;
[2016-09-10 15:30:27.935] [ INFO] console - Executing (1b16dd25-353d-4e4f-96b5-92f3fd511924): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:30:27.939] [ INFO] console - Executing (default): INSERT INTO "Predlozhenie" ("id","value","created_at","updated_at","initiator_id","place_id") VALUES (DEFAULT,'some Predlozhenie temp 1473503427928','2016-09-10 10:30:27.936 +00:00','2016-09-10 10:30:27.936 +00:00',2,3) RETURNING *;
[2016-09-10 15:30:27.943] [ INFO] console - Executing (1b16dd25-353d-4e4f-96b5-92f3fd511924): COMMIT;
[2016-09-10 15:30:27.948] [ INFO] console - [ 70, 463, {}, [ '16' ] ]
[2016-09-10 15:30:28.949] [ INFO] console - [ 16,
  4247441419272192,
  { acknowledge: true },
  'ru.kopa.model.Kopa.id3.predlozhenieAdd',
  [ '16' ] ]
[2016-09-10 15:30:29.012] [ INFO] console - [ 70, 465, {}, [ undefined ] ]
[2016-09-10 15:30:29.015] [ INFO] console - Executing (default): delete from "Kopnik"
                where
                    name like '%temp'
[2016-09-10 15:30:29.018] [ INFO] console - Executing (default): update "Kopnik"
                set 
                    "voiskoSize"= case when id=2 then 1 ELSE 0 END
                where
                    id>1 
                    and id<=5
[2016-09-10 15:30:29.022] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 2 }
[2016-09-10 15:30:29.026] [ INFO] console - Executing (41b90fb2-fd72-4380-bdf4-70a95b2009b8): START TRANSACTION;
[2016-09-10 15:30:29.028] [ INFO] console - Executing (41b90fb2-fd72-4380-bdf4-70a95b2009b8): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:30:29.035] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 2);
[2016-09-10 15:30:29.040] [ INFO] console - Executing (41b90fb2-fd72-4380-bdf4-70a95b2009b8): COMMIT;
[2016-09-10 15:30:29.042] [ INFO] console - [ 70,
  466,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/2/',
      starshina: [Object],
      id: '2',
      email: 'unittest2@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '1',
      voiskoSize: 1,
      birth: 1983,
      path: '/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: null,
      attachments: [] } ] ]
[2016-09-10 15:30:29.055] [ INFO] console - Executing (23b0d57a-f566-4b28-9f3e-bc2cb64da585): START TRANSACTION;
[2016-09-10 15:30:29.057] [ INFO] console - Executing (23b0d57a-f566-4b28-9f3e-bc2cb64da585): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:30:29.064] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 2);
[2016-09-10 15:30:29.068] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"+1
                                where
                                    '/2/' like path||id||'/%'
[2016-09-10 15:30:29.074] [ INFO] console - Executing (default): INSERT INTO "Kopnik" ("id","name","surname","patronymic","voiskoSize","birth","path","created_at","updated_at","rodina_id","starshina_id") VALUES (DEFAULT,'temp','temp','temp',0,1900,'/2/','2016-09-10 10:30:29.060 +00:00','2016-09-10 10:30:29.060 +00:00',NULL,2) RETURNING *;
[2016-09-10 15:30:29.078] [ INFO] console - Executing (23b0d57a-f566-4b28-9f3e-bc2cb64da585): COMMIT;
[2016-09-10 15:30:29.079] [ INFO] console - [ 70, 467, {}, [ '113' ] ]
[2016-09-10 15:30:29.087] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Zemla', id: 2 }
[2016-09-10 15:30:29.090] [ INFO] console - Executing (de1faced-bcda-4e99-bb4b-78a8a72d6209): START TRANSACTION;
[2016-09-10 15:30:29.091] [ INFO] console - Executing (36a74800-a08d-41f7-b810-acc287b33b78): START TRANSACTION;
[2016-09-10 15:30:29.092] [ INFO] console - Executing (de1faced-bcda-4e99-bb4b-78a8a72d6209): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:30:29.093] [ INFO] console - Executing (36a74800-a08d-41f7-b810-acc287b33b78): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:30:29.116] [ INFO] console - Executing (default): SELECT "Zemla"."id", "Zemla"."path", "Zemla"."name", "Zemla"."intensity", "Zemla"."note", "Zemla"."created_at", "Zemla"."updated_at", "Zemla"."deleted_at", "Zemla"."parent_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Zemla" AS "Zemla" LEFT OUTER JOIN "File" AS "attachments" ON "Zemla"."id" = "attachments"."zemla_id" AND "attachments"."deleted_at" IS NULL WHERE ("Zemla"."deleted_at" IS NULL AND "Zemla"."id" = 2);
[2016-09-10 15:30:29.119] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 113);
[2016-09-10 15:30:29.125] [ INFO] console - Executing (de1faced-bcda-4e99-bb4b-78a8a72d6209): COMMIT;
[2016-09-10 15:30:29.126] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"+1
                                where
                                    '/2/113/' like path||id||'/%'
[2016-09-10 15:30:29.127] [ INFO] console - [ 70,
  468,
  {},
  [ { fullPath: 'null2/',
      id: '2',
      path: null,
      name: 'UnitTest2',
      intensity: 1000,
      note: 'unit test 1473502998504',
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Sat Sep 10 2016 15:23:27 GMT+0500 (YEKT),
      deleted_at: null,
      parent_id: '1',
      attachments: [] } ] ]
[2016-09-10 15:30:29.136] [ INFO] console - Executing (default): INSERT INTO "Kopnik" ("id","name","surname","patronymic","voiskoSize","birth","path","created_at","updated_at","rodina_id","starshina_id") VALUES (DEFAULT,'temp','temp','temp',0,1900,'/2/113/','2016-09-10 10:30:29.096 +00:00','2016-09-10 10:30:29.096 +00:00',NULL,113) RETURNING *;
[2016-09-10 15:30:29.139] [ INFO] console - Executing (36a74800-a08d-41f7-b810-acc287b33b78): COMMIT;
[2016-09-10 15:30:29.141] [ INFO] console - [ 70, 469, {}, [ '114' ] ]
[2016-09-10 15:30:30.082] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/' like k.path||k.id||'/%'
[2016-09-10 15:30:30.088] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 15:30:30.090] [ INFO] console - [ 16,
  5588863665831936,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id2.voiskoChange',
  [],
  { voiskoSize: 3 } ]
[2016-09-10 15:30:30.101] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 4 }
[2016-09-10 15:30:30.104] [ INFO] console - Executing (5c00bdfa-a49d-40dd-9ffd-9c7536da6b4c): START TRANSACTION;
[2016-09-10 15:30:30.107] [ INFO] console - Executing (5c00bdfa-a49d-40dd-9ffd-9c7536da6b4c): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:30:30.114] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 4);
[2016-09-10 15:30:30.121] [ INFO] console - Executing (5c00bdfa-a49d-40dd-9ffd-9c7536da6b4c): COMMIT;
[2016-09-10 15:30:30.123] [ INFO] console - [ 70,
  470,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/4/',
      starshina: [Object],
      id: '4',
      email: 'unittest4@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '4',
      voiskoSize: 0,
      birth: 1983,
      path: '/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: null,
      attachments: [] } ] ]
[2016-09-10 15:30:30.135] [ INFO] console - Executing (4a762af4-3a02-4c5e-a749-8c03d59ba3d9): START TRANSACTION;
[2016-09-10 15:30:30.140] [ INFO] console - Executing (4a762af4-3a02-4c5e-a749-8c03d59ba3d9): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:30:30.142] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/113/' like k.path||k.id||'/%'
[2016-09-10 15:30:30.149] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 113);
[2016-09-10 15:30:30.154] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2', '113')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 15:30:30.158] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 4);
[2016-09-10 15:30:30.163] [ INFO] console - [ 16,
  7559639277240320,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id113.voiskoChange',
  [],
  { voiskoSize: 1 } ]
[2016-09-10 15:30:30.170] [ INFO] console - [ 16,
  1361018533969920,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id2.voiskoChange',
  [],
  { voiskoSize: 3 } ]
[2016-09-10 15:30:30.175] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/' like k.path||k.id||'/%'
[2016-09-10 15:30:30.182] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 15:30:30.186] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"-2
                                where
                                    '/2/' like path||id||'/%'
[2016-09-10 15:30:30.193] [ INFO] console - Executing (default): UPDATE "Kopnik" SET "path"='/4/',"starshina_id"='4',"updated_at"='2016-09-10 10:30:30.188 +00:00' WHERE "id" = '113'
[2016-09-10 15:30:30.197] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"+2
                                where
                                    '/4/' like path||id||'/%'
[2016-09-10 15:30:30.210] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."starshina_id" = '113');
[2016-09-10 15:30:30.218] [ INFO] console - Executing (default): UPDATE "Kopnik" SET "path"='/4/113/',"updated_at"='2016-09-10 10:30:30.213 +00:00' WHERE "id" = '114'
[2016-09-10 15:30:30.222] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/4/' like k.path||k.id||'/%'
[2016-09-10 15:30:30.228] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('4')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 15:30:30.233] [ INFO] console - Executing (4a762af4-3a02-4c5e-a749-8c03d59ba3d9): COMMIT;
[2016-09-10 15:30:30.235] [ INFO] console - [ 70, 471, {}, [ undefined ] ]
[2016-09-10 15:30:30.238] [ INFO] console - [ 16,
  3051757095616512,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id2.voiskoChange',
  [],
  { voiskoSize: 1 } ]
[2016-09-10 15:30:30.259] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopa', id: 3 }
[2016-09-10 15:30:30.262] [ INFO] console - [ 16,
  6964224920125440,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id4.voiskoChange',
  [],
  { voiskoSize: 2 } ]
[2016-09-10 15:30:30.265] [ INFO] console - Executing (457c6d4b-b851-4ace-86ca-83a83b5e70f2): START TRANSACTION;
[2016-09-10 15:30:30.266] [ INFO] console - Executing (457c6d4b-b851-4ace-86ca-83a83b5e70f2): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:30:30.274] [ INFO] console - Executing (default): SELECT "Kopa"."id", "Kopa"."question", "Kopa"."planned", "Kopa"."started", "Kopa"."closed", "Kopa"."isOpen", "Kopa"."note", "Kopa"."created_at", "Kopa"."updated_at", "Kopa"."deleted_at", "Kopa"."place_id", "Kopa"."inviter_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopa" AS "Kopa" LEFT OUTER JOIN "File" AS "attachments" ON "Kopa"."id" = "attachments"."kopa_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopa"."deleted_at" IS NULL AND "Kopa"."id" = 3);
[2016-09-10 15:30:30.279] [ INFO] console - Executing (457c6d4b-b851-4ace-86ca-83a83b5e70f2): COMMIT;
[2016-09-10 15:30:30.280] [ INFO] console - [ 70,
  473,
  {},
  [ { id: '3',
      question: 'CHE',
      planned: Thu Sep 01 2016 00:00:00 GMT+0500 (YEKT),
      started: Thu Sep 01 2016 00:00:00 GMT+0500 (YEKT),
      closed: null,
      isOpen: false,
      note: null,
      created_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      deleted_at: null,
      place_id: '2',
      inviter_id: '2',
      attachments: [] } ] ]
[2016-09-10 15:30:30.295] [ INFO] console - Executing (2529f999-36a7-498f-93d2-d89fb650fc1a): START TRANSACTION;
[2016-09-10 15:30:30.296] [ INFO] console - Executing (2529f999-36a7-498f-93d2-d89fb650fc1a): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:30:30.302] [ INFO] console - Executing (default): INSERT INTO "Predlozhenie" ("id","value","created_at","updated_at","initiator_id","place_id") VALUES (DEFAULT,'some Predlozhenie temp 1473503422425','2016-09-10 10:30:30.298 +00:00','2016-09-10 10:30:30.298 +00:00',2,3) RETURNING *;
[2016-09-10 15:30:30.308] [ INFO] console - Executing (2529f999-36a7-498f-93d2-d89fb650fc1a): COMMIT;
[2016-09-10 15:30:30.311] [ INFO] console - [ 70, 474, {}, [ '17' ] ]
[2016-09-10 15:30:31.311] [ INFO] console - [ 16,
  6756601511804928,
  { acknowledge: true },
  'ru.kopa.model.Kopa.id3.predlozhenieAdd',
  [ '17' ] ]
[2016-09-10 15:30:31.318] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Predlozhenie', id: 1 }
[2016-09-10 15:30:31.320] [ INFO] console - Executing (1f148618-8bb6-4ee8-a420-bcf36e5f76d9): START TRANSACTION;
[2016-09-10 15:30:31.323] [ INFO] console - Executing (1f148618-8bb6-4ee8-a420-bcf36e5f76d9): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:30:31.331] [ INFO] console - Executing (default): SELECT "Predlozhenie"."id", "Predlozhenie"."value", "Predlozhenie"."note", "Predlozhenie"."created_at", "Predlozhenie"."updated_at", "Predlozhenie"."deleted_at", "Predlozhenie"."initiator_id", "Predlozhenie"."place_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Predlozhenie" AS "Predlozhenie" LEFT OUTER JOIN "File" AS "attachments" ON "Predlozhenie"."id" = "attachments"."predlozhenie_id" AND "attachments"."deleted_at" IS NULL WHERE ("Predlozhenie"."deleted_at" IS NULL AND "Predlozhenie"."id" = 1);
[2016-09-10 15:30:31.338] [ INFO] console - Executing (1f148618-8bb6-4ee8-a420-bcf36e5f76d9): COMMIT;
[2016-09-10 15:30:31.339] [ INFO] console - [ 70,
  475,
  {},
  [ { id: '1',
      value: 'Будет ...',
      note: null,
      created_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      deleted_at: null,
      initiator_id: '2',
      place_id: '3',
      attachments: [] } ] ]
[2016-09-10 15:30:31.352] [ INFO] console - Executing (0edd732a-d391-4255-9bf1-0fd7c8568d74): START TRANSACTION;
[2016-09-10 15:30:31.354] [ INFO] console - Executing (0edd732a-d391-4255-9bf1-0fd7c8568d74): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:30:31.361] [ INFO] console - Executing (default): INSERT INTO "Golos" ("id","value","created_at","updated_at","for_id","owner_id") VALUES (DEFAULT,1,'2016-09-10 10:30:31.356 +00:00','2016-09-10 10:30:31.356 +00:00',1,2) RETURNING *;
[2016-09-10 15:30:31.365] [ INFO] console - Executing (0edd732a-d391-4255-9bf1-0fd7c8568d74): COMMIT;
[2016-09-10 15:30:31.366] [ INFO] console - [ 70, 476, {}, [ '17' ] ]
[2016-09-10 15:30:32.366] [ INFO] console - [ 16,
  7037400486248448,
  { acknowledge: true },
  'ru.kopa.model.Predlozhenie.id1.golosAdd',
  [ '17' ] ]
[2016-09-10 15:30:32.433] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 2 }
[2016-09-10 15:30:32.436] [ INFO] console - Executing (a4db1207-3a89-4a93-a044-1c1374ed02d8): START TRANSACTION;
[2016-09-10 15:30:32.441] [ INFO] console - Executing (a4db1207-3a89-4a93-a044-1c1374ed02d8): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:30:32.450] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 2);
[2016-09-10 15:30:32.456] [ INFO] console - Executing (a4db1207-3a89-4a93-a044-1c1374ed02d8): COMMIT;
[2016-09-10 15:30:32.458] [ INFO] console - [ 70,
  478,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/2/',
      starshina: [Object],
      id: '2',
      email: 'unittest2@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '1',
      voiskoSize: 1,
      birth: 1983,
      path: '/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: null,
      attachments: [] } ] ]
[2016-09-10 15:30:32.475] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 3 }
[2016-09-10 15:30:32.479] [ INFO] console - Executing (5604eedf-68bc-4212-abc2-a62f993ca040): START TRANSACTION;
[2016-09-10 15:30:32.480] [ INFO] console - Executing (5604eedf-68bc-4212-abc2-a62f993ca040): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:30:32.488] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 3);
[2016-09-10 15:30:32.496] [ INFO] console - Executing (5604eedf-68bc-4212-abc2-a62f993ca040): COMMIT;
[2016-09-10 15:30:32.498] [ INFO] console - [ 70,
  479,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/2/3/',
      starshina: [Object],
      id: '3',
      email: 'unittest3@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '3',
      voiskoSize: 0,
      birth: 1983,
      path: '/2/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: '2',
      attachments: [] } ] ]
[2016-09-10 15:30:32.513] [ INFO] console - Executing (271ec774-fdd3-46bf-abbb-280ced1dba33): START TRANSACTION;
[2016-09-10 15:30:32.515] [ INFO] console - Executing (271ec774-fdd3-46bf-abbb-280ced1dba33): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:30:32.522] [ INFO] console - Executing (default): INSERT INTO "Slovo" ("id","value","note","created_at","updated_at","owner_id","place_id") VALUES (DEFAULT,'123 temp','456','2016-09-10 10:30:32.517 +00:00','2016-09-10 10:30:32.517 +00:00',2,3) RETURNING *;
[2016-09-10 15:30:32.527] [ INFO] console - Executing (271ec774-fdd3-46bf-abbb-280ced1dba33): COMMIT;
[2016-09-10 15:30:32.528] [ INFO] console - [ 70, 480, {}, [ '31' ] ]
[2016-09-10 15:30:32.536] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Slovo', id: 31 }
[2016-09-10 15:30:32.539] [ INFO] console - Executing (334cbaf9-90ca-469c-a063-a342fb2b84f8): START TRANSACTION;
[2016-09-10 15:30:32.540] [ INFO] console - Executing (334cbaf9-90ca-469c-a063-a342fb2b84f8): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:30:32.549] [ INFO] console - Executing (default): SELECT "Slovo"."id", "Slovo"."value", "Slovo"."note", "Slovo"."created_at", "Slovo"."updated_at", "Slovo"."deleted_at", "Slovo"."owner_id", "Slovo"."place_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Slovo" AS "Slovo" LEFT OUTER JOIN "File" AS "attachments" ON "Slovo"."id" = "attachments"."slovo_id" AND "attachments"."deleted_at" IS NULL WHERE ("Slovo"."deleted_at" IS NULL AND "Slovo"."id" = 31);
[2016-09-10 15:30:32.559] [ INFO] console - Executing (334cbaf9-90ca-469c-a063-a342fb2b84f8): COMMIT;
[2016-09-10 15:30:32.560] [ INFO] console - [ 70,
  481,
  {},
  [ { id: '31',
      value: '123 temp',
      note: '456',
      created_at: Sat Sep 10 2016 15:30:32 GMT+0500 (YEKT),
      updated_at: Sat Sep 10 2016 15:30:32 GMT+0500 (YEKT),
      deleted_at: null,
      owner_id: '2',
      place_id: '3',
      attachments: [] } ] ]
[2016-09-10 15:30:32.571] [ INFO] console - Executing (81308466-ca3d-43ce-bd75-56a781403309): START TRANSACTION;
[2016-09-10 15:30:32.572] [ INFO] console - Executing (81308466-ca3d-43ce-bd75-56a781403309): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:30:32.577] [ INFO] console - Executing (default): INSERT INTO "Slovo" ("id","value","created_at","updated_at","owner_id","place_id") VALUES (DEFAULT,'some value temp 1473503432567','2016-09-10 10:30:32.574 +00:00','2016-09-10 10:30:32.574 +00:00',2,3) RETURNING *;
[2016-09-10 15:30:32.583] [ INFO] console - Executing (81308466-ca3d-43ce-bd75-56a781403309): COMMIT;
[2016-09-10 15:30:32.585] [ INFO] console - [ 70, 482, {}, [ '32' ] ]
[2016-09-10 15:30:33.529] [ INFO] console - [ 16,
  2098106864762880,
  { acknowledge: true },
  'ru.kopa.model.Kopa.id3.slovoAdd',
  [ '31' ] ]
[2016-09-10 15:30:33.536] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Zemla', id: 2 }
[2016-09-10 15:30:33.539] [ INFO] console - Executing (a5ee51b9-a2b5-41ca-b171-9f40482aa364): START TRANSACTION;
[2016-09-10 15:30:33.542] [ INFO] console - Executing (a5ee51b9-a2b5-41ca-b171-9f40482aa364): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:30:33.549] [ INFO] console - Executing (default): SELECT "Zemla"."id", "Zemla"."path", "Zemla"."name", "Zemla"."intensity", "Zemla"."note", "Zemla"."created_at", "Zemla"."updated_at", "Zemla"."deleted_at", "Zemla"."parent_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Zemla" AS "Zemla" LEFT OUTER JOIN "File" AS "attachments" ON "Zemla"."id" = "attachments"."zemla_id" AND "attachments"."deleted_at" IS NULL WHERE ("Zemla"."deleted_at" IS NULL AND "Zemla"."id" = 2);
[2016-09-10 15:30:33.555] [ INFO] console - Executing (a5ee51b9-a2b5-41ca-b171-9f40482aa364): COMMIT;
[2016-09-10 15:30:33.558] [ INFO] console - [ 70,
  483,
  {},
  [ { fullPath: 'null2/',
      id: '2',
      path: null,
      name: 'UnitTest2',
      intensity: 1000,
      note: 'unit test 1473502998504',
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Sat Sep 10 2016 15:23:27 GMT+0500 (YEKT),
      deleted_at: null,
      parent_id: '1',
      attachments: [] } ] ]
[2016-09-10 15:30:33.572] [ INFO] console - Executing (405f7765-6c1d-4f57-b38d-32a40f89fbe6): START TRANSACTION;
[2016-09-10 15:30:33.573] [ INFO] console - Executing (405f7765-6c1d-4f57-b38d-32a40f89fbe6): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:30:33.579] [ INFO] console - Executing (default): SELECT "id", "path", "name", "intensity", "note", "created_at", "updated_at", "deleted_at", "parent_id" FROM "Zemla" AS "Zemla" WHERE ("Zemla"."deleted_at" IS NULL AND "Zemla"."id" = 2);
[2016-09-10 15:30:33.592] [ INFO] console - Executing (default): UPDATE "Zemla" SET "parent_id"=1,"note"='unit test 1473503422430',"updated_at"='2016-09-10 10:30:33.583 +00:00' WHERE "id" = '2'
[2016-09-10 15:30:33.592] [ INFO] console - [ 16,
  8226497701609472,
  { acknowledge: true },
  'ru.kopa.model.Kopa.id3.slovoAdd',
  [ '32' ] ]
[2016-09-10 15:30:33.599] [ INFO] console - Executing (405f7765-6c1d-4f57-b38d-32a40f89fbe6): COMMIT;
[2016-09-10 15:30:33.600] [ INFO] console - [ 16,
  7711439680700416,
  { acknowledge: true },
  'ru.kopa.model.Zemla.id2.change' ]
[2016-09-10 15:30:33.609] [ INFO] console - [ 70, 484, {}, [ undefined ] ]
[2016-09-10 15:30:33.612] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Zemla', id: 2 }
[2016-09-10 15:30:33.615] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Zemla', id: 2 }
[2016-09-10 15:30:33.618] [ INFO] console - Executing (a9ec5b7a-2c00-4a94-8976-f9c444a5e293): START TRANSACTION;
[2016-09-10 15:30:33.618] [ INFO] console - Executing (3a97890a-9c1e-411f-bc59-a078407d4ef1): START TRANSACTION;
[2016-09-10 15:30:33.620] [ INFO] console - Executing (a9ec5b7a-2c00-4a94-8976-f9c444a5e293): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:30:33.621] [ INFO] console - Executing (3a97890a-9c1e-411f-bc59-a078407d4ef1): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:30:33.635] [ INFO] console - Executing (default): SELECT "Zemla"."id", "Zemla"."path", "Zemla"."name", "Zemla"."intensity", "Zemla"."note", "Zemla"."created_at", "Zemla"."updated_at", "Zemla"."deleted_at", "Zemla"."parent_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Zemla" AS "Zemla" LEFT OUTER JOIN "File" AS "attachments" ON "Zemla"."id" = "attachments"."zemla_id" AND "attachments"."deleted_at" IS NULL WHERE ("Zemla"."deleted_at" IS NULL AND "Zemla"."id" = 2);
[2016-09-10 15:30:33.635] [ INFO] console - Executing (default): SELECT "Zemla"."id", "Zemla"."path", "Zemla"."name", "Zemla"."intensity", "Zemla"."note", "Zemla"."created_at", "Zemla"."updated_at", "Zemla"."deleted_at", "Zemla"."parent_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Zemla" AS "Zemla" LEFT OUTER JOIN "File" AS "attachments" ON "Zemla"."id" = "attachments"."zemla_id" AND "attachments"."deleted_at" IS NULL WHERE ("Zemla"."deleted_at" IS NULL AND "Zemla"."id" = 2);
[2016-09-10 15:30:33.647] [ INFO] console - Executing (a9ec5b7a-2c00-4a94-8976-f9c444a5e293): COMMIT;
[2016-09-10 15:30:33.647] [ INFO] console - Executing (3a97890a-9c1e-411f-bc59-a078407d4ef1): COMMIT;
[2016-09-10 15:30:33.649] [ INFO] console - [ 70,
  485,
  {},
  [ { fullPath: 'null2/',
      id: '2',
      path: null,
      name: 'UnitTest2',
      intensity: 1000,
      note: 'unit test 1473503422430',
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Sat Sep 10 2016 15:30:33 GMT+0500 (YEKT),
      deleted_at: null,
      parent_id: '1',
      attachments: [] } ] ]
[2016-09-10 15:30:33.654] [ INFO] console - [ 70,
  486,
  {},
  [ { fullPath: 'null2/',
      id: '2',
      path: null,
      name: 'UnitTest2',
      intensity: 1000,
      note: 'unit test 1473503422430',
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Sat Sep 10 2016 15:30:33 GMT+0500 (YEKT),
      deleted_at: null,
      parent_id: '1',
      attachments: [] } ] ]
[2016-09-10 15:30:33.684] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopa', id: 3 }
[2016-09-10 15:30:33.689] [ INFO] console - Executing (b5ebd1c6-6c32-4a64-a99f-a9438510be63): START TRANSACTION;
[2016-09-10 15:30:33.691] [ INFO] console - Executing (b5ebd1c6-6c32-4a64-a99f-a9438510be63): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:30:33.696] [ INFO] console - Executing (default): SELECT "Kopa"."id", "Kopa"."question", "Kopa"."planned", "Kopa"."started", "Kopa"."closed", "Kopa"."isOpen", "Kopa"."note", "Kopa"."created_at", "Kopa"."updated_at", "Kopa"."deleted_at", "Kopa"."place_id", "Kopa"."inviter_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopa" AS "Kopa" LEFT OUTER JOIN "File" AS "attachments" ON "Kopa"."id" = "attachments"."kopa_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopa"."deleted_at" IS NULL AND "Kopa"."id" = 3);
[2016-09-10 15:30:33.704] [ INFO] console - Executing (b5ebd1c6-6c32-4a64-a99f-a9438510be63): COMMIT;
[2016-09-10 15:30:33.705] [ INFO] console - [ 70,
  488,
  {},
  [ { id: '3',
      question: 'CHE',
      planned: Thu Sep 01 2016 00:00:00 GMT+0500 (YEKT),
      started: Thu Sep 01 2016 00:00:00 GMT+0500 (YEKT),
      closed: null,
      isOpen: false,
      note: null,
      created_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      deleted_at: null,
      place_id: '2',
      inviter_id: '2',
      attachments: [] } ] ]
[2016-09-10 15:30:33.717] [ INFO] console - Executing (a5b925dc-3ee4-4905-bc5f-0cbc07c95ec2): START TRANSACTION;
[2016-09-10 15:30:33.719] [ INFO] console - Executing (a5b925dc-3ee4-4905-bc5f-0cbc07c95ec2): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:30:33.726] [ INFO] console - Executing (default): INSERT INTO "Slovo" ("id","value","created_at","updated_at","owner_id","place_id") VALUES (DEFAULT,'some Slovo temp','2016-09-10 10:30:33.720 +00:00','2016-09-10 10:30:33.720 +00:00',2,3) RETURNING *;
[2016-09-10 15:30:33.730] [ INFO] console - Executing (a5b925dc-3ee4-4905-bc5f-0cbc07c95ec2): COMMIT;
[2016-09-10 15:30:33.731] [ INFO] console - [ 70, 489, {}, [ '33' ] ]
[2016-09-10 15:30:34.733] [ INFO] console - [ 16,
  6185217496711168,
  { acknowledge: true },
  'ru.kopa.model.Kopa.id3.slovoAdd',
  [ '33' ] ]
[2016-09-10 15:30:48.475] [ INFO] console - [ 70, 491, {}, [ undefined ] ]
[2016-09-10 15:30:48.489] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 2 }
[2016-09-10 15:30:48.491] [ INFO] console - Executing (default): delete from "Kopnik"
                where
                    name like '%temp'
[2016-09-10 15:30:48.499] [ INFO] console - Executing (db7691f6-cbc9-44da-aedf-2b3971f5ef27): START TRANSACTION;
[2016-09-10 15:30:48.502] [ INFO] console - Executing (default): update "Kopnik"
                set 
                    "voiskoSize"= case when id=2 then 1 ELSE 0 END
                where
                    id>1 
                    and id<=5
[2016-09-10 15:30:48.503] [ INFO] console - Executing (db7691f6-cbc9-44da-aedf-2b3971f5ef27): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:30:48.515] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 2);
[2016-09-10 15:30:48.520] [ INFO] console - Executing (db7691f6-cbc9-44da-aedf-2b3971f5ef27): COMMIT;
[2016-09-10 15:30:48.522] [ INFO] console - [ 70,
  492,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/2/',
      starshina: [Object],
      id: '2',
      email: 'unittest2@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '1',
      voiskoSize: 1,
      birth: 1983,
      path: '/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: null,
      attachments: [] } ] ]
[2016-09-10 15:30:48.542] [ INFO] console - Executing (7f6a44b4-e4a9-459f-b8ba-fcb6c8b5654e): START TRANSACTION;
[2016-09-10 15:30:48.544] [ INFO] console - Executing (7f6a44b4-e4a9-459f-b8ba-fcb6c8b5654e): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:30:48.551] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 2);
[2016-09-10 15:30:48.556] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"+1
                                where
                                    '/2/' like path||id||'/%'
[2016-09-10 15:30:48.563] [ INFO] console - Executing (default): INSERT INTO "Kopnik" ("id","name","surname","patronymic","voiskoSize","birth","path","created_at","updated_at","rodina_id","starshina_id") VALUES (DEFAULT,'temp','temp','temp',0,1900,'/2/','2016-09-10 10:30:48.547 +00:00','2016-09-10 10:30:48.547 +00:00',NULL,2) RETURNING *;
[2016-09-10 15:30:48.567] [ INFO] console - Executing (7f6a44b4-e4a9-459f-b8ba-fcb6c8b5654e): COMMIT;
[2016-09-10 15:30:48.568] [ INFO] console - [ 70, 493, {}, [ '115' ] ]
[2016-09-10 15:30:48.577] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Zemla', id: 2 }
[2016-09-10 15:30:48.581] [ INFO] console - Executing (21c7527d-d722-4ad9-98a7-3b0651c2b782): START TRANSACTION;
[2016-09-10 15:30:48.581] [ INFO] console - Executing (f926b170-9428-4d6b-9c97-6d16d4273ac7): START TRANSACTION;
[2016-09-10 15:30:48.583] [ INFO] console - Executing (21c7527d-d722-4ad9-98a7-3b0651c2b782): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:30:48.584] [ INFO] console - Executing (f926b170-9428-4d6b-9c97-6d16d4273ac7): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:30:48.606] [ INFO] console - Executing (default): SELECT "Zemla"."id", "Zemla"."path", "Zemla"."name", "Zemla"."intensity", "Zemla"."note", "Zemla"."created_at", "Zemla"."updated_at", "Zemla"."deleted_at", "Zemla"."parent_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Zemla" AS "Zemla" LEFT OUTER JOIN "File" AS "attachments" ON "Zemla"."id" = "attachments"."zemla_id" AND "attachments"."deleted_at" IS NULL WHERE ("Zemla"."deleted_at" IS NULL AND "Zemla"."id" = 2);
[2016-09-10 15:30:48.607] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 115);
[2016-09-10 15:30:48.615] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"+1
                                where
                                    '/2/115/' like path||id||'/%'
[2016-09-10 15:30:48.619] [ INFO] console - Executing (21c7527d-d722-4ad9-98a7-3b0651c2b782): COMMIT;
[2016-09-10 15:30:48.623] [ INFO] console - Executing (default): INSERT INTO "Kopnik" ("id","name","surname","patronymic","voiskoSize","birth","path","created_at","updated_at","rodina_id","starshina_id") VALUES (DEFAULT,'temp','temp','temp',0,1900,'/2/115/','2016-09-10 10:30:48.588 +00:00','2016-09-10 10:30:48.588 +00:00',NULL,115) RETURNING *;
[2016-09-10 15:30:48.624] [ INFO] console - [ 70,
  494,
  {},
  [ { fullPath: 'null2/',
      id: '2',
      path: null,
      name: 'UnitTest2',
      intensity: 1000,
      note: 'unit test 1473503422430',
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Sat Sep 10 2016 15:30:33 GMT+0500 (YEKT),
      deleted_at: null,
      parent_id: '1',
      attachments: [] } ] ]
[2016-09-10 15:30:48.636] [ INFO] console - Executing (f926b170-9428-4d6b-9c97-6d16d4273ac7): COMMIT;
[2016-09-10 15:30:48.637] [ INFO] console - [ 70, 495, {}, [ '116' ] ]
[2016-09-10 15:30:49.570] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/' like k.path||k.id||'/%'
[2016-09-10 15:30:49.577] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 15:30:49.579] [ INFO] console - [ 16,
  6611741211361280,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id2.voiskoChange',
  [],
  { voiskoSize: 3 } ]
[2016-09-10 15:30:49.639] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/115/' like k.path||k.id||'/%'
[2016-09-10 15:30:49.647] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2', '115')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 15:30:49.652] [ INFO] console - [ 16,
  4382329650806784,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id115.voiskoChange',
  [],
  { voiskoSize: 1 } ]
[2016-09-10 15:30:49.656] [ INFO] console - [ 16,
  2624659587596288,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id2.voiskoChange',
  [],
  { voiskoSize: 3 } ]
[2016-09-10 15:30:49.726] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 4 }
[2016-09-10 15:30:49.732] [ INFO] console - Executing (8947fc9e-639d-4391-a2ef-fa625ee28488): START TRANSACTION;
[2016-09-10 15:30:49.733] [ INFO] console - Executing (8947fc9e-639d-4391-a2ef-fa625ee28488): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:30:49.742] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 4);
[2016-09-10 15:30:49.750] [ INFO] console - Executing (8947fc9e-639d-4391-a2ef-fa625ee28488): COMMIT;
[2016-09-10 15:30:49.752] [ INFO] console - [ 70,
  496,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/4/',
      starshina: [Object],
      id: '4',
      email: 'unittest4@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '4',
      voiskoSize: 0,
      birth: 1983,
      path: '/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: null,
      attachments: [] } ] ]
[2016-09-10 15:30:49.762] [ INFO] console - Executing (f536c1cc-7c26-4ea1-b284-d9aea54f82f2): START TRANSACTION;
[2016-09-10 15:30:49.764] [ INFO] console - Executing (f536c1cc-7c26-4ea1-b284-d9aea54f82f2): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:30:49.769] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 115);
[2016-09-10 15:30:49.777] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 4);
[2016-09-10 15:30:49.781] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/' like k.path||k.id||'/%'
[2016-09-10 15:30:49.788] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 15:30:49.791] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"-2
                                where
                                    '/2/' like path||id||'/%'
[2016-09-10 15:30:49.800] [ INFO] console - Executing (default): UPDATE "Kopnik" SET "path"='/4/',"starshina_id"='4',"updated_at"='2016-09-10 10:30:49.793 +00:00' WHERE "id" = '115'
[2016-09-10 15:30:49.804] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"+2
                                where
                                    '/4/' like path||id||'/%'
[2016-09-10 15:30:49.811] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."starshina_id" = '115');
[2016-09-10 15:30:49.820] [ INFO] console - Executing (default): UPDATE "Kopnik" SET "path"='/4/115/',"updated_at"='2016-09-10 10:30:49.814 +00:00' WHERE "id" = '116'
[2016-09-10 15:30:49.823] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/4/' like k.path||k.id||'/%'
[2016-09-10 15:30:49.830] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('4')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 15:30:49.833] [ INFO] console - Executing (f536c1cc-7c26-4ea1-b284-d9aea54f82f2): COMMIT;
[2016-09-10 15:30:49.835] [ INFO] console - [ 70, 497, {}, [ undefined ] ]
[2016-09-10 15:30:49.838] [ INFO] console - [ 16,
  6014347455234048,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id2.voiskoChange',
  [],
  { voiskoSize: 1 } ]
[2016-09-10 15:30:49.842] [ INFO] console - [ 16,
  2826533523685376,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id4.voiskoChange',
  [],
  { voiskoSize: 2 } ]
[2016-09-10 15:33:31.517] [ INFO] console - [ 70, 499, {}, [ undefined ] ]
[2016-09-10 15:33:31.525] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 2 }
[2016-09-10 15:33:31.531] [ INFO] console - Executing (default): delete from "Kopnik"
                where
                    name like '%temp'
[2016-09-10 15:33:31.538] [ INFO] console - Executing (b8a6fae8-b47f-4ded-bec4-6d99621d4948): START TRANSACTION;
[2016-09-10 15:33:31.541] [ INFO] console - Executing (default): update "Kopnik"
                set 
                    "voiskoSize"= case when id=2 then 1 ELSE 0 END
                where
                    id>1 
                    and id<=5
[2016-09-10 15:33:31.545] [ INFO] console - Executing (b8a6fae8-b47f-4ded-bec4-6d99621d4948): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:33:31.553] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 2);
[2016-09-10 15:33:31.559] [ INFO] console - Executing (b8a6fae8-b47f-4ded-bec4-6d99621d4948): COMMIT;
[2016-09-10 15:33:31.560] [ INFO] console - [ 70,
  500,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/2/',
      starshina: [Object],
      id: '2',
      email: 'unittest2@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '1',
      voiskoSize: 1,
      birth: 1983,
      path: '/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: null,
      attachments: [] } ] ]
[2016-09-10 15:33:31.577] [ INFO] console - Executing (9f432096-9c32-4a16-981b-63904f6ce66d): START TRANSACTION;
[2016-09-10 15:33:31.578] [ INFO] console - Executing (9f432096-9c32-4a16-981b-63904f6ce66d): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:33:31.586] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 2);
[2016-09-10 15:33:31.591] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"+1
                                where
                                    '/2/' like path||id||'/%'
[2016-09-10 15:33:31.596] [ INFO] console - Executing (default): INSERT INTO "Kopnik" ("id","name","surname","patronymic","voiskoSize","birth","path","created_at","updated_at","rodina_id","starshina_id") VALUES (DEFAULT,'temp','temp','temp',0,1900,'/2/','2016-09-10 10:33:31.580 +00:00','2016-09-10 10:33:31.580 +00:00',NULL,2) RETURNING *;
[2016-09-10 15:33:31.600] [ INFO] console - Executing (9f432096-9c32-4a16-981b-63904f6ce66d): COMMIT;
[2016-09-10 15:33:31.601] [ INFO] console - [ 70, 501, {}, [ '117' ] ]
[2016-09-10 15:33:31.611] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Zemla', id: 2 }
[2016-09-10 15:33:31.615] [ INFO] console - Executing (50867795-ec59-4534-a8e2-b11f7873dc40): START TRANSACTION;
[2016-09-10 15:33:31.618] [ INFO] console - Executing (1012fc10-71ef-4247-8b5a-69c338655eb3): START TRANSACTION;
[2016-09-10 15:33:31.619] [ INFO] console - Executing (50867795-ec59-4534-a8e2-b11f7873dc40): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:33:31.620] [ INFO] console - Executing (1012fc10-71ef-4247-8b5a-69c338655eb3): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:33:31.626] [ INFO] console - Executing (default): SELECT "Zemla"."id", "Zemla"."path", "Zemla"."name", "Zemla"."intensity", "Zemla"."note", "Zemla"."created_at", "Zemla"."updated_at", "Zemla"."deleted_at", "Zemla"."parent_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Zemla" AS "Zemla" LEFT OUTER JOIN "File" AS "attachments" ON "Zemla"."id" = "attachments"."zemla_id" AND "attachments"."deleted_at" IS NULL WHERE ("Zemla"."deleted_at" IS NULL AND "Zemla"."id" = 2);
[2016-09-10 15:33:31.635] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 117);
[2016-09-10 15:33:31.637] [ INFO] console - Executing (50867795-ec59-4534-a8e2-b11f7873dc40): COMMIT;
[2016-09-10 15:33:31.639] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"+1
                                where
                                    '/2/117/' like path||id||'/%'
[2016-09-10 15:33:31.640] [ INFO] console - [ 70,
  502,
  {},
  [ { fullPath: 'null2/',
      id: '2',
      path: null,
      name: 'UnitTest2',
      intensity: 1000,
      note: 'unit test 1473503422430',
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Sat Sep 10 2016 15:30:33 GMT+0500 (YEKT),
      deleted_at: null,
      parent_id: '1',
      attachments: [] } ] ]
[2016-09-10 15:33:31.651] [ INFO] console - Executing (default): INSERT INTO "Kopnik" ("id","name","surname","patronymic","voiskoSize","birth","path","created_at","updated_at","rodina_id","starshina_id") VALUES (DEFAULT,'temp','temp','temp',0,1900,'/2/117/','2016-09-10 10:33:31.627 +00:00','2016-09-10 10:33:31.627 +00:00',NULL,117) RETURNING *;
[2016-09-10 15:33:31.654] [ INFO] console - Executing (1012fc10-71ef-4247-8b5a-69c338655eb3): COMMIT;
[2016-09-10 15:33:31.656] [ INFO] console - [ 70, 503, {}, [ '118' ] ]
[2016-09-10 15:33:32.604] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/' like k.path||k.id||'/%'
[2016-09-10 15:33:32.608] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 15:33:32.611] [ INFO] console - [ 16,
  7725488279650304,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id2.voiskoChange',
  [],
  { voiskoSize: 3 } ]
[2016-09-10 15:33:32.621] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 4 }
[2016-09-10 15:33:32.625] [ INFO] console - Executing (4351cc46-0a7d-4174-b909-ad9b31cdcf8a): START TRANSACTION;
[2016-09-10 15:33:32.627] [ INFO] console - Executing (4351cc46-0a7d-4174-b909-ad9b31cdcf8a): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:33:32.636] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 4);
[2016-09-10 15:33:32.641] [ INFO] console - Executing (4351cc46-0a7d-4174-b909-ad9b31cdcf8a): COMMIT;
[2016-09-10 15:33:32.642] [ INFO] console - [ 70,
  504,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/4/',
      starshina: [Object],
      id: '4',
      email: 'unittest4@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '4',
      voiskoSize: 0,
      birth: 1983,
      path: '/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: null,
      attachments: [] } ] ]
[2016-09-10 15:33:32.655] [ INFO] console - Executing (d3591da9-c8fe-4c3f-b5c4-a3c260766c75): START TRANSACTION;
[2016-09-10 15:33:32.658] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/117/' like k.path||k.id||'/%'
[2016-09-10 15:33:32.659] [ INFO] console - Executing (d3591da9-c8fe-4c3f-b5c4-a3c260766c75): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:33:32.666] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2', '117')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 15:33:32.668] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 117);
[2016-09-10 15:33:32.672] [ INFO] console - [ 16,
  227606626566144,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id117.voiskoChange',
  [],
  { voiskoSize: 1 } ]
[2016-09-10 15:33:32.678] [ INFO] console - [ 16,
  2145123548790784,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id2.voiskoChange',
  [],
  { voiskoSize: 3 } ]
[2016-09-10 15:33:32.684] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 4);
[2016-09-10 15:33:32.691] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/' like k.path||k.id||'/%'
[2016-09-10 15:33:32.698] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 15:33:32.704] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"-2
                                where
                                    '/2/' like path||id||'/%'
[2016-09-10 15:33:32.726] [ INFO] console - Executing (default): UPDATE "Kopnik" SET "path"='/4/',"starshina_id"='4',"updated_at"='2016-09-10 10:33:32.716 +00:00' WHERE "id" = '117'
[2016-09-10 15:33:32.728] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"+2
                                where
                                    '/4/' like path||id||'/%'
[2016-09-10 15:33:32.733] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."starshina_id" = '117');
[2016-09-10 15:33:32.740] [ INFO] console - Executing (default): UPDATE "Kopnik" SET "path"='/4/117/',"updated_at"='2016-09-10 10:33:32.735 +00:00' WHERE "id" = '118'
[2016-09-10 15:33:32.743] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/4/' like k.path||k.id||'/%'
[2016-09-10 15:33:32.748] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('4')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 15:33:32.752] [ INFO] console - Executing (d3591da9-c8fe-4c3f-b5c4-a3c260766c75): COMMIT;
[2016-09-10 15:33:32.753] [ INFO] console - [ 70, 505, {}, [ undefined ] ]
[2016-09-10 15:33:32.758] [ INFO] console - [ 16,
  6470301755899904,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id2.voiskoChange',
  [],
  { voiskoSize: 1 } ]
[2016-09-10 15:33:32.763] [ INFO] console - [ 16,
  6999147531993088,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id4.voiskoChange',
  [],
  { voiskoSize: 2 } ]
[2016-09-10 15:34:50.244] [ INFO] console - [ 70, 507, {}, [ undefined ] ]
[2016-09-10 15:34:50.253] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 2 }
[2016-09-10 15:34:50.260] [ INFO] console - Executing (default): delete from "Kopnik"
                where
                    name like '%temp'
[2016-09-10 15:34:50.270] [ INFO] console - Executing (25fab14f-fc21-4ab4-a3e1-0d3984e020fb): START TRANSACTION;
[2016-09-10 15:34:50.273] [ INFO] console - Executing (default): update "Kopnik"
                set 
                    "voiskoSize"= case when id=2 then 1 ELSE 0 END
                where
                    id>1 
                    and id<=5
[2016-09-10 15:34:50.274] [ INFO] console - Executing (25fab14f-fc21-4ab4-a3e1-0d3984e020fb): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:34:50.284] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 2);
[2016-09-10 15:34:50.291] [ INFO] console - Executing (25fab14f-fc21-4ab4-a3e1-0d3984e020fb): COMMIT;
[2016-09-10 15:34:50.292] [ INFO] console - [ 70,
  508,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/2/',
      starshina: [Object],
      id: '2',
      email: 'unittest2@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '1',
      voiskoSize: 1,
      birth: 1983,
      path: '/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: null,
      attachments: [] } ] ]
[2016-09-10 15:34:50.309] [ INFO] console - Executing (47b83f09-dc04-4aed-be27-836968d79739): START TRANSACTION;
[2016-09-10 15:34:50.310] [ INFO] console - Executing (47b83f09-dc04-4aed-be27-836968d79739): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:34:50.317] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 2);
[2016-09-10 15:34:50.322] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"+1
                                where
                                    '/2/' like path||id||'/%'
[2016-09-10 15:34:50.327] [ INFO] console - Executing (default): INSERT INTO "Kopnik" ("id","name","surname","patronymic","voiskoSize","birth","path","created_at","updated_at","rodina_id","starshina_id") VALUES (DEFAULT,'temp','temp','temp',0,1900,'/2/','2016-09-10 10:34:50.312 +00:00','2016-09-10 10:34:50.312 +00:00',NULL,2) RETURNING *;
[2016-09-10 15:34:50.332] [ INFO] console - Executing (47b83f09-dc04-4aed-be27-836968d79739): COMMIT;
[2016-09-10 15:34:50.333] [ INFO] console - [ 70, 509, {}, [ '119' ] ]
[2016-09-10 15:34:50.343] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Zemla', id: 2 }
[2016-09-10 15:34:50.347] [ INFO] console - Executing (06cb1d0f-8b57-4843-97ef-5903695b7654): START TRANSACTION;
[2016-09-10 15:34:50.348] [ INFO] console - Executing (a49b0032-b6ba-4dc7-829f-1304e60d89b8): START TRANSACTION;
[2016-09-10 15:34:50.350] [ INFO] console - Executing (06cb1d0f-8b57-4843-97ef-5903695b7654): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:34:50.350] [ INFO] console - Executing (a49b0032-b6ba-4dc7-829f-1304e60d89b8): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:34:50.372] [ INFO] console - Executing (default): SELECT "Zemla"."id", "Zemla"."path", "Zemla"."name", "Zemla"."intensity", "Zemla"."note", "Zemla"."created_at", "Zemla"."updated_at", "Zemla"."deleted_at", "Zemla"."parent_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Zemla" AS "Zemla" LEFT OUTER JOIN "File" AS "attachments" ON "Zemla"."id" = "attachments"."zemla_id" AND "attachments"."deleted_at" IS NULL WHERE ("Zemla"."deleted_at" IS NULL AND "Zemla"."id" = 2);
[2016-09-10 15:34:50.375] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 119);
[2016-09-10 15:34:50.383] [ INFO] console - Executing (06cb1d0f-8b57-4843-97ef-5903695b7654): COMMIT;
[2016-09-10 15:34:50.384] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"+1
                                where
                                    '/2/119/' like path||id||'/%'
[2016-09-10 15:34:50.385] [ INFO] console - [ 70,
  510,
  {},
  [ { fullPath: 'null2/',
      id: '2',
      path: null,
      name: 'UnitTest2',
      intensity: 1000,
      note: 'unit test 1473503422430',
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Sat Sep 10 2016 15:30:33 GMT+0500 (YEKT),
      deleted_at: null,
      parent_id: '1',
      attachments: [] } ] ]
[2016-09-10 15:34:50.395] [ INFO] console - Executing (default): INSERT INTO "Kopnik" ("id","name","surname","patronymic","voiskoSize","birth","path","created_at","updated_at","rodina_id","starshina_id") VALUES (DEFAULT,'temp','temp','temp',0,1900,'/2/119/','2016-09-10 10:34:50.354 +00:00','2016-09-10 10:34:50.354 +00:00',NULL,119) RETURNING *;
[2016-09-10 15:34:50.399] [ INFO] console - Executing (a49b0032-b6ba-4dc7-829f-1304e60d89b8): COMMIT;
[2016-09-10 15:34:50.401] [ INFO] console - [ 70, 511, {}, [ '120' ] ]
[2016-09-10 15:34:51.335] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/' like k.path||k.id||'/%'
[2016-09-10 15:34:51.343] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 15:34:51.346] [ INFO] console - [ 16,
  634268535488512,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id2.voiskoChange',
  [],
  { voiskoSize: 3 } ]
[2016-09-10 15:34:51.401] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/119/' like k.path||k.id||'/%'
[2016-09-10 15:34:51.415] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2', '119')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 15:34:51.419] [ INFO] console - [ 16,
  7723387310833664,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id119.voiskoChange',
  [],
  { voiskoSize: 1 } ]
[2016-09-10 15:34:51.423] [ INFO] console - [ 16,
  8557171423838208,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id2.voiskoChange',
  [],
  { voiskoSize: 3 } ]
[2016-09-10 15:35:20.690] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 4 }
[2016-09-10 15:35:20.700] [ INFO] console - Executing (db93b9e3-80fd-47b7-acfa-caa11cece847): START TRANSACTION;
[2016-09-10 15:35:20.701] [ INFO] console - Executing (db93b9e3-80fd-47b7-acfa-caa11cece847): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:35:20.720] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 4);
[2016-09-10 15:35:20.726] [ INFO] console - Executing (db93b9e3-80fd-47b7-acfa-caa11cece847): COMMIT;
[2016-09-10 15:35:20.728] [ INFO] console - [ 70,
  512,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/4/',
      starshina: [Object],
      id: '4',
      email: 'unittest4@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '4',
      voiskoSize: 0,
      birth: 1983,
      path: '/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: null,
      attachments: [] } ] ]
[2016-09-10 15:35:20.742] [ INFO] console - Executing (57060bcb-640e-4f62-873c-a44ee29d8985): START TRANSACTION;
[2016-09-10 15:35:20.743] [ INFO] console - Executing (57060bcb-640e-4f62-873c-a44ee29d8985): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:35:20.748] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 119);
[2016-09-10 15:35:20.756] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 4);
[2016-09-10 15:35:20.762] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/' like k.path||k.id||'/%'
[2016-09-10 15:35:20.768] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 15:35:20.772] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"-2
                                where
                                    '/2/' like path||id||'/%'
[2016-09-10 15:35:20.782] [ INFO] console - Executing (default): UPDATE "Kopnik" SET "path"='/4/',"starshina_id"='4',"updated_at"='2016-09-10 10:35:20.774 +00:00' WHERE "id" = '119'
[2016-09-10 15:35:20.785] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"+2
                                where
                                    '/4/' like path||id||'/%'
[2016-09-10 15:35:20.790] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."starshina_id" = '119');
[2016-09-10 15:35:20.800] [ INFO] console - Executing (default): UPDATE "Kopnik" SET "path"='/4/119/',"updated_at"='2016-09-10 10:35:20.793 +00:00' WHERE "id" = '120'
[2016-09-10 15:35:20.804] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/4/' like k.path||k.id||'/%'
[2016-09-10 15:35:20.809] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('4')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 15:35:20.813] [ INFO] console - Executing (57060bcb-640e-4f62-873c-a44ee29d8985): COMMIT;
[2016-09-10 15:35:20.815] [ INFO] console - [ 70, 513, {}, [ undefined ] ]
[2016-09-10 15:35:20.817] [ INFO] console - [ 16,
  8973090973286400,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id2.voiskoChange',
  [],
  { voiskoSize: 1 } ]
[2016-09-10 15:35:20.824] [ INFO] console - [ 16,
  7747612662824960,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id4.voiskoChange',
  [],
  { voiskoSize: 2 } ]
[2016-09-10 15:35:26.789] [ INFO] console - [ 70, 515, {}, [ undefined ] ]
[2016-09-10 15:35:26.792] [ INFO] console - Executing (default): delete from "Kopnik"
                where
                    name like '%temp'
[2016-09-10 15:35:26.796] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 2 }
[2016-09-10 15:35:26.802] [ INFO] console - Executing (261e6f00-378e-41a0-8121-b9e400c01353): START TRANSACTION;
[2016-09-10 15:35:26.804] [ INFO] console - Executing (261e6f00-378e-41a0-8121-b9e400c01353): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:35:26.805] [ INFO] console - Executing (default): update "Kopnik"
                set 
                    "voiskoSize"= case when id=2 then 1 ELSE 0 END
                where
                    id>1 
                    and id<=5
[2016-09-10 15:35:26.812] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 2);
[2016-09-10 15:35:26.818] [ INFO] console - Executing (261e6f00-378e-41a0-8121-b9e400c01353): COMMIT;
[2016-09-10 15:35:26.820] [ INFO] console - [ 70,
  516,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/2/',
      starshina: [Object],
      id: '2',
      email: 'unittest2@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '1',
      voiskoSize: 1,
      birth: 1983,
      path: '/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: null,
      attachments: [] } ] ]
[2016-09-10 15:35:26.839] [ INFO] console - Executing (0bcc6af8-8271-4c90-aaa4-ef4c5a7c07a9): START TRANSACTION;
[2016-09-10 15:35:26.841] [ INFO] console - Executing (0bcc6af8-8271-4c90-aaa4-ef4c5a7c07a9): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:35:26.849] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 2);
[2016-09-10 15:35:26.854] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"+1
                                where
                                    '/2/' like path||id||'/%'
[2016-09-10 15:35:26.862] [ INFO] console - Executing (default): INSERT INTO "Kopnik" ("id","name","surname","patronymic","voiskoSize","birth","path","created_at","updated_at","rodina_id","starshina_id") VALUES (DEFAULT,'temp','temp','temp',0,1900,'/2/','2016-09-10 10:35:26.843 +00:00','2016-09-10 10:35:26.843 +00:00',NULL,2) RETURNING *;
[2016-09-10 15:35:26.865] [ INFO] console - Executing (0bcc6af8-8271-4c90-aaa4-ef4c5a7c07a9): COMMIT;
[2016-09-10 15:35:26.867] [ INFO] console - [ 70, 517, {}, [ '121' ] ]
[2016-09-10 15:35:26.877] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Zemla', id: 2 }
[2016-09-10 15:35:26.882] [ INFO] console - Executing (badaf77d-ab7c-40fb-a5d6-72286091e94b): START TRANSACTION;
[2016-09-10 15:35:26.883] [ INFO] console - Executing (6215fa28-38c9-46d5-9034-26612b537b68): START TRANSACTION;
[2016-09-10 15:35:26.885] [ INFO] console - Executing (badaf77d-ab7c-40fb-a5d6-72286091e94b): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:35:26.886] [ INFO] console - Executing (6215fa28-38c9-46d5-9034-26612b537b68): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:35:26.909] [ INFO] console - Executing (default): SELECT "Zemla"."id", "Zemla"."path", "Zemla"."name", "Zemla"."intensity", "Zemla"."note", "Zemla"."created_at", "Zemla"."updated_at", "Zemla"."deleted_at", "Zemla"."parent_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Zemla" AS "Zemla" LEFT OUTER JOIN "File" AS "attachments" ON "Zemla"."id" = "attachments"."zemla_id" AND "attachments"."deleted_at" IS NULL WHERE ("Zemla"."deleted_at" IS NULL AND "Zemla"."id" = 2);
[2016-09-10 15:35:26.910] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 121);
[2016-09-10 15:35:26.919] [ INFO] console - Executing (badaf77d-ab7c-40fb-a5d6-72286091e94b): COMMIT;
[2016-09-10 15:35:26.921] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"+1
                                where
                                    '/2/121/' like path||id||'/%'
[2016-09-10 15:35:26.923] [ INFO] console - [ 70,
  518,
  {},
  [ { fullPath: 'null2/',
      id: '2',
      path: null,
      name: 'UnitTest2',
      intensity: 1000,
      note: 'unit test 1473503422430',
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Sat Sep 10 2016 15:30:33 GMT+0500 (YEKT),
      deleted_at: null,
      parent_id: '1',
      attachments: [] } ] ]
[2016-09-10 15:35:26.934] [ INFO] console - Executing (default): INSERT INTO "Kopnik" ("id","name","surname","patronymic","voiskoSize","birth","path","created_at","updated_at","rodina_id","starshina_id") VALUES (DEFAULT,'temp','temp','temp',0,1900,'/2/121/','2016-09-10 10:35:26.889 +00:00','2016-09-10 10:35:26.889 +00:00',NULL,121) RETURNING *;
[2016-09-10 15:35:26.939] [ INFO] console - Executing (6215fa28-38c9-46d5-9034-26612b537b68): COMMIT;
[2016-09-10 15:35:26.941] [ INFO] console - [ 70, 519, {}, [ '122' ] ]
[2016-09-10 15:35:27.868] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/' like k.path||k.id||'/%'
[2016-09-10 15:35:27.874] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 15:35:27.877] [ INFO] console - [ 16,
  7184711275249664,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id2.voiskoChange',
  [],
  { voiskoSize: 3 } ]
[2016-09-10 15:35:27.887] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 4 }
[2016-09-10 15:35:27.889] [ INFO] console - Executing (625ea6de-e499-40d0-87ee-d6f1817097aa): START TRANSACTION;
[2016-09-10 15:35:27.891] [ INFO] console - Executing (625ea6de-e499-40d0-87ee-d6f1817097aa): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:35:27.899] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 4);
[2016-09-10 15:35:27.905] [ INFO] console - Executing (625ea6de-e499-40d0-87ee-d6f1817097aa): COMMIT;
[2016-09-10 15:35:27.906] [ INFO] console - [ 70,
  520,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/4/',
      starshina: [Object],
      id: '4',
      email: 'unittest4@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '4',
      voiskoSize: 0,
      birth: 1983,
      path: '/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: null,
      attachments: [] } ] ]
[2016-09-10 15:35:27.918] [ INFO] console - Executing (bbf1fcb8-14c6-45f4-a68e-53e3f2b9dc74): START TRANSACTION;
[2016-09-10 15:35:27.921] [ INFO] console - Executing (bbf1fcb8-14c6-45f4-a68e-53e3f2b9dc74): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:35:27.926] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 121);
[2016-09-10 15:35:27.933] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 4);
[2016-09-10 15:35:27.936] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/' like k.path||k.id||'/%'
[2016-09-10 15:35:27.943] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 15:35:27.946] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/121/' like k.path||k.id||'/%'
[2016-09-10 15:35:27.949] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"-2
                                where
                                    '/2/' like path||id||'/%'
[2016-09-10 15:35:27.953] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2', '121')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 15:35:27.962] [ INFO] console - Executing (default): UPDATE "Kopnik" SET "path"='/4/',"starshina_id"='4',"updated_at"='2016-09-10 10:35:27.955 +00:00' WHERE "id" = '121'
[2016-09-10 15:35:27.963] [ INFO] console - [ 16,
  3051541114126336,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id121.voiskoChange',
  [],
  { voiskoSize: 1 } ]
[2016-09-10 15:35:27.967] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"+2
                                where
                                    '/4/' like path||id||'/%'
[2016-09-10 15:35:27.968] [ INFO] console - [ 16,
  3758964902723584,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id2.voiskoChange',
  [],
  { voiskoSize: 1 } ]
[2016-09-10 15:35:27.974] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."starshina_id" = '121');
[2016-09-10 15:35:27.982] [ INFO] console - Executing (default): UPDATE "Kopnik" SET "path"='/4/121/',"updated_at"='2016-09-10 10:35:27.977 +00:00' WHERE "id" = '122'
[2016-09-10 15:35:27.985] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/4/' like k.path||k.id||'/%'
[2016-09-10 15:35:27.990] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('4')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 15:35:27.993] [ INFO] console - Executing (bbf1fcb8-14c6-45f4-a68e-53e3f2b9dc74): COMMIT;
[2016-09-10 15:35:27.994] [ INFO] console - [ 70, 521, {}, [ undefined ] ]
[2016-09-10 15:35:27.997] [ INFO] console - [ 16,
  7635619050160128,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id2.voiskoChange',
  [],
  { voiskoSize: 1 } ]
[2016-09-10 15:35:28.000] [ INFO] console - [ 16,
  4353967790227456,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id4.voiskoChange',
  [],
  { voiskoSize: 2 } ]
[2016-09-10 15:36:13.170] [ INFO] console - [ 70, 523, {}, [ undefined ] ]
[2016-09-10 15:36:13.183] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 2 }
[2016-09-10 15:36:13.195] [ INFO] console - Executing (default): delete from "Kopnik"
                where
                    name like '%temp'
[2016-09-10 15:36:13.196] [ INFO] console - Executing (3f75c41e-3f4a-4a97-aea8-23d11e3e1dfa): START TRANSACTION;
[2016-09-10 15:36:13.199] [ INFO] console - Executing (3f75c41e-3f4a-4a97-aea8-23d11e3e1dfa): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:36:13.207] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 2);
[2016-09-10 15:36:13.214] [ INFO] console - Executing (default): update "Kopnik"
                set 
                    "voiskoSize"= case when id=2 then 1 ELSE 0 END
                where
                    id>1 
                    and id<=5
[2016-09-10 15:36:13.216] [ INFO] console - Executing (3f75c41e-3f4a-4a97-aea8-23d11e3e1dfa): COMMIT;
[2016-09-10 15:36:13.219] [ INFO] console - [ 70,
  524,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/2/',
      starshina: [Object],
      id: '2',
      email: 'unittest2@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '1',
      voiskoSize: 1,
      birth: 1983,
      path: '/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: null,
      attachments: [] } ] ]
[2016-09-10 15:36:13.233] [ INFO] console - Executing (89daff65-f0d6-49dd-9e56-16f7c3ff6387): START TRANSACTION;
[2016-09-10 15:36:13.236] [ INFO] console - Executing (89daff65-f0d6-49dd-9e56-16f7c3ff6387): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:36:13.243] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 2);
[2016-09-10 15:36:13.248] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"+1
                                where
                                    '/2/' like path||id||'/%'
[2016-09-10 15:36:13.254] [ INFO] console - Executing (default): INSERT INTO "Kopnik" ("id","name","surname","patronymic","voiskoSize","birth","path","created_at","updated_at","rodina_id","starshina_id") VALUES (DEFAULT,'temp','temp','temp',0,1900,'/2/','2016-09-10 10:36:13.237 +00:00','2016-09-10 10:36:13.237 +00:00',NULL,2) RETURNING *;
[2016-09-10 15:36:13.257] [ INFO] console - Executing (89daff65-f0d6-49dd-9e56-16f7c3ff6387): COMMIT;
[2016-09-10 15:36:13.258] [ INFO] console - [ 70, 525, {}, [ '123' ] ]
[2016-09-10 15:36:13.268] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Zemla', id: 2 }
[2016-09-10 15:36:13.271] [ INFO] console - Executing (336aaff2-1c4b-4212-a34b-2743a1f93526): START TRANSACTION;
[2016-09-10 15:36:13.272] [ INFO] console - Executing (853bcb38-234b-45b1-a8d9-c5e8922d259f): START TRANSACTION;
[2016-09-10 15:36:13.274] [ INFO] console - Executing (336aaff2-1c4b-4212-a34b-2743a1f93526): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:36:13.275] [ INFO] console - Executing (853bcb38-234b-45b1-a8d9-c5e8922d259f): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:36:13.285] [ INFO] console - Executing (default): SELECT "Zemla"."id", "Zemla"."path", "Zemla"."name", "Zemla"."intensity", "Zemla"."note", "Zemla"."created_at", "Zemla"."updated_at", "Zemla"."deleted_at", "Zemla"."parent_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Zemla" AS "Zemla" LEFT OUTER JOIN "File" AS "attachments" ON "Zemla"."id" = "attachments"."zemla_id" AND "attachments"."deleted_at" IS NULL WHERE ("Zemla"."deleted_at" IS NULL AND "Zemla"."id" = 2);
[2016-09-10 15:36:13.292] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 123);
[2016-09-10 15:36:13.296] [ INFO] console - Executing (336aaff2-1c4b-4212-a34b-2743a1f93526): COMMIT;
[2016-09-10 15:36:13.301] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"+1
                                where
                                    '/2/123/' like path||id||'/%'
[2016-09-10 15:36:13.303] [ INFO] console - [ 70,
  526,
  {},
  [ { fullPath: 'null2/',
      id: '2',
      path: null,
      name: 'UnitTest2',
      intensity: 1000,
      note: 'unit test 1473503422430',
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Sat Sep 10 2016 15:30:33 GMT+0500 (YEKT),
      deleted_at: null,
      parent_id: '1',
      attachments: [] } ] ]
[2016-09-10 15:36:13.319] [ INFO] console - Executing (default): INSERT INTO "Kopnik" ("id","name","surname","patronymic","voiskoSize","birth","path","created_at","updated_at","rodina_id","starshina_id") VALUES (DEFAULT,'temp','temp','temp',0,1900,'/2/123/','2016-09-10 10:36:13.278 +00:00','2016-09-10 10:36:13.278 +00:00',NULL,123) RETURNING *;
[2016-09-10 15:36:13.325] [ INFO] console - Executing (853bcb38-234b-45b1-a8d9-c5e8922d259f): COMMIT;
[2016-09-10 15:36:13.326] [ INFO] console - [ 70, 527, {}, [ '124' ] ]
[2016-09-10 15:36:14.259] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/' like k.path||k.id||'/%'
[2016-09-10 15:36:14.268] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 15:36:14.272] [ INFO] console - [ 16,
  2613316362960896,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id2.voiskoChange',
  [],
  { voiskoSize: 3 } ]
[2016-09-10 15:36:14.328] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/123/' like k.path||k.id||'/%'
[2016-09-10 15:36:14.339] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2', '123')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 15:36:14.345] [ INFO] console - [ 16,
  3904269006667776,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id123.voiskoChange',
  [],
  { voiskoSize: 1 } ]
[2016-09-10 15:36:14.349] [ INFO] console - [ 16,
  7784317960847360,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id2.voiskoChange',
  [],
  { voiskoSize: 3 } ]
[2016-09-10 15:36:50.596] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 4 }
[2016-09-10 15:36:50.648] [ INFO] console - Executing (e40aae08-6867-424a-96c8-d312fbd74197): START TRANSACTION;
[2016-09-10 15:36:50.651] [ INFO] console - Executing (e40aae08-6867-424a-96c8-d312fbd74197): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:36:50.673] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 4);
[2016-09-10 15:36:50.681] [ INFO] console - Executing (e40aae08-6867-424a-96c8-d312fbd74197): COMMIT;
[2016-09-10 15:36:50.682] [ INFO] console - [ 70,
  528,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/4/',
      starshina: [Object],
      id: '4',
      email: 'unittest4@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '4',
      voiskoSize: 0,
      birth: 1983,
      path: '/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: null,
      attachments: [] } ] ]
[2016-09-10 15:36:50.720] [ INFO] console - Executing (03cdb727-59e3-468a-806f-c6ab9e0e9bf3): START TRANSACTION;
[2016-09-10 15:36:50.725] [ INFO] console - Executing (03cdb727-59e3-468a-806f-c6ab9e0e9bf3): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:36:50.730] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 123);
[2016-09-10 15:36:50.737] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 4);
[2016-09-10 15:36:50.741] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/' like k.path||k.id||'/%'
[2016-09-10 15:36:50.749] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 15:36:50.754] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"-2
                                where
                                    '/2/' like path||id||'/%'
[2016-09-10 15:36:50.769] [ INFO] console - Executing (default): UPDATE "Kopnik" SET "path"='/4/',"starshina_id"='4',"updated_at"='2016-09-10 10:36:50.758 +00:00' WHERE "id" = '123'
[2016-09-10 15:36:50.773] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"+2
                                where
                                    '/4/' like path||id||'/%'
[2016-09-10 15:36:50.777] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."starshina_id" = '123');
[2016-09-10 15:36:50.786] [ INFO] console - Executing (default): UPDATE "Kopnik" SET "path"='/4/123/',"updated_at"='2016-09-10 10:36:50.780 +00:00' WHERE "id" = '124'
[2016-09-10 15:36:50.790] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/4/' like k.path||k.id||'/%'
[2016-09-10 15:36:50.797] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('4')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 15:36:50.800] [ INFO] console - Executing (03cdb727-59e3-468a-806f-c6ab9e0e9bf3): COMMIT;
[2016-09-10 15:36:50.802] [ INFO] console - [ 70, 529, {}, [ undefined ] ]
[2016-09-10 15:36:50.805] [ INFO] console - [ 16,
  3670476356321280,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id2.voiskoChange',
  [],
  { voiskoSize: 1 } ]
[2016-09-10 15:36:50.812] [ INFO] console - [ 16,
  1068251343749120,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id4.voiskoChange',
  [],
  { voiskoSize: 2 } ]
[2016-09-10 15:37:11.004] [ INFO] console - [ 70, 531, {}, [ undefined ] ]
[2016-09-10 15:37:11.013] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 2 }
[2016-09-10 15:37:11.030] [ INFO] console - Executing (default): delete from "Kopnik"
                where
                    name like '%temp'
[2016-09-10 15:37:11.033] [ INFO] console - Executing (cf2c1257-2f82-44e4-871c-29c19803b61e): START TRANSACTION;
[2016-09-10 15:37:11.036] [ INFO] console - Executing (cf2c1257-2f82-44e4-871c-29c19803b61e): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:37:11.038] [ INFO] console - Executing (default): update "Kopnik"
                set 
                    "voiskoSize"= case when id=2 then 1 ELSE 0 END
                where
                    id>1 
                    and id<=5
[2016-09-10 15:37:11.047] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 2);
[2016-09-10 15:37:11.059] [ INFO] console - Executing (cf2c1257-2f82-44e4-871c-29c19803b61e): COMMIT;
[2016-09-10 15:37:11.061] [ INFO] console - [ 70,
  532,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/2/',
      starshina: [Object],
      id: '2',
      email: 'unittest2@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '1',
      voiskoSize: 1,
      birth: 1983,
      path: '/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: null,
      attachments: [] } ] ]
[2016-09-10 15:38:07.336] [ INFO] console - Executing (b56aeb60-99c1-4824-96e7-880f9da79de7): START TRANSACTION;
[2016-09-10 15:38:07.339] [ INFO] console - Executing (b56aeb60-99c1-4824-96e7-880f9da79de7): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:38:07.353] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 2);
[2016-09-10 15:38:07.357] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"+1
                                where
                                    '/2/' like path||id||'/%'
[2016-09-10 15:38:07.372] [ INFO] console - Executing (default): INSERT INTO "Kopnik" ("id","name","surname","patronymic","voiskoSize","birth","path","created_at","updated_at","rodina_id","starshina_id") VALUES (DEFAULT,'temp','temp','temp',0,1900,'/2/','2016-09-10 10:38:07.340 +00:00','2016-09-10 10:38:07.340 +00:00',NULL,2) RETURNING *;
[2016-09-10 15:38:07.376] [ INFO] console - Executing (b56aeb60-99c1-4824-96e7-880f9da79de7): COMMIT;
[2016-09-10 15:38:07.377] [ INFO] console - [ 70, 533, {}, [ '125' ] ]
[2016-09-10 15:38:07.386] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Zemla', id: 2 }
[2016-09-10 15:38:07.391] [ INFO] console - Executing (52f76bcb-559c-440f-8a38-3cfd252d9995): START TRANSACTION;
[2016-09-10 15:38:07.394] [ INFO] console - Executing (c683e8e3-f470-4b3f-b0aa-544c80e81315): START TRANSACTION;
[2016-09-10 15:38:07.394] [ INFO] console - Executing (52f76bcb-559c-440f-8a38-3cfd252d9995): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:38:07.396] [ INFO] console - Executing (c683e8e3-f470-4b3f-b0aa-544c80e81315): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:38:07.415] [ INFO] console - Executing (default): SELECT "Zemla"."id", "Zemla"."path", "Zemla"."name", "Zemla"."intensity", "Zemla"."note", "Zemla"."created_at", "Zemla"."updated_at", "Zemla"."deleted_at", "Zemla"."parent_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Zemla" AS "Zemla" LEFT OUTER JOIN "File" AS "attachments" ON "Zemla"."id" = "attachments"."zemla_id" AND "attachments"."deleted_at" IS NULL WHERE ("Zemla"."deleted_at" IS NULL AND "Zemla"."id" = 2);
[2016-09-10 15:38:07.419] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 125);
[2016-09-10 15:38:07.426] [ INFO] console - Executing (52f76bcb-559c-440f-8a38-3cfd252d9995): COMMIT;
[2016-09-10 15:38:07.430] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"+1
                                where
                                    '/2/125/' like path||id||'/%'
[2016-09-10 15:38:07.432] [ INFO] console - [ 70,
  534,
  {},
  [ { fullPath: 'null2/',
      id: '2',
      path: null,
      name: 'UnitTest2',
      intensity: 1000,
      note: 'unit test 1473503422430',
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Sat Sep 10 2016 15:30:33 GMT+0500 (YEKT),
      deleted_at: null,
      parent_id: '1',
      attachments: [] } ] ]
[2016-09-10 15:38:07.441] [ INFO] console - Executing (default): INSERT INTO "Kopnik" ("id","name","surname","patronymic","voiskoSize","birth","path","created_at","updated_at","rodina_id","starshina_id") VALUES (DEFAULT,'temp','temp','temp',0,1900,'/2/125/','2016-09-10 10:38:07.403 +00:00','2016-09-10 10:38:07.403 +00:00',NULL,125) RETURNING *;
[2016-09-10 15:38:07.447] [ INFO] console - Executing (c683e8e3-f470-4b3f-b0aa-544c80e81315): COMMIT;
[2016-09-10 15:38:07.449] [ INFO] console - [ 70, 535, {}, [ '126' ] ]
[2016-09-10 15:38:08.378] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/' like k.path||k.id||'/%'
[2016-09-10 15:38:08.384] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 15:38:08.387] [ INFO] console - [ 16,
  8519811468361728,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id2.voiskoChange',
  [],
  { voiskoSize: 3 } ]
[2016-09-10 15:38:08.451] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/125/' like k.path||k.id||'/%'
[2016-09-10 15:38:08.458] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2', '125')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 15:38:08.463] [ INFO] console - [ 16,
  4418825520939008,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id125.voiskoChange',
  [],
  { voiskoSize: 1 } ]
[2016-09-10 15:38:08.467] [ INFO] console - [ 16,
  5329014071754752,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id2.voiskoChange',
  [],
  { voiskoSize: 3 } ]
[2016-09-10 15:39:18.044] [ INFO] console - AutobahnJS debug enabled
[2016-09-10 15:39:19.388] [ INFO] Server - starting...
[2016-09-10 15:39:19.391] [ INFO] console - trying to create WAMP transport of type: websocket
[2016-09-10 15:39:19.484] [ INFO] console - using WAMP transport type: websocket
[2016-09-10 15:39:19.732] [ INFO] console - [ 1,
  'kopa',
  { roles: 
     { caller: [Object],
       callee: [Object],
       publisher: [Object],
       subscriber: [Object] },
    authmethods: [ 'ticket' ],
    authid: 'server' } ]
[2016-09-10 15:39:19.740] [ INFO] console - [ 5, 'server', {} ]
[2016-09-10 15:39:19.755] [ INFO] Server - connection.onopen()
[2016-09-10 15:39:19.756] [ INFO] console - [ 64, 333664168706048, {}, 'ru.kopa.model.create' ]
[2016-09-10 15:39:19.765] [DEBUG] Server - api:model.create registered
[2016-09-10 15:39:19.767] [ INFO] console - [ 64, 7199819047108608, {}, 'ru.kopa.model.get' ]
[2016-09-10 15:39:19.771] [DEBUG] Server - api:model.get registered
[2016-09-10 15:39:19.771] [ INFO] console - [ 64, 5684566985539584, {}, 'ru.kopa.model.save' ]
[2016-09-10 15:39:19.775] [DEBUG] Server - api:model.save registered
[2016-09-10 15:39:19.776] [ INFO] console - [ 64, 7887571480739840, {}, 'ru.kopa.pingPong' ]
[2016-09-10 15:39:19.778] [DEBUG] Server - api:pingPong registered
[2016-09-10 15:39:19.779] [ INFO] console - [ 64, 7389287525908480, {}, 'ru.kopa.discloseCaller' ]
[2016-09-10 15:39:19.998] [DEBUG] Server - api:discloseCaller registered
[2016-09-10 15:39:19.998] [ INFO] console - [ 64, 8105279413551104, {}, 'ru.kopa.pingPongDatabase' ]
[2016-09-10 15:39:20.228] [DEBUG] Server - api:pingPongDatabase registered
[2016-09-10 15:39:20.229] [ INFO] console - [ 64, 5946845759012864, {}, 'ru.kopa.error' ]
[2016-09-10 15:39:20.371] [DEBUG] Server - api:error registered
[2016-09-10 15:39:20.371] [ INFO] console - [ 64, 7503159303864320, {}, 'ru.kopa.promiseKopas' ]
[2016-09-10 15:39:20.403] [DEBUG] Server - api:promiseKopas registered
[2016-09-10 15:39:20.404] [ INFO] console - [ 64, 4068110048952320, {}, 'ru.kopa.unitTest.cleanTempData' ]
[2016-09-10 15:39:20.446] [DEBUG] Server - api:unitTest.cleanTempData registered
[2016-09-10 15:39:20.446] [ INFO] console - [ 64, 7173577927294976, {}, 'ru.kopa.model.Kopnik.setStarshina' ]
[2016-09-10 15:39:20.480] [DEBUG] Server - api:model.Kopnik.setStarshina registered
[2016-09-10 15:39:20.481] [ INFO] console - [ 64, 4764385381711872, {}, 'ru.kopa.model.Kopa.setQuestion' ]
[2016-09-10 15:39:20.534] [DEBUG] Server - api:model.Kopa.setQuestion registered
[2016-09-10 15:39:20.535] [ INFO] Server - started
[2016-09-10 15:39:30.789] [ INFO] console - [ 70, 538, {}, [ undefined ] ]
[2016-09-10 15:39:30.805] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 2 }
[2016-09-10 15:39:30.833] [ INFO] console - Executing (default): delete from "Kopnik"
                where
                    name like '%temp'
[2016-09-10 15:39:30.834] [ INFO] console - Executing (e7e718c1-542e-44df-8159-785ee7a0483e): START TRANSACTION;
[2016-09-10 15:39:30.835] [ INFO] console - Executing (e7e718c1-542e-44df-8159-785ee7a0483e): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:39:30.843] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 2);
[2016-09-10 15:39:30.851] [ INFO] console - Executing (default): update "Kopnik"
                set 
                    "voiskoSize"= case when id=2 then 1 ELSE 0 END
                where
                    id>1 
                    and id<=5
[2016-09-10 15:39:30.854] [ INFO] console - Executing (e7e718c1-542e-44df-8159-785ee7a0483e): COMMIT;
[2016-09-10 15:39:30.856] [ INFO] console - [ 70,
  539,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/2/',
      starshina: [Object],
      id: '2',
      email: 'unittest2@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '1',
      voiskoSize: 3,
      birth: 1983,
      path: '/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: null,
      attachments: [] } ] ]
[2016-09-10 15:39:30.869] [ INFO] console - Executing (8d61a5e7-ef8f-43ad-92c4-8df1067f7c2b): START TRANSACTION;
[2016-09-10 15:39:30.870] [ INFO] console - Executing (8d61a5e7-ef8f-43ad-92c4-8df1067f7c2b): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:39:30.879] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 2);
[2016-09-10 15:39:30.884] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"+1
                                where
                                    '/2/' like path||id||'/%'
[2016-09-10 15:39:30.892] [ INFO] console - Executing (default): INSERT INTO "Kopnik" ("id","name","surname","patronymic","voiskoSize","birth","path","created_at","updated_at","rodina_id","starshina_id") VALUES (DEFAULT,'temp','temp','temp',0,1900,'/2/','2016-09-10 10:39:30.872 +00:00','2016-09-10 10:39:30.872 +00:00',NULL,2) RETURNING *;
[2016-09-10 15:39:30.896] [ INFO] console - Executing (8d61a5e7-ef8f-43ad-92c4-8df1067f7c2b): COMMIT;
[2016-09-10 15:39:30.897] [ INFO] console - [ 70, 540, {}, [ '127' ] ]
[2016-09-10 15:39:30.899] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/' like k.path||k.id||'/%'
[2016-09-10 15:39:30.906] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 15:39:30.907] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Zemla', id: 2 }
[2016-09-10 15:39:30.911] [ INFO] console - Executing (6f480a1c-b112-40b7-9f20-2462c1b50228): START TRANSACTION;
[2016-09-10 15:39:30.911] [ INFO] console - [ 16,
  349171328483328,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id2.voiskoChange',
  [],
  { voiskoSize: 2 } ]
[2016-09-10 15:39:30.915] [ INFO] console - Executing (62bb8214-f611-44d6-84bd-8dc14ed4c678): START TRANSACTION;
[2016-09-10 15:39:30.916] [ INFO] console - Executing (6f480a1c-b112-40b7-9f20-2462c1b50228): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:39:30.918] [ INFO] console - Executing (62bb8214-f611-44d6-84bd-8dc14ed4c678): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:39:30.924] [ INFO] console - Executing (default): SELECT "Zemla"."id", "Zemla"."path", "Zemla"."name", "Zemla"."intensity", "Zemla"."note", "Zemla"."created_at", "Zemla"."updated_at", "Zemla"."deleted_at", "Zemla"."parent_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Zemla" AS "Zemla" LEFT OUTER JOIN "File" AS "attachments" ON "Zemla"."id" = "attachments"."zemla_id" AND "attachments"."deleted_at" IS NULL WHERE ("Zemla"."deleted_at" IS NULL AND "Zemla"."id" = 2);
[2016-09-10 15:39:30.932] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 127);
[2016-09-10 15:39:30.935] [ INFO] console - Executing (6f480a1c-b112-40b7-9f20-2462c1b50228): COMMIT;
[2016-09-10 15:39:30.938] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"+1
                                where
                                    '/2/127/' like path||id||'/%'
[2016-09-10 15:39:30.939] [ INFO] console - [ 70,
  541,
  {},
  [ { fullPath: 'null2/',
      id: '2',
      path: null,
      name: 'UnitTest2',
      intensity: 1000,
      note: 'unit test 1473503422430',
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Sat Sep 10 2016 15:30:33 GMT+0500 (YEKT),
      deleted_at: null,
      parent_id: '1',
      attachments: [] } ] ]
[2016-09-10 15:39:30.944] [ INFO] console - Executing (default): INSERT INTO "Kopnik" ("id","name","surname","patronymic","voiskoSize","birth","path","created_at","updated_at","rodina_id","starshina_id") VALUES (DEFAULT,'temp','temp','temp',0,1900,'/2/127/','2016-09-10 10:39:30.925 +00:00','2016-09-10 10:39:30.925 +00:00',NULL,127) RETURNING *;
[2016-09-10 15:39:30.948] [ INFO] console - Executing (62bb8214-f611-44d6-84bd-8dc14ed4c678): COMMIT;
[2016-09-10 15:39:30.949] [ INFO] console - [ 70, 542, {}, [ '128' ] ]
[2016-09-10 15:39:30.951] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/127/' like k.path||k.id||'/%'
[2016-09-10 15:39:30.956] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2', '127')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 15:39:30.959] [ INFO] console - [ 16,
  8812241358946304,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id127.voiskoChange',
  [],
  { voiskoSize: 1 } ]
[2016-09-10 15:39:30.962] [ INFO] console - [ 16,
  4745518278246400,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id2.voiskoChange',
  [],
  { voiskoSize: 3 } ]
[2016-09-10 15:39:30.968] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 4 }
[2016-09-10 15:39:30.973] [ INFO] console - Executing (a500e1b5-5480-4649-8eee-1adb221dec2b): START TRANSACTION;
[2016-09-10 15:39:30.976] [ INFO] console - Executing (a500e1b5-5480-4649-8eee-1adb221dec2b): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:39:30.984] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 4);
[2016-09-10 15:39:30.988] [ INFO] console - Executing (a500e1b5-5480-4649-8eee-1adb221dec2b): COMMIT;
[2016-09-10 15:39:30.989] [ INFO] console - [ 70,
  543,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/4/',
      starshina: [Object],
      id: '4',
      email: 'unittest4@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '4',
      voiskoSize: 0,
      birth: 1983,
      path: '/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: null,
      attachments: [] } ] ]
[2016-09-10 15:39:31.008] [ INFO] console - Executing (b2fa8ed8-03cc-4cb0-9384-8eb2cad08490): START TRANSACTION;
[2016-09-10 15:39:31.009] [ INFO] console - Executing (b2fa8ed8-03cc-4cb0-9384-8eb2cad08490): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:39:31.015] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 127);
[2016-09-10 15:39:31.021] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 4);
[2016-09-10 15:39:31.023] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/' like k.path||k.id||'/%'
[2016-09-10 15:39:31.031] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 15:39:31.033] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"-2
                                where
                                    '/2/' like path||id||'/%'
[2016-09-10 15:39:31.041] [ INFO] console - Executing (default): UPDATE "Kopnik" SET "path"='/4/',"starshina_id"='4',"updated_at"='2016-09-10 10:39:31.035 +00:00' WHERE "id" = '127'
[2016-09-10 15:39:31.042] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"+2
                                where
                                    '/4/' like path||id||'/%'
[2016-09-10 15:39:31.045] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."starshina_id" = '127');
[2016-09-10 15:39:31.054] [ INFO] console - Executing (default): UPDATE "Kopnik" SET "path"='/4/127/',"updated_at"='2016-09-10 10:39:31.051 +00:00' WHERE "id" = '128'
[2016-09-10 15:39:31.056] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/4/' like k.path||k.id||'/%'
[2016-09-10 15:39:31.061] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('4')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 15:39:31.064] [ INFO] console - Executing (b2fa8ed8-03cc-4cb0-9384-8eb2cad08490): COMMIT;
[2016-09-10 15:39:31.065] [ INFO] console - [ 70, 544, {}, [ undefined ] ]
[2016-09-10 15:39:31.068] [ INFO] console - [ 16,
  3239604853407744,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id2.voiskoChange',
  [],
  { voiskoSize: 1 } ]
[2016-09-10 15:39:31.073] [ INFO] console - [ 16,
  1747202978349056,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id4.voiskoChange',
  [],
  { voiskoSize: 2 } ]
[2016-09-10 15:39:44.484] [ INFO] console - [ 70, 546, {}, [ 'unittest2@domain.ru' ] ]
[2016-09-10 15:39:44.491] [DEBUG] Server - #pingPong() [ 1, 2, 3 ] { x: 1, y: 2, z: 3 }
[2016-09-10 15:39:44.494] [ INFO] console - [ 70, 547, {}, [ 1, 2, 3 ], { x: 1, y: 2, z: 3 } ]
[2016-09-10 15:39:44.525] [ INFO] console - Executing (default): select 'КОПА' as result
[2016-09-10 15:39:44.527] [ INFO] console - [ 70, 548, {}, [ 'КОПА' ] ]
[2016-09-10 15:39:44.531] [DEBUG] Server - #error() [ 'sadkljfaskldjfs;af' ] {}
[2016-09-10 15:39:44.536] [ERROR] Server - [Error: sadkljfaskldjfs;af]
Error: sadkljfaskldjfs;af
    at MySuperError (Server.js:339:9)
    at fn.constructor.error.Error (Server.js:344:19)
    at new wrappedPromise (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/async-listener/index.js:372:16)
    at Server.error (Server.js:343:16)
    at Object.<anonymous> (Server.js:415:43)
    at [object Generator].next (native)
    at step (/home/alexey2baranov/htdocs/kp-sequelizejs/src/Server.js:1:253)
    at /home/alexey2baranov/htdocs/kp-sequelizejs/src/Server.js:1:513
    at new wrappedPromise (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/async-listener/index.js:372:16)
    at Object.<anonymous> (/home/alexey2baranov/htdocs/kp-sequelizejs/src/Server.js:1:161)
    at Object.<anonymous> (Server.js:412:28)
    at tryCatchResolve (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/apply.js:46:23)
    at callAndResolve (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/apply.js:30:12)
    at callAndResolveNext (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/apply.js:40:4)
    at tryCatchReject3 (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/makePromise.js:856:7)
    at runContinuation3 (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/makePromise.js:814:4)
[2016-09-10 15:39:44.582] [ INFO] console - [ 8,
  68,
  549,
  {},
  'MySuperError',
  [ 'sadkljfaskldjfs;af' ],
  { stack: 
     [ 'Error: sadkljfaskldjfs;af',
       '    at MySuperError (Server.js:339:9)',
       '    at fn.constructor.error.Error (Server.js:344:19)',
       '    at new wrappedPromise (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/async-listener/index.js:372:16)',
       '    at Server.error (Server.js:343:16)',
       '    at Object.<anonymous> (Server.js:415:43)',
       '    at [object Generator].next (native)',
       '    at step (/home/alexey2baranov/htdocs/kp-sequelizejs/src/Server.js:1:253)',
       '    at /home/alexey2baranov/htdocs/kp-sequelizejs/src/Server.js:1:513',
       '    at new wrappedPromise (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/async-listener/index.js:372:16)',
       '    at Object.<anonymous> (/home/alexey2baranov/htdocs/kp-sequelizejs/src/Server.js:1:161)',
       '    at Object.<anonymous> (Server.js:412:28)',
       '    at tryCatchResolve (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/apply.js:46:23)',
       '    at callAndResolve (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/apply.js:30:12)',
       '    at callAndResolveNext (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/apply.js:40:4)',
       '    at tryCatchReject3 (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/makePromise.js:856:7)',
       '    at runContinuation3 (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/makePromise.js:814:4)' ] } ]
[2016-09-10 15:39:44.594] [ INFO] console - [ 70, 550, {}, [ undefined ] ]
[2016-09-10 15:39:44.604] [ INFO] console - Executing (default): delete from "Slovo"
                where
                    place_id<5
                    and value like '%temp'
[2016-09-10 15:39:44.611] [ INFO] console - Executing (default): delete from "Kopnik"
                where
                    name like '%temp'
[2016-09-10 15:39:44.614] [ INFO] console - Executing (default): update "Kopnik"
                set 
                    "voiskoSize"= case when id=2 then 1 ELSE 0 END
                where
                    id>1 
                    and id<=5
[2016-09-10 15:39:44.649] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopa', id: 3 }
[2016-09-10 15:39:44.651] [ INFO] console - Executing (a23c90f1-b98c-415d-9dcd-c6734cee85ba): START TRANSACTION;
[2016-09-10 15:39:44.655] [ INFO] console - Executing (a23c90f1-b98c-415d-9dcd-c6734cee85ba): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:39:44.668] [ INFO] console - Executing (default): SELECT "Kopa"."id", "Kopa"."question", "Kopa"."planned", "Kopa"."started", "Kopa"."closed", "Kopa"."isOpen", "Kopa"."note", "Kopa"."created_at", "Kopa"."updated_at", "Kopa"."deleted_at", "Kopa"."place_id", "Kopa"."inviter_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopa" AS "Kopa" LEFT OUTER JOIN "File" AS "attachments" ON "Kopa"."id" = "attachments"."kopa_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopa"."deleted_at" IS NULL AND "Kopa"."id" = 3);
[2016-09-10 15:39:44.673] [ INFO] console - Executing (a23c90f1-b98c-415d-9dcd-c6734cee85ba): COMMIT;
[2016-09-10 15:39:44.674] [ INFO] console - [ 70,
  552,
  {},
  [ { id: '3',
      question: 'CHE',
      planned: Thu Sep 01 2016 00:00:00 GMT+0500 (YEKT),
      started: Thu Sep 01 2016 00:00:00 GMT+0500 (YEKT),
      closed: null,
      isOpen: false,
      note: null,
      created_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      deleted_at: null,
      place_id: '2',
      inviter_id: '2',
      attachments: [] } ] ]
[2016-09-10 15:39:44.685] [ INFO] console - Executing (79d544d7-04a3-4fcb-bffb-ffa027fcee1c): START TRANSACTION;
[2016-09-10 15:39:44.686] [ INFO] console - Executing (79d544d7-04a3-4fcb-bffb-ffa027fcee1c): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:39:44.692] [ INFO] console - Executing (default): INSERT INTO "Golos" ("id","value","created_at","updated_at","for_id","owner_id") VALUES (DEFAULT,1,'2016-09-10 10:39:44.687 +00:00','2016-09-10 10:39:44.687 +00:00',1,2) RETURNING *;
[2016-09-10 15:39:44.700] [ INFO] console - Executing (79d544d7-04a3-4fcb-bffb-ffa027fcee1c): COMMIT;
[2016-09-10 15:39:44.701] [ INFO] console - [ 70, 553, {}, [ '18' ] ]
[2016-09-10 15:39:44.704] [ INFO] console - [ 16,
  2478919292813312,
  { acknowledge: true },
  'ru.kopa.model.Predlozhenie.id1.golosAdd',
  [ '18' ] ]
[2016-09-10 15:39:44.742] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopa', id: 3 }
[2016-09-10 15:39:44.747] [ INFO] console - Executing (c4012cf9-1a5f-4d60-a6cf-bce731ba9eac): START TRANSACTION;
[2016-09-10 15:39:44.748] [ INFO] console - Executing (c4012cf9-1a5f-4d60-a6cf-bce731ba9eac): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:39:44.756] [ INFO] console - Executing (default): SELECT "Kopa"."id", "Kopa"."question", "Kopa"."planned", "Kopa"."started", "Kopa"."closed", "Kopa"."isOpen", "Kopa"."note", "Kopa"."created_at", "Kopa"."updated_at", "Kopa"."deleted_at", "Kopa"."place_id", "Kopa"."inviter_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopa" AS "Kopa" LEFT OUTER JOIN "File" AS "attachments" ON "Kopa"."id" = "attachments"."kopa_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopa"."deleted_at" IS NULL AND "Kopa"."id" = 3);
[2016-09-10 15:39:44.767] [ INFO] console - Executing (c4012cf9-1a5f-4d60-a6cf-bce731ba9eac): COMMIT;
[2016-09-10 15:39:44.769] [ INFO] console - [ 70,
  555,
  {},
  [ { id: '3',
      question: 'CHE',
      planned: Thu Sep 01 2016 00:00:00 GMT+0500 (YEKT),
      started: Thu Sep 01 2016 00:00:00 GMT+0500 (YEKT),
      closed: null,
      isOpen: false,
      note: null,
      created_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      deleted_at: null,
      place_id: '2',
      inviter_id: '2',
      attachments: [] } ] ]
[2016-09-10 15:39:44.792] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 2 }
[2016-09-10 15:39:44.795] [ INFO] console - Executing (6f7c69f0-92c6-47c1-b6d3-5373c5cc4807): START TRANSACTION;
[2016-09-10 15:39:44.796] [ INFO] console - Executing (6f7c69f0-92c6-47c1-b6d3-5373c5cc4807): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:39:44.801] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 2);
[2016-09-10 15:39:44.806] [ INFO] console - Executing (6f7c69f0-92c6-47c1-b6d3-5373c5cc4807): COMMIT;
[2016-09-10 15:39:44.808] [ INFO] console - [ 70,
  556,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/2/',
      starshina: [Object],
      id: '2',
      email: 'unittest2@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '1',
      voiskoSize: 1,
      birth: 1983,
      path: '/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: null,
      attachments: [] } ] ]
[2016-09-10 15:39:44.818] [ INFO] console - Executing (a0bab859-6985-421b-82c3-0c6746433b43): START TRANSACTION;
[2016-09-10 15:39:44.820] [ INFO] console - Executing (a0bab859-6985-421b-82c3-0c6746433b43): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:39:44.825] [ INFO] console - Executing (default): INSERT INTO "Slovo" ("id","value","created_at","updated_at","owner_id","place_id") VALUES (DEFAULT,'some Slovo temp 1473503984816','2016-09-10 10:39:44.821 +00:00','2016-09-10 10:39:44.821 +00:00',2,3) RETURNING *;
[2016-09-10 15:39:44.830] [ INFO] console - Executing (a0bab859-6985-421b-82c3-0c6746433b43): COMMIT;
[2016-09-10 15:39:44.833] [ INFO] console - [ 70, 557, {}, [ '34' ] ]
[2016-09-10 15:39:44.835] [ INFO] console - [ 16,
  2635430570754048,
  { acknowledge: true },
  'ru.kopa.model.Kopa.id3.slovoAdd',
  [ '34' ] ]
[2016-09-10 15:39:44.845] [ INFO] console - Executing (7468d64b-8a4b-402b-9e58-afede7a56159): START TRANSACTION;
[2016-09-10 15:39:44.849] [ INFO] console - Executing (7468d64b-8a4b-402b-9e58-afede7a56159): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:39:44.854] [ INFO] console - Executing (default): INSERT INTO "Predlozhenie" ("id","value","created_at","updated_at","initiator_id","place_id") VALUES (DEFAULT,'some Predlozhenie temp 1473503984842','2016-09-10 10:39:44.851 +00:00','2016-09-10 10:39:44.851 +00:00',2,3) RETURNING *;
[2016-09-10 15:39:44.858] [ INFO] console - Executing (7468d64b-8a4b-402b-9e58-afede7a56159): COMMIT;
[2016-09-10 15:39:44.859] [ INFO] console - [ 70, 558, {}, [ '18' ] ]
[2016-09-10 15:39:44.862] [ INFO] console - [ 16,
  5992790603333632,
  { acknowledge: true },
  'ru.kopa.model.Kopa.id3.predlozhenieAdd',
  [ '18' ] ]
[2016-09-10 15:39:44.898] [ INFO] console - [ 70, 560, {}, [ undefined ] ]
[2016-09-10 15:39:44.904] [ INFO] console - Executing (default): delete from "Kopnik"
                where
                    name like '%temp'
[2016-09-10 15:39:44.909] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 2 }
[2016-09-10 15:39:44.913] [ INFO] console - Executing (default): update "Kopnik"
                set 
                    "voiskoSize"= case when id=2 then 1 ELSE 0 END
                where
                    id>1 
                    and id<=5
[2016-09-10 15:39:44.913] [ INFO] console - Executing (c0372727-6d25-44f0-9c60-c20839f84d56): START TRANSACTION;
[2016-09-10 15:39:44.914] [ INFO] console - Executing (c0372727-6d25-44f0-9c60-c20839f84d56): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:39:44.920] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 2);
[2016-09-10 15:39:44.924] [ INFO] console - Executing (c0372727-6d25-44f0-9c60-c20839f84d56): COMMIT;
[2016-09-10 15:39:44.925] [ INFO] console - [ 70,
  561,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/2/',
      starshina: [Object],
      id: '2',
      email: 'unittest2@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '1',
      voiskoSize: 1,
      birth: 1983,
      path: '/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: null,
      attachments: [] } ] ]
[2016-09-10 15:39:44.938] [ INFO] console - Executing (482c9c16-991d-4e57-b2b5-3e08e99e9862): START TRANSACTION;
[2016-09-10 15:39:44.939] [ INFO] console - Executing (482c9c16-991d-4e57-b2b5-3e08e99e9862): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:39:44.946] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 2);
[2016-09-10 15:39:44.949] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"+1
                                where
                                    '/2/' like path||id||'/%'
[2016-09-10 15:39:44.953] [ INFO] console - Executing (default): INSERT INTO "Kopnik" ("id","name","surname","patronymic","voiskoSize","birth","path","created_at","updated_at","rodina_id","starshina_id") VALUES (DEFAULT,'temp','temp','temp',0,1900,'/2/','2016-09-10 10:39:44.940 +00:00','2016-09-10 10:39:44.940 +00:00',NULL,2) RETURNING *;
[2016-09-10 15:39:44.956] [ INFO] console - Executing (482c9c16-991d-4e57-b2b5-3e08e99e9862): COMMIT;
[2016-09-10 15:39:44.958] [ INFO] console - [ 70, 562, {}, [ '129' ] ]
[2016-09-10 15:39:44.961] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/' like k.path||k.id||'/%'
[2016-09-10 15:39:44.966] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Zemla', id: 2 }
[2016-09-10 15:39:44.969] [ INFO] console - Executing (db6e5b7a-f03f-4e5a-9d16-7fba473d8c04): START TRANSACTION;
[2016-09-10 15:39:44.969] [ INFO] console - Executing (b321a899-3570-4c6e-a369-693a47e80b46): START TRANSACTION;
[2016-09-10 15:39:44.971] [ INFO] console - Executing (b321a899-3570-4c6e-a369-693a47e80b46): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:39:44.972] [ INFO] console - Executing (db6e5b7a-f03f-4e5a-9d16-7fba473d8c04): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:39:44.993] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 15:39:44.997] [ INFO] console - Executing (default): SELECT "Zemla"."id", "Zemla"."path", "Zemla"."name", "Zemla"."intensity", "Zemla"."note", "Zemla"."created_at", "Zemla"."updated_at", "Zemla"."deleted_at", "Zemla"."parent_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Zemla" AS "Zemla" LEFT OUTER JOIN "File" AS "attachments" ON "Zemla"."id" = "attachments"."zemla_id" AND "attachments"."deleted_at" IS NULL WHERE ("Zemla"."deleted_at" IS NULL AND "Zemla"."id" = 2);
[2016-09-10 15:39:45.002] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 129);
[2016-09-10 15:39:45.006] [ INFO] console - [ 16,
  290005113110528,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id2.voiskoChange',
  [],
  { voiskoSize: 2 } ]
[2016-09-10 15:39:45.013] [ INFO] console - Executing (db6e5b7a-f03f-4e5a-9d16-7fba473d8c04): COMMIT;
[2016-09-10 15:39:45.017] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"+1
                                where
                                    '/2/129/' like path||id||'/%'
[2016-09-10 15:39:45.017] [ INFO] console - [ 70,
  563,
  {},
  [ { fullPath: 'null2/',
      id: '2',
      path: null,
      name: 'UnitTest2',
      intensity: 1000,
      note: 'unit test 1473503422430',
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Sat Sep 10 2016 15:30:33 GMT+0500 (YEKT),
      deleted_at: null,
      parent_id: '1',
      attachments: [] } ] ]
[2016-09-10 15:39:45.025] [ INFO] console - Executing (default): INSERT INTO "Kopnik" ("id","name","surname","patronymic","voiskoSize","birth","path","created_at","updated_at","rodina_id","starshina_id") VALUES (DEFAULT,'temp','temp','temp',0,1900,'/2/129/','2016-09-10 10:39:44.976 +00:00','2016-09-10 10:39:44.976 +00:00',NULL,129) RETURNING *;
[2016-09-10 15:39:45.027] [ INFO] console - Executing (b321a899-3570-4c6e-a369-693a47e80b46): COMMIT;
[2016-09-10 15:39:45.029] [ INFO] console - [ 70, 564, {}, [ '130' ] ]
[2016-09-10 15:39:45.033] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/129/' like k.path||k.id||'/%'
[2016-09-10 15:39:45.040] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2', '129')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 15:39:45.043] [ INFO] console - [ 16,
  2647263612502016,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id129.voiskoChange',
  [],
  { voiskoSize: 1 } ]
[2016-09-10 15:39:45.047] [ INFO] console - [ 16,
  5215547952201728,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id2.voiskoChange',
  [],
  { voiskoSize: 3 } ]
[2016-09-10 15:39:45.052] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 4 }
[2016-09-10 15:39:45.055] [ INFO] console - Executing (4348c527-d623-432e-9072-e4797bb376ef): START TRANSACTION;
[2016-09-10 15:39:45.057] [ INFO] console - Executing (4348c527-d623-432e-9072-e4797bb376ef): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:39:45.063] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 4);
[2016-09-10 15:39:45.069] [ INFO] console - Executing (4348c527-d623-432e-9072-e4797bb376ef): COMMIT;
[2016-09-10 15:39:45.070] [ INFO] console - [ 70,
  565,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/4/',
      starshina: [Object],
      id: '4',
      email: 'unittest4@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '4',
      voiskoSize: 0,
      birth: 1983,
      path: '/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: null,
      attachments: [] } ] ]
[2016-09-10 15:39:45.081] [ INFO] console - Executing (3a6082fe-4031-4c93-8f83-9c20e1f45a4b): START TRANSACTION;
[2016-09-10 15:39:45.082] [ INFO] console - Executing (3a6082fe-4031-4c93-8f83-9c20e1f45a4b): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:39:45.086] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 129);
[2016-09-10 15:39:45.090] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 4);
[2016-09-10 15:39:45.094] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/' like k.path||k.id||'/%'
[2016-09-10 15:39:45.099] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 15:39:45.103] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"-2
                                where
                                    '/2/' like path||id||'/%'
[2016-09-10 15:39:45.109] [ INFO] console - Executing (default): UPDATE "Kopnik" SET "path"='/4/',"starshina_id"='4',"updated_at"='2016-09-10 10:39:45.104 +00:00' WHERE "id" = '129'
[2016-09-10 15:39:45.119] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"+2
                                where
                                    '/4/' like path||id||'/%'
[2016-09-10 15:39:45.124] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."starshina_id" = '129');
[2016-09-10 15:39:45.130] [ INFO] console - Executing (default): UPDATE "Kopnik" SET "path"='/4/129/',"updated_at"='2016-09-10 10:39:45.127 +00:00' WHERE "id" = '130'
[2016-09-10 15:39:45.133] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/4/' like k.path||k.id||'/%'
[2016-09-10 15:39:45.140] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('4')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 15:39:45.143] [ INFO] console - Executing (3a6082fe-4031-4c93-8f83-9c20e1f45a4b): COMMIT;
[2016-09-10 15:39:45.143] [ INFO] console - [ 70, 566, {}, [ undefined ] ]
[2016-09-10 15:39:45.145] [ INFO] console - [ 16,
  1814500539891712,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id2.voiskoChange',
  [],
  { voiskoSize: 1 } ]
[2016-09-10 15:39:45.150] [ INFO] console - [ 16,
  7587239122960384,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id4.voiskoChange',
  [],
  { voiskoSize: 2 } ]
[2016-09-10 15:39:45.178] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopa', id: 3 }
[2016-09-10 15:39:45.186] [ INFO] console - Executing (51e48870-ac60-4e2e-899a-2847616e283e): START TRANSACTION;
[2016-09-10 15:39:45.188] [ INFO] console - Executing (51e48870-ac60-4e2e-899a-2847616e283e): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:39:45.195] [ INFO] console - Executing (default): SELECT "Kopa"."id", "Kopa"."question", "Kopa"."planned", "Kopa"."started", "Kopa"."closed", "Kopa"."isOpen", "Kopa"."note", "Kopa"."created_at", "Kopa"."updated_at", "Kopa"."deleted_at", "Kopa"."place_id", "Kopa"."inviter_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopa" AS "Kopa" LEFT OUTER JOIN "File" AS "attachments" ON "Kopa"."id" = "attachments"."kopa_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopa"."deleted_at" IS NULL AND "Kopa"."id" = 3);
[2016-09-10 15:39:45.201] [ INFO] console - Executing (51e48870-ac60-4e2e-899a-2847616e283e): COMMIT;
[2016-09-10 15:39:45.202] [ INFO] console - [ 70,
  568,
  {},
  [ { id: '3',
      question: 'CHE',
      planned: Thu Sep 01 2016 00:00:00 GMT+0500 (YEKT),
      started: Thu Sep 01 2016 00:00:00 GMT+0500 (YEKT),
      closed: null,
      isOpen: false,
      note: null,
      created_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      deleted_at: null,
      place_id: '2',
      inviter_id: '2',
      attachments: [] } ] ]
[2016-09-10 15:39:45.213] [ INFO] console - Executing (eb980d23-b873-451b-8cc1-372ae46a59e0): START TRANSACTION;
[2016-09-10 15:39:45.215] [ INFO] console - Executing (eb980d23-b873-451b-8cc1-372ae46a59e0): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:39:45.219] [ INFO] console - Executing (default): INSERT INTO "Predlozhenie" ("id","value","created_at","updated_at","initiator_id","place_id") VALUES (DEFAULT,'some Predlozhenie temp 1473503983408','2016-09-10 10:39:45.216 +00:00','2016-09-10 10:39:45.216 +00:00',2,3) RETURNING *;
[2016-09-10 15:39:45.224] [ INFO] console - Executing (eb980d23-b873-451b-8cc1-372ae46a59e0): COMMIT;
[2016-09-10 15:39:45.225] [ INFO] console - [ 70, 569, {}, [ '19' ] ]
[2016-09-10 15:39:45.228] [ INFO] console - [ 16,
  1270336200900608,
  { acknowledge: true },
  'ru.kopa.model.Kopa.id3.predlozhenieAdd',
  [ '19' ] ]
[2016-09-10 15:39:45.234] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Predlozhenie', id: 1 }
[2016-09-10 15:39:45.236] [ INFO] console - Executing (686ec33d-5561-4080-986e-e3c4d06738ed): START TRANSACTION;
[2016-09-10 15:39:45.237] [ INFO] console - Executing (686ec33d-5561-4080-986e-e3c4d06738ed): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:39:45.244] [ INFO] console - Executing (default): SELECT "Predlozhenie"."id", "Predlozhenie"."value", "Predlozhenie"."note", "Predlozhenie"."created_at", "Predlozhenie"."updated_at", "Predlozhenie"."deleted_at", "Predlozhenie"."initiator_id", "Predlozhenie"."place_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Predlozhenie" AS "Predlozhenie" LEFT OUTER JOIN "File" AS "attachments" ON "Predlozhenie"."id" = "attachments"."predlozhenie_id" AND "attachments"."deleted_at" IS NULL WHERE ("Predlozhenie"."deleted_at" IS NULL AND "Predlozhenie"."id" = 1);
[2016-09-10 15:39:45.250] [ INFO] console - Executing (686ec33d-5561-4080-986e-e3c4d06738ed): COMMIT;
[2016-09-10 15:39:45.253] [ INFO] console - [ 70,
  570,
  {},
  [ { id: '1',
      value: 'Будет ...',
      note: null,
      created_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      deleted_at: null,
      initiator_id: '2',
      place_id: '3',
      attachments: [] } ] ]
[2016-09-10 15:39:45.262] [ INFO] console - Executing (56e7911e-92d1-4af0-9557-1d2a69f99a04): START TRANSACTION;
[2016-09-10 15:39:45.263] [ INFO] console - Executing (56e7911e-92d1-4af0-9557-1d2a69f99a04): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:39:45.267] [ INFO] console - Executing (default): INSERT INTO "Golos" ("id","value","created_at","updated_at","for_id","owner_id") VALUES (DEFAULT,1,'2016-09-10 10:39:45.264 +00:00','2016-09-10 10:39:45.264 +00:00',1,2) RETURNING *;
[2016-09-10 15:39:45.271] [ INFO] console - Executing (56e7911e-92d1-4af0-9557-1d2a69f99a04): COMMIT;
[2016-09-10 15:39:45.272] [ INFO] console - [ 70, 571, {}, [ '19' ] ]
[2016-09-10 15:39:45.276] [ INFO] console - [ 16,
  8662748984508416,
  { acknowledge: true },
  'ru.kopa.model.Predlozhenie.id1.golosAdd',
  [ '19' ] ]
[2016-09-10 15:39:45.324] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 2 }
[2016-09-10 15:39:45.331] [ INFO] console - Executing (2afeb0c5-d26e-4428-a00f-7c184c1aeca7): START TRANSACTION;
[2016-09-10 15:39:45.333] [ INFO] console - Executing (2afeb0c5-d26e-4428-a00f-7c184c1aeca7): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:39:45.338] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 2);
[2016-09-10 15:39:45.358] [ INFO] console - Executing (2afeb0c5-d26e-4428-a00f-7c184c1aeca7): COMMIT;
[2016-09-10 15:39:45.360] [ INFO] console - [ 70,
  573,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/2/',
      starshina: [Object],
      id: '2',
      email: 'unittest2@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '1',
      voiskoSize: 1,
      birth: 1983,
      path: '/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: null,
      attachments: [] } ] ]
[2016-09-10 15:39:45.374] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 3 }
[2016-09-10 15:39:45.377] [ INFO] console - Executing (fded9fbf-ad40-4896-b1b3-14ab84a69433): START TRANSACTION;
[2016-09-10 15:39:45.379] [ INFO] console - Executing (fded9fbf-ad40-4896-b1b3-14ab84a69433): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:39:45.384] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 3);
[2016-09-10 15:39:45.388] [ INFO] console - Executing (fded9fbf-ad40-4896-b1b3-14ab84a69433): COMMIT;
[2016-09-10 15:39:45.389] [ INFO] console - [ 70,
  574,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/2/3/',
      starshina: [Object],
      id: '3',
      email: 'unittest3@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '3',
      voiskoSize: 0,
      birth: 1983,
      path: '/2/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: '2',
      attachments: [] } ] ]
[2016-09-10 15:39:45.402] [ INFO] console - Executing (1331f5d8-aba7-4934-8430-83250c71af8e): START TRANSACTION;
[2016-09-10 15:39:45.406] [ INFO] console - Executing (1331f5d8-aba7-4934-8430-83250c71af8e): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:39:45.411] [ INFO] console - Executing (default): INSERT INTO "Slovo" ("id","value","note","created_at","updated_at","owner_id","place_id") VALUES (DEFAULT,'123 temp','456','2016-09-10 10:39:45.408 +00:00','2016-09-10 10:39:45.408 +00:00',2,3) RETURNING *;
[2016-09-10 15:39:45.417] [ INFO] console - Executing (1331f5d8-aba7-4934-8430-83250c71af8e): COMMIT;
[2016-09-10 15:39:45.418] [ INFO] console - [ 70, 575, {}, [ '35' ] ]
[2016-09-10 15:39:45.420] [ INFO] console - [ 16,
  8848062751440896,
  { acknowledge: true },
  'ru.kopa.model.Kopa.id3.slovoAdd',
  [ '35' ] ]
[2016-09-10 15:39:45.425] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Slovo', id: 35 }
[2016-09-10 15:39:45.428] [ INFO] console - Executing (e902b742-4301-471a-9282-e3fa369bb3ec): START TRANSACTION;
[2016-09-10 15:39:45.429] [ INFO] console - Executing (e902b742-4301-471a-9282-e3fa369bb3ec): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:39:45.436] [ INFO] console - Executing (default): SELECT "Slovo"."id", "Slovo"."value", "Slovo"."note", "Slovo"."created_at", "Slovo"."updated_at", "Slovo"."deleted_at", "Slovo"."owner_id", "Slovo"."place_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Slovo" AS "Slovo" LEFT OUTER JOIN "File" AS "attachments" ON "Slovo"."id" = "attachments"."slovo_id" AND "attachments"."deleted_at" IS NULL WHERE ("Slovo"."deleted_at" IS NULL AND "Slovo"."id" = 35);
[2016-09-10 15:39:45.440] [ INFO] console - Executing (e902b742-4301-471a-9282-e3fa369bb3ec): COMMIT;
[2016-09-10 15:39:45.441] [ INFO] console - [ 70,
  576,
  {},
  [ { id: '35',
      value: '123 temp',
      note: '456',
      created_at: Sat Sep 10 2016 15:39:45 GMT+0500 (YEKT),
      updated_at: Sat Sep 10 2016 15:39:45 GMT+0500 (YEKT),
      deleted_at: null,
      owner_id: '2',
      place_id: '3',
      attachments: [] } ] ]
[2016-09-10 15:39:45.451] [ INFO] console - Executing (b0c2db4b-04ac-40e8-a6c8-987505f24ea6): START TRANSACTION;
[2016-09-10 15:39:45.453] [ INFO] console - Executing (b0c2db4b-04ac-40e8-a6c8-987505f24ea6): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:39:45.459] [ INFO] console - Executing (default): INSERT INTO "Slovo" ("id","value","created_at","updated_at","owner_id","place_id") VALUES (DEFAULT,'some value temp 1473503985447','2016-09-10 10:39:45.455 +00:00','2016-09-10 10:39:45.455 +00:00',2,3) RETURNING *;
[2016-09-10 15:39:45.463] [ INFO] console - Executing (b0c2db4b-04ac-40e8-a6c8-987505f24ea6): COMMIT;
[2016-09-10 15:39:45.464] [ INFO] console - [ 70, 577, {}, [ '36' ] ]
[2016-09-10 15:39:45.466] [ INFO] console - [ 16,
  5119787434770432,
  { acknowledge: true },
  'ru.kopa.model.Kopa.id3.slovoAdd',
  [ '36' ] ]
[2016-09-10 15:39:45.472] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Zemla', id: 2 }
[2016-09-10 15:39:45.475] [ INFO] console - Executing (8d11a27a-3049-4015-b739-0a9117546faf): START TRANSACTION;
[2016-09-10 15:39:45.476] [ INFO] console - Executing (8d11a27a-3049-4015-b739-0a9117546faf): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:39:45.481] [ INFO] console - Executing (default): SELECT "Zemla"."id", "Zemla"."path", "Zemla"."name", "Zemla"."intensity", "Zemla"."note", "Zemla"."created_at", "Zemla"."updated_at", "Zemla"."deleted_at", "Zemla"."parent_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Zemla" AS "Zemla" LEFT OUTER JOIN "File" AS "attachments" ON "Zemla"."id" = "attachments"."zemla_id" AND "attachments"."deleted_at" IS NULL WHERE ("Zemla"."deleted_at" IS NULL AND "Zemla"."id" = 2);
[2016-09-10 15:39:45.486] [ INFO] console - Executing (8d11a27a-3049-4015-b739-0a9117546faf): COMMIT;
[2016-09-10 15:39:45.488] [ INFO] console - [ 70,
  578,
  {},
  [ { fullPath: 'null2/',
      id: '2',
      path: null,
      name: 'UnitTest2',
      intensity: 1000,
      note: 'unit test 1473503422430',
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Sat Sep 10 2016 15:30:33 GMT+0500 (YEKT),
      deleted_at: null,
      parent_id: '1',
      attachments: [] } ] ]
[2016-09-10 15:39:45.499] [ INFO] console - Executing (7fa30a15-fb47-489d-8206-55d090f77c9e): START TRANSACTION;
[2016-09-10 15:39:45.500] [ INFO] console - Executing (7fa30a15-fb47-489d-8206-55d090f77c9e): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:39:45.505] [ INFO] console - Executing (default): SELECT "id", "path", "name", "intensity", "note", "created_at", "updated_at", "deleted_at", "parent_id" FROM "Zemla" AS "Zemla" WHERE ("Zemla"."deleted_at" IS NULL AND "Zemla"."id" = 2);
[2016-09-10 15:39:45.515] [ INFO] console - Executing (default): UPDATE "Zemla" SET "parent_id"=1,"note"='unit test 1473503983413',"updated_at"='2016-09-10 10:39:45.508 +00:00' WHERE "id" = '2'
[2016-09-10 15:39:45.517] [ INFO] console - Executing (7fa30a15-fb47-489d-8206-55d090f77c9e): COMMIT;
[2016-09-10 15:39:45.518] [ INFO] console - [ 16,
  2277629782654976,
  { acknowledge: true },
  'ru.kopa.model.Zemla.id2.change' ]
[2016-09-10 15:39:45.522] [ INFO] console - [ 70, 579, {}, [ undefined ] ]
[2016-09-10 15:39:45.524] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Zemla', id: 2 }
[2016-09-10 15:39:45.527] [ INFO] console - Executing (9cee249b-90ad-440d-8504-5a9c5fc73f1f): START TRANSACTION;
[2016-09-10 15:39:45.532] [ INFO] console - Executing (9cee249b-90ad-440d-8504-5a9c5fc73f1f): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:39:45.540] [ INFO] console - Executing (default): SELECT "Zemla"."id", "Zemla"."path", "Zemla"."name", "Zemla"."intensity", "Zemla"."note", "Zemla"."created_at", "Zemla"."updated_at", "Zemla"."deleted_at", "Zemla"."parent_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Zemla" AS "Zemla" LEFT OUTER JOIN "File" AS "attachments" ON "Zemla"."id" = "attachments"."zemla_id" AND "attachments"."deleted_at" IS NULL WHERE ("Zemla"."deleted_at" IS NULL AND "Zemla"."id" = 2);
[2016-09-10 15:39:45.545] [ INFO] console - Executing (9cee249b-90ad-440d-8504-5a9c5fc73f1f): COMMIT;
[2016-09-10 15:39:45.546] [ INFO] console - [ 70,
  580,
  {},
  [ { fullPath: 'null2/',
      id: '2',
      path: null,
      name: 'UnitTest2',
      intensity: 1000,
      note: 'unit test 1473503983413',
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Sat Sep 10 2016 15:39:45 GMT+0500 (YEKT),
      deleted_at: null,
      parent_id: '1',
      attachments: [] } ] ]
[2016-09-10 15:39:45.549] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Zemla', id: 2 }
[2016-09-10 15:39:45.552] [ INFO] console - Executing (f57e8607-09e8-4775-9ce3-4821b1d03c81): START TRANSACTION;
[2016-09-10 15:39:45.553] [ INFO] console - Executing (f57e8607-09e8-4775-9ce3-4821b1d03c81): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:39:45.563] [ INFO] console - Executing (default): SELECT "Zemla"."id", "Zemla"."path", "Zemla"."name", "Zemla"."intensity", "Zemla"."note", "Zemla"."created_at", "Zemla"."updated_at", "Zemla"."deleted_at", "Zemla"."parent_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Zemla" AS "Zemla" LEFT OUTER JOIN "File" AS "attachments" ON "Zemla"."id" = "attachments"."zemla_id" AND "attachments"."deleted_at" IS NULL WHERE ("Zemla"."deleted_at" IS NULL AND "Zemla"."id" = 2);
[2016-09-10 15:39:45.568] [ INFO] console - Executing (f57e8607-09e8-4775-9ce3-4821b1d03c81): COMMIT;
[2016-09-10 15:39:45.569] [ INFO] console - [ 70,
  581,
  {},
  [ { fullPath: 'null2/',
      id: '2',
      path: null,
      name: 'UnitTest2',
      intensity: 1000,
      note: 'unit test 1473503983413',
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Sat Sep 10 2016 15:39:45 GMT+0500 (YEKT),
      deleted_at: null,
      parent_id: '1',
      attachments: [] } ] ]
[2016-09-10 15:39:45.605] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopa', id: 3 }
[2016-09-10 15:39:45.609] [ INFO] console - Executing (427c7bfc-49cb-4dd6-8e81-2af3beaa1760): START TRANSACTION;
[2016-09-10 15:39:45.611] [ INFO] console - Executing (427c7bfc-49cb-4dd6-8e81-2af3beaa1760): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:39:45.619] [ INFO] console - Executing (default): SELECT "Kopa"."id", "Kopa"."question", "Kopa"."planned", "Kopa"."started", "Kopa"."closed", "Kopa"."isOpen", "Kopa"."note", "Kopa"."created_at", "Kopa"."updated_at", "Kopa"."deleted_at", "Kopa"."place_id", "Kopa"."inviter_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopa" AS "Kopa" LEFT OUTER JOIN "File" AS "attachments" ON "Kopa"."id" = "attachments"."kopa_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopa"."deleted_at" IS NULL AND "Kopa"."id" = 3);
[2016-09-10 15:39:45.622] [ INFO] console - Executing (427c7bfc-49cb-4dd6-8e81-2af3beaa1760): COMMIT;
[2016-09-10 15:39:45.623] [ INFO] console - [ 70,
  583,
  {},
  [ { id: '3',
      question: 'CHE',
      planned: Thu Sep 01 2016 00:00:00 GMT+0500 (YEKT),
      started: Thu Sep 01 2016 00:00:00 GMT+0500 (YEKT),
      closed: null,
      isOpen: false,
      note: null,
      created_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      deleted_at: null,
      place_id: '2',
      inviter_id: '2',
      attachments: [] } ] ]
[2016-09-10 15:39:45.633] [ INFO] console - Executing (ddd5d4d7-4683-4deb-8a56-3db1367965e5): START TRANSACTION;
[2016-09-10 15:39:45.636] [ INFO] console - Executing (ddd5d4d7-4683-4deb-8a56-3db1367965e5): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:39:45.640] [ INFO] console - Executing (default): INSERT INTO "Slovo" ("id","value","created_at","updated_at","owner_id","place_id") VALUES (DEFAULT,'some Slovo temp','2016-09-10 10:39:45.637 +00:00','2016-09-10 10:39:45.637 +00:00',2,3) RETURNING *;
[2016-09-10 15:39:45.642] [ INFO] console - Executing (ddd5d4d7-4683-4deb-8a56-3db1367965e5): COMMIT;
[2016-09-10 15:39:45.644] [ INFO] console - [ 70, 584, {}, [ '37' ] ]
[2016-09-10 15:39:45.646] [ INFO] console - [ 16,
  2309027994271744,
  { acknowledge: true },
  'ru.kopa.model.Kopa.id3.slovoAdd',
  [ '37' ] ]
[2016-09-10 15:39:54.280] [ INFO] console - [ 70, 586, {}, [ 'unittest2@domain.ru' ] ]
[2016-09-10 15:39:54.288] [DEBUG] Server - #pingPong() [ 1, 2, 3 ] { x: 1, y: 2, z: 3 }
[2016-09-10 15:39:54.294] [ INFO] console - [ 70, 587, {}, [ 1, 2, 3 ], { x: 1, y: 2, z: 3 } ]
[2016-09-10 15:39:54.303] [ INFO] console - Executing (default): select 'КОПА' as result
[2016-09-10 15:39:54.305] [ INFO] console - [ 70, 588, {}, [ 'КОПА' ] ]
[2016-09-10 15:39:54.311] [DEBUG] Server - #error() [ 'sadkljfaskldjfs;af' ] {}
[2016-09-10 15:39:54.314] [ERROR] Server - [Error: sadkljfaskldjfs;af]
Error: sadkljfaskldjfs;af
    at MySuperError (Server.js:339:9)
    at fn.constructor.error.Error (Server.js:344:19)
    at new wrappedPromise (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/async-listener/index.js:372:16)
    at Server.error (Server.js:343:16)
    at Object.<anonymous> (Server.js:415:43)
    at [object Generator].next (native)
    at step (/home/alexey2baranov/htdocs/kp-sequelizejs/src/Server.js:1:253)
    at /home/alexey2baranov/htdocs/kp-sequelizejs/src/Server.js:1:513
    at new wrappedPromise (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/async-listener/index.js:372:16)
    at Object.<anonymous> (/home/alexey2baranov/htdocs/kp-sequelizejs/src/Server.js:1:161)
    at Object.<anonymous> (Server.js:412:28)
    at tryCatchResolve (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/apply.js:46:23)
    at callAndResolve (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/apply.js:30:12)
    at callAndResolveNext (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/apply.js:40:4)
    at tryCatchReject3 (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/makePromise.js:856:7)
    at runContinuation3 (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/makePromise.js:814:4)
[2016-09-10 15:39:54.317] [ INFO] console - [ 8,
  68,
  589,
  {},
  'MySuperError',
  [ 'sadkljfaskldjfs;af' ],
  { stack: 
     [ 'Error: sadkljfaskldjfs;af',
       '    at MySuperError (Server.js:339:9)',
       '    at fn.constructor.error.Error (Server.js:344:19)',
       '    at new wrappedPromise (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/async-listener/index.js:372:16)',
       '    at Server.error (Server.js:343:16)',
       '    at Object.<anonymous> (Server.js:415:43)',
       '    at [object Generator].next (native)',
       '    at step (/home/alexey2baranov/htdocs/kp-sequelizejs/src/Server.js:1:253)',
       '    at /home/alexey2baranov/htdocs/kp-sequelizejs/src/Server.js:1:513',
       '    at new wrappedPromise (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/async-listener/index.js:372:16)',
       '    at Object.<anonymous> (/home/alexey2baranov/htdocs/kp-sequelizejs/src/Server.js:1:161)',
       '    at Object.<anonymous> (Server.js:412:28)',
       '    at tryCatchResolve (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/apply.js:46:23)',
       '    at callAndResolve (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/apply.js:30:12)',
       '    at callAndResolveNext (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/apply.js:40:4)',
       '    at tryCatchReject3 (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/makePromise.js:856:7)',
       '    at runContinuation3 (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/makePromise.js:814:4)' ] } ]
[2016-09-10 15:39:54.327] [ INFO] console - [ 70, 590, {}, [ undefined ] ]
[2016-09-10 15:39:54.331] [ INFO] console - Executing (default): delete from "Slovo"
                where
                    place_id<5
                    and value like '%temp'
[2016-09-10 15:39:54.338] [ INFO] console - Executing (default): delete from "Kopnik"
                where
                    name like '%temp'
[2016-09-10 15:39:54.340] [ INFO] console - Executing (default): update "Kopnik"
                set 
                    "voiskoSize"= case when id=2 then 1 ELSE 0 END
                where
                    id>1 
                    and id<=5
[2016-09-10 15:39:54.370] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopa', id: 3 }
[2016-09-10 15:39:54.372] [ INFO] console - Executing (6ee5be3e-0f5b-4a7a-8809-c0dad69f06b1): START TRANSACTION;
[2016-09-10 15:39:54.374] [ INFO] console - Executing (6ee5be3e-0f5b-4a7a-8809-c0dad69f06b1): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:39:54.380] [ INFO] console - Executing (default): SELECT "Kopa"."id", "Kopa"."question", "Kopa"."planned", "Kopa"."started", "Kopa"."closed", "Kopa"."isOpen", "Kopa"."note", "Kopa"."created_at", "Kopa"."updated_at", "Kopa"."deleted_at", "Kopa"."place_id", "Kopa"."inviter_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopa" AS "Kopa" LEFT OUTER JOIN "File" AS "attachments" ON "Kopa"."id" = "attachments"."kopa_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopa"."deleted_at" IS NULL AND "Kopa"."id" = 3);
[2016-09-10 15:39:54.384] [ INFO] console - Executing (6ee5be3e-0f5b-4a7a-8809-c0dad69f06b1): COMMIT;
[2016-09-10 15:39:54.386] [ INFO] console - [ 70,
  592,
  {},
  [ { id: '3',
      question: 'CHE',
      planned: Thu Sep 01 2016 00:00:00 GMT+0500 (YEKT),
      started: Thu Sep 01 2016 00:00:00 GMT+0500 (YEKT),
      closed: null,
      isOpen: false,
      note: null,
      created_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      deleted_at: null,
      place_id: '2',
      inviter_id: '2',
      attachments: [] } ] ]
[2016-09-10 15:39:54.400] [ INFO] console - Executing (d1fdbdcb-bf6f-4854-9bab-d0ece4f7c878): START TRANSACTION;
[2016-09-10 15:39:54.401] [ INFO] console - Executing (d1fdbdcb-bf6f-4854-9bab-d0ece4f7c878): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:39:54.407] [ INFO] console - Executing (default): INSERT INTO "Golos" ("id","value","created_at","updated_at","for_id","owner_id") VALUES (DEFAULT,1,'2016-09-10 10:39:54.402 +00:00','2016-09-10 10:39:54.402 +00:00',1,2) RETURNING *;
[2016-09-10 15:39:54.409] [ INFO] console - Executing (d1fdbdcb-bf6f-4854-9bab-d0ece4f7c878): COMMIT;
[2016-09-10 15:39:54.410] [ INFO] console - [ 70, 593, {}, [ '20' ] ]
[2016-09-10 15:39:54.415] [ INFO] console - [ 16,
  8395356901474304,
  { acknowledge: true },
  'ru.kopa.model.Predlozhenie.id1.golosAdd',
  [ '20' ] ]
[2016-09-10 15:39:54.446] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopa', id: 3 }
[2016-09-10 15:39:54.451] [ INFO] console - Executing (bd08bcf3-b934-4903-bcf7-957dec3bc028): START TRANSACTION;
[2016-09-10 15:39:54.453] [ INFO] console - Executing (bd08bcf3-b934-4903-bcf7-957dec3bc028): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:39:54.460] [ INFO] console - Executing (default): SELECT "Kopa"."id", "Kopa"."question", "Kopa"."planned", "Kopa"."started", "Kopa"."closed", "Kopa"."isOpen", "Kopa"."note", "Kopa"."created_at", "Kopa"."updated_at", "Kopa"."deleted_at", "Kopa"."place_id", "Kopa"."inviter_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopa" AS "Kopa" LEFT OUTER JOIN "File" AS "attachments" ON "Kopa"."id" = "attachments"."kopa_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopa"."deleted_at" IS NULL AND "Kopa"."id" = 3);
[2016-09-10 15:39:54.464] [ INFO] console - Executing (bd08bcf3-b934-4903-bcf7-957dec3bc028): COMMIT;
[2016-09-10 15:39:54.465] [ INFO] console - [ 70,
  595,
  {},
  [ { id: '3',
      question: 'CHE',
      planned: Thu Sep 01 2016 00:00:00 GMT+0500 (YEKT),
      started: Thu Sep 01 2016 00:00:00 GMT+0500 (YEKT),
      closed: null,
      isOpen: false,
      note: null,
      created_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      deleted_at: null,
      place_id: '2',
      inviter_id: '2',
      attachments: [] } ] ]
[2016-09-10 15:39:54.475] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 2 }
[2016-09-10 15:39:54.479] [ INFO] console - Executing (fdb59cdf-6d97-4311-ba65-3e53392a7d4a): START TRANSACTION;
[2016-09-10 15:39:54.480] [ INFO] console - Executing (fdb59cdf-6d97-4311-ba65-3e53392a7d4a): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:39:54.496] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 2);
[2016-09-10 15:39:54.501] [ INFO] console - Executing (fdb59cdf-6d97-4311-ba65-3e53392a7d4a): COMMIT;
[2016-09-10 15:39:54.502] [ INFO] console - [ 70,
  596,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/2/',
      starshina: [Object],
      id: '2',
      email: 'unittest2@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '1',
      voiskoSize: 1,
      birth: 1983,
      path: '/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: null,
      attachments: [] } ] ]
[2016-09-10 15:39:54.515] [ INFO] console - Executing (482449d4-02ac-4722-aed7-2c653fa38b6e): START TRANSACTION;
[2016-09-10 15:39:54.516] [ INFO] console - Executing (482449d4-02ac-4722-aed7-2c653fa38b6e): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:39:54.527] [ INFO] console - Executing (default): INSERT INTO "Slovo" ("id","value","created_at","updated_at","owner_id","place_id") VALUES (DEFAULT,'some Slovo temp 1473503994512','2016-09-10 10:39:54.523 +00:00','2016-09-10 10:39:54.523 +00:00',2,3) RETURNING *;
[2016-09-10 15:39:54.530] [ INFO] console - Executing (482449d4-02ac-4722-aed7-2c653fa38b6e): COMMIT;
[2016-09-10 15:39:54.532] [ INFO] console - [ 70, 597, {}, [ '38' ] ]
[2016-09-10 15:39:54.537] [ INFO] console - [ 16,
  1973895521370112,
  { acknowledge: true },
  'ru.kopa.model.Kopa.id3.slovoAdd',
  [ '38' ] ]
[2016-09-10 15:39:54.549] [ INFO] console - Executing (c34e8177-c285-4acf-9321-a59915f35f58): START TRANSACTION;
[2016-09-10 15:39:54.552] [ INFO] console - Executing (c34e8177-c285-4acf-9321-a59915f35f58): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:39:54.556] [ INFO] console - Executing (default): INSERT INTO "Predlozhenie" ("id","value","created_at","updated_at","initiator_id","place_id") VALUES (DEFAULT,'some Predlozhenie temp 1473503994545','2016-09-10 10:39:54.553 +00:00','2016-09-10 10:39:54.553 +00:00',2,3) RETURNING *;
[2016-09-10 15:39:54.559] [ INFO] console - Executing (c34e8177-c285-4acf-9321-a59915f35f58): COMMIT;
[2016-09-10 15:39:54.562] [ INFO] console - [ 70, 598, {}, [ '20' ] ]
[2016-09-10 15:39:54.564] [ INFO] console - [ 16,
  2621838429519872,
  { acknowledge: true },
  'ru.kopa.model.Kopa.id3.predlozhenieAdd',
  [ '20' ] ]
[2016-09-10 15:39:54.599] [ INFO] console - [ 70, 600, {}, [ undefined ] ]
[2016-09-10 15:39:54.601] [ INFO] console - Executing (default): delete from "Kopnik"
                where
                    name like '%temp'
[2016-09-10 15:39:54.610] [ INFO] console - Executing (default): update "Kopnik"
                set 
                    "voiskoSize"= case when id=2 then 1 ELSE 0 END
                where
                    id>1 
                    and id<=5
[2016-09-10 15:39:54.612] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 2 }
[2016-09-10 15:39:54.615] [ INFO] console - Executing (bfe36075-35a0-488a-8023-6481c5a87cfa): START TRANSACTION;
[2016-09-10 15:39:54.616] [ INFO] console - Executing (bfe36075-35a0-488a-8023-6481c5a87cfa): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:39:54.622] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 2);
[2016-09-10 15:39:54.626] [ INFO] console - Executing (bfe36075-35a0-488a-8023-6481c5a87cfa): COMMIT;
[2016-09-10 15:39:54.628] [ INFO] console - [ 70,
  601,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/2/',
      starshina: [Object],
      id: '2',
      email: 'unittest2@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '1',
      voiskoSize: 1,
      birth: 1983,
      path: '/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: null,
      attachments: [] } ] ]
[2016-09-10 15:39:54.639] [ INFO] console - Executing (144b5c27-74cb-452c-8839-8b046659012d): START TRANSACTION;
[2016-09-10 15:39:54.640] [ INFO] console - Executing (144b5c27-74cb-452c-8839-8b046659012d): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:39:54.647] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 2);
[2016-09-10 15:39:54.650] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"+1
                                where
                                    '/2/' like path||id||'/%'
[2016-09-10 15:39:54.656] [ INFO] console - Executing (default): INSERT INTO "Kopnik" ("id","name","surname","patronymic","voiskoSize","birth","path","created_at","updated_at","rodina_id","starshina_id") VALUES (DEFAULT,'temp','temp','temp',0,1900,'/2/','2016-09-10 10:39:54.643 +00:00','2016-09-10 10:39:54.643 +00:00',NULL,2) RETURNING *;
[2016-09-10 15:39:54.659] [ INFO] console - Executing (144b5c27-74cb-452c-8839-8b046659012d): COMMIT;
[2016-09-10 15:39:54.661] [ INFO] console - [ 70, 602, {}, [ '131' ] ]
[2016-09-10 15:39:54.665] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/' like k.path||k.id||'/%'
[2016-09-10 15:39:54.675] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Zemla', id: 2 }
[2016-09-10 15:39:54.699] [ INFO] console - Executing (c2ff91c5-aade-49f5-9102-290c1f7a91b3): START TRANSACTION;
[2016-09-10 15:39:54.699] [ INFO] console - Executing (5723cbf9-5735-49e7-844a-e9291b31df57): START TRANSACTION;
[2016-09-10 15:39:54.704] [ INFO] console - Executing (c2ff91c5-aade-49f5-9102-290c1f7a91b3): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:39:54.706] [ INFO] console - Executing (5723cbf9-5735-49e7-844a-e9291b31df57): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:39:54.712] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 15:39:54.723] [ INFO] console - [ 16,
  4226030694825984,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id2.voiskoChange',
  [],
  { voiskoSize: 2 } ]
[2016-09-10 15:39:54.736] [ INFO] console - Executing (default): SELECT "Zemla"."id", "Zemla"."path", "Zemla"."name", "Zemla"."intensity", "Zemla"."note", "Zemla"."created_at", "Zemla"."updated_at", "Zemla"."deleted_at", "Zemla"."parent_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Zemla" AS "Zemla" LEFT OUTER JOIN "File" AS "attachments" ON "Zemla"."id" = "attachments"."zemla_id" AND "attachments"."deleted_at" IS NULL WHERE ("Zemla"."deleted_at" IS NULL AND "Zemla"."id" = 2);
[2016-09-10 15:39:54.740] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 131);
[2016-09-10 15:39:54.753] [ INFO] console - Executing (c2ff91c5-aade-49f5-9102-290c1f7a91b3): COMMIT;
[2016-09-10 15:39:54.754] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"+1
                                where
                                    '/2/131/' like path||id||'/%'
[2016-09-10 15:39:54.755] [ INFO] console - [ 70,
  603,
  {},
  [ { fullPath: 'null2/',
      id: '2',
      path: null,
      name: 'UnitTest2',
      intensity: 1000,
      note: 'unit test 1473503983413',
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Sat Sep 10 2016 15:39:45 GMT+0500 (YEKT),
      deleted_at: null,
      parent_id: '1',
      attachments: [] } ] ]
[2016-09-10 15:39:54.770] [ INFO] console - Executing (default): INSERT INTO "Kopnik" ("id","name","surname","patronymic","voiskoSize","birth","path","created_at","updated_at","rodina_id","starshina_id") VALUES (DEFAULT,'temp','temp','temp',0,1900,'/2/131/','2016-09-10 10:39:54.723 +00:00','2016-09-10 10:39:54.723 +00:00',NULL,131) RETURNING *;
[2016-09-10 15:39:54.775] [ INFO] console - Executing (5723cbf9-5735-49e7-844a-e9291b31df57): COMMIT;
[2016-09-10 15:39:54.776] [ INFO] console - [ 70, 604, {}, [ '132' ] ]
[2016-09-10 15:39:54.782] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/131/' like k.path||k.id||'/%'
[2016-09-10 15:39:54.787] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2', '131')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 15:39:54.790] [ INFO] console - [ 16,
  6710837970468864,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id131.voiskoChange',
  [],
  { voiskoSize: 1 } ]
[2016-09-10 15:39:54.798] [ INFO] console - [ 16,
  6514919639875584,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id2.voiskoChange',
  [],
  { voiskoSize: 3 } ]
[2016-09-10 15:39:54.808] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 4 }
[2016-09-10 15:39:54.811] [ INFO] console - Executing (817226fd-6c88-4877-8ac2-1dd0ed930d6c): START TRANSACTION;
[2016-09-10 15:39:54.814] [ INFO] console - Executing (817226fd-6c88-4877-8ac2-1dd0ed930d6c): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:39:54.826] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 4);
[2016-09-10 15:39:54.834] [ INFO] console - Executing (817226fd-6c88-4877-8ac2-1dd0ed930d6c): COMMIT;
[2016-09-10 15:39:54.839] [ INFO] console - [ 70,
  605,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/4/',
      starshina: [Object],
      id: '4',
      email: 'unittest4@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '4',
      voiskoSize: 0,
      birth: 1983,
      path: '/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: null,
      attachments: [] } ] ]
[2016-09-10 15:39:54.851] [ INFO] console - Executing (820271bd-8267-4c70-a510-237f5ea5fe76): START TRANSACTION;
[2016-09-10 15:39:54.852] [ INFO] console - Executing (820271bd-8267-4c70-a510-237f5ea5fe76): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:39:54.857] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 131);
[2016-09-10 15:39:54.863] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 4);
[2016-09-10 15:39:54.866] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/' like k.path||k.id||'/%'
[2016-09-10 15:39:54.871] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 15:39:54.876] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"-2
                                where
                                    '/2/' like path||id||'/%'
[2016-09-10 15:39:54.883] [ INFO] console - Executing (default): UPDATE "Kopnik" SET "path"='/4/',"starshina_id"='4',"updated_at"='2016-09-10 10:39:54.878 +00:00' WHERE "id" = '131'
[2016-09-10 15:39:54.887] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"+2
                                where
                                    '/4/' like path||id||'/%'
[2016-09-10 15:39:54.891] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."starshina_id" = '131');
[2016-09-10 15:39:54.897] [ INFO] console - Executing (default): UPDATE "Kopnik" SET "path"='/4/131/',"updated_at"='2016-09-10 10:39:54.893 +00:00' WHERE "id" = '132'
[2016-09-10 15:39:54.900] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/4/' like k.path||k.id||'/%'
[2016-09-10 15:39:54.906] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('4')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 15:39:54.916] [ INFO] console - Executing (820271bd-8267-4c70-a510-237f5ea5fe76): COMMIT;
[2016-09-10 15:39:54.918] [ INFO] console - [ 70, 606, {}, [ undefined ] ]
[2016-09-10 15:39:54.921] [ INFO] console - [ 16,
  943246865858560,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id2.voiskoChange',
  [],
  { voiskoSize: 1 } ]
[2016-09-10 15:39:54.925] [ INFO] console - [ 16,
  3593961591537664,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id4.voiskoChange',
  [],
  { voiskoSize: 2 } ]
[2016-09-10 15:39:54.952] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopa', id: 3 }
[2016-09-10 15:39:54.955] [ INFO] console - Executing (d3d0767e-bb06-4338-a2f3-5104d2d7f6ee): START TRANSACTION;
[2016-09-10 15:39:54.956] [ INFO] console - Executing (d3d0767e-bb06-4338-a2f3-5104d2d7f6ee): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:39:54.964] [ INFO] console - Executing (default): SELECT "Kopa"."id", "Kopa"."question", "Kopa"."planned", "Kopa"."started", "Kopa"."closed", "Kopa"."isOpen", "Kopa"."note", "Kopa"."created_at", "Kopa"."updated_at", "Kopa"."deleted_at", "Kopa"."place_id", "Kopa"."inviter_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopa" AS "Kopa" LEFT OUTER JOIN "File" AS "attachments" ON "Kopa"."id" = "attachments"."kopa_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopa"."deleted_at" IS NULL AND "Kopa"."id" = 3);
[2016-09-10 15:39:54.968] [ INFO] console - Executing (d3d0767e-bb06-4338-a2f3-5104d2d7f6ee): COMMIT;
[2016-09-10 15:39:54.970] [ INFO] console - [ 70,
  608,
  {},
  [ { id: '3',
      question: 'CHE',
      planned: Thu Sep 01 2016 00:00:00 GMT+0500 (YEKT),
      started: Thu Sep 01 2016 00:00:00 GMT+0500 (YEKT),
      closed: null,
      isOpen: false,
      note: null,
      created_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      deleted_at: null,
      place_id: '2',
      inviter_id: '2',
      attachments: [] } ] ]
[2016-09-10 15:39:54.985] [ INFO] console - Executing (22eec309-eaf4-434a-b8f0-54eb41decef6): START TRANSACTION;
[2016-09-10 15:39:54.987] [ INFO] console - Executing (22eec309-eaf4-434a-b8f0-54eb41decef6): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:39:54.994] [ INFO] console - Executing (default): INSERT INTO "Predlozhenie" ("id","value","created_at","updated_at","initiator_id","place_id") VALUES (DEFAULT,'some Predlozhenie temp 1473503993508','2016-09-10 10:39:54.989 +00:00','2016-09-10 10:39:54.989 +00:00',2,3) RETURNING *;
[2016-09-10 15:39:54.998] [ INFO] console - Executing (22eec309-eaf4-434a-b8f0-54eb41decef6): COMMIT;
[2016-09-10 15:39:55.000] [ INFO] console - [ 70, 609, {}, [ '21' ] ]
[2016-09-10 15:39:55.001] [ INFO] console - [ 16,
  7595975652671488,
  { acknowledge: true },
  'ru.kopa.model.Kopa.id3.predlozhenieAdd',
  [ '21' ] ]
[2016-09-10 15:39:55.010] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Predlozhenie', id: 1 }
[2016-09-10 15:39:55.016] [ INFO] console - Executing (72312505-4087-44e8-8505-1f6b8a452c17): START TRANSACTION;
[2016-09-10 15:39:55.017] [ INFO] console - Executing (72312505-4087-44e8-8505-1f6b8a452c17): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:39:55.024] [ INFO] console - Executing (default): SELECT "Predlozhenie"."id", "Predlozhenie"."value", "Predlozhenie"."note", "Predlozhenie"."created_at", "Predlozhenie"."updated_at", "Predlozhenie"."deleted_at", "Predlozhenie"."initiator_id", "Predlozhenie"."place_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Predlozhenie" AS "Predlozhenie" LEFT OUTER JOIN "File" AS "attachments" ON "Predlozhenie"."id" = "attachments"."predlozhenie_id" AND "attachments"."deleted_at" IS NULL WHERE ("Predlozhenie"."deleted_at" IS NULL AND "Predlozhenie"."id" = 1);
[2016-09-10 15:39:55.028] [ INFO] console - Executing (72312505-4087-44e8-8505-1f6b8a452c17): COMMIT;
[2016-09-10 15:39:55.030] [ INFO] console - [ 70,
  610,
  {},
  [ { id: '1',
      value: 'Будет ...',
      note: null,
      created_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      deleted_at: null,
      initiator_id: '2',
      place_id: '3',
      attachments: [] } ] ]
[2016-09-10 15:39:55.042] [ INFO] console - Executing (76a89528-924d-496c-8806-faf3a988d32c): START TRANSACTION;
[2016-09-10 15:39:55.043] [ INFO] console - Executing (76a89528-924d-496c-8806-faf3a988d32c): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:39:55.049] [ INFO] console - Executing (default): INSERT INTO "Golos" ("id","value","created_at","updated_at","for_id","owner_id") VALUES (DEFAULT,1,'2016-09-10 10:39:55.045 +00:00','2016-09-10 10:39:55.045 +00:00',1,2) RETURNING *;
[2016-09-10 15:39:55.054] [ INFO] console - Executing (76a89528-924d-496c-8806-faf3a988d32c): COMMIT;
[2016-09-10 15:39:55.056] [ INFO] console - [ 70, 611, {}, [ '21' ] ]
[2016-09-10 15:39:55.058] [ INFO] console - [ 16,
  4177850198392832,
  { acknowledge: true },
  'ru.kopa.model.Predlozhenie.id1.golosAdd',
  [ '21' ] ]
[2016-09-10 15:39:55.092] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 2 }
[2016-09-10 15:39:55.096] [ INFO] console - Executing (acaf1e86-b176-47c8-8dae-054d8fc49568): START TRANSACTION;
[2016-09-10 15:39:55.098] [ INFO] console - Executing (acaf1e86-b176-47c8-8dae-054d8fc49568): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:39:55.103] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 2);
[2016-09-10 15:39:55.108] [ INFO] console - Executing (acaf1e86-b176-47c8-8dae-054d8fc49568): COMMIT;
[2016-09-10 15:39:55.109] [ INFO] console - [ 70,
  613,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/2/',
      starshina: [Object],
      id: '2',
      email: 'unittest2@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '1',
      voiskoSize: 1,
      birth: 1983,
      path: '/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: null,
      attachments: [] } ] ]
[2016-09-10 15:39:55.128] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 3 }
[2016-09-10 15:39:55.141] [ INFO] console - Executing (9833a7f8-ac04-4de5-9f09-95c21501d0de): START TRANSACTION;
[2016-09-10 15:39:55.144] [ INFO] console - Executing (9833a7f8-ac04-4de5-9f09-95c21501d0de): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:39:55.150] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 3);
[2016-09-10 15:39:55.155] [ INFO] console - Executing (9833a7f8-ac04-4de5-9f09-95c21501d0de): COMMIT;
[2016-09-10 15:39:55.157] [ INFO] console - [ 70,
  614,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/2/3/',
      starshina: [Object],
      id: '3',
      email: 'unittest3@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '3',
      voiskoSize: 0,
      birth: 1983,
      path: '/2/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: '2',
      attachments: [] } ] ]
[2016-09-10 15:39:55.172] [ INFO] console - Executing (14bc90ae-3037-4368-8d3f-521d46da8412): START TRANSACTION;
[2016-09-10 15:39:55.174] [ INFO] console - Executing (14bc90ae-3037-4368-8d3f-521d46da8412): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:39:55.180] [ INFO] console - Executing (default): INSERT INTO "Slovo" ("id","value","note","created_at","updated_at","owner_id","place_id") VALUES (DEFAULT,'123 temp','456','2016-09-10 10:39:55.176 +00:00','2016-09-10 10:39:55.176 +00:00',2,3) RETURNING *;
[2016-09-10 15:39:55.185] [ INFO] console - Executing (14bc90ae-3037-4368-8d3f-521d46da8412): COMMIT;
[2016-09-10 15:39:55.186] [ INFO] console - [ 70, 615, {}, [ '39' ] ]
[2016-09-10 15:39:55.189] [ INFO] console - [ 16,
  6373552232071168,
  { acknowledge: true },
  'ru.kopa.model.Kopa.id3.slovoAdd',
  [ '39' ] ]
[2016-09-10 15:39:55.196] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Slovo', id: 39 }
[2016-09-10 15:39:55.199] [ INFO] console - Executing (7cb0df23-1c03-4e7d-8ad9-8cc3744d5739): START TRANSACTION;
[2016-09-10 15:39:55.200] [ INFO] console - Executing (7cb0df23-1c03-4e7d-8ad9-8cc3744d5739): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:39:55.206] [ INFO] console - Executing (default): SELECT "Slovo"."id", "Slovo"."value", "Slovo"."note", "Slovo"."created_at", "Slovo"."updated_at", "Slovo"."deleted_at", "Slovo"."owner_id", "Slovo"."place_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Slovo" AS "Slovo" LEFT OUTER JOIN "File" AS "attachments" ON "Slovo"."id" = "attachments"."slovo_id" AND "attachments"."deleted_at" IS NULL WHERE ("Slovo"."deleted_at" IS NULL AND "Slovo"."id" = 39);
[2016-09-10 15:39:55.213] [ INFO] console - Executing (7cb0df23-1c03-4e7d-8ad9-8cc3744d5739): COMMIT;
[2016-09-10 15:39:55.214] [ INFO] console - [ 70,
  616,
  {},
  [ { id: '39',
      value: '123 temp',
      note: '456',
      created_at: Sat Sep 10 2016 15:39:55 GMT+0500 (YEKT),
      updated_at: Sat Sep 10 2016 15:39:55 GMT+0500 (YEKT),
      deleted_at: null,
      owner_id: '2',
      place_id: '3',
      attachments: [] } ] ]
[2016-09-10 15:39:55.224] [ INFO] console - Executing (470f3880-f477-465d-aa12-3e95cf90cecd): START TRANSACTION;
[2016-09-10 15:39:55.225] [ INFO] console - Executing (470f3880-f477-465d-aa12-3e95cf90cecd): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:39:55.232] [ INFO] console - Executing (default): INSERT INTO "Slovo" ("id","value","created_at","updated_at","owner_id","place_id") VALUES (DEFAULT,'some value temp 1473503995221','2016-09-10 10:39:55.227 +00:00','2016-09-10 10:39:55.227 +00:00',2,3) RETURNING *;
[2016-09-10 15:39:55.237] [ INFO] console - Executing (470f3880-f477-465d-aa12-3e95cf90cecd): COMMIT;
[2016-09-10 15:39:55.238] [ INFO] console - [ 70, 617, {}, [ '40' ] ]
[2016-09-10 15:39:55.240] [ INFO] console - [ 16,
  48150735749120,
  { acknowledge: true },
  'ru.kopa.model.Kopa.id3.slovoAdd',
  [ '40' ] ]
[2016-09-10 15:39:55.248] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Zemla', id: 2 }
[2016-09-10 15:39:55.251] [ INFO] console - Executing (2ba704bb-48a9-4bc9-b1a6-f543693a417d): START TRANSACTION;
[2016-09-10 15:39:55.252] [ INFO] console - Executing (2ba704bb-48a9-4bc9-b1a6-f543693a417d): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:39:55.259] [ INFO] console - Executing (default): SELECT "Zemla"."id", "Zemla"."path", "Zemla"."name", "Zemla"."intensity", "Zemla"."note", "Zemla"."created_at", "Zemla"."updated_at", "Zemla"."deleted_at", "Zemla"."parent_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Zemla" AS "Zemla" LEFT OUTER JOIN "File" AS "attachments" ON "Zemla"."id" = "attachments"."zemla_id" AND "attachments"."deleted_at" IS NULL WHERE ("Zemla"."deleted_at" IS NULL AND "Zemla"."id" = 2);
[2016-09-10 15:39:55.262] [ INFO] console - Executing (2ba704bb-48a9-4bc9-b1a6-f543693a417d): COMMIT;
[2016-09-10 15:39:55.263] [ INFO] console - [ 70,
  618,
  {},
  [ { fullPath: 'null2/',
      id: '2',
      path: null,
      name: 'UnitTest2',
      intensity: 1000,
      note: 'unit test 1473503983413',
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Sat Sep 10 2016 15:39:45 GMT+0500 (YEKT),
      deleted_at: null,
      parent_id: '1',
      attachments: [] } ] ]
[2016-09-10 15:39:55.278] [ INFO] console - Executing (a4d92444-2286-4adc-87a0-01eb27077cfa): START TRANSACTION;
[2016-09-10 15:39:55.279] [ INFO] console - Executing (a4d92444-2286-4adc-87a0-01eb27077cfa): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:39:55.283] [ INFO] console - Executing (default): SELECT "id", "path", "name", "intensity", "note", "created_at", "updated_at", "deleted_at", "parent_id" FROM "Zemla" AS "Zemla" WHERE ("Zemla"."deleted_at" IS NULL AND "Zemla"."id" = 2);
[2016-09-10 15:39:55.292] [ INFO] console - Executing (default): UPDATE "Zemla" SET "parent_id"=1,"note"='unit test 1473503993513',"updated_at"='2016-09-10 10:39:55.286 +00:00' WHERE "id" = '2'
[2016-09-10 15:39:55.296] [ INFO] console - Executing (a4d92444-2286-4adc-87a0-01eb27077cfa): COMMIT;
[2016-09-10 15:39:55.297] [ INFO] console - [ 16,
  7696696983158784,
  { acknowledge: true },
  'ru.kopa.model.Zemla.id2.change' ]
[2016-09-10 15:39:55.301] [ INFO] console - [ 70, 619, {}, [ undefined ] ]
[2016-09-10 15:39:55.303] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Zemla', id: 2 }
[2016-09-10 15:39:55.314] [ INFO] console - Executing (8a273dcf-1e06-45ea-8a82-8d9729355670): START TRANSACTION;
[2016-09-10 15:39:55.315] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Zemla', id: 2 }
[2016-09-10 15:39:55.319] [ INFO] console - Executing (757789d4-bfed-4e4d-bf1d-3115bb18b6fe): START TRANSACTION;
[2016-09-10 15:39:55.319] [ INFO] console - Executing (8a273dcf-1e06-45ea-8a82-8d9729355670): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:39:55.321] [ INFO] console - Executing (757789d4-bfed-4e4d-bf1d-3115bb18b6fe): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:39:55.327] [ INFO] console - Executing (default): SELECT "Zemla"."id", "Zemla"."path", "Zemla"."name", "Zemla"."intensity", "Zemla"."note", "Zemla"."created_at", "Zemla"."updated_at", "Zemla"."deleted_at", "Zemla"."parent_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Zemla" AS "Zemla" LEFT OUTER JOIN "File" AS "attachments" ON "Zemla"."id" = "attachments"."zemla_id" AND "attachments"."deleted_at" IS NULL WHERE ("Zemla"."deleted_at" IS NULL AND "Zemla"."id" = 2);
[2016-09-10 15:39:55.335] [ INFO] console - Executing (default): SELECT "Zemla"."id", "Zemla"."path", "Zemla"."name", "Zemla"."intensity", "Zemla"."note", "Zemla"."created_at", "Zemla"."updated_at", "Zemla"."deleted_at", "Zemla"."parent_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Zemla" AS "Zemla" LEFT OUTER JOIN "File" AS "attachments" ON "Zemla"."id" = "attachments"."zemla_id" AND "attachments"."deleted_at" IS NULL WHERE ("Zemla"."deleted_at" IS NULL AND "Zemla"."id" = 2);
[2016-09-10 15:39:55.339] [ INFO] console - Executing (8a273dcf-1e06-45ea-8a82-8d9729355670): COMMIT;
[2016-09-10 15:39:55.344] [ INFO] console - Executing (757789d4-bfed-4e4d-bf1d-3115bb18b6fe): COMMIT;
[2016-09-10 15:39:55.345] [ INFO] console - [ 70,
  620,
  {},
  [ { fullPath: 'null2/',
      id: '2',
      path: null,
      name: 'UnitTest2',
      intensity: 1000,
      note: 'unit test 1473503993513',
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Sat Sep 10 2016 15:39:55 GMT+0500 (YEKT),
      deleted_at: null,
      parent_id: '1',
      attachments: [] } ] ]
[2016-09-10 15:39:55.351] [ INFO] console - [ 70,
  621,
  {},
  [ { fullPath: 'null2/',
      id: '2',
      path: null,
      name: 'UnitTest2',
      intensity: 1000,
      note: 'unit test 1473503993513',
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Sat Sep 10 2016 15:39:55 GMT+0500 (YEKT),
      deleted_at: null,
      parent_id: '1',
      attachments: [] } ] ]
[2016-09-10 15:39:55.379] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopa', id: 3 }
[2016-09-10 15:39:55.382] [ INFO] console - Executing (8879e94d-7365-46af-b1a5-948f82fdd366): START TRANSACTION;
[2016-09-10 15:39:55.384] [ INFO] console - Executing (8879e94d-7365-46af-b1a5-948f82fdd366): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:39:55.390] [ INFO] console - Executing (default): SELECT "Kopa"."id", "Kopa"."question", "Kopa"."planned", "Kopa"."started", "Kopa"."closed", "Kopa"."isOpen", "Kopa"."note", "Kopa"."created_at", "Kopa"."updated_at", "Kopa"."deleted_at", "Kopa"."place_id", "Kopa"."inviter_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopa" AS "Kopa" LEFT OUTER JOIN "File" AS "attachments" ON "Kopa"."id" = "attachments"."kopa_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopa"."deleted_at" IS NULL AND "Kopa"."id" = 3);
[2016-09-10 15:39:55.397] [ INFO] console - Executing (8879e94d-7365-46af-b1a5-948f82fdd366): COMMIT;
[2016-09-10 15:39:55.398] [ INFO] console - [ 70,
  623,
  {},
  [ { id: '3',
      question: 'CHE',
      planned: Thu Sep 01 2016 00:00:00 GMT+0500 (YEKT),
      started: Thu Sep 01 2016 00:00:00 GMT+0500 (YEKT),
      closed: null,
      isOpen: false,
      note: null,
      created_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      deleted_at: null,
      place_id: '2',
      inviter_id: '2',
      attachments: [] } ] ]
[2016-09-10 15:39:55.413] [ INFO] console - Executing (548c8dbd-8b94-4e14-9cf8-4861482ffc53): START TRANSACTION;
[2016-09-10 15:39:55.414] [ INFO] console - Executing (548c8dbd-8b94-4e14-9cf8-4861482ffc53): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:39:55.420] [ INFO] console - Executing (default): INSERT INTO "Slovo" ("id","value","created_at","updated_at","owner_id","place_id") VALUES (DEFAULT,'some Slovo temp','2016-09-10 10:39:55.415 +00:00','2016-09-10 10:39:55.415 +00:00',2,3) RETURNING *;
[2016-09-10 15:39:55.423] [ INFO] console - Executing (548c8dbd-8b94-4e14-9cf8-4861482ffc53): COMMIT;
[2016-09-10 15:39:55.424] [ INFO] console - [ 70, 624, {}, [ '41' ] ]
[2016-09-10 15:39:55.428] [ INFO] console - [ 16,
  2873764287086592,
  { acknowledge: true },
  'ru.kopa.model.Kopa.id3.slovoAdd',
  [ '41' ] ]
[2016-09-10 15:39:58.889] [ INFO] console - [ 70, 626, {}, [ 'unittest2@domain.ru' ] ]
[2016-09-10 15:39:58.895] [DEBUG] Server - #pingPong() [ 1, 2, 3 ] { x: 1, y: 2, z: 3 }
[2016-09-10 15:39:58.897] [ INFO] console - [ 70, 627, {}, [ 1, 2, 3 ], { x: 1, y: 2, z: 3 } ]
[2016-09-10 15:39:58.907] [ INFO] console - Executing (default): select 'КОПА' as result
[2016-09-10 15:39:58.909] [ INFO] console - [ 70, 628, {}, [ 'КОПА' ] ]
[2016-09-10 15:39:58.918] [DEBUG] Server - #error() [ 'sadkljfaskldjfs;af' ] {}
[2016-09-10 15:39:58.919] [ERROR] Server - [Error: sadkljfaskldjfs;af]
Error: sadkljfaskldjfs;af
    at MySuperError (Server.js:339:9)
    at fn.constructor.error.Error (Server.js:344:19)
    at new wrappedPromise (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/async-listener/index.js:372:16)
    at Server.error (Server.js:343:16)
    at Object.<anonymous> (Server.js:415:43)
    at [object Generator].next (native)
    at step (/home/alexey2baranov/htdocs/kp-sequelizejs/src/Server.js:1:253)
    at /home/alexey2baranov/htdocs/kp-sequelizejs/src/Server.js:1:513
    at new wrappedPromise (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/async-listener/index.js:372:16)
    at Object.<anonymous> (/home/alexey2baranov/htdocs/kp-sequelizejs/src/Server.js:1:161)
    at Object.<anonymous> (Server.js:412:28)
    at tryCatchResolve (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/apply.js:46:23)
    at callAndResolve (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/apply.js:30:12)
    at callAndResolveNext (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/apply.js:40:4)
    at tryCatchReject3 (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/makePromise.js:856:7)
    at runContinuation3 (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/makePromise.js:814:4)
[2016-09-10 15:39:58.923] [ INFO] console - [ 8,
  68,
  629,
  {},
  'MySuperError',
  [ 'sadkljfaskldjfs;af' ],
  { stack: 
     [ 'Error: sadkljfaskldjfs;af',
       '    at MySuperError (Server.js:339:9)',
       '    at fn.constructor.error.Error (Server.js:344:19)',
       '    at new wrappedPromise (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/async-listener/index.js:372:16)',
       '    at Server.error (Server.js:343:16)',
       '    at Object.<anonymous> (Server.js:415:43)',
       '    at [object Generator].next (native)',
       '    at step (/home/alexey2baranov/htdocs/kp-sequelizejs/src/Server.js:1:253)',
       '    at /home/alexey2baranov/htdocs/kp-sequelizejs/src/Server.js:1:513',
       '    at new wrappedPromise (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/async-listener/index.js:372:16)',
       '    at Object.<anonymous> (/home/alexey2baranov/htdocs/kp-sequelizejs/src/Server.js:1:161)',
       '    at Object.<anonymous> (Server.js:412:28)',
       '    at tryCatchResolve (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/apply.js:46:23)',
       '    at callAndResolve (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/apply.js:30:12)',
       '    at callAndResolveNext (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/apply.js:40:4)',
       '    at tryCatchReject3 (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/makePromise.js:856:7)',
       '    at runContinuation3 (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/makePromise.js:814:4)' ] } ]
[2016-09-10 15:39:58.936] [ INFO] console - [ 70, 630, {}, [ undefined ] ]
[2016-09-10 15:39:58.944] [ INFO] console - Executing (default): delete from "Slovo"
                where
                    place_id<5
                    and value like '%temp'
[2016-09-10 15:39:58.951] [ INFO] console - Executing (default): delete from "Kopnik"
                where
                    name like '%temp'
[2016-09-10 15:39:58.953] [ INFO] console - Executing (default): update "Kopnik"
                set 
                    "voiskoSize"= case when id=2 then 1 ELSE 0 END
                where
                    id>1 
                    and id<=5
[2016-09-10 15:39:58.985] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopa', id: 3 }
[2016-09-10 15:39:58.989] [ INFO] console - Executing (8b374970-0575-4d89-8e6a-f844116a08a2): START TRANSACTION;
[2016-09-10 15:39:58.990] [ INFO] console - Executing (8b374970-0575-4d89-8e6a-f844116a08a2): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:39:58.997] [ INFO] console - Executing (default): SELECT "Kopa"."id", "Kopa"."question", "Kopa"."planned", "Kopa"."started", "Kopa"."closed", "Kopa"."isOpen", "Kopa"."note", "Kopa"."created_at", "Kopa"."updated_at", "Kopa"."deleted_at", "Kopa"."place_id", "Kopa"."inviter_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopa" AS "Kopa" LEFT OUTER JOIN "File" AS "attachments" ON "Kopa"."id" = "attachments"."kopa_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopa"."deleted_at" IS NULL AND "Kopa"."id" = 3);
[2016-09-10 15:39:59.001] [ INFO] console - Executing (8b374970-0575-4d89-8e6a-f844116a08a2): COMMIT;
[2016-09-10 15:39:59.003] [ INFO] console - [ 70,
  632,
  {},
  [ { id: '3',
      question: 'CHE',
      planned: Thu Sep 01 2016 00:00:00 GMT+0500 (YEKT),
      started: Thu Sep 01 2016 00:00:00 GMT+0500 (YEKT),
      closed: null,
      isOpen: false,
      note: null,
      created_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      deleted_at: null,
      place_id: '2',
      inviter_id: '2',
      attachments: [] } ] ]
[2016-09-10 15:39:59.016] [ INFO] console - Executing (f2a83ee7-a3f7-4708-b46f-a0d52c1bf43f): START TRANSACTION;
[2016-09-10 15:39:59.016] [ INFO] console - Executing (f2a83ee7-a3f7-4708-b46f-a0d52c1bf43f): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:39:59.021] [ INFO] console - Executing (default): INSERT INTO "Golos" ("id","value","created_at","updated_at","for_id","owner_id") VALUES (DEFAULT,1,'2016-09-10 10:39:59.018 +00:00','2016-09-10 10:39:59.018 +00:00',1,2) RETURNING *;
[2016-09-10 15:39:59.024] [ INFO] console - Executing (f2a83ee7-a3f7-4708-b46f-a0d52c1bf43f): COMMIT;
[2016-09-10 15:39:59.026] [ INFO] console - [ 70, 633, {}, [ '22' ] ]
[2016-09-10 15:39:59.028] [ INFO] console - [ 16,
  3484142800994304,
  { acknowledge: true },
  'ru.kopa.model.Predlozhenie.id1.golosAdd',
  [ '22' ] ]
[2016-09-10 15:39:59.073] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopa', id: 3 }
[2016-09-10 15:39:59.076] [ INFO] console - Executing (d91e40bf-d8b1-4d25-87a4-391e1258bb2d): START TRANSACTION;
[2016-09-10 15:39:59.077] [ INFO] console - Executing (d91e40bf-d8b1-4d25-87a4-391e1258bb2d): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:39:59.084] [ INFO] console - Executing (default): SELECT "Kopa"."id", "Kopa"."question", "Kopa"."planned", "Kopa"."started", "Kopa"."closed", "Kopa"."isOpen", "Kopa"."note", "Kopa"."created_at", "Kopa"."updated_at", "Kopa"."deleted_at", "Kopa"."place_id", "Kopa"."inviter_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopa" AS "Kopa" LEFT OUTER JOIN "File" AS "attachments" ON "Kopa"."id" = "attachments"."kopa_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopa"."deleted_at" IS NULL AND "Kopa"."id" = 3);
[2016-09-10 15:39:59.089] [ INFO] console - Executing (d91e40bf-d8b1-4d25-87a4-391e1258bb2d): COMMIT;
[2016-09-10 15:39:59.090] [ INFO] console - [ 70,
  635,
  {},
  [ { id: '3',
      question: 'CHE',
      planned: Thu Sep 01 2016 00:00:00 GMT+0500 (YEKT),
      started: Thu Sep 01 2016 00:00:00 GMT+0500 (YEKT),
      closed: null,
      isOpen: false,
      note: null,
      created_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      deleted_at: null,
      place_id: '2',
      inviter_id: '2',
      attachments: [] } ] ]
[2016-09-10 15:39:59.100] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 2 }
[2016-09-10 15:39:59.105] [ INFO] console - Executing (977844b0-9dd7-4c8e-9b8a-99a4bbd1e8f9): START TRANSACTION;
[2016-09-10 15:39:59.110] [ INFO] console - Executing (977844b0-9dd7-4c8e-9b8a-99a4bbd1e8f9): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:39:59.121] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 2);
[2016-09-10 15:39:59.125] [ INFO] console - Executing (977844b0-9dd7-4c8e-9b8a-99a4bbd1e8f9): COMMIT;
[2016-09-10 15:39:59.127] [ INFO] console - [ 70,
  636,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/2/',
      starshina: [Object],
      id: '2',
      email: 'unittest2@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '1',
      voiskoSize: 1,
      birth: 1983,
      path: '/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: null,
      attachments: [] } ] ]
[2016-09-10 15:39:59.140] [ INFO] console - Executing (4c1618a0-44c1-4171-86f2-e6d2a19872bb): START TRANSACTION;
[2016-09-10 15:39:59.142] [ INFO] console - Executing (4c1618a0-44c1-4171-86f2-e6d2a19872bb): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:39:59.151] [ INFO] console - Executing (default): INSERT INTO "Slovo" ("id","value","created_at","updated_at","owner_id","place_id") VALUES (DEFAULT,'some Slovo temp 1473503999137','2016-09-10 10:39:59.143 +00:00','2016-09-10 10:39:59.143 +00:00',2,3) RETURNING *;
[2016-09-10 15:39:59.155] [ INFO] console - Executing (4c1618a0-44c1-4171-86f2-e6d2a19872bb): COMMIT;
[2016-09-10 15:39:59.157] [ INFO] console - [ 70, 637, {}, [ '42' ] ]
[2016-09-10 15:39:59.163] [ INFO] console - [ 16,
  319839866454016,
  { acknowledge: true },
  'ru.kopa.model.Kopa.id3.slovoAdd',
  [ '42' ] ]
[2016-09-10 15:39:59.176] [ INFO] console - Executing (28fea5be-919c-4914-8f2a-321b3d511ff0): START TRANSACTION;
[2016-09-10 15:39:59.177] [ INFO] console - Executing (28fea5be-919c-4914-8f2a-321b3d511ff0): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:39:59.184] [ INFO] console - Executing (default): INSERT INTO "Predlozhenie" ("id","value","created_at","updated_at","initiator_id","place_id") VALUES (DEFAULT,'some Predlozhenie temp 1473503999173','2016-09-10 10:39:59.180 +00:00','2016-09-10 10:39:59.180 +00:00',2,3) RETURNING *;
[2016-09-10 15:39:59.187] [ INFO] console - Executing (28fea5be-919c-4914-8f2a-321b3d511ff0): COMMIT;
[2016-09-10 15:39:59.188] [ INFO] console - [ 70, 638, {}, [ '22' ] ]
[2016-09-10 15:39:59.191] [ INFO] console - [ 16,
  6187762879299584,
  { acknowledge: true },
  'ru.kopa.model.Kopa.id3.predlozhenieAdd',
  [ '22' ] ]
[2016-09-10 15:39:59.225] [ INFO] console - [ 70, 640, {}, [ undefined ] ]
[2016-09-10 15:39:59.227] [ INFO] console - Executing (default): delete from "Kopnik"
                where
                    name like '%temp'
[2016-09-10 15:39:59.229] [ INFO] console - Executing (default): update "Kopnik"
                set 
                    "voiskoSize"= case when id=2 then 1 ELSE 0 END
                where
                    id>1 
                    and id<=5
[2016-09-10 15:39:59.235] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 2 }
[2016-09-10 15:39:59.238] [ INFO] console - Executing (8b88def1-bb46-41fb-958d-afc474f48ab6): START TRANSACTION;
[2016-09-10 15:39:59.239] [ INFO] console - Executing (8b88def1-bb46-41fb-958d-afc474f48ab6): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:39:59.245] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 2);
[2016-09-10 15:39:59.250] [ INFO] console - Executing (8b88def1-bb46-41fb-958d-afc474f48ab6): COMMIT;
[2016-09-10 15:39:59.252] [ INFO] console - [ 70,
  641,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/2/',
      starshina: [Object],
      id: '2',
      email: 'unittest2@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '1',
      voiskoSize: 1,
      birth: 1983,
      path: '/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: null,
      attachments: [] } ] ]
[2016-09-10 15:39:59.266] [ INFO] console - Executing (9600e8e5-8e87-4abf-b9c1-d8772f65017d): START TRANSACTION;
[2016-09-10 15:39:59.269] [ INFO] console - Executing (9600e8e5-8e87-4abf-b9c1-d8772f65017d): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:39:59.275] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 2);
[2016-09-10 15:39:59.280] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"+1
                                where
                                    '/2/' like path||id||'/%'
[2016-09-10 15:39:59.284] [ INFO] console - Executing (default): INSERT INTO "Kopnik" ("id","name","surname","patronymic","voiskoSize","birth","path","created_at","updated_at","rodina_id","starshina_id") VALUES (DEFAULT,'temp','temp','temp',0,1900,'/2/','2016-09-10 10:39:59.270 +00:00','2016-09-10 10:39:59.270 +00:00',NULL,2) RETURNING *;
[2016-09-10 15:39:59.288] [ INFO] console - Executing (9600e8e5-8e87-4abf-b9c1-d8772f65017d): COMMIT;
[2016-09-10 15:39:59.289] [ INFO] console - [ 70, 642, {}, [ '133' ] ]
[2016-09-10 15:39:59.295] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/' like k.path||k.id||'/%'
[2016-09-10 15:39:59.299] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Zemla', id: 2 }
[2016-09-10 15:39:59.302] [ INFO] console - Executing (5c1edde4-950e-4c8e-ac2a-1a7422b7c273): START TRANSACTION;
[2016-09-10 15:39:59.302] [ INFO] console - Executing (6442c395-d012-40ad-ae27-34e76cd3d209): START TRANSACTION;
[2016-09-10 15:39:59.305] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 15:39:59.311] [ INFO] console - Executing (5c1edde4-950e-4c8e-ac2a-1a7422b7c273): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:39:59.312] [ INFO] console - Executing (6442c395-d012-40ad-ae27-34e76cd3d209): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:39:59.313] [ INFO] console - [ 16,
  7871641015025664,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id2.voiskoChange',
  [],
  { voiskoSize: 2 } ]
[2016-09-10 15:39:59.329] [ INFO] console - Executing (default): SELECT "Zemla"."id", "Zemla"."path", "Zemla"."name", "Zemla"."intensity", "Zemla"."note", "Zemla"."created_at", "Zemla"."updated_at", "Zemla"."deleted_at", "Zemla"."parent_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Zemla" AS "Zemla" LEFT OUTER JOIN "File" AS "attachments" ON "Zemla"."id" = "attachments"."zemla_id" AND "attachments"."deleted_at" IS NULL WHERE ("Zemla"."deleted_at" IS NULL AND "Zemla"."id" = 2);
[2016-09-10 15:39:59.334] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 133);
[2016-09-10 15:39:59.339] [ INFO] console - Executing (5c1edde4-950e-4c8e-ac2a-1a7422b7c273): COMMIT;
[2016-09-10 15:39:59.341] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"+1
                                where
                                    '/2/133/' like path||id||'/%'
[2016-09-10 15:39:59.343] [ INFO] console - [ 70,
  643,
  {},
  [ { fullPath: 'null2/',
      id: '2',
      path: null,
      name: 'UnitTest2',
      intensity: 1000,
      note: 'unit test 1473503993513',
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Sat Sep 10 2016 15:39:55 GMT+0500 (YEKT),
      deleted_at: null,
      parent_id: '1',
      attachments: [] } ] ]
[2016-09-10 15:39:59.351] [ INFO] console - Executing (default): INSERT INTO "Kopnik" ("id","name","surname","patronymic","voiskoSize","birth","path","created_at","updated_at","rodina_id","starshina_id") VALUES (DEFAULT,'temp','temp','temp',0,1900,'/2/133/','2016-09-10 10:39:59.324 +00:00','2016-09-10 10:39:59.324 +00:00',NULL,133) RETURNING *;
[2016-09-10 15:39:59.357] [ INFO] console - Executing (6442c395-d012-40ad-ae27-34e76cd3d209): COMMIT;
[2016-09-10 15:39:59.358] [ INFO] console - [ 70, 644, {}, [ '134' ] ]
[2016-09-10 15:39:59.365] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/133/' like k.path||k.id||'/%'
[2016-09-10 15:39:59.374] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2', '133')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 15:39:59.377] [ INFO] console - [ 16,
  7014298477920256,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id133.voiskoChange',
  [],
  { voiskoSize: 1 } ]
[2016-09-10 15:39:59.383] [ INFO] console - [ 16,
  3207088362749952,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id2.voiskoChange',
  [],
  { voiskoSize: 3 } ]
[2016-09-10 15:39:59.390] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 4 }
[2016-09-10 15:39:59.395] [ INFO] console - Executing (7b4053c6-b422-4e6a-9d74-159f5a7c8d1c): START TRANSACTION;
[2016-09-10 15:39:59.397] [ INFO] console - Executing (7b4053c6-b422-4e6a-9d74-159f5a7c8d1c): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:39:59.402] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 4);
[2016-09-10 15:39:59.406] [ INFO] console - Executing (7b4053c6-b422-4e6a-9d74-159f5a7c8d1c): COMMIT;
[2016-09-10 15:39:59.408] [ INFO] console - [ 70,
  645,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/4/',
      starshina: [Object],
      id: '4',
      email: 'unittest4@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '4',
      voiskoSize: 0,
      birth: 1983,
      path: '/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: null,
      attachments: [] } ] ]
[2016-09-10 15:39:59.419] [ INFO] console - Executing (30d90934-d47d-4a47-9dac-063dffc8a0d3): START TRANSACTION;
[2016-09-10 15:39:59.420] [ INFO] console - Executing (30d90934-d47d-4a47-9dac-063dffc8a0d3): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:39:59.424] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 133);
[2016-09-10 15:39:59.430] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 4);
[2016-09-10 15:39:59.434] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/' like k.path||k.id||'/%'
[2016-09-10 15:39:59.439] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 15:39:59.442] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"-2
                                where
                                    '/2/' like path||id||'/%'
[2016-09-10 15:39:59.449] [ INFO] console - Executing (default): UPDATE "Kopnik" SET "path"='/4/',"starshina_id"='4',"updated_at"='2016-09-10 10:39:59.444 +00:00' WHERE "id" = '133'
[2016-09-10 15:39:59.453] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"+2
                                where
                                    '/4/' like path||id||'/%'
[2016-09-10 15:39:59.457] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."starshina_id" = '133');
[2016-09-10 15:39:59.464] [ INFO] console - Executing (default): UPDATE "Kopnik" SET "path"='/4/133/',"updated_at"='2016-09-10 10:39:59.460 +00:00' WHERE "id" = '134'
[2016-09-10 15:39:59.467] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/4/' like k.path||k.id||'/%'
[2016-09-10 15:39:59.471] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('4')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 15:39:59.476] [ INFO] console - Executing (30d90934-d47d-4a47-9dac-063dffc8a0d3): COMMIT;
[2016-09-10 15:39:59.477] [ INFO] console - [ 70, 646, {}, [ undefined ] ]
[2016-09-10 15:39:59.480] [ INFO] console - [ 16,
  8093909695594496,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id2.voiskoChange',
  [],
  { voiskoSize: 1 } ]
[2016-09-10 15:39:59.484] [ INFO] console - [ 16,
  4740111711338496,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id4.voiskoChange',
  [],
  { voiskoSize: 2 } ]
[2016-09-10 15:39:59.525] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopa', id: 3 }
[2016-09-10 15:39:59.528] [ INFO] console - Executing (aab4285e-da0e-455c-b4a7-e696163a5857): START TRANSACTION;
[2016-09-10 15:39:59.532] [ INFO] console - Executing (aab4285e-da0e-455c-b4a7-e696163a5857): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:39:59.546] [ INFO] console - Executing (default): SELECT "Kopa"."id", "Kopa"."question", "Kopa"."planned", "Kopa"."started", "Kopa"."closed", "Kopa"."isOpen", "Kopa"."note", "Kopa"."created_at", "Kopa"."updated_at", "Kopa"."deleted_at", "Kopa"."place_id", "Kopa"."inviter_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopa" AS "Kopa" LEFT OUTER JOIN "File" AS "attachments" ON "Kopa"."id" = "attachments"."kopa_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopa"."deleted_at" IS NULL AND "Kopa"."id" = 3);
[2016-09-10 15:39:59.560] [ INFO] console - Executing (aab4285e-da0e-455c-b4a7-e696163a5857): COMMIT;
[2016-09-10 15:39:59.571] [ INFO] console - [ 70,
  648,
  {},
  [ { id: '3',
      question: 'CHE',
      planned: Thu Sep 01 2016 00:00:00 GMT+0500 (YEKT),
      started: Thu Sep 01 2016 00:00:00 GMT+0500 (YEKT),
      closed: null,
      isOpen: false,
      note: null,
      created_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      deleted_at: null,
      place_id: '2',
      inviter_id: '2',
      attachments: [] } ] ]
[2016-09-10 15:39:59.585] [ INFO] console - Executing (e6f7754d-9137-4464-88fc-46d57132519e): START TRANSACTION;
[2016-09-10 15:39:59.587] [ INFO] console - Executing (e6f7754d-9137-4464-88fc-46d57132519e): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:39:59.592] [ INFO] console - Executing (default): INSERT INTO "Predlozhenie" ("id","value","created_at","updated_at","initiator_id","place_id") VALUES (DEFAULT,'some Predlozhenie temp 1473503998146','2016-09-10 10:39:59.588 +00:00','2016-09-10 10:39:59.588 +00:00',2,3) RETURNING *;
[2016-09-10 15:39:59.597] [ INFO] console - Executing (e6f7754d-9137-4464-88fc-46d57132519e): COMMIT;
[2016-09-10 15:39:59.598] [ INFO] console - [ 70, 649, {}, [ '23' ] ]
[2016-09-10 15:39:59.605] [ INFO] console - [ 16,
  8951548491071488,
  { acknowledge: true },
  'ru.kopa.model.Kopa.id3.predlozhenieAdd',
  [ '23' ] ]
[2016-09-10 15:39:59.611] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Predlozhenie', id: 1 }
[2016-09-10 15:39:59.615] [ INFO] console - Executing (9fc2ec20-0d19-448b-ab17-69c7b8fffb05): START TRANSACTION;
[2016-09-10 15:39:59.616] [ INFO] console - Executing (9fc2ec20-0d19-448b-ab17-69c7b8fffb05): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:39:59.622] [ INFO] console - Executing (default): SELECT "Predlozhenie"."id", "Predlozhenie"."value", "Predlozhenie"."note", "Predlozhenie"."created_at", "Predlozhenie"."updated_at", "Predlozhenie"."deleted_at", "Predlozhenie"."initiator_id", "Predlozhenie"."place_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Predlozhenie" AS "Predlozhenie" LEFT OUTER JOIN "File" AS "attachments" ON "Predlozhenie"."id" = "attachments"."predlozhenie_id" AND "attachments"."deleted_at" IS NULL WHERE ("Predlozhenie"."deleted_at" IS NULL AND "Predlozhenie"."id" = 1);
[2016-09-10 15:39:59.626] [ INFO] console - Executing (9fc2ec20-0d19-448b-ab17-69c7b8fffb05): COMMIT;
[2016-09-10 15:39:59.627] [ INFO] console - [ 70,
  650,
  {},
  [ { id: '1',
      value: 'Будет ...',
      note: null,
      created_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      deleted_at: null,
      initiator_id: '2',
      place_id: '3',
      attachments: [] } ] ]
[2016-09-10 15:39:59.637] [ INFO] console - Executing (ba0bbc94-e6e9-4447-b3ad-6f0b2e9d9639): START TRANSACTION;
[2016-09-10 15:39:59.638] [ INFO] console - Executing (ba0bbc94-e6e9-4447-b3ad-6f0b2e9d9639): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:39:59.648] [ INFO] console - Executing (default): INSERT INTO "Golos" ("id","value","created_at","updated_at","for_id","owner_id") VALUES (DEFAULT,1,'2016-09-10 10:39:59.639 +00:00','2016-09-10 10:39:59.639 +00:00',1,2) RETURNING *;
[2016-09-10 15:39:59.651] [ INFO] console - Executing (ba0bbc94-e6e9-4447-b3ad-6f0b2e9d9639): COMMIT;
[2016-09-10 15:39:59.654] [ INFO] console - [ 70, 651, {}, [ '23' ] ]
[2016-09-10 15:39:59.657] [ INFO] console - [ 16,
  1019842566029312,
  { acknowledge: true },
  'ru.kopa.model.Predlozhenie.id1.golosAdd',
  [ '23' ] ]
[2016-09-10 15:39:59.824] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 2 }
[2016-09-10 15:39:59.827] [ INFO] console - Executing (4cbd4f7d-baee-4a26-ae60-6c4359f9b06f): START TRANSACTION;
[2016-09-10 15:39:59.829] [ INFO] console - Executing (4cbd4f7d-baee-4a26-ae60-6c4359f9b06f): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:39:59.840] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 2);
[2016-09-10 15:39:59.846] [ INFO] console - Executing (4cbd4f7d-baee-4a26-ae60-6c4359f9b06f): COMMIT;
[2016-09-10 15:39:59.848] [ INFO] console - [ 70,
  653,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/2/',
      starshina: [Object],
      id: '2',
      email: 'unittest2@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '1',
      voiskoSize: 1,
      birth: 1983,
      path: '/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: null,
      attachments: [] } ] ]
[2016-09-10 15:39:59.863] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 3 }
[2016-09-10 15:39:59.868] [ INFO] console - Executing (2ff2d8df-054a-4dcf-bbf8-bc5894baaaee): START TRANSACTION;
[2016-09-10 15:39:59.870] [ INFO] console - Executing (2ff2d8df-054a-4dcf-bbf8-bc5894baaaee): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:39:59.878] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 3);
[2016-09-10 15:39:59.882] [ INFO] console - Executing (2ff2d8df-054a-4dcf-bbf8-bc5894baaaee): COMMIT;
[2016-09-10 15:39:59.884] [ INFO] console - [ 70,
  654,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/2/3/',
      starshina: [Object],
      id: '3',
      email: 'unittest3@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '3',
      voiskoSize: 0,
      birth: 1983,
      path: '/2/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: '2',
      attachments: [] } ] ]
[2016-09-10 15:39:59.898] [ INFO] console - Executing (bfe18ccb-e324-41f5-a63e-04d1cfd2ed36): START TRANSACTION;
[2016-09-10 15:39:59.899] [ INFO] console - Executing (bfe18ccb-e324-41f5-a63e-04d1cfd2ed36): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:39:59.905] [ INFO] console - Executing (default): INSERT INTO "Slovo" ("id","value","note","created_at","updated_at","owner_id","place_id") VALUES (DEFAULT,'123 temp','456','2016-09-10 10:39:59.901 +00:00','2016-09-10 10:39:59.901 +00:00',2,3) RETURNING *;
[2016-09-10 15:39:59.907] [ INFO] console - Executing (bfe18ccb-e324-41f5-a63e-04d1cfd2ed36): COMMIT;
[2016-09-10 15:39:59.909] [ INFO] console - [ 70, 655, {}, [ '43' ] ]
[2016-09-10 15:39:59.911] [ INFO] console - [ 16,
  8234376372420608,
  { acknowledge: true },
  'ru.kopa.model.Kopa.id3.slovoAdd',
  [ '43' ] ]
[2016-09-10 15:39:59.917] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Slovo', id: 43 }
[2016-09-10 15:39:59.920] [ INFO] console - Executing (181ca301-9dd4-41a3-8dd2-57d15f251fca): START TRANSACTION;
[2016-09-10 15:39:59.921] [ INFO] console - Executing (181ca301-9dd4-41a3-8dd2-57d15f251fca): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:39:59.927] [ INFO] console - Executing (default): SELECT "Slovo"."id", "Slovo"."value", "Slovo"."note", "Slovo"."created_at", "Slovo"."updated_at", "Slovo"."deleted_at", "Slovo"."owner_id", "Slovo"."place_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Slovo" AS "Slovo" LEFT OUTER JOIN "File" AS "attachments" ON "Slovo"."id" = "attachments"."slovo_id" AND "attachments"."deleted_at" IS NULL WHERE ("Slovo"."deleted_at" IS NULL AND "Slovo"."id" = 43);
[2016-09-10 15:39:59.931] [ INFO] console - Executing (181ca301-9dd4-41a3-8dd2-57d15f251fca): COMMIT;
[2016-09-10 15:39:59.935] [ INFO] console - [ 70,
  656,
  {},
  [ { id: '43',
      value: '123 temp',
      note: '456',
      created_at: Sat Sep 10 2016 15:39:59 GMT+0500 (YEKT),
      updated_at: Sat Sep 10 2016 15:39:59 GMT+0500 (YEKT),
      deleted_at: null,
      owner_id: '2',
      place_id: '3',
      attachments: [] } ] ]
[2016-09-10 15:39:59.946] [ INFO] console - Executing (28684237-c721-405d-b3eb-e0324c2657d4): START TRANSACTION;
[2016-09-10 15:39:59.950] [ INFO] console - Executing (28684237-c721-405d-b3eb-e0324c2657d4): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:39:59.957] [ INFO] console - Executing (default): INSERT INTO "Slovo" ("id","value","created_at","updated_at","owner_id","place_id") VALUES (DEFAULT,'some value temp 1473503999942','2016-09-10 10:39:59.952 +00:00','2016-09-10 10:39:59.952 +00:00',2,3) RETURNING *;
[2016-09-10 15:39:59.961] [ INFO] console - Executing (28684237-c721-405d-b3eb-e0324c2657d4): COMMIT;
[2016-09-10 15:39:59.962] [ INFO] console - [ 70, 657, {}, [ '44' ] ]
[2016-09-10 15:39:59.964] [ INFO] console - [ 16,
  1574080394297344,
  { acknowledge: true },
  'ru.kopa.model.Kopa.id3.slovoAdd',
  [ '44' ] ]
[2016-09-10 15:39:59.975] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Zemla', id: 2 }
[2016-09-10 15:39:59.978] [ INFO] console - Executing (2ecb806d-8284-469e-95fd-6dca8b0c07b0): START TRANSACTION;
[2016-09-10 15:39:59.979] [ INFO] console - Executing (2ecb806d-8284-469e-95fd-6dca8b0c07b0): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:39:59.984] [ INFO] console - Executing (default): SELECT "Zemla"."id", "Zemla"."path", "Zemla"."name", "Zemla"."intensity", "Zemla"."note", "Zemla"."created_at", "Zemla"."updated_at", "Zemla"."deleted_at", "Zemla"."parent_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Zemla" AS "Zemla" LEFT OUTER JOIN "File" AS "attachments" ON "Zemla"."id" = "attachments"."zemla_id" AND "attachments"."deleted_at" IS NULL WHERE ("Zemla"."deleted_at" IS NULL AND "Zemla"."id" = 2);
[2016-09-10 15:39:59.989] [ INFO] console - Executing (2ecb806d-8284-469e-95fd-6dca8b0c07b0): COMMIT;
[2016-09-10 15:39:59.990] [ INFO] console - [ 70,
  658,
  {},
  [ { fullPath: 'null2/',
      id: '2',
      path: null,
      name: 'UnitTest2',
      intensity: 1000,
      note: 'unit test 1473503993513',
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Sat Sep 10 2016 15:39:55 GMT+0500 (YEKT),
      deleted_at: null,
      parent_id: '1',
      attachments: [] } ] ]
[2016-09-10 15:40:00.006] [ INFO] console - Executing (dcf1a235-3f5b-4595-998e-3f67bda76827): START TRANSACTION;
[2016-09-10 15:40:00.008] [ INFO] console - Executing (dcf1a235-3f5b-4595-998e-3f67bda76827): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:40:00.015] [ INFO] console - Executing (default): SELECT "id", "path", "name", "intensity", "note", "created_at", "updated_at", "deleted_at", "parent_id" FROM "Zemla" AS "Zemla" WHERE ("Zemla"."deleted_at" IS NULL AND "Zemla"."id" = 2);
[2016-09-10 15:40:00.022] [ INFO] console - Executing (default): UPDATE "Zemla" SET "parent_id"=1,"note"='unit test 1473503998150',"updated_at"='2016-09-10 10:40:00.018 +00:00' WHERE "id" = '2'
[2016-09-10 15:40:00.025] [ INFO] console - Executing (dcf1a235-3f5b-4595-998e-3f67bda76827): COMMIT;
[2016-09-10 15:40:00.026] [ INFO] console - [ 16,
  1223130326499328,
  { acknowledge: true },
  'ru.kopa.model.Zemla.id2.change' ]
[2016-09-10 15:40:00.035] [ INFO] console - [ 70, 659, {}, [ undefined ] ]
[2016-09-10 15:40:00.040] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Zemla', id: 2 }
[2016-09-10 15:40:00.047] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Zemla', id: 2 }
[2016-09-10 15:40:00.049] [ INFO] console - Executing (314e0950-b4ad-4d36-bf95-4821af08d419): START TRANSACTION;
[2016-09-10 15:40:00.050] [ INFO] console - Executing (520c0781-79b8-4913-b789-268c54ff356d): START TRANSACTION;
[2016-09-10 15:40:00.051] [ INFO] console - Executing (314e0950-b4ad-4d36-bf95-4821af08d419): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:40:00.052] [ INFO] console - Executing (520c0781-79b8-4913-b789-268c54ff356d): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:40:00.081] [ INFO] console - Executing (default): SELECT "Zemla"."id", "Zemla"."path", "Zemla"."name", "Zemla"."intensity", "Zemla"."note", "Zemla"."created_at", "Zemla"."updated_at", "Zemla"."deleted_at", "Zemla"."parent_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Zemla" AS "Zemla" LEFT OUTER JOIN "File" AS "attachments" ON "Zemla"."id" = "attachments"."zemla_id" AND "attachments"."deleted_at" IS NULL WHERE ("Zemla"."deleted_at" IS NULL AND "Zemla"."id" = 2);
[2016-09-10 15:40:00.082] [ INFO] console - Executing (default): SELECT "Zemla"."id", "Zemla"."path", "Zemla"."name", "Zemla"."intensity", "Zemla"."note", "Zemla"."created_at", "Zemla"."updated_at", "Zemla"."deleted_at", "Zemla"."parent_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Zemla" AS "Zemla" LEFT OUTER JOIN "File" AS "attachments" ON "Zemla"."id" = "attachments"."zemla_id" AND "attachments"."deleted_at" IS NULL WHERE ("Zemla"."deleted_at" IS NULL AND "Zemla"."id" = 2);
[2016-09-10 15:40:00.096] [ INFO] console - Executing (314e0950-b4ad-4d36-bf95-4821af08d419): COMMIT;
[2016-09-10 15:40:00.097] [ INFO] console - Executing (520c0781-79b8-4913-b789-268c54ff356d): COMMIT;
[2016-09-10 15:40:00.099] [ INFO] console - [ 70,
  660,
  {},
  [ { fullPath: 'null2/',
      id: '2',
      path: null,
      name: 'UnitTest2',
      intensity: 1000,
      note: 'unit test 1473503998150',
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Sat Sep 10 2016 15:40:00 GMT+0500 (YEKT),
      deleted_at: null,
      parent_id: '1',
      attachments: [] } ] ]
[2016-09-10 15:40:00.103] [ INFO] console - [ 70,
  661,
  {},
  [ { fullPath: 'null2/',
      id: '2',
      path: null,
      name: 'UnitTest2',
      intensity: 1000,
      note: 'unit test 1473503998150',
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Sat Sep 10 2016 15:40:00 GMT+0500 (YEKT),
      deleted_at: null,
      parent_id: '1',
      attachments: [] } ] ]
[2016-09-10 15:40:00.137] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopa', id: 3 }
[2016-09-10 15:40:00.141] [ INFO] console - Executing (45124e44-7ce2-4829-b4d7-9dbde8f5db77): START TRANSACTION;
[2016-09-10 15:40:00.143] [ INFO] console - Executing (45124e44-7ce2-4829-b4d7-9dbde8f5db77): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:40:00.149] [ INFO] console - Executing (default): SELECT "Kopa"."id", "Kopa"."question", "Kopa"."planned", "Kopa"."started", "Kopa"."closed", "Kopa"."isOpen", "Kopa"."note", "Kopa"."created_at", "Kopa"."updated_at", "Kopa"."deleted_at", "Kopa"."place_id", "Kopa"."inviter_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopa" AS "Kopa" LEFT OUTER JOIN "File" AS "attachments" ON "Kopa"."id" = "attachments"."kopa_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopa"."deleted_at" IS NULL AND "Kopa"."id" = 3);
[2016-09-10 15:40:00.154] [ INFO] console - Executing (45124e44-7ce2-4829-b4d7-9dbde8f5db77): COMMIT;
[2016-09-10 15:40:00.156] [ INFO] console - [ 70,
  663,
  {},
  [ { id: '3',
      question: 'CHE',
      planned: Thu Sep 01 2016 00:00:00 GMT+0500 (YEKT),
      started: Thu Sep 01 2016 00:00:00 GMT+0500 (YEKT),
      closed: null,
      isOpen: false,
      note: null,
      created_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      deleted_at: null,
      place_id: '2',
      inviter_id: '2',
      attachments: [] } ] ]
[2016-09-10 15:40:00.168] [ INFO] console - Executing (89998564-4f48-47e7-8a01-138ab5c82f79): START TRANSACTION;
[2016-09-10 15:40:00.170] [ INFO] console - Executing (89998564-4f48-47e7-8a01-138ab5c82f79): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:40:00.174] [ INFO] console - Executing (default): INSERT INTO "Slovo" ("id","value","created_at","updated_at","owner_id","place_id") VALUES (DEFAULT,'some Slovo temp','2016-09-10 10:40:00.171 +00:00','2016-09-10 10:40:00.171 +00:00',2,3) RETURNING *;
[2016-09-10 15:40:00.178] [ INFO] console - Executing (89998564-4f48-47e7-8a01-138ab5c82f79): COMMIT;
[2016-09-10 15:40:00.185] [ INFO] console - [ 70, 664, {}, [ '45' ] ]
[2016-09-10 15:40:00.188] [ INFO] console - [ 16,
  3249214677057536,
  { acknowledge: true },
  'ru.kopa.model.Kopa.id3.slovoAdd',
  [ '45' ] ]
[2016-09-10 15:41:06.892] [ INFO] console - [ 70, 666, {}, [ 'unittest2@domain.ru' ] ]
[2016-09-10 15:41:06.900] [DEBUG] Server - #pingPong() [ 1, 2, 3 ] { x: 1, y: 2, z: 3 }
[2016-09-10 15:41:06.902] [ INFO] console - [ 70, 667, {}, [ 1, 2, 3 ], { x: 1, y: 2, z: 3 } ]
[2016-09-10 15:41:06.919] [ INFO] console - Executing (default): select 'КОПА' as result
[2016-09-10 15:41:06.920] [ INFO] console - [ 70, 668, {}, [ 'КОПА' ] ]
[2016-09-10 15:41:06.926] [DEBUG] Server - #error() [ 'sadkljfaskldjfs;af' ] {}
[2016-09-10 15:41:06.927] [ERROR] Server - [Error: sadkljfaskldjfs;af]
Error: sadkljfaskldjfs;af
    at MySuperError (Server.js:339:9)
    at fn.constructor.error.Error (Server.js:344:19)
    at new wrappedPromise (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/async-listener/index.js:372:16)
    at Server.error (Server.js:343:16)
    at Object.<anonymous> (Server.js:415:43)
    at [object Generator].next (native)
    at step (/home/alexey2baranov/htdocs/kp-sequelizejs/src/Server.js:1:253)
    at /home/alexey2baranov/htdocs/kp-sequelizejs/src/Server.js:1:513
    at new wrappedPromise (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/async-listener/index.js:372:16)
    at Object.<anonymous> (/home/alexey2baranov/htdocs/kp-sequelizejs/src/Server.js:1:161)
    at Object.<anonymous> (Server.js:412:28)
    at tryCatchResolve (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/apply.js:46:23)
    at callAndResolve (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/apply.js:30:12)
    at callAndResolveNext (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/apply.js:40:4)
    at tryCatchReject3 (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/makePromise.js:856:7)
    at runContinuation3 (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/makePromise.js:814:4)
[2016-09-10 15:41:06.930] [ INFO] console - [ 8,
  68,
  669,
  {},
  'MySuperError',
  [ 'sadkljfaskldjfs;af' ],
  { stack: 
     [ 'Error: sadkljfaskldjfs;af',
       '    at MySuperError (Server.js:339:9)',
       '    at fn.constructor.error.Error (Server.js:344:19)',
       '    at new wrappedPromise (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/async-listener/index.js:372:16)',
       '    at Server.error (Server.js:343:16)',
       '    at Object.<anonymous> (Server.js:415:43)',
       '    at [object Generator].next (native)',
       '    at step (/home/alexey2baranov/htdocs/kp-sequelizejs/src/Server.js:1:253)',
       '    at /home/alexey2baranov/htdocs/kp-sequelizejs/src/Server.js:1:513',
       '    at new wrappedPromise (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/async-listener/index.js:372:16)',
       '    at Object.<anonymous> (/home/alexey2baranov/htdocs/kp-sequelizejs/src/Server.js:1:161)',
       '    at Object.<anonymous> (Server.js:412:28)',
       '    at tryCatchResolve (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/apply.js:46:23)',
       '    at callAndResolve (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/apply.js:30:12)',
       '    at callAndResolveNext (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/apply.js:40:4)',
       '    at tryCatchReject3 (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/makePromise.js:856:7)',
       '    at runContinuation3 (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/makePromise.js:814:4)' ] } ]
[2016-09-10 15:41:06.945] [ INFO] console - [ 70, 670, {}, [ undefined ] ]
[2016-09-10 15:41:06.954] [ INFO] console - Executing (default): delete from "Slovo"
                where
                    place_id<5
                    and value like '%temp'
[2016-09-10 15:41:06.959] [ INFO] console - Executing (default): delete from "Kopnik"
                where
                    name like '%temp'
[2016-09-10 15:41:06.963] [ INFO] console - Executing (default): update "Kopnik"
                set 
                    "voiskoSize"= case when id=2 then 1 ELSE 0 END
                where
                    id>1 
                    and id<=5
[2016-09-10 15:41:07.001] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopa', id: 3 }
[2016-09-10 15:41:07.006] [ INFO] console - Executing (44f2149d-1fce-4bda-9ff4-07a56d2d552e): START TRANSACTION;
[2016-09-10 15:41:07.007] [ INFO] console - Executing (44f2149d-1fce-4bda-9ff4-07a56d2d552e): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:41:07.021] [ INFO] console - Executing (default): SELECT "Kopa"."id", "Kopa"."question", "Kopa"."planned", "Kopa"."started", "Kopa"."closed", "Kopa"."isOpen", "Kopa"."note", "Kopa"."created_at", "Kopa"."updated_at", "Kopa"."deleted_at", "Kopa"."place_id", "Kopa"."inviter_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopa" AS "Kopa" LEFT OUTER JOIN "File" AS "attachments" ON "Kopa"."id" = "attachments"."kopa_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopa"."deleted_at" IS NULL AND "Kopa"."id" = 3);
[2016-09-10 15:41:07.025] [ INFO] console - Executing (44f2149d-1fce-4bda-9ff4-07a56d2d552e): COMMIT;
[2016-09-10 15:41:07.027] [ INFO] console - [ 70,
  672,
  {},
  [ { id: '3',
      question: 'CHE',
      planned: Thu Sep 01 2016 00:00:00 GMT+0500 (YEKT),
      started: Thu Sep 01 2016 00:00:00 GMT+0500 (YEKT),
      closed: null,
      isOpen: false,
      note: null,
      created_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      deleted_at: null,
      place_id: '2',
      inviter_id: '2',
      attachments: [] } ] ]
[2016-09-10 15:41:07.039] [ INFO] console - Executing (faefc265-b362-4479-9479-d3361313b865): START TRANSACTION;
[2016-09-10 15:41:07.041] [ INFO] console - Executing (faefc265-b362-4479-9479-d3361313b865): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:41:07.046] [ INFO] console - Executing (default): INSERT INTO "Golos" ("id","value","created_at","updated_at","for_id","owner_id") VALUES (DEFAULT,1,'2016-09-10 10:41:07.042 +00:00','2016-09-10 10:41:07.042 +00:00',1,2) RETURNING *;
[2016-09-10 15:41:07.049] [ INFO] console - Executing (faefc265-b362-4479-9479-d3361313b865): COMMIT;
[2016-09-10 15:41:07.050] [ INFO] console - [ 70, 673, {}, [ '24' ] ]
[2016-09-10 15:41:07.055] [ INFO] console - [ 16,
  3864051975192576,
  { acknowledge: true },
  'ru.kopa.model.Predlozhenie.id1.golosAdd',
  [ '24' ] ]
[2016-09-10 15:41:07.079] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopa', id: 3 }
[2016-09-10 15:41:07.082] [ INFO] console - Executing (101976a1-e790-4c57-a827-755ef8ca988b): START TRANSACTION;
[2016-09-10 15:41:07.083] [ INFO] console - Executing (101976a1-e790-4c57-a827-755ef8ca988b): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:41:07.089] [ INFO] console - Executing (default): SELECT "Kopa"."id", "Kopa"."question", "Kopa"."planned", "Kopa"."started", "Kopa"."closed", "Kopa"."isOpen", "Kopa"."note", "Kopa"."created_at", "Kopa"."updated_at", "Kopa"."deleted_at", "Kopa"."place_id", "Kopa"."inviter_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopa" AS "Kopa" LEFT OUTER JOIN "File" AS "attachments" ON "Kopa"."id" = "attachments"."kopa_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopa"."deleted_at" IS NULL AND "Kopa"."id" = 3);
[2016-09-10 15:41:07.094] [ INFO] console - Executing (101976a1-e790-4c57-a827-755ef8ca988b): COMMIT;
[2016-09-10 15:41:07.095] [ INFO] console - [ 70,
  675,
  {},
  [ { id: '3',
      question: 'CHE',
      planned: Thu Sep 01 2016 00:00:00 GMT+0500 (YEKT),
      started: Thu Sep 01 2016 00:00:00 GMT+0500 (YEKT),
      closed: null,
      isOpen: false,
      note: null,
      created_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      deleted_at: null,
      place_id: '2',
      inviter_id: '2',
      attachments: [] } ] ]
[2016-09-10 15:41:07.106] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 2 }
[2016-09-10 15:41:07.108] [ INFO] console - Executing (4e40cfdb-34a5-42ca-aa2f-7f378b6f5a39): START TRANSACTION;
[2016-09-10 15:41:07.110] [ INFO] console - Executing (4e40cfdb-34a5-42ca-aa2f-7f378b6f5a39): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:41:07.118] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 2);
[2016-09-10 15:41:07.124] [ INFO] console - Executing (4e40cfdb-34a5-42ca-aa2f-7f378b6f5a39): COMMIT;
[2016-09-10 15:41:07.125] [ INFO] console - [ 70,
  676,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/2/',
      starshina: [Object],
      id: '2',
      email: 'unittest2@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '1',
      voiskoSize: 1,
      birth: 1983,
      path: '/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: null,
      attachments: [] } ] ]
[2016-09-10 15:41:07.141] [ INFO] console - Executing (0efc40d9-133b-4649-8bb8-3f149021e90f): START TRANSACTION;
[2016-09-10 15:41:07.144] [ INFO] console - Executing (0efc40d9-133b-4649-8bb8-3f149021e90f): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:41:07.151] [ INFO] console - Executing (default): INSERT INTO "Slovo" ("id","value","created_at","updated_at","owner_id","place_id") VALUES (DEFAULT,'some Slovo temp 1473504067133','2016-09-10 10:41:07.146 +00:00','2016-09-10 10:41:07.146 +00:00',2,3) RETURNING *;
[2016-09-10 15:41:07.155] [ INFO] console - Executing (0efc40d9-133b-4649-8bb8-3f149021e90f): COMMIT;
[2016-09-10 15:41:07.159] [ INFO] console - [ 70, 677, {}, [ '46' ] ]
[2016-09-10 15:41:07.161] [ INFO] console - [ 16,
  2217192561049600,
  { acknowledge: true },
  'ru.kopa.model.Kopa.id3.slovoAdd',
  [ '46' ] ]
[2016-09-10 15:41:07.174] [ INFO] console - Executing (070b5e00-4352-4a2c-922d-c3626c619c23): START TRANSACTION;
[2016-09-10 15:41:07.177] [ INFO] console - Executing (070b5e00-4352-4a2c-922d-c3626c619c23): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:41:07.183] [ INFO] console - Executing (default): INSERT INTO "Predlozhenie" ("id","value","created_at","updated_at","initiator_id","place_id") VALUES (DEFAULT,'some Predlozhenie temp 1473504067171','2016-09-10 10:41:07.178 +00:00','2016-09-10 10:41:07.178 +00:00',2,3) RETURNING *;
[2016-09-10 15:41:07.187] [ INFO] console - Executing (070b5e00-4352-4a2c-922d-c3626c619c23): COMMIT;
[2016-09-10 15:41:07.189] [ INFO] console - [ 70, 678, {}, [ '24' ] ]
[2016-09-10 15:41:07.192] [ INFO] console - [ 16,
  6463290433601536,
  { acknowledge: true },
  'ru.kopa.model.Kopa.id3.predlozhenieAdd',
  [ '24' ] ]
[2016-09-10 15:41:07.236] [ INFO] console - [ 70, 680, {}, [ undefined ] ]
[2016-09-10 15:41:07.239] [ INFO] console - Executing (default): delete from "Kopnik"
                where
                    name like '%temp'
[2016-09-10 15:41:07.241] [ INFO] console - Executing (default): update "Kopnik"
                set 
                    "voiskoSize"= case when id=2 then 1 ELSE 0 END
                where
                    id>1 
                    and id<=5
[2016-09-10 15:41:07.246] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 2 }
[2016-09-10 15:41:07.249] [ INFO] console - Executing (d0b8e12b-b891-43a7-bcd4-393efacfd324): START TRANSACTION;
[2016-09-10 15:41:07.251] [ INFO] console - Executing (d0b8e12b-b891-43a7-bcd4-393efacfd324): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:41:07.258] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 2);
[2016-09-10 15:41:07.263] [ INFO] console - Executing (d0b8e12b-b891-43a7-bcd4-393efacfd324): COMMIT;
[2016-09-10 15:41:07.264] [ INFO] console - [ 70,
  681,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/2/',
      starshina: [Object],
      id: '2',
      email: 'unittest2@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '1',
      voiskoSize: 1,
      birth: 1983,
      path: '/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: null,
      attachments: [] } ] ]
[2016-09-10 15:41:07.277] [ INFO] console - Executing (d7392cba-e6b1-4530-a3e6-153f2c06a7d0): START TRANSACTION;
[2016-09-10 15:41:07.279] [ INFO] console - Executing (d7392cba-e6b1-4530-a3e6-153f2c06a7d0): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:41:07.288] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 2);
[2016-09-10 15:41:07.291] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"+1
                                where
                                    '/2/' like path||id||'/%'
[2016-09-10 15:41:07.297] [ INFO] console - Executing (default): INSERT INTO "Kopnik" ("id","name","surname","patronymic","voiskoSize","birth","path","created_at","updated_at","rodina_id","starshina_id") VALUES (DEFAULT,'temp','temp','temp',0,1900,'/2/','2016-09-10 10:41:07.281 +00:00','2016-09-10 10:41:07.281 +00:00',NULL,2) RETURNING *;
[2016-09-10 15:41:07.301] [ INFO] console - Executing (d7392cba-e6b1-4530-a3e6-153f2c06a7d0): COMMIT;
[2016-09-10 15:41:07.303] [ INFO] console - [ 70, 682, {}, [ '135' ] ]
[2016-09-10 15:41:07.308] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/' like k.path||k.id||'/%'
[2016-09-10 15:41:07.315] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 15:41:07.316] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Zemla', id: 2 }
[2016-09-10 15:41:07.321] [ INFO] console - Executing (57a110b9-9603-4d46-97e9-a72e4bbaab71): START TRANSACTION;
[2016-09-10 15:41:07.322] [ INFO] console - Executing (6b19c811-2487-48ef-9274-20ecf6284494): START TRANSACTION;
[2016-09-10 15:41:07.324] [ INFO] console - [ 16,
  8958425939574784,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id2.voiskoChange',
  [],
  { voiskoSize: 2 } ]
[2016-09-10 15:41:07.329] [ INFO] console - Executing (6b19c811-2487-48ef-9274-20ecf6284494): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:41:07.330] [ INFO] console - Executing (57a110b9-9603-4d46-97e9-a72e4bbaab71): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:41:07.353] [ INFO] console - Executing (default): SELECT "Zemla"."id", "Zemla"."path", "Zemla"."name", "Zemla"."intensity", "Zemla"."note", "Zemla"."created_at", "Zemla"."updated_at", "Zemla"."deleted_at", "Zemla"."parent_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Zemla" AS "Zemla" LEFT OUTER JOIN "File" AS "attachments" ON "Zemla"."id" = "attachments"."zemla_id" AND "attachments"."deleted_at" IS NULL WHERE ("Zemla"."deleted_at" IS NULL AND "Zemla"."id" = 2);
[2016-09-10 15:41:07.361] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 135);
[2016-09-10 15:41:07.366] [ INFO] console - Executing (57a110b9-9603-4d46-97e9-a72e4bbaab71): COMMIT;
[2016-09-10 15:41:07.374] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"+1
                                where
                                    '/2/135/' like path||id||'/%'
[2016-09-10 15:41:07.375] [ INFO] console - [ 70,
  683,
  {},
  [ { fullPath: 'null2/',
      id: '2',
      path: null,
      name: 'UnitTest2',
      intensity: 1000,
      note: 'unit test 1473503998150',
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Sat Sep 10 2016 15:40:00 GMT+0500 (YEKT),
      deleted_at: null,
      parent_id: '1',
      attachments: [] } ] ]
[2016-09-10 15:41:07.385] [ INFO] console - Executing (default): INSERT INTO "Kopnik" ("id","name","surname","patronymic","voiskoSize","birth","path","created_at","updated_at","rodina_id","starshina_id") VALUES (DEFAULT,'temp','temp','temp',0,1900,'/2/135/','2016-09-10 10:41:07.333 +00:00','2016-09-10 10:41:07.333 +00:00',NULL,135) RETURNING *;
[2016-09-10 15:41:07.391] [ INFO] console - Executing (6b19c811-2487-48ef-9274-20ecf6284494): COMMIT;
[2016-09-10 15:41:07.392] [ INFO] console - [ 70, 684, {}, [ '136' ] ]
[2016-09-10 15:41:07.401] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/135/' like k.path||k.id||'/%'
[2016-09-10 15:41:07.407] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2', '135')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 15:41:07.410] [ INFO] console - [ 16,
  1191658081222656,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id135.voiskoChange',
  [],
  { voiskoSize: 1 } ]
[2016-09-10 15:41:07.414] [ INFO] console - [ 16,
  6854344622211072,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id2.voiskoChange',
  [],
  { voiskoSize: 3 } ]
[2016-09-10 15:41:07.421] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 4 }
[2016-09-10 15:41:07.425] [ INFO] console - Executing (c4264234-363a-4473-8d85-c4f8e86aac6c): START TRANSACTION;
[2016-09-10 15:41:07.427] [ INFO] console - Executing (c4264234-363a-4473-8d85-c4f8e86aac6c): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:41:07.432] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 4);
[2016-09-10 15:41:07.437] [ INFO] console - Executing (c4264234-363a-4473-8d85-c4f8e86aac6c): COMMIT;
[2016-09-10 15:41:07.438] [ INFO] console - [ 70,
  685,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/4/',
      starshina: [Object],
      id: '4',
      email: 'unittest4@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '4',
      voiskoSize: 0,
      birth: 1983,
      path: '/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: null,
      attachments: [] } ] ]
[2016-09-10 15:41:07.454] [ INFO] console - Executing (09dacfe9-0f03-4461-970c-84de0156ee1f): START TRANSACTION;
[2016-09-10 15:41:07.457] [ INFO] console - Executing (09dacfe9-0f03-4461-970c-84de0156ee1f): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:41:07.460] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 135);
[2016-09-10 15:41:07.467] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 4);
[2016-09-10 15:41:07.470] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/' like k.path||k.id||'/%'
[2016-09-10 15:41:07.476] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 15:41:07.481] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"-2
                                where
                                    '/2/' like path||id||'/%'
[2016-09-10 15:41:07.487] [ INFO] console - Executing (default): UPDATE "Kopnik" SET "path"='/4/',"starshina_id"='4',"updated_at"='2016-09-10 10:41:07.482 +00:00' WHERE "id" = '135'
[2016-09-10 15:41:07.489] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"+2
                                where
                                    '/4/' like path||id||'/%'
[2016-09-10 15:41:07.493] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."starshina_id" = '135');
[2016-09-10 15:41:07.501] [ INFO] console - Executing (default): UPDATE "Kopnik" SET "path"='/4/135/',"updated_at"='2016-09-10 10:41:07.497 +00:00' WHERE "id" = '136'
[2016-09-10 15:41:07.503] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/4/' like k.path||k.id||'/%'
[2016-09-10 15:41:07.513] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('4')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 15:41:07.518] [ INFO] console - Executing (09dacfe9-0f03-4461-970c-84de0156ee1f): COMMIT;
[2016-09-10 15:41:07.519] [ INFO] console - [ 70, 686, {}, [ undefined ] ]
[2016-09-10 15:41:07.523] [ INFO] console - [ 16,
  1503312956358656,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id2.voiskoChange',
  [],
  { voiskoSize: 1 } ]
[2016-09-10 15:41:07.529] [ INFO] console - [ 16,
  6779780766629888,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id4.voiskoChange',
  [],
  { voiskoSize: 2 } ]
[2016-09-10 15:41:07.565] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopa', id: 3 }
[2016-09-10 15:41:07.571] [ INFO] console - Executing (2d66dc00-8e70-415a-90d4-94ea793f5cf3): START TRANSACTION;
[2016-09-10 15:41:07.573] [ INFO] console - Executing (2d66dc00-8e70-415a-90d4-94ea793f5cf3): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:41:07.579] [ INFO] console - Executing (default): SELECT "Kopa"."id", "Kopa"."question", "Kopa"."planned", "Kopa"."started", "Kopa"."closed", "Kopa"."isOpen", "Kopa"."note", "Kopa"."created_at", "Kopa"."updated_at", "Kopa"."deleted_at", "Kopa"."place_id", "Kopa"."inviter_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopa" AS "Kopa" LEFT OUTER JOIN "File" AS "attachments" ON "Kopa"."id" = "attachments"."kopa_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopa"."deleted_at" IS NULL AND "Kopa"."id" = 3);
[2016-09-10 15:41:07.586] [ INFO] console - Executing (2d66dc00-8e70-415a-90d4-94ea793f5cf3): COMMIT;
[2016-09-10 15:41:07.587] [ INFO] console - [ 70,
  688,
  {},
  [ { id: '3',
      question: 'CHE',
      planned: Thu Sep 01 2016 00:00:00 GMT+0500 (YEKT),
      started: Thu Sep 01 2016 00:00:00 GMT+0500 (YEKT),
      closed: null,
      isOpen: false,
      note: null,
      created_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      deleted_at: null,
      place_id: '2',
      inviter_id: '2',
      attachments: [] } ] ]
[2016-09-10 15:41:07.601] [ INFO] console - Executing (d819961c-df88-445c-aabf-b649a540c0dd): START TRANSACTION;
[2016-09-10 15:41:07.603] [ INFO] console - Executing (d819961c-df88-445c-aabf-b649a540c0dd): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:41:07.609] [ INFO] console - Executing (default): INSERT INTO "Predlozhenie" ("id","value","created_at","updated_at","initiator_id","place_id") VALUES (DEFAULT,'some Predlozhenie temp 1473504066105','2016-09-10 10:41:07.606 +00:00','2016-09-10 10:41:07.606 +00:00',2,3) RETURNING *;
[2016-09-10 15:41:07.613] [ INFO] console - Executing (d819961c-df88-445c-aabf-b649a540c0dd): COMMIT;
[2016-09-10 15:41:07.615] [ INFO] console - [ 70, 689, {}, [ '25' ] ]
[2016-09-10 15:41:07.618] [ INFO] console - [ 16,
  6465260223463424,
  { acknowledge: true },
  'ru.kopa.model.Kopa.id3.predlozhenieAdd',
  [ '25' ] ]
[2016-09-10 15:41:07.625] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Predlozhenie', id: 1 }
[2016-09-10 15:41:07.630] [ INFO] console - Executing (5b2b03d0-de9d-438e-8ee3-441cf4db22d6): START TRANSACTION;
[2016-09-10 15:41:07.632] [ INFO] console - Executing (5b2b03d0-de9d-438e-8ee3-441cf4db22d6): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:41:07.638] [ INFO] console - Executing (default): SELECT "Predlozhenie"."id", "Predlozhenie"."value", "Predlozhenie"."note", "Predlozhenie"."created_at", "Predlozhenie"."updated_at", "Predlozhenie"."deleted_at", "Predlozhenie"."initiator_id", "Predlozhenie"."place_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Predlozhenie" AS "Predlozhenie" LEFT OUTER JOIN "File" AS "attachments" ON "Predlozhenie"."id" = "attachments"."predlozhenie_id" AND "attachments"."deleted_at" IS NULL WHERE ("Predlozhenie"."deleted_at" IS NULL AND "Predlozhenie"."id" = 1);
[2016-09-10 15:41:07.644] [ INFO] console - Executing (5b2b03d0-de9d-438e-8ee3-441cf4db22d6): COMMIT;
[2016-09-10 15:41:07.646] [ INFO] console - [ 70,
  690,
  {},
  [ { id: '1',
      value: 'Будет ...',
      note: null,
      created_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      deleted_at: null,
      initiator_id: '2',
      place_id: '3',
      attachments: [] } ] ]
[2016-09-10 15:41:07.658] [ INFO] console - Executing (55b2fe0c-5f80-49cf-8a7e-29ffadcd84a0): START TRANSACTION;
[2016-09-10 15:41:07.659] [ INFO] console - Executing (55b2fe0c-5f80-49cf-8a7e-29ffadcd84a0): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:41:07.665] [ INFO] console - Executing (default): INSERT INTO "Golos" ("id","value","created_at","updated_at","for_id","owner_id") VALUES (DEFAULT,1,'2016-09-10 10:41:07.661 +00:00','2016-09-10 10:41:07.661 +00:00',1,2) RETURNING *;
[2016-09-10 15:41:07.671] [ INFO] console - Executing (55b2fe0c-5f80-49cf-8a7e-29ffadcd84a0): COMMIT;
[2016-09-10 15:41:07.672] [ INFO] console - [ 70, 691, {}, [ '25' ] ]
[2016-09-10 15:41:07.675] [ INFO] console - [ 16,
  1473827391406080,
  { acknowledge: true },
  'ru.kopa.model.Predlozhenie.id1.golosAdd',
  [ '25' ] ]
[2016-09-10 15:41:07.709] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 2 }
[2016-09-10 15:41:07.718] [ INFO] console - Executing (eb7ce156-04aa-4cb3-b8ff-232f48952493): START TRANSACTION;
[2016-09-10 15:41:07.719] [ INFO] console - Executing (eb7ce156-04aa-4cb3-b8ff-232f48952493): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:41:07.761] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 2);
[2016-09-10 15:41:07.766] [ INFO] console - Executing (eb7ce156-04aa-4cb3-b8ff-232f48952493): COMMIT;
[2016-09-10 15:41:07.768] [ INFO] console - [ 70,
  693,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/2/',
      starshina: [Object],
      id: '2',
      email: 'unittest2@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '1',
      voiskoSize: 1,
      birth: 1983,
      path: '/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: null,
      attachments: [] } ] ]
[2016-09-10 15:41:07.782] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 3 }
[2016-09-10 15:41:07.785] [ INFO] console - Executing (efd6622d-571a-49cb-8491-8b0da42a542f): START TRANSACTION;
[2016-09-10 15:41:07.786] [ INFO] console - Executing (efd6622d-571a-49cb-8491-8b0da42a542f): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:41:07.792] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 3);
[2016-09-10 15:41:07.800] [ INFO] console - Executing (efd6622d-571a-49cb-8491-8b0da42a542f): COMMIT;
[2016-09-10 15:41:07.801] [ INFO] console - [ 70,
  694,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/2/3/',
      starshina: [Object],
      id: '3',
      email: 'unittest3@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '3',
      voiskoSize: 0,
      birth: 1983,
      path: '/2/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: '2',
      attachments: [] } ] ]
[2016-09-10 15:41:07.813] [ INFO] console - Executing (70b32514-4bd8-4be7-ab61-38329f38a4a9): START TRANSACTION;
[2016-09-10 15:41:07.814] [ INFO] console - Executing (70b32514-4bd8-4be7-ab61-38329f38a4a9): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:41:07.821] [ INFO] console - Executing (default): INSERT INTO "Slovo" ("id","value","note","created_at","updated_at","owner_id","place_id") VALUES (DEFAULT,'123 temp','456','2016-09-10 10:41:07.816 +00:00','2016-09-10 10:41:07.816 +00:00',2,3) RETURNING *;
[2016-09-10 15:41:07.824] [ INFO] console - Executing (70b32514-4bd8-4be7-ab61-38329f38a4a9): COMMIT;
[2016-09-10 15:41:07.825] [ INFO] console - [ 70, 695, {}, [ '47' ] ]
[2016-09-10 15:41:07.828] [ INFO] console - [ 16,
  457473158807552,
  { acknowledge: true },
  'ru.kopa.model.Kopa.id3.slovoAdd',
  [ '47' ] ]
[2016-09-10 15:41:07.833] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Slovo', id: 47 }
[2016-09-10 15:41:07.837] [ INFO] console - Executing (7d61e91a-7c67-4bca-803b-92d6aa56eb49): START TRANSACTION;
[2016-09-10 15:41:07.838] [ INFO] console - Executing (7d61e91a-7c67-4bca-803b-92d6aa56eb49): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:41:07.844] [ INFO] console - Executing (default): SELECT "Slovo"."id", "Slovo"."value", "Slovo"."note", "Slovo"."created_at", "Slovo"."updated_at", "Slovo"."deleted_at", "Slovo"."owner_id", "Slovo"."place_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Slovo" AS "Slovo" LEFT OUTER JOIN "File" AS "attachments" ON "Slovo"."id" = "attachments"."slovo_id" AND "attachments"."deleted_at" IS NULL WHERE ("Slovo"."deleted_at" IS NULL AND "Slovo"."id" = 47);
[2016-09-10 15:41:07.849] [ INFO] console - Executing (7d61e91a-7c67-4bca-803b-92d6aa56eb49): COMMIT;
[2016-09-10 15:41:07.850] [ INFO] console - [ 70,
  696,
  {},
  [ { id: '47',
      value: '123 temp',
      note: '456',
      created_at: Sat Sep 10 2016 15:41:07 GMT+0500 (YEKT),
      updated_at: Sat Sep 10 2016 15:41:07 GMT+0500 (YEKT),
      deleted_at: null,
      owner_id: '2',
      place_id: '3',
      attachments: [] } ] ]
[2016-09-10 15:41:07.864] [ INFO] console - Executing (d549908a-7652-431c-b2fe-0289f6725774): START TRANSACTION;
[2016-09-10 15:41:07.865] [ INFO] console - Executing (d549908a-7652-431c-b2fe-0289f6725774): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:41:07.871] [ INFO] console - Executing (default): INSERT INTO "Slovo" ("id","value","created_at","updated_at","owner_id","place_id") VALUES (DEFAULT,'some value temp 1473504067861','2016-09-10 10:41:07.866 +00:00','2016-09-10 10:41:07.866 +00:00',2,3) RETURNING *;
[2016-09-10 15:41:07.874] [ INFO] console - Executing (d549908a-7652-431c-b2fe-0289f6725774): COMMIT;
[2016-09-10 15:41:07.877] [ INFO] console - [ 70, 697, {}, [ '48' ] ]
[2016-09-10 15:41:07.881] [ INFO] console - [ 16,
  4785831560609792,
  { acknowledge: true },
  'ru.kopa.model.Kopa.id3.slovoAdd',
  [ '48' ] ]
[2016-09-10 15:41:07.895] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Zemla', id: 2 }
[2016-09-10 15:41:07.898] [ INFO] console - Executing (2ac0b6de-6bb7-42b2-b927-e653f0fdd286): START TRANSACTION;
[2016-09-10 15:41:07.899] [ INFO] console - Executing (2ac0b6de-6bb7-42b2-b927-e653f0fdd286): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:41:07.907] [ INFO] console - Executing (default): SELECT "Zemla"."id", "Zemla"."path", "Zemla"."name", "Zemla"."intensity", "Zemla"."note", "Zemla"."created_at", "Zemla"."updated_at", "Zemla"."deleted_at", "Zemla"."parent_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Zemla" AS "Zemla" LEFT OUTER JOIN "File" AS "attachments" ON "Zemla"."id" = "attachments"."zemla_id" AND "attachments"."deleted_at" IS NULL WHERE ("Zemla"."deleted_at" IS NULL AND "Zemla"."id" = 2);
[2016-09-10 15:41:07.912] [ INFO] console - Executing (2ac0b6de-6bb7-42b2-b927-e653f0fdd286): COMMIT;
[2016-09-10 15:41:07.913] [ INFO] console - [ 70,
  698,
  {},
  [ { fullPath: 'null2/',
      id: '2',
      path: null,
      name: 'UnitTest2',
      intensity: 1000,
      note: 'unit test 1473503998150',
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Sat Sep 10 2016 15:40:00 GMT+0500 (YEKT),
      deleted_at: null,
      parent_id: '1',
      attachments: [] } ] ]
[2016-09-10 15:41:07.928] [ INFO] console - Executing (c723dae5-52a1-47dc-9079-d61c69a4146c): START TRANSACTION;
[2016-09-10 15:41:07.930] [ INFO] console - Executing (c723dae5-52a1-47dc-9079-d61c69a4146c): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:41:07.936] [ INFO] console - Executing (default): SELECT "id", "path", "name", "intensity", "note", "created_at", "updated_at", "deleted_at", "parent_id" FROM "Zemla" AS "Zemla" WHERE ("Zemla"."deleted_at" IS NULL AND "Zemla"."id" = 2);
[2016-09-10 15:41:07.943] [ INFO] console - Executing (default): UPDATE "Zemla" SET "parent_id"=1,"note"='unit test 1473504066111',"updated_at"='2016-09-10 10:41:07.940 +00:00' WHERE "id" = '2'
[2016-09-10 15:41:07.946] [ INFO] console - Executing (c723dae5-52a1-47dc-9079-d61c69a4146c): COMMIT;
[2016-09-10 15:41:07.947] [ INFO] console - [ 16,
  7134478579269632,
  { acknowledge: true },
  'ru.kopa.model.Zemla.id2.change' ]
[2016-09-10 15:41:07.953] [ INFO] console - [ 70, 699, {}, [ undefined ] ]
[2016-09-10 15:41:07.961] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Zemla', id: 2 }
[2016-09-10 15:41:07.965] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Zemla', id: 2 }
[2016-09-10 15:41:07.967] [ INFO] console - Executing (70482832-25e3-45d4-895f-5ce3475e4d10): START TRANSACTION;
[2016-09-10 15:41:07.967] [ INFO] console - Executing (8a833d21-fbb8-49b4-80d8-ece6ed2848ec): START TRANSACTION;
[2016-09-10 15:41:07.974] [ INFO] console - Executing (70482832-25e3-45d4-895f-5ce3475e4d10): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:41:07.975] [ INFO] console - Executing (8a833d21-fbb8-49b4-80d8-ece6ed2848ec): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:41:07.987] [ INFO] console - Executing (default): SELECT "Zemla"."id", "Zemla"."path", "Zemla"."name", "Zemla"."intensity", "Zemla"."note", "Zemla"."created_at", "Zemla"."updated_at", "Zemla"."deleted_at", "Zemla"."parent_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Zemla" AS "Zemla" LEFT OUTER JOIN "File" AS "attachments" ON "Zemla"."id" = "attachments"."zemla_id" AND "attachments"."deleted_at" IS NULL WHERE ("Zemla"."deleted_at" IS NULL AND "Zemla"."id" = 2);
[2016-09-10 15:41:07.987] [ INFO] console - Executing (default): SELECT "Zemla"."id", "Zemla"."path", "Zemla"."name", "Zemla"."intensity", "Zemla"."note", "Zemla"."created_at", "Zemla"."updated_at", "Zemla"."deleted_at", "Zemla"."parent_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Zemla" AS "Zemla" LEFT OUTER JOIN "File" AS "attachments" ON "Zemla"."id" = "attachments"."zemla_id" AND "attachments"."deleted_at" IS NULL WHERE ("Zemla"."deleted_at" IS NULL AND "Zemla"."id" = 2);
[2016-09-10 15:41:07.993] [ INFO] console - Executing (70482832-25e3-45d4-895f-5ce3475e4d10): COMMIT;
[2016-09-10 15:41:07.997] [ INFO] console - Executing (8a833d21-fbb8-49b4-80d8-ece6ed2848ec): COMMIT;
[2016-09-10 15:41:07.998] [ INFO] console - [ 70,
  700,
  {},
  [ { fullPath: 'null2/',
      id: '2',
      path: null,
      name: 'UnitTest2',
      intensity: 1000,
      note: 'unit test 1473504066111',
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Sat Sep 10 2016 15:41:07 GMT+0500 (YEKT),
      deleted_at: null,
      parent_id: '1',
      attachments: [] } ] ]
[2016-09-10 15:41:08.003] [ INFO] console - [ 70,
  701,
  {},
  [ { fullPath: 'null2/',
      id: '2',
      path: null,
      name: 'UnitTest2',
      intensity: 1000,
      note: 'unit test 1473504066111',
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Sat Sep 10 2016 15:41:07 GMT+0500 (YEKT),
      deleted_at: null,
      parent_id: '1',
      attachments: [] } ] ]
[2016-09-10 15:41:08.037] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopa', id: 3 }
[2016-09-10 15:41:08.040] [ INFO] console - Executing (e1ec5ddc-3567-4575-b890-ec357ff3ebf5): START TRANSACTION;
[2016-09-10 15:41:08.041] [ INFO] console - Executing (e1ec5ddc-3567-4575-b890-ec357ff3ebf5): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:41:08.045] [ INFO] console - Executing (default): SELECT "Kopa"."id", "Kopa"."question", "Kopa"."planned", "Kopa"."started", "Kopa"."closed", "Kopa"."isOpen", "Kopa"."note", "Kopa"."created_at", "Kopa"."updated_at", "Kopa"."deleted_at", "Kopa"."place_id", "Kopa"."inviter_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopa" AS "Kopa" LEFT OUTER JOIN "File" AS "attachments" ON "Kopa"."id" = "attachments"."kopa_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopa"."deleted_at" IS NULL AND "Kopa"."id" = 3);
[2016-09-10 15:41:08.049] [ INFO] console - Executing (e1ec5ddc-3567-4575-b890-ec357ff3ebf5): COMMIT;
[2016-09-10 15:41:08.050] [ INFO] console - [ 70,
  703,
  {},
  [ { id: '3',
      question: 'CHE',
      planned: Thu Sep 01 2016 00:00:00 GMT+0500 (YEKT),
      started: Thu Sep 01 2016 00:00:00 GMT+0500 (YEKT),
      closed: null,
      isOpen: false,
      note: null,
      created_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      deleted_at: null,
      place_id: '2',
      inviter_id: '2',
      attachments: [] } ] ]
[2016-09-10 15:41:08.064] [ INFO] console - Executing (01b2059d-6ea8-46dd-a770-f9855144f410): START TRANSACTION;
[2016-09-10 15:41:08.065] [ INFO] console - Executing (01b2059d-6ea8-46dd-a770-f9855144f410): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:41:08.069] [ INFO] console - Executing (default): INSERT INTO "Slovo" ("id","value","created_at","updated_at","owner_id","place_id") VALUES (DEFAULT,'some Slovo temp','2016-09-10 10:41:08.067 +00:00','2016-09-10 10:41:08.067 +00:00',2,3) RETURNING *;
[2016-09-10 15:41:08.074] [ INFO] console - Executing (01b2059d-6ea8-46dd-a770-f9855144f410): COMMIT;
[2016-09-10 15:41:08.077] [ INFO] console - [ 70, 704, {}, [ '49' ] ]
[2016-09-10 15:41:08.079] [ INFO] console - [ 16,
  4649311566561280,
  { acknowledge: true },
  'ru.kopa.model.Kopa.id3.slovoAdd',
  [ '49' ] ]
[2016-09-10 15:41:11.868] [ INFO] console - [ 70, 706, {}, [ 'unittest2@domain.ru' ] ]
[2016-09-10 15:41:11.884] [DEBUG] Server - #pingPong() [ 1, 2, 3 ] { x: 1, y: 2, z: 3 }
[2016-09-10 15:41:11.886] [ INFO] console - [ 70, 707, {}, [ 1, 2, 3 ], { x: 1, y: 2, z: 3 } ]
[2016-09-10 15:41:11.897] [ INFO] console - Executing (default): select 'КОПА' as result
[2016-09-10 15:41:11.899] [ INFO] console - [ 70, 708, {}, [ 'КОПА' ] ]
[2016-09-10 15:41:11.904] [DEBUG] Server - #error() [ 'sadkljfaskldjfs;af' ] {}
[2016-09-10 15:41:11.906] [ERROR] Server - [Error: sadkljfaskldjfs;af]
Error: sadkljfaskldjfs;af
    at MySuperError (Server.js:339:9)
    at fn.constructor.error.Error (Server.js:344:19)
    at new wrappedPromise (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/async-listener/index.js:372:16)
    at Server.error (Server.js:343:16)
    at Object.<anonymous> (Server.js:415:43)
    at [object Generator].next (native)
    at step (/home/alexey2baranov/htdocs/kp-sequelizejs/src/Server.js:1:253)
    at /home/alexey2baranov/htdocs/kp-sequelizejs/src/Server.js:1:513
    at new wrappedPromise (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/async-listener/index.js:372:16)
    at Object.<anonymous> (/home/alexey2baranov/htdocs/kp-sequelizejs/src/Server.js:1:161)
    at Object.<anonymous> (Server.js:412:28)
    at tryCatchResolve (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/apply.js:46:23)
    at callAndResolve (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/apply.js:30:12)
    at callAndResolveNext (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/apply.js:40:4)
    at tryCatchReject3 (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/makePromise.js:856:7)
    at runContinuation3 (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/makePromise.js:814:4)
[2016-09-10 15:41:11.913] [ INFO] console - [ 8,
  68,
  709,
  {},
  'MySuperError',
  [ 'sadkljfaskldjfs;af' ],
  { stack: 
     [ 'Error: sadkljfaskldjfs;af',
       '    at MySuperError (Server.js:339:9)',
       '    at fn.constructor.error.Error (Server.js:344:19)',
       '    at new wrappedPromise (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/async-listener/index.js:372:16)',
       '    at Server.error (Server.js:343:16)',
       '    at Object.<anonymous> (Server.js:415:43)',
       '    at [object Generator].next (native)',
       '    at step (/home/alexey2baranov/htdocs/kp-sequelizejs/src/Server.js:1:253)',
       '    at /home/alexey2baranov/htdocs/kp-sequelizejs/src/Server.js:1:513',
       '    at new wrappedPromise (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/async-listener/index.js:372:16)',
       '    at Object.<anonymous> (/home/alexey2baranov/htdocs/kp-sequelizejs/src/Server.js:1:161)',
       '    at Object.<anonymous> (Server.js:412:28)',
       '    at tryCatchResolve (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/apply.js:46:23)',
       '    at callAndResolve (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/apply.js:30:12)',
       '    at callAndResolveNext (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/apply.js:40:4)',
       '    at tryCatchReject3 (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/makePromise.js:856:7)',
       '    at runContinuation3 (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/makePromise.js:814:4)' ] } ]
[2016-09-10 15:41:11.926] [ INFO] console - [ 70, 710, {}, [ undefined ] ]
[2016-09-10 15:41:11.934] [ INFO] console - Executing (default): delete from "Slovo"
                where
                    place_id<5
                    and value like '%temp'
[2016-09-10 15:41:11.946] [ INFO] console - Executing (default): delete from "Kopnik"
                where
                    name like '%temp'
[2016-09-10 15:41:11.961] [ INFO] console - Executing (default): update "Kopnik"
                set 
                    "voiskoSize"= case when id=2 then 1 ELSE 0 END
                where
                    id>1 
                    and id<=5
[2016-09-10 15:41:11.965] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopa', id: 3 }
[2016-09-10 15:41:11.967] [ INFO] console - Executing (a6bf9bfc-f050-4bcf-a1b2-00e65cd69b30): START TRANSACTION;
[2016-09-10 15:41:11.969] [ INFO] console - Executing (a6bf9bfc-f050-4bcf-a1b2-00e65cd69b30): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:41:11.979] [ INFO] console - Executing (default): SELECT "Kopa"."id", "Kopa"."question", "Kopa"."planned", "Kopa"."started", "Kopa"."closed", "Kopa"."isOpen", "Kopa"."note", "Kopa"."created_at", "Kopa"."updated_at", "Kopa"."deleted_at", "Kopa"."place_id", "Kopa"."inviter_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopa" AS "Kopa" LEFT OUTER JOIN "File" AS "attachments" ON "Kopa"."id" = "attachments"."kopa_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopa"."deleted_at" IS NULL AND "Kopa"."id" = 3);
[2016-09-10 15:41:11.986] [ INFO] console - Executing (a6bf9bfc-f050-4bcf-a1b2-00e65cd69b30): COMMIT;
[2016-09-10 15:41:11.987] [ INFO] console - [ 70,
  712,
  {},
  [ { id: '3',
      question: 'CHE',
      planned: Thu Sep 01 2016 00:00:00 GMT+0500 (YEKT),
      started: Thu Sep 01 2016 00:00:00 GMT+0500 (YEKT),
      closed: null,
      isOpen: false,
      note: null,
      created_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      deleted_at: null,
      place_id: '2',
      inviter_id: '2',
      attachments: [] } ] ]
[2016-09-10 15:41:12.007] [ INFO] console - Executing (209e308c-c31b-46d7-acc8-5407f9a0803e): START TRANSACTION;
[2016-09-10 15:41:12.008] [ INFO] console - Executing (209e308c-c31b-46d7-acc8-5407f9a0803e): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:41:12.017] [ INFO] console - Executing (default): INSERT INTO "Golos" ("id","value","created_at","updated_at","for_id","owner_id") VALUES (DEFAULT,1,'2016-09-10 10:41:12.012 +00:00','2016-09-10 10:41:12.012 +00:00',1,2) RETURNING *;
[2016-09-10 15:41:12.020] [ INFO] console - Executing (209e308c-c31b-46d7-acc8-5407f9a0803e): COMMIT;
[2016-09-10 15:41:12.022] [ INFO] console - [ 70, 713, {}, [ '26' ] ]
[2016-09-10 15:41:12.024] [ INFO] console - [ 16,
  3276687687024640,
  { acknowledge: true },
  'ru.kopa.model.Predlozhenie.id1.golosAdd',
  [ '26' ] ]
[2016-09-10 15:41:12.053] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopa', id: 3 }
[2016-09-10 15:41:12.061] [ INFO] console - Executing (ddb12ea7-6171-4fcc-ada0-2a7594276d48): START TRANSACTION;
[2016-09-10 15:41:12.062] [ INFO] console - Executing (ddb12ea7-6171-4fcc-ada0-2a7594276d48): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:41:12.068] [ INFO] console - Executing (default): SELECT "Kopa"."id", "Kopa"."question", "Kopa"."planned", "Kopa"."started", "Kopa"."closed", "Kopa"."isOpen", "Kopa"."note", "Kopa"."created_at", "Kopa"."updated_at", "Kopa"."deleted_at", "Kopa"."place_id", "Kopa"."inviter_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopa" AS "Kopa" LEFT OUTER JOIN "File" AS "attachments" ON "Kopa"."id" = "attachments"."kopa_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopa"."deleted_at" IS NULL AND "Kopa"."id" = 3);
[2016-09-10 15:41:12.073] [ INFO] console - Executing (ddb12ea7-6171-4fcc-ada0-2a7594276d48): COMMIT;
[2016-09-10 15:41:12.074] [ INFO] console - [ 70,
  715,
  {},
  [ { id: '3',
      question: 'CHE',
      planned: Thu Sep 01 2016 00:00:00 GMT+0500 (YEKT),
      started: Thu Sep 01 2016 00:00:00 GMT+0500 (YEKT),
      closed: null,
      isOpen: false,
      note: null,
      created_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      deleted_at: null,
      place_id: '2',
      inviter_id: '2',
      attachments: [] } ] ]
[2016-09-10 15:41:12.084] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 2 }
[2016-09-10 15:41:12.087] [ INFO] console - Executing (6641ff68-513d-4dd8-a365-fb5838edd226): START TRANSACTION;
[2016-09-10 15:41:12.088] [ INFO] console - Executing (6641ff68-513d-4dd8-a365-fb5838edd226): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:41:12.097] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 2);
[2016-09-10 15:41:12.102] [ INFO] console - Executing (6641ff68-513d-4dd8-a365-fb5838edd226): COMMIT;
[2016-09-10 15:41:12.104] [ INFO] console - [ 70,
  716,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/2/',
      starshina: [Object],
      id: '2',
      email: 'unittest2@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '1',
      voiskoSize: 1,
      birth: 1983,
      path: '/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: null,
      attachments: [] } ] ]
[2016-09-10 15:41:12.118] [ INFO] console - Executing (8527e747-427a-4602-96c7-f6c085d28a70): START TRANSACTION;
[2016-09-10 15:41:12.119] [ INFO] console - Executing (8527e747-427a-4602-96c7-f6c085d28a70): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:41:12.124] [ INFO] console - Executing (default): INSERT INTO "Slovo" ("id","value","created_at","updated_at","owner_id","place_id") VALUES (DEFAULT,'some Slovo temp 1473504072113','2016-09-10 10:41:12.120 +00:00','2016-09-10 10:41:12.120 +00:00',2,3) RETURNING *;
[2016-09-10 15:41:12.127] [ INFO] console - Executing (8527e747-427a-4602-96c7-f6c085d28a70): COMMIT;
[2016-09-10 15:41:12.129] [ INFO] console - [ 70, 717, {}, [ '50' ] ]
[2016-09-10 15:41:12.134] [ INFO] console - [ 16,
  326380201967616,
  { acknowledge: true },
  'ru.kopa.model.Kopa.id3.slovoAdd',
  [ '50' ] ]
[2016-09-10 15:41:12.145] [ INFO] console - Executing (85bbff1a-863c-44eb-9012-dc8c5dc5a3f6): START TRANSACTION;
[2016-09-10 15:41:12.147] [ INFO] console - Executing (85bbff1a-863c-44eb-9012-dc8c5dc5a3f6): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:41:12.151] [ INFO] console - Executing (default): INSERT INTO "Predlozhenie" ("id","value","created_at","updated_at","initiator_id","place_id") VALUES (DEFAULT,'some Predlozhenie temp 1473504072141','2016-09-10 10:41:12.148 +00:00','2016-09-10 10:41:12.148 +00:00',2,3) RETURNING *;
[2016-09-10 15:41:12.157] [ INFO] console - Executing (85bbff1a-863c-44eb-9012-dc8c5dc5a3f6): COMMIT;
[2016-09-10 15:41:12.159] [ INFO] console - [ 70, 718, {}, [ '26' ] ]
[2016-09-10 15:41:12.163] [ INFO] console - [ 16,
  2299545698435072,
  { acknowledge: true },
  'ru.kopa.model.Kopa.id3.predlozhenieAdd',
  [ '26' ] ]
[2016-09-10 15:41:12.187] [ INFO] console - [ 70, 720, {}, [ undefined ] ]
[2016-09-10 15:41:12.189] [ INFO] console - Executing (default): delete from "Kopnik"
                where
                    name like '%temp'
[2016-09-10 15:41:12.191] [ INFO] console - Executing (default): update "Kopnik"
                set 
                    "voiskoSize"= case when id=2 then 1 ELSE 0 END
                where
                    id>1 
                    and id<=5
[2016-09-10 15:41:12.194] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 2 }
[2016-09-10 15:41:12.197] [ INFO] console - Executing (e593eb4d-5125-4837-8f38-e941b92e82eb): START TRANSACTION;
[2016-09-10 15:41:12.198] [ INFO] console - Executing (e593eb4d-5125-4837-8f38-e941b92e82eb): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:41:12.205] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 2);
[2016-09-10 15:41:12.211] [ INFO] console - Executing (e593eb4d-5125-4837-8f38-e941b92e82eb): COMMIT;
[2016-09-10 15:41:12.212] [ INFO] console - [ 70,
  721,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/2/',
      starshina: [Object],
      id: '2',
      email: 'unittest2@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '1',
      voiskoSize: 1,
      birth: 1983,
      path: '/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: null,
      attachments: [] } ] ]
[2016-09-10 15:41:12.224] [ INFO] console - Executing (20d179f0-7db0-4c10-a962-cfcfb5642764): START TRANSACTION;
[2016-09-10 15:41:12.225] [ INFO] console - Executing (20d179f0-7db0-4c10-a962-cfcfb5642764): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:41:12.230] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 2);
[2016-09-10 15:41:12.234] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"+1
                                where
                                    '/2/' like path||id||'/%'
[2016-09-10 15:41:12.238] [ INFO] console - Executing (default): INSERT INTO "Kopnik" ("id","name","surname","patronymic","voiskoSize","birth","path","created_at","updated_at","rodina_id","starshina_id") VALUES (DEFAULT,'temp','temp','temp',0,1900,'/2/','2016-09-10 10:41:12.227 +00:00','2016-09-10 10:41:12.227 +00:00',NULL,2) RETURNING *;
[2016-09-10 15:41:12.242] [ INFO] console - Executing (20d179f0-7db0-4c10-a962-cfcfb5642764): COMMIT;
[2016-09-10 15:41:12.243] [ INFO] console - [ 70, 722, {}, [ '137' ] ]
[2016-09-10 15:41:12.248] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/' like k.path||k.id||'/%'
[2016-09-10 15:41:12.254] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Zemla', id: 2 }
[2016-09-10 15:41:12.257] [ INFO] console - Executing (885afdc2-7dcb-4293-8874-9fbdbfcba1c5): START TRANSACTION;
[2016-09-10 15:41:12.258] [ INFO] console - Executing (f07fa7c8-33cb-4a5f-9eb1-8c773d451a59): START TRANSACTION;
[2016-09-10 15:41:12.261] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 15:41:12.264] [ INFO] console - Executing (885afdc2-7dcb-4293-8874-9fbdbfcba1c5): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:41:12.264] [ INFO] console - Executing (f07fa7c8-33cb-4a5f-9eb1-8c773d451a59): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:41:12.265] [ INFO] console - [ 16,
  4671486669357056,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id2.voiskoChange',
  [],
  { voiskoSize: 2 } ]
[2016-09-10 15:41:12.275] [ INFO] console - Executing (default): SELECT "Zemla"."id", "Zemla"."path", "Zemla"."name", "Zemla"."intensity", "Zemla"."note", "Zemla"."created_at", "Zemla"."updated_at", "Zemla"."deleted_at", "Zemla"."parent_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Zemla" AS "Zemla" LEFT OUTER JOIN "File" AS "attachments" ON "Zemla"."id" = "attachments"."zemla_id" AND "attachments"."deleted_at" IS NULL WHERE ("Zemla"."deleted_at" IS NULL AND "Zemla"."id" = 2);
[2016-09-10 15:41:12.279] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 137);
[2016-09-10 15:41:12.285] [ INFO] console - Executing (885afdc2-7dcb-4293-8874-9fbdbfcba1c5): COMMIT;
[2016-09-10 15:41:12.287] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"+1
                                where
                                    '/2/137/' like path||id||'/%'
[2016-09-10 15:41:12.288] [ INFO] console - [ 70,
  723,
  {},
  [ { fullPath: 'null2/',
      id: '2',
      path: null,
      name: 'UnitTest2',
      intensity: 1000,
      note: 'unit test 1473504066111',
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Sat Sep 10 2016 15:41:07 GMT+0500 (YEKT),
      deleted_at: null,
      parent_id: '1',
      attachments: [] } ] ]
[2016-09-10 15:41:12.296] [ INFO] console - Executing (default): INSERT INTO "Kopnik" ("id","name","surname","patronymic","voiskoSize","birth","path","created_at","updated_at","rodina_id","starshina_id") VALUES (DEFAULT,'temp','temp','temp',0,1900,'/2/137/','2016-09-10 10:41:12.271 +00:00','2016-09-10 10:41:12.271 +00:00',NULL,137) RETURNING *;
[2016-09-10 15:41:12.300] [ INFO] console - Executing (f07fa7c8-33cb-4a5f-9eb1-8c773d451a59): COMMIT;
[2016-09-10 15:41:12.301] [ INFO] console - [ 70, 724, {}, [ '138' ] ]
[2016-09-10 15:41:12.305] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/137/' like k.path||k.id||'/%'
[2016-09-10 15:41:12.311] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2', '137')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 15:41:12.314] [ INFO] console - [ 16,
  7282898065424384,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id137.voiskoChange',
  [],
  { voiskoSize: 1 } ]
[2016-09-10 15:41:12.318] [ INFO] console - [ 16,
  2414479421734912,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id2.voiskoChange',
  [],
  { voiskoSize: 3 } ]
[2016-09-10 15:41:12.335] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 4 }
[2016-09-10 15:41:12.338] [ INFO] console - Executing (9e92663e-ac2a-4c66-ab85-b002ab404699): START TRANSACTION;
[2016-09-10 15:41:12.339] [ INFO] console - Executing (9e92663e-ac2a-4c66-ab85-b002ab404699): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:41:12.344] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 4);
[2016-09-10 15:41:12.348] [ INFO] console - Executing (9e92663e-ac2a-4c66-ab85-b002ab404699): COMMIT;
[2016-09-10 15:41:12.350] [ INFO] console - [ 70,
  725,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/4/',
      starshina: [Object],
      id: '4',
      email: 'unittest4@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '4',
      voiskoSize: 0,
      birth: 1983,
      path: '/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: null,
      attachments: [] } ] ]
[2016-09-10 15:41:12.360] [ INFO] console - Executing (f580aa14-d399-413b-b39c-acbbfd4ffb4a): START TRANSACTION;
[2016-09-10 15:41:12.361] [ INFO] console - Executing (f580aa14-d399-413b-b39c-acbbfd4ffb4a): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:41:12.365] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 137);
[2016-09-10 15:41:12.372] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 4);
[2016-09-10 15:41:12.375] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/' like k.path||k.id||'/%'
[2016-09-10 15:41:12.380] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 15:41:12.383] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"-2
                                where
                                    '/2/' like path||id||'/%'
[2016-09-10 15:41:12.390] [ INFO] console - Executing (default): UPDATE "Kopnik" SET "path"='/4/',"starshina_id"='4',"updated_at"='2016-09-10 10:41:12.385 +00:00' WHERE "id" = '137'
[2016-09-10 15:41:12.393] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"+2
                                where
                                    '/4/' like path||id||'/%'
[2016-09-10 15:41:12.399] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."starshina_id" = '137');
[2016-09-10 15:41:12.409] [ INFO] console - Executing (default): UPDATE "Kopnik" SET "path"='/4/137/',"updated_at"='2016-09-10 10:41:12.402 +00:00' WHERE "id" = '138'
[2016-09-10 15:41:12.415] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/4/' like k.path||k.id||'/%'
[2016-09-10 15:41:12.423] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('4')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 15:41:12.426] [ INFO] console - Executing (f580aa14-d399-413b-b39c-acbbfd4ffb4a): COMMIT;
[2016-09-10 15:41:12.427] [ INFO] console - [ 70, 726, {}, [ undefined ] ]
[2016-09-10 15:41:12.431] [ INFO] console - [ 16,
  5657283470032896,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id2.voiskoChange',
  [],
  { voiskoSize: 1 } ]
[2016-09-10 15:41:12.434] [ INFO] console - [ 16,
  3357625230032896,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id4.voiskoChange',
  [],
  { voiskoSize: 2 } ]
[2016-09-10 15:41:12.463] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopa', id: 3 }
[2016-09-10 15:41:12.465] [ INFO] console - Executing (50954560-89eb-44d1-8297-693feb4d024d): START TRANSACTION;
[2016-09-10 15:41:12.467] [ INFO] console - Executing (50954560-89eb-44d1-8297-693feb4d024d): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:41:12.473] [ INFO] console - Executing (default): SELECT "Kopa"."id", "Kopa"."question", "Kopa"."planned", "Kopa"."started", "Kopa"."closed", "Kopa"."isOpen", "Kopa"."note", "Kopa"."created_at", "Kopa"."updated_at", "Kopa"."deleted_at", "Kopa"."place_id", "Kopa"."inviter_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopa" AS "Kopa" LEFT OUTER JOIN "File" AS "attachments" ON "Kopa"."id" = "attachments"."kopa_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopa"."deleted_at" IS NULL AND "Kopa"."id" = 3);
[2016-09-10 15:41:12.478] [ INFO] console - Executing (50954560-89eb-44d1-8297-693feb4d024d): COMMIT;
[2016-09-10 15:41:12.480] [ INFO] console - [ 70,
  728,
  {},
  [ { id: '3',
      question: 'CHE',
      planned: Thu Sep 01 2016 00:00:00 GMT+0500 (YEKT),
      started: Thu Sep 01 2016 00:00:00 GMT+0500 (YEKT),
      closed: null,
      isOpen: false,
      note: null,
      created_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      deleted_at: null,
      place_id: '2',
      inviter_id: '2',
      attachments: [] } ] ]
[2016-09-10 15:41:12.490] [ INFO] console - Executing (ade62698-5a4b-4617-a254-0460d5a4f179): START TRANSACTION;
[2016-09-10 15:41:12.492] [ INFO] console - Executing (ade62698-5a4b-4617-a254-0460d5a4f179): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:41:12.497] [ INFO] console - Executing (default): INSERT INTO "Predlozhenie" ("id","value","created_at","updated_at","initiator_id","place_id") VALUES (DEFAULT,'some Predlozhenie temp 1473504071025','2016-09-10 10:41:12.493 +00:00','2016-09-10 10:41:12.493 +00:00',2,3) RETURNING *;
[2016-09-10 15:41:12.502] [ INFO] console - Executing (ade62698-5a4b-4617-a254-0460d5a4f179): COMMIT;
[2016-09-10 15:41:12.503] [ INFO] console - [ 70, 729, {}, [ '27' ] ]
[2016-09-10 15:41:12.506] [ INFO] console - [ 16,
  2979211983716352,
  { acknowledge: true },
  'ru.kopa.model.Kopa.id3.predlozhenieAdd',
  [ '27' ] ]
[2016-09-10 15:41:12.522] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Predlozhenie', id: 1 }
[2016-09-10 15:41:12.524] [ INFO] console - Executing (7425af00-dab3-42b7-9004-666091f0f4c5): START TRANSACTION;
[2016-09-10 15:41:12.525] [ INFO] console - Executing (7425af00-dab3-42b7-9004-666091f0f4c5): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:41:12.530] [ INFO] console - Executing (default): SELECT "Predlozhenie"."id", "Predlozhenie"."value", "Predlozhenie"."note", "Predlozhenie"."created_at", "Predlozhenie"."updated_at", "Predlozhenie"."deleted_at", "Predlozhenie"."initiator_id", "Predlozhenie"."place_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Predlozhenie" AS "Predlozhenie" LEFT OUTER JOIN "File" AS "attachments" ON "Predlozhenie"."id" = "attachments"."predlozhenie_id" AND "attachments"."deleted_at" IS NULL WHERE ("Predlozhenie"."deleted_at" IS NULL AND "Predlozhenie"."id" = 1);
[2016-09-10 15:41:12.534] [ INFO] console - Executing (7425af00-dab3-42b7-9004-666091f0f4c5): COMMIT;
[2016-09-10 15:41:12.535] [ INFO] console - [ 70,
  730,
  {},
  [ { id: '1',
      value: 'Будет ...',
      note: null,
      created_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      deleted_at: null,
      initiator_id: '2',
      place_id: '3',
      attachments: [] } ] ]
[2016-09-10 15:41:12.545] [ INFO] console - Executing (91dce842-49b1-4831-a523-b4d95f95c046): START TRANSACTION;
[2016-09-10 15:41:12.546] [ INFO] console - Executing (91dce842-49b1-4831-a523-b4d95f95c046): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:41:12.551] [ INFO] console - Executing (default): INSERT INTO "Golos" ("id","value","created_at","updated_at","for_id","owner_id") VALUES (DEFAULT,1,'2016-09-10 10:41:12.548 +00:00','2016-09-10 10:41:12.548 +00:00',1,2) RETURNING *;
[2016-09-10 15:41:12.555] [ INFO] console - Executing (91dce842-49b1-4831-a523-b4d95f95c046): COMMIT;
[2016-09-10 15:41:12.556] [ INFO] console - [ 70, 731, {}, [ '27' ] ]
[2016-09-10 15:41:12.561] [ INFO] console - [ 16,
  4462238538661888,
  { acknowledge: true },
  'ru.kopa.model.Predlozhenie.id1.golosAdd',
  [ '27' ] ]
[2016-09-10 15:41:12.601] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 2 }
[2016-09-10 15:41:12.604] [ INFO] console - Executing (fcbbcbb2-bd3e-4a5f-8cdb-0b414d510de3): START TRANSACTION;
[2016-09-10 15:41:12.606] [ INFO] console - Executing (fcbbcbb2-bd3e-4a5f-8cdb-0b414d510de3): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:41:12.611] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 2);
[2016-09-10 15:41:12.616] [ INFO] console - Executing (fcbbcbb2-bd3e-4a5f-8cdb-0b414d510de3): COMMIT;
[2016-09-10 15:41:12.618] [ INFO] console - [ 70,
  733,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/2/',
      starshina: [Object],
      id: '2',
      email: 'unittest2@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '1',
      voiskoSize: 1,
      birth: 1983,
      path: '/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: null,
      attachments: [] } ] ]
[2016-09-10 15:41:12.629] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 3 }
[2016-09-10 15:41:12.634] [ INFO] console - Executing (09dcfba6-ddd8-47ca-8601-7d310ef61e74): START TRANSACTION;
[2016-09-10 15:41:12.638] [ INFO] console - Executing (09dcfba6-ddd8-47ca-8601-7d310ef61e74): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:41:12.646] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 3);
[2016-09-10 15:41:12.651] [ INFO] console - Executing (09dcfba6-ddd8-47ca-8601-7d310ef61e74): COMMIT;
[2016-09-10 15:41:12.653] [ INFO] console - [ 70,
  734,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/2/3/',
      starshina: [Object],
      id: '3',
      email: 'unittest3@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '3',
      voiskoSize: 0,
      birth: 1983,
      path: '/2/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: '2',
      attachments: [] } ] ]
[2016-09-10 15:41:12.667] [ INFO] console - Executing (0edcfa2c-c563-4ac6-a601-09888d631c71): START TRANSACTION;
[2016-09-10 15:41:12.669] [ INFO] console - Executing (0edcfa2c-c563-4ac6-a601-09888d631c71): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:41:12.678] [ INFO] console - Executing (default): INSERT INTO "Slovo" ("id","value","note","created_at","updated_at","owner_id","place_id") VALUES (DEFAULT,'123 temp','456','2016-09-10 10:41:12.671 +00:00','2016-09-10 10:41:12.671 +00:00',2,3) RETURNING *;
[2016-09-10 15:41:12.683] [ INFO] console - Executing (0edcfa2c-c563-4ac6-a601-09888d631c71): COMMIT;
[2016-09-10 15:41:12.685] [ INFO] console - [ 70, 735, {}, [ '51' ] ]
[2016-09-10 15:41:12.688] [ INFO] console - [ 16,
  5388276743536640,
  { acknowledge: true },
  'ru.kopa.model.Kopa.id3.slovoAdd',
  [ '51' ] ]
[2016-09-10 15:41:12.692] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Slovo', id: 51 }
[2016-09-10 15:41:12.697] [ INFO] console - Executing (7b5928fe-cda5-450f-8cfb-cd2f1feb2294): START TRANSACTION;
[2016-09-10 15:41:12.699] [ INFO] console - Executing (7b5928fe-cda5-450f-8cfb-cd2f1feb2294): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:41:12.721] [ INFO] console - Executing (default): SELECT "Slovo"."id", "Slovo"."value", "Slovo"."note", "Slovo"."created_at", "Slovo"."updated_at", "Slovo"."deleted_at", "Slovo"."owner_id", "Slovo"."place_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Slovo" AS "Slovo" LEFT OUTER JOIN "File" AS "attachments" ON "Slovo"."id" = "attachments"."slovo_id" AND "attachments"."deleted_at" IS NULL WHERE ("Slovo"."deleted_at" IS NULL AND "Slovo"."id" = 51);
[2016-09-10 15:41:12.726] [ INFO] console - Executing (7b5928fe-cda5-450f-8cfb-cd2f1feb2294): COMMIT;
[2016-09-10 15:41:12.727] [ INFO] console - [ 70,
  736,
  {},
  [ { id: '51',
      value: '123 temp',
      note: '456',
      created_at: Sat Sep 10 2016 15:41:12 GMT+0500 (YEKT),
      updated_at: Sat Sep 10 2016 15:41:12 GMT+0500 (YEKT),
      deleted_at: null,
      owner_id: '2',
      place_id: '3',
      attachments: [] } ] ]
[2016-09-10 15:41:12.739] [ INFO] console - Executing (0ffed960-32df-4f85-a21c-4524842679e8): START TRANSACTION;
[2016-09-10 15:41:12.740] [ INFO] console - Executing (0ffed960-32df-4f85-a21c-4524842679e8): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:41:12.746] [ INFO] console - Executing (default): INSERT INTO "Slovo" ("id","value","created_at","updated_at","owner_id","place_id") VALUES (DEFAULT,'some value temp 1473504072734','2016-09-10 10:41:12.742 +00:00','2016-09-10 10:41:12.742 +00:00',2,3) RETURNING *;
[2016-09-10 15:41:12.750] [ INFO] console - Executing (0ffed960-32df-4f85-a21c-4524842679e8): COMMIT;
[2016-09-10 15:41:12.752] [ INFO] console - [ 70, 737, {}, [ '52' ] ]
[2016-09-10 15:41:12.754] [ INFO] console - [ 16,
  4390013496197120,
  { acknowledge: true },
  'ru.kopa.model.Kopa.id3.slovoAdd',
  [ '52' ] ]
[2016-09-10 15:41:12.759] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Zemla', id: 2 }
[2016-09-10 15:41:12.762] [ INFO] console - Executing (a29de90b-30a6-42a8-a9a7-ce98fde8fb3b): START TRANSACTION;
[2016-09-10 15:41:12.763] [ INFO] console - Executing (a29de90b-30a6-42a8-a9a7-ce98fde8fb3b): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:41:12.768] [ INFO] console - Executing (default): SELECT "Zemla"."id", "Zemla"."path", "Zemla"."name", "Zemla"."intensity", "Zemla"."note", "Zemla"."created_at", "Zemla"."updated_at", "Zemla"."deleted_at", "Zemla"."parent_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Zemla" AS "Zemla" LEFT OUTER JOIN "File" AS "attachments" ON "Zemla"."id" = "attachments"."zemla_id" AND "attachments"."deleted_at" IS NULL WHERE ("Zemla"."deleted_at" IS NULL AND "Zemla"."id" = 2);
[2016-09-10 15:41:12.774] [ INFO] console - Executing (a29de90b-30a6-42a8-a9a7-ce98fde8fb3b): COMMIT;
[2016-09-10 15:41:12.776] [ INFO] console - [ 70,
  738,
  {},
  [ { fullPath: 'null2/',
      id: '2',
      path: null,
      name: 'UnitTest2',
      intensity: 1000,
      note: 'unit test 1473504066111',
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Sat Sep 10 2016 15:41:07 GMT+0500 (YEKT),
      deleted_at: null,
      parent_id: '1',
      attachments: [] } ] ]
[2016-09-10 15:41:12.788] [ INFO] console - Executing (c114d47b-0719-4502-aa11-fba81ee74ace): START TRANSACTION;
[2016-09-10 15:41:12.790] [ INFO] console - Executing (c114d47b-0719-4502-aa11-fba81ee74ace): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:41:12.794] [ INFO] console - Executing (default): SELECT "id", "path", "name", "intensity", "note", "created_at", "updated_at", "deleted_at", "parent_id" FROM "Zemla" AS "Zemla" WHERE ("Zemla"."deleted_at" IS NULL AND "Zemla"."id" = 2);
[2016-09-10 15:41:12.803] [ INFO] console - Executing (default): UPDATE "Zemla" SET "parent_id"=1,"note"='unit test 1473504071030',"updated_at"='2016-09-10 10:41:12.797 +00:00' WHERE "id" = '2'
[2016-09-10 15:41:12.808] [ INFO] console - Executing (c114d47b-0719-4502-aa11-fba81ee74ace): COMMIT;
[2016-09-10 15:41:12.809] [ INFO] console - [ 16,
  5292403590168576,
  { acknowledge: true },
  'ru.kopa.model.Zemla.id2.change' ]
[2016-09-10 15:41:12.813] [ INFO] console - [ 70, 739, {}, [ undefined ] ]
[2016-09-10 15:41:12.815] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Zemla', id: 2 }
[2016-09-10 15:41:12.818] [ INFO] console - Executing (a4f02a26-44ab-49b7-b59b-2a3b827c8407): START TRANSACTION;
[2016-09-10 15:41:12.819] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Zemla', id: 2 }
[2016-09-10 15:41:12.822] [ INFO] console - Executing (0295f4f7-7a27-4dcf-bf7e-d1bb1eeff0c5): START TRANSACTION;
[2016-09-10 15:41:12.822] [ INFO] console - Executing (a4f02a26-44ab-49b7-b59b-2a3b827c8407): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:41:12.824] [ INFO] console - Executing (0295f4f7-7a27-4dcf-bf7e-d1bb1eeff0c5): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:41:12.830] [ INFO] console - Executing (default): SELECT "Zemla"."id", "Zemla"."path", "Zemla"."name", "Zemla"."intensity", "Zemla"."note", "Zemla"."created_at", "Zemla"."updated_at", "Zemla"."deleted_at", "Zemla"."parent_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Zemla" AS "Zemla" LEFT OUTER JOIN "File" AS "attachments" ON "Zemla"."id" = "attachments"."zemla_id" AND "attachments"."deleted_at" IS NULL WHERE ("Zemla"."deleted_at" IS NULL AND "Zemla"."id" = 2);
[2016-09-10 15:41:12.839] [ INFO] console - Executing (default): SELECT "Zemla"."id", "Zemla"."path", "Zemla"."name", "Zemla"."intensity", "Zemla"."note", "Zemla"."created_at", "Zemla"."updated_at", "Zemla"."deleted_at", "Zemla"."parent_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Zemla" AS "Zemla" LEFT OUTER JOIN "File" AS "attachments" ON "Zemla"."id" = "attachments"."zemla_id" AND "attachments"."deleted_at" IS NULL WHERE ("Zemla"."deleted_at" IS NULL AND "Zemla"."id" = 2);
[2016-09-10 15:41:12.842] [ INFO] console - Executing (a4f02a26-44ab-49b7-b59b-2a3b827c8407): COMMIT;
[2016-09-10 15:41:12.844] [ INFO] console - Executing (0295f4f7-7a27-4dcf-bf7e-d1bb1eeff0c5): COMMIT;
[2016-09-10 15:41:12.845] [ INFO] console - [ 70,
  740,
  {},
  [ { fullPath: 'null2/',
      id: '2',
      path: null,
      name: 'UnitTest2',
      intensity: 1000,
      note: 'unit test 1473504071030',
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Sat Sep 10 2016 15:41:12 GMT+0500 (YEKT),
      deleted_at: null,
      parent_id: '1',
      attachments: [] } ] ]
[2016-09-10 15:41:12.848] [ INFO] console - [ 70,
  741,
  {},
  [ { fullPath: 'null2/',
      id: '2',
      path: null,
      name: 'UnitTest2',
      intensity: 1000,
      note: 'unit test 1473504071030',
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Sat Sep 10 2016 15:41:12 GMT+0500 (YEKT),
      deleted_at: null,
      parent_id: '1',
      attachments: [] } ] ]
[2016-09-10 15:41:12.878] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopa', id: 3 }
[2016-09-10 15:41:12.882] [ INFO] console - Executing (23f0c533-3773-46dc-8b40-48910913a32f): START TRANSACTION;
[2016-09-10 15:41:12.886] [ INFO] console - Executing (23f0c533-3773-46dc-8b40-48910913a32f): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:41:12.892] [ INFO] console - Executing (default): SELECT "Kopa"."id", "Kopa"."question", "Kopa"."planned", "Kopa"."started", "Kopa"."closed", "Kopa"."isOpen", "Kopa"."note", "Kopa"."created_at", "Kopa"."updated_at", "Kopa"."deleted_at", "Kopa"."place_id", "Kopa"."inviter_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopa" AS "Kopa" LEFT OUTER JOIN "File" AS "attachments" ON "Kopa"."id" = "attachments"."kopa_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopa"."deleted_at" IS NULL AND "Kopa"."id" = 3);
[2016-09-10 15:41:12.899] [ INFO] console - Executing (23f0c533-3773-46dc-8b40-48910913a32f): COMMIT;
[2016-09-10 15:41:12.901] [ INFO] console - [ 70,
  743,
  {},
  [ { id: '3',
      question: 'CHE',
      planned: Thu Sep 01 2016 00:00:00 GMT+0500 (YEKT),
      started: Thu Sep 01 2016 00:00:00 GMT+0500 (YEKT),
      closed: null,
      isOpen: false,
      note: null,
      created_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      deleted_at: null,
      place_id: '2',
      inviter_id: '2',
      attachments: [] } ] ]
[2016-09-10 15:41:12.921] [ INFO] console - Executing (d7524d11-43bf-459f-aed1-05bb8e738162): START TRANSACTION;
[2016-09-10 15:41:12.923] [ INFO] console - Executing (d7524d11-43bf-459f-aed1-05bb8e738162): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:41:12.930] [ INFO] console - Executing (default): INSERT INTO "Slovo" ("id","value","created_at","updated_at","owner_id","place_id") VALUES (DEFAULT,'some Slovo temp','2016-09-10 10:41:12.926 +00:00','2016-09-10 10:41:12.926 +00:00',2,3) RETURNING *;
[2016-09-10 15:41:12.933] [ INFO] console - Executing (d7524d11-43bf-459f-aed1-05bb8e738162): COMMIT;
[2016-09-10 15:41:12.934] [ INFO] console - [ 70, 744, {}, [ '53' ] ]
[2016-09-10 15:41:12.937] [ INFO] console - [ 16,
  2382339915120640,
  { acknowledge: true },
  'ru.kopa.model.Kopa.id3.slovoAdd',
  [ '53' ] ]
[2016-09-10 15:41:16.342] [ INFO] console - [ 70, 746, {}, [ 'unittest2@domain.ru' ] ]
[2016-09-10 15:41:16.348] [DEBUG] Server - #pingPong() [ 1, 2, 3 ] { x: 1, y: 2, z: 3 }
[2016-09-10 15:41:16.351] [ INFO] console - [ 70, 747, {}, [ 1, 2, 3 ], { x: 1, y: 2, z: 3 } ]
[2016-09-10 15:41:16.364] [ INFO] console - Executing (default): select 'КОПА' as result
[2016-09-10 15:41:16.365] [ INFO] console - [ 70, 748, {}, [ 'КОПА' ] ]
[2016-09-10 15:41:16.373] [DEBUG] Server - #error() [ 'sadkljfaskldjfs;af' ] {}
[2016-09-10 15:41:16.379] [ERROR] Server - [Error: sadkljfaskldjfs;af]
Error: sadkljfaskldjfs;af
    at MySuperError (Server.js:339:9)
    at fn.constructor.error.Error (Server.js:344:19)
    at new wrappedPromise (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/async-listener/index.js:372:16)
    at Server.error (Server.js:343:16)
    at Object.<anonymous> (Server.js:415:43)
    at [object Generator].next (native)
    at step (/home/alexey2baranov/htdocs/kp-sequelizejs/src/Server.js:1:253)
    at /home/alexey2baranov/htdocs/kp-sequelizejs/src/Server.js:1:513
    at new wrappedPromise (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/async-listener/index.js:372:16)
    at Object.<anonymous> (/home/alexey2baranov/htdocs/kp-sequelizejs/src/Server.js:1:161)
    at Object.<anonymous> (Server.js:412:28)
    at tryCatchResolve (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/apply.js:46:23)
    at callAndResolve (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/apply.js:30:12)
    at callAndResolveNext (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/apply.js:40:4)
    at tryCatchReject3 (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/makePromise.js:856:7)
    at runContinuation3 (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/makePromise.js:814:4)
[2016-09-10 15:41:16.382] [ INFO] console - [ 8,
  68,
  749,
  {},
  'MySuperError',
  [ 'sadkljfaskldjfs;af' ],
  { stack: 
     [ 'Error: sadkljfaskldjfs;af',
       '    at MySuperError (Server.js:339:9)',
       '    at fn.constructor.error.Error (Server.js:344:19)',
       '    at new wrappedPromise (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/async-listener/index.js:372:16)',
       '    at Server.error (Server.js:343:16)',
       '    at Object.<anonymous> (Server.js:415:43)',
       '    at [object Generator].next (native)',
       '    at step (/home/alexey2baranov/htdocs/kp-sequelizejs/src/Server.js:1:253)',
       '    at /home/alexey2baranov/htdocs/kp-sequelizejs/src/Server.js:1:513',
       '    at new wrappedPromise (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/async-listener/index.js:372:16)',
       '    at Object.<anonymous> (/home/alexey2baranov/htdocs/kp-sequelizejs/src/Server.js:1:161)',
       '    at Object.<anonymous> (Server.js:412:28)',
       '    at tryCatchResolve (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/apply.js:46:23)',
       '    at callAndResolve (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/apply.js:30:12)',
       '    at callAndResolveNext (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/apply.js:40:4)',
       '    at tryCatchReject3 (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/makePromise.js:856:7)',
       '    at runContinuation3 (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/makePromise.js:814:4)' ] } ]
[2016-09-10 15:41:16.393] [ INFO] console - [ 70, 750, {}, [ undefined ] ]
[2016-09-10 15:41:16.397] [ INFO] console - Executing (default): delete from "Slovo"
                where
                    place_id<5
                    and value like '%temp'
[2016-09-10 15:41:16.402] [ INFO] console - Executing (default): delete from "Kopnik"
                where
                    name like '%temp'
[2016-09-10 15:41:16.406] [ INFO] console - Executing (default): update "Kopnik"
                set 
                    "voiskoSize"= case when id=2 then 1 ELSE 0 END
                where
                    id>1 
                    and id<=5
[2016-09-10 15:41:16.444] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopa', id: 3 }
[2016-09-10 15:41:16.448] [ INFO] console - Executing (7890159a-d8ce-4d92-8b92-d9b008cf717d): START TRANSACTION;
[2016-09-10 15:41:16.449] [ INFO] console - Executing (7890159a-d8ce-4d92-8b92-d9b008cf717d): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:41:16.456] [ INFO] console - Executing (default): SELECT "Kopa"."id", "Kopa"."question", "Kopa"."planned", "Kopa"."started", "Kopa"."closed", "Kopa"."isOpen", "Kopa"."note", "Kopa"."created_at", "Kopa"."updated_at", "Kopa"."deleted_at", "Kopa"."place_id", "Kopa"."inviter_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopa" AS "Kopa" LEFT OUTER JOIN "File" AS "attachments" ON "Kopa"."id" = "attachments"."kopa_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopa"."deleted_at" IS NULL AND "Kopa"."id" = 3);
[2016-09-10 15:41:16.460] [ INFO] console - Executing (7890159a-d8ce-4d92-8b92-d9b008cf717d): COMMIT;
[2016-09-10 15:41:16.462] [ INFO] console - [ 70,
  752,
  {},
  [ { id: '3',
      question: 'CHE',
      planned: Thu Sep 01 2016 00:00:00 GMT+0500 (YEKT),
      started: Thu Sep 01 2016 00:00:00 GMT+0500 (YEKT),
      closed: null,
      isOpen: false,
      note: null,
      created_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      deleted_at: null,
      place_id: '2',
      inviter_id: '2',
      attachments: [] } ] ]
[2016-09-10 15:41:16.477] [ INFO] console - Executing (97d913ee-bde2-4bf7-af15-3f3e6124b295): START TRANSACTION;
[2016-09-10 15:41:16.480] [ INFO] console - Executing (97d913ee-bde2-4bf7-af15-3f3e6124b295): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:41:16.486] [ INFO] console - Executing (default): INSERT INTO "Golos" ("id","value","created_at","updated_at","for_id","owner_id") VALUES (DEFAULT,1,'2016-09-10 10:41:16.482 +00:00','2016-09-10 10:41:16.482 +00:00',1,2) RETURNING *;
[2016-09-10 15:41:16.488] [ INFO] console - Executing (97d913ee-bde2-4bf7-af15-3f3e6124b295): COMMIT;
[2016-09-10 15:41:16.490] [ INFO] console - [ 70, 753, {}, [ '28' ] ]
[2016-09-10 15:41:16.493] [ INFO] console - [ 16,
  6409154098888704,
  { acknowledge: true },
  'ru.kopa.model.Predlozhenie.id1.golosAdd',
  [ '28' ] ]
[2016-09-10 15:41:16.526] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopa', id: 3 }
[2016-09-10 15:41:16.529] [ INFO] console - Executing (b5437c05-3f22-4f6f-9293-2f51934858dc): START TRANSACTION;
[2016-09-10 15:41:16.530] [ INFO] console - Executing (b5437c05-3f22-4f6f-9293-2f51934858dc): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:41:16.537] [ INFO] console - Executing (default): SELECT "Kopa"."id", "Kopa"."question", "Kopa"."planned", "Kopa"."started", "Kopa"."closed", "Kopa"."isOpen", "Kopa"."note", "Kopa"."created_at", "Kopa"."updated_at", "Kopa"."deleted_at", "Kopa"."place_id", "Kopa"."inviter_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopa" AS "Kopa" LEFT OUTER JOIN "File" AS "attachments" ON "Kopa"."id" = "attachments"."kopa_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopa"."deleted_at" IS NULL AND "Kopa"."id" = 3);
[2016-09-10 15:41:16.545] [ INFO] console - Executing (b5437c05-3f22-4f6f-9293-2f51934858dc): COMMIT;
[2016-09-10 15:41:16.547] [ INFO] console - [ 70,
  755,
  {},
  [ { id: '3',
      question: 'CHE',
      planned: Thu Sep 01 2016 00:00:00 GMT+0500 (YEKT),
      started: Thu Sep 01 2016 00:00:00 GMT+0500 (YEKT),
      closed: null,
      isOpen: false,
      note: null,
      created_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      deleted_at: null,
      place_id: '2',
      inviter_id: '2',
      attachments: [] } ] ]
[2016-09-10 15:41:16.560] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 2 }
[2016-09-10 15:41:16.564] [ INFO] console - Executing (173c780c-0056-4d5f-af2c-0b2c42ebfaf2): START TRANSACTION;
[2016-09-10 15:41:16.566] [ INFO] console - Executing (173c780c-0056-4d5f-af2c-0b2c42ebfaf2): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:41:16.572] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 2);
[2016-09-10 15:41:16.577] [ INFO] console - Executing (173c780c-0056-4d5f-af2c-0b2c42ebfaf2): COMMIT;
[2016-09-10 15:41:16.579] [ INFO] console - [ 70,
  756,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/2/',
      starshina: [Object],
      id: '2',
      email: 'unittest2@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '1',
      voiskoSize: 1,
      birth: 1983,
      path: '/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: null,
      attachments: [] } ] ]
[2016-09-10 15:41:16.602] [ INFO] console - Executing (b446fcbc-9210-4d7b-83d5-f95db6491c7f): START TRANSACTION;
[2016-09-10 15:41:16.604] [ INFO] console - Executing (b446fcbc-9210-4d7b-83d5-f95db6491c7f): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:41:16.608] [ INFO] console - Executing (default): INSERT INTO "Slovo" ("id","value","created_at","updated_at","owner_id","place_id") VALUES (DEFAULT,'some Slovo temp 1473504076599','2016-09-10 10:41:16.605 +00:00','2016-09-10 10:41:16.605 +00:00',2,3) RETURNING *;
[2016-09-10 15:41:16.611] [ INFO] console - Executing (b446fcbc-9210-4d7b-83d5-f95db6491c7f): COMMIT;
[2016-09-10 15:41:16.613] [ INFO] console - [ 70, 757, {}, [ '54' ] ]
[2016-09-10 15:41:16.614] [ INFO] console - [ 16,
  7321626859274240,
  { acknowledge: true },
  'ru.kopa.model.Kopa.id3.slovoAdd',
  [ '54' ] ]
[2016-09-10 15:41:16.625] [ INFO] console - Executing (18431ad0-baeb-4a65-93ec-6e1cf09fd183): START TRANSACTION;
[2016-09-10 15:41:16.626] [ INFO] console - Executing (18431ad0-baeb-4a65-93ec-6e1cf09fd183): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:41:16.632] [ INFO] console - Executing (default): INSERT INTO "Predlozhenie" ("id","value","created_at","updated_at","initiator_id","place_id") VALUES (DEFAULT,'some Predlozhenie temp 1473504076622','2016-09-10 10:41:16.629 +00:00','2016-09-10 10:41:16.629 +00:00',2,3) RETURNING *;
[2016-09-10 15:41:16.635] [ INFO] console - Executing (18431ad0-baeb-4a65-93ec-6e1cf09fd183): COMMIT;
[2016-09-10 15:41:16.638] [ INFO] console - [ 70, 758, {}, [ '28' ] ]
[2016-09-10 15:41:16.641] [ INFO] console - [ 16,
  4599096226611200,
  { acknowledge: true },
  'ru.kopa.model.Kopa.id3.predlozhenieAdd',
  [ '28' ] ]
[2016-09-10 15:41:16.679] [ INFO] console - [ 70, 760, {}, [ undefined ] ]
[2016-09-10 15:41:16.683] [ INFO] console - Executing (default): delete from "Kopnik"
                where
                    name like '%temp'
[2016-09-10 15:41:16.687] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 2 }
[2016-09-10 15:41:16.690] [ INFO] console - Executing (default): update "Kopnik"
                set 
                    "voiskoSize"= case when id=2 then 1 ELSE 0 END
                where
                    id>1 
                    and id<=5
[2016-09-10 15:41:16.691] [ INFO] console - Executing (8df711b3-47ba-447f-a10c-9973cf85f580): START TRANSACTION;
[2016-09-10 15:41:16.693] [ INFO] console - Executing (8df711b3-47ba-447f-a10c-9973cf85f580): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:41:16.701] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 2);
[2016-09-10 15:41:16.706] [ INFO] console - Executing (8df711b3-47ba-447f-a10c-9973cf85f580): COMMIT;
[2016-09-10 15:41:16.707] [ INFO] console - [ 70,
  761,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/2/',
      starshina: [Object],
      id: '2',
      email: 'unittest2@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '1',
      voiskoSize: 1,
      birth: 1983,
      path: '/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: null,
      attachments: [] } ] ]
[2016-09-10 15:41:16.723] [ INFO] console - Executing (bb35867f-c54c-4fb7-afb3-e78286bf6236): START TRANSACTION;
[2016-09-10 15:41:16.724] [ INFO] console - Executing (bb35867f-c54c-4fb7-afb3-e78286bf6236): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:41:16.731] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 2);
[2016-09-10 15:41:16.733] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"+1
                                where
                                    '/2/' like path||id||'/%'
[2016-09-10 15:41:16.739] [ INFO] console - Executing (default): INSERT INTO "Kopnik" ("id","name","surname","patronymic","voiskoSize","birth","path","created_at","updated_at","rodina_id","starshina_id") VALUES (DEFAULT,'temp','temp','temp',0,1900,'/2/','2016-09-10 10:41:16.726 +00:00','2016-09-10 10:41:16.726 +00:00',NULL,2) RETURNING *;
[2016-09-10 15:41:16.742] [ INFO] console - Executing (bb35867f-c54c-4fb7-afb3-e78286bf6236): COMMIT;
[2016-09-10 15:41:16.743] [ INFO] console - [ 70, 762, {}, [ '139' ] ]
[2016-09-10 15:41:16.746] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/' like k.path||k.id||'/%'
[2016-09-10 15:41:16.751] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 15:41:16.752] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Zemla', id: 2 }
[2016-09-10 15:41:16.763] [ INFO] console - Executing (8035cf8d-ce43-48e0-a084-fa6099e14fb1): START TRANSACTION;
[2016-09-10 15:41:16.763] [ INFO] console - Executing (703f567a-f87e-40f3-ae80-b705b88b1eb2): START TRANSACTION;
[2016-09-10 15:41:16.764] [ INFO] console - [ 16,
  5479853128155136,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id2.voiskoChange',
  [],
  { voiskoSize: 2 } ]
[2016-09-10 15:41:16.773] [ INFO] console - Executing (8035cf8d-ce43-48e0-a084-fa6099e14fb1): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:41:16.774] [ INFO] console - Executing (703f567a-f87e-40f3-ae80-b705b88b1eb2): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:41:16.783] [ INFO] console - Executing (default): SELECT "Zemla"."id", "Zemla"."path", "Zemla"."name", "Zemla"."intensity", "Zemla"."note", "Zemla"."created_at", "Zemla"."updated_at", "Zemla"."deleted_at", "Zemla"."parent_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Zemla" AS "Zemla" LEFT OUTER JOIN "File" AS "attachments" ON "Zemla"."id" = "attachments"."zemla_id" AND "attachments"."deleted_at" IS NULL WHERE ("Zemla"."deleted_at" IS NULL AND "Zemla"."id" = 2);
[2016-09-10 15:41:16.787] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 139);
[2016-09-10 15:41:16.796] [ INFO] console - Executing (8035cf8d-ce43-48e0-a084-fa6099e14fb1): COMMIT;
[2016-09-10 15:41:16.800] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"+1
                                where
                                    '/2/139/' like path||id||'/%'
[2016-09-10 15:41:16.802] [ INFO] console - [ 70,
  763,
  {},
  [ { fullPath: 'null2/',
      id: '2',
      path: null,
      name: 'UnitTest2',
      intensity: 1000,
      note: 'unit test 1473504071030',
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Sat Sep 10 2016 15:41:12 GMT+0500 (YEKT),
      deleted_at: null,
      parent_id: '1',
      attachments: [] } ] ]
[2016-09-10 15:41:16.828] [ INFO] console - Executing (default): INSERT INTO "Kopnik" ("id","name","surname","patronymic","voiskoSize","birth","path","created_at","updated_at","rodina_id","starshina_id") VALUES (DEFAULT,'temp','temp','temp',0,1900,'/2/139/','2016-09-10 10:41:16.777 +00:00','2016-09-10 10:41:16.777 +00:00',NULL,139) RETURNING *;
[2016-09-10 15:41:16.838] [ INFO] console - Executing (703f567a-f87e-40f3-ae80-b705b88b1eb2): COMMIT;
[2016-09-10 15:41:16.839] [ INFO] console - [ 70, 764, {}, [ '140' ] ]
[2016-09-10 15:41:16.843] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/139/' like k.path||k.id||'/%'
[2016-09-10 15:41:16.853] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2', '139')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 15:41:16.857] [ INFO] console - [ 16,
  1396075749441536,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id139.voiskoChange',
  [],
  { voiskoSize: 1 } ]
[2016-09-10 15:41:16.864] [ INFO] console - [ 16,
  4444441819480064,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id2.voiskoChange',
  [],
  { voiskoSize: 3 } ]
[2016-09-10 15:41:16.871] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 4 }
[2016-09-10 15:41:16.873] [ INFO] console - Executing (1c731d59-854a-418f-946d-a1431bc4c323): START TRANSACTION;
[2016-09-10 15:41:16.880] [ INFO] console - Executing (1c731d59-854a-418f-946d-a1431bc4c323): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:41:16.894] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 4);
[2016-09-10 15:41:16.900] [ INFO] console - Executing (1c731d59-854a-418f-946d-a1431bc4c323): COMMIT;
[2016-09-10 15:41:16.901] [ INFO] console - [ 70,
  765,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/4/',
      starshina: [Object],
      id: '4',
      email: 'unittest4@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '4',
      voiskoSize: 0,
      birth: 1983,
      path: '/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: null,
      attachments: [] } ] ]
[2016-09-10 15:41:16.918] [ INFO] console - Executing (828dae47-868b-4998-87bf-e4b1dbe0a019): START TRANSACTION;
[2016-09-10 15:41:16.920] [ INFO] console - Executing (828dae47-868b-4998-87bf-e4b1dbe0a019): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:41:16.927] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 139);
[2016-09-10 15:41:16.941] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 4);
[2016-09-10 15:41:16.945] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/' like k.path||k.id||'/%'
[2016-09-10 15:41:16.950] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 15:41:16.954] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"-2
                                where
                                    '/2/' like path||id||'/%'
[2016-09-10 15:41:16.963] [ INFO] console - Executing (default): UPDATE "Kopnik" SET "path"='/4/',"starshina_id"='4',"updated_at"='2016-09-10 10:41:16.956 +00:00' WHERE "id" = '139'
[2016-09-10 15:41:16.967] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"+2
                                where
                                    '/4/' like path||id||'/%'
[2016-09-10 15:41:16.972] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."starshina_id" = '139');
[2016-09-10 15:41:16.983] [ INFO] console - Executing (default): UPDATE "Kopnik" SET "path"='/4/139/',"updated_at"='2016-09-10 10:41:16.976 +00:00' WHERE "id" = '140'
[2016-09-10 15:41:16.987] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/4/' like k.path||k.id||'/%'
[2016-09-10 15:41:16.994] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('4')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 15:41:17.001] [ INFO] console - Executing (828dae47-868b-4998-87bf-e4b1dbe0a019): COMMIT;
[2016-09-10 15:41:17.002] [ INFO] console - [ 70, 766, {}, [ undefined ] ]
[2016-09-10 15:41:17.005] [ INFO] console - [ 16,
  5485282266710016,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id2.voiskoChange',
  [],
  { voiskoSize: 1 } ]
[2016-09-10 15:41:17.009] [ INFO] console - [ 16,
  3230363386118144,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id4.voiskoChange',
  [],
  { voiskoSize: 2 } ]
[2016-09-10 15:41:17.059] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopa', id: 3 }
[2016-09-10 15:41:17.062] [ INFO] console - Executing (38b236f7-c9ea-433a-8ae8-3945896eee0c): START TRANSACTION;
[2016-09-10 15:41:17.065] [ INFO] console - Executing (38b236f7-c9ea-433a-8ae8-3945896eee0c): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:41:17.073] [ INFO] console - Executing (default): SELECT "Kopa"."id", "Kopa"."question", "Kopa"."planned", "Kopa"."started", "Kopa"."closed", "Kopa"."isOpen", "Kopa"."note", "Kopa"."created_at", "Kopa"."updated_at", "Kopa"."deleted_at", "Kopa"."place_id", "Kopa"."inviter_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopa" AS "Kopa" LEFT OUTER JOIN "File" AS "attachments" ON "Kopa"."id" = "attachments"."kopa_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopa"."deleted_at" IS NULL AND "Kopa"."id" = 3);
[2016-09-10 15:41:17.078] [ INFO] console - Executing (38b236f7-c9ea-433a-8ae8-3945896eee0c): COMMIT;
[2016-09-10 15:41:17.080] [ INFO] console - [ 70,
  768,
  {},
  [ { id: '3',
      question: 'CHE',
      planned: Thu Sep 01 2016 00:00:00 GMT+0500 (YEKT),
      started: Thu Sep 01 2016 00:00:00 GMT+0500 (YEKT),
      closed: null,
      isOpen: false,
      note: null,
      created_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      deleted_at: null,
      place_id: '2',
      inviter_id: '2',
      attachments: [] } ] ]
[2016-09-10 15:41:17.092] [ INFO] console - Executing (c566c46f-fe41-4f90-b74f-6fdb2b5efc36): START TRANSACTION;
[2016-09-10 15:41:17.094] [ INFO] console - Executing (c566c46f-fe41-4f90-b74f-6fdb2b5efc36): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:41:17.099] [ INFO] console - Executing (default): INSERT INTO "Predlozhenie" ("id","value","created_at","updated_at","initiator_id","place_id") VALUES (DEFAULT,'some Predlozhenie temp 1473504075549','2016-09-10 10:41:17.096 +00:00','2016-09-10 10:41:17.096 +00:00',2,3) RETURNING *;
[2016-09-10 15:41:17.102] [ INFO] console - Executing (c566c46f-fe41-4f90-b74f-6fdb2b5efc36): COMMIT;
[2016-09-10 15:41:17.103] [ INFO] console - [ 70, 769, {}, [ '29' ] ]
[2016-09-10 15:41:17.106] [ INFO] console - [ 16,
  117893696061440,
  { acknowledge: true },
  'ru.kopa.model.Kopa.id3.predlozhenieAdd',
  [ '29' ] ]
[2016-09-10 15:41:17.112] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Predlozhenie', id: 1 }
[2016-09-10 15:41:17.114] [ INFO] console - Executing (3828d29f-e83a-4a81-8ccf-8657051fcecf): START TRANSACTION;
[2016-09-10 15:41:17.118] [ INFO] console - Executing (3828d29f-e83a-4a81-8ccf-8657051fcecf): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:41:17.124] [ INFO] console - Executing (default): SELECT "Predlozhenie"."id", "Predlozhenie"."value", "Predlozhenie"."note", "Predlozhenie"."created_at", "Predlozhenie"."updated_at", "Predlozhenie"."deleted_at", "Predlozhenie"."initiator_id", "Predlozhenie"."place_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Predlozhenie" AS "Predlozhenie" LEFT OUTER JOIN "File" AS "attachments" ON "Predlozhenie"."id" = "attachments"."predlozhenie_id" AND "attachments"."deleted_at" IS NULL WHERE ("Predlozhenie"."deleted_at" IS NULL AND "Predlozhenie"."id" = 1);
[2016-09-10 15:41:17.130] [ INFO] console - Executing (3828d29f-e83a-4a81-8ccf-8657051fcecf): COMMIT;
[2016-09-10 15:41:17.131] [ INFO] console - [ 70,
  770,
  {},
  [ { id: '1',
      value: 'Будет ...',
      note: null,
      created_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      deleted_at: null,
      initiator_id: '2',
      place_id: '3',
      attachments: [] } ] ]
[2016-09-10 15:41:17.140] [ INFO] console - Executing (17fc4657-5fba-4bb3-8b80-8e1421bafa67): START TRANSACTION;
[2016-09-10 15:41:17.142] [ INFO] console - Executing (17fc4657-5fba-4bb3-8b80-8e1421bafa67): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:41:17.147] [ INFO] console - Executing (default): INSERT INTO "Golos" ("id","value","created_at","updated_at","for_id","owner_id") VALUES (DEFAULT,1,'2016-09-10 10:41:17.143 +00:00','2016-09-10 10:41:17.143 +00:00',1,2) RETURNING *;
[2016-09-10 15:41:17.151] [ INFO] console - Executing (17fc4657-5fba-4bb3-8b80-8e1421bafa67): COMMIT;
[2016-09-10 15:41:17.152] [ INFO] console - [ 70, 771, {}, [ '29' ] ]
[2016-09-10 15:41:17.154] [ INFO] console - [ 16,
  5958020431347712,
  { acknowledge: true },
  'ru.kopa.model.Predlozhenie.id1.golosAdd',
  [ '29' ] ]
[2016-09-10 15:41:17.288] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 2 }
[2016-09-10 15:41:17.290] [ INFO] console - Executing (3a1a4bf5-d5da-482b-8fb3-2522c41ab80b): START TRANSACTION;
[2016-09-10 15:41:17.291] [ INFO] console - Executing (3a1a4bf5-d5da-482b-8fb3-2522c41ab80b): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:41:17.298] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 2);
[2016-09-10 15:41:17.302] [ INFO] console - Executing (3a1a4bf5-d5da-482b-8fb3-2522c41ab80b): COMMIT;
[2016-09-10 15:41:17.305] [ INFO] console - [ 70,
  773,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/2/',
      starshina: [Object],
      id: '2',
      email: 'unittest2@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '1',
      voiskoSize: 1,
      birth: 1983,
      path: '/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: null,
      attachments: [] } ] ]
[2016-09-10 15:41:17.316] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 3 }
[2016-09-10 15:41:17.323] [ INFO] console - Executing (72e7f035-e1cc-40f4-8af6-2b28542043f1): START TRANSACTION;
[2016-09-10 15:41:17.324] [ INFO] console - Executing (72e7f035-e1cc-40f4-8af6-2b28542043f1): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:41:17.329] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 3);
[2016-09-10 15:41:17.334] [ INFO] console - Executing (72e7f035-e1cc-40f4-8af6-2b28542043f1): COMMIT;
[2016-09-10 15:41:17.337] [ INFO] console - [ 70,
  774,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/2/3/',
      starshina: [Object],
      id: '3',
      email: 'unittest3@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '3',
      voiskoSize: 0,
      birth: 1983,
      path: '/2/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: '2',
      attachments: [] } ] ]
[2016-09-10 15:41:17.361] [ INFO] console - Executing (6ce10093-43c2-4a70-96a6-358f5b06bf9d): START TRANSACTION;
[2016-09-10 15:41:17.363] [ INFO] console - Executing (6ce10093-43c2-4a70-96a6-358f5b06bf9d): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:41:17.368] [ INFO] console - Executing (default): INSERT INTO "Slovo" ("id","value","note","created_at","updated_at","owner_id","place_id") VALUES (DEFAULT,'123 temp','456','2016-09-10 10:41:17.364 +00:00','2016-09-10 10:41:17.364 +00:00',2,3) RETURNING *;
[2016-09-10 15:41:17.371] [ INFO] console - Executing (6ce10093-43c2-4a70-96a6-358f5b06bf9d): COMMIT;
[2016-09-10 15:41:17.372] [ INFO] console - [ 70, 775, {}, [ '55' ] ]
[2016-09-10 15:41:17.376] [ INFO] console - [ 16,
  438428592242688,
  { acknowledge: true },
  'ru.kopa.model.Kopa.id3.slovoAdd',
  [ '55' ] ]
[2016-09-10 15:41:17.382] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Slovo', id: 55 }
[2016-09-10 15:41:17.385] [ INFO] console - Executing (7538ce57-c19d-41b9-b311-1081917c8f28): START TRANSACTION;
[2016-09-10 15:41:17.386] [ INFO] console - Executing (7538ce57-c19d-41b9-b311-1081917c8f28): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:41:17.391] [ INFO] console - Executing (default): SELECT "Slovo"."id", "Slovo"."value", "Slovo"."note", "Slovo"."created_at", "Slovo"."updated_at", "Slovo"."deleted_at", "Slovo"."owner_id", "Slovo"."place_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Slovo" AS "Slovo" LEFT OUTER JOIN "File" AS "attachments" ON "Slovo"."id" = "attachments"."slovo_id" AND "attachments"."deleted_at" IS NULL WHERE ("Slovo"."deleted_at" IS NULL AND "Slovo"."id" = 55);
[2016-09-10 15:41:17.395] [ INFO] console - Executing (7538ce57-c19d-41b9-b311-1081917c8f28): COMMIT;
[2016-09-10 15:41:17.396] [ INFO] console - [ 70,
  776,
  {},
  [ { id: '55',
      value: '123 temp',
      note: '456',
      created_at: Sat Sep 10 2016 15:41:17 GMT+0500 (YEKT),
      updated_at: Sat Sep 10 2016 15:41:17 GMT+0500 (YEKT),
      deleted_at: null,
      owner_id: '2',
      place_id: '3',
      attachments: [] } ] ]
[2016-09-10 15:41:17.406] [ INFO] console - Executing (f69755a3-b5bd-49b6-bed5-8deb693124df): START TRANSACTION;
[2016-09-10 15:41:17.407] [ INFO] console - Executing (f69755a3-b5bd-49b6-bed5-8deb693124df): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:41:17.411] [ INFO] console - Executing (default): INSERT INTO "Slovo" ("id","value","created_at","updated_at","owner_id","place_id") VALUES (DEFAULT,'some value temp 1473504077403','2016-09-10 10:41:17.408 +00:00','2016-09-10 10:41:17.408 +00:00',2,3) RETURNING *;
[2016-09-10 15:41:17.414] [ INFO] console - Executing (f69755a3-b5bd-49b6-bed5-8deb693124df): COMMIT;
[2016-09-10 15:41:17.416] [ INFO] console - [ 70, 777, {}, [ '56' ] ]
[2016-09-10 15:41:17.421] [ INFO] console - [ 16,
  4692601525501952,
  { acknowledge: true },
  'ru.kopa.model.Kopa.id3.slovoAdd',
  [ '56' ] ]
[2016-09-10 15:41:17.428] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Zemla', id: 2 }
[2016-09-10 15:41:17.431] [ INFO] console - Executing (c25040d8-b49d-47d2-8be8-984f4b5587c0): START TRANSACTION;
[2016-09-10 15:41:17.433] [ INFO] console - Executing (c25040d8-b49d-47d2-8be8-984f4b5587c0): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:41:17.439] [ INFO] console - Executing (default): SELECT "Zemla"."id", "Zemla"."path", "Zemla"."name", "Zemla"."intensity", "Zemla"."note", "Zemla"."created_at", "Zemla"."updated_at", "Zemla"."deleted_at", "Zemla"."parent_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Zemla" AS "Zemla" LEFT OUTER JOIN "File" AS "attachments" ON "Zemla"."id" = "attachments"."zemla_id" AND "attachments"."deleted_at" IS NULL WHERE ("Zemla"."deleted_at" IS NULL AND "Zemla"."id" = 2);
[2016-09-10 15:41:17.445] [ INFO] console - Executing (c25040d8-b49d-47d2-8be8-984f4b5587c0): COMMIT;
[2016-09-10 15:41:17.447] [ INFO] console - [ 70,
  778,
  {},
  [ { fullPath: 'null2/',
      id: '2',
      path: null,
      name: 'UnitTest2',
      intensity: 1000,
      note: 'unit test 1473504071030',
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Sat Sep 10 2016 15:41:12 GMT+0500 (YEKT),
      deleted_at: null,
      parent_id: '1',
      attachments: [] } ] ]
[2016-09-10 15:41:17.457] [ INFO] console - Executing (1bc21f6c-762a-48b9-ae7b-87f82e1e8267): START TRANSACTION;
[2016-09-10 15:41:17.459] [ INFO] console - Executing (1bc21f6c-762a-48b9-ae7b-87f82e1e8267): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:41:17.462] [ INFO] console - Executing (default): SELECT "id", "path", "name", "intensity", "note", "created_at", "updated_at", "deleted_at", "parent_id" FROM "Zemla" AS "Zemla" WHERE ("Zemla"."deleted_at" IS NULL AND "Zemla"."id" = 2);
[2016-09-10 15:41:17.470] [ INFO] console - Executing (default): UPDATE "Zemla" SET "parent_id"=1,"note"='unit test 1473504075554',"updated_at"='2016-09-10 10:41:17.465 +00:00' WHERE "id" = '2'
[2016-09-10 15:41:17.472] [ INFO] console - Executing (1bc21f6c-762a-48b9-ae7b-87f82e1e8267): COMMIT;
[2016-09-10 15:41:17.473] [ INFO] console - [ 16,
  4269529108578304,
  { acknowledge: true },
  'ru.kopa.model.Zemla.id2.change' ]
[2016-09-10 15:41:17.477] [ INFO] console - [ 70, 779, {}, [ undefined ] ]
[2016-09-10 15:41:17.479] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Zemla', id: 2 }
[2016-09-10 15:41:17.481] [ INFO] console - Executing (3caef523-55c4-439a-bb61-6054f0753831): START TRANSACTION;
[2016-09-10 15:41:17.482] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Zemla', id: 2 }
[2016-09-10 15:41:17.484] [ INFO] console - Executing (56c694be-82ef-4b7d-9e7c-78ac68e0ddc3): START TRANSACTION;
[2016-09-10 15:41:17.485] [ INFO] console - Executing (3caef523-55c4-439a-bb61-6054f0753831): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:41:17.487] [ INFO] console - Executing (56c694be-82ef-4b7d-9e7c-78ac68e0ddc3): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:41:17.494] [ INFO] console - Executing (default): SELECT "Zemla"."id", "Zemla"."path", "Zemla"."name", "Zemla"."intensity", "Zemla"."note", "Zemla"."created_at", "Zemla"."updated_at", "Zemla"."deleted_at", "Zemla"."parent_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Zemla" AS "Zemla" LEFT OUTER JOIN "File" AS "attachments" ON "Zemla"."id" = "attachments"."zemla_id" AND "attachments"."deleted_at" IS NULL WHERE ("Zemla"."deleted_at" IS NULL AND "Zemla"."id" = 2);
[2016-09-10 15:41:17.505] [ INFO] console - Executing (default): SELECT "Zemla"."id", "Zemla"."path", "Zemla"."name", "Zemla"."intensity", "Zemla"."note", "Zemla"."created_at", "Zemla"."updated_at", "Zemla"."deleted_at", "Zemla"."parent_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Zemla" AS "Zemla" LEFT OUTER JOIN "File" AS "attachments" ON "Zemla"."id" = "attachments"."zemla_id" AND "attachments"."deleted_at" IS NULL WHERE ("Zemla"."deleted_at" IS NULL AND "Zemla"."id" = 2);
[2016-09-10 15:41:17.510] [ INFO] console - Executing (3caef523-55c4-439a-bb61-6054f0753831): COMMIT;
[2016-09-10 15:41:17.513] [ INFO] console - Executing (56c694be-82ef-4b7d-9e7c-78ac68e0ddc3): COMMIT;
[2016-09-10 15:41:17.514] [ INFO] console - [ 70,
  780,
  {},
  [ { fullPath: 'null2/',
      id: '2',
      path: null,
      name: 'UnitTest2',
      intensity: 1000,
      note: 'unit test 1473504075554',
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Sat Sep 10 2016 15:41:17 GMT+0500 (YEKT),
      deleted_at: null,
      parent_id: '1',
      attachments: [] } ] ]
[2016-09-10 15:41:17.525] [ INFO] console - [ 70,
  781,
  {},
  [ { fullPath: 'null2/',
      id: '2',
      path: null,
      name: 'UnitTest2',
      intensity: 1000,
      note: 'unit test 1473504075554',
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Sat Sep 10 2016 15:41:17 GMT+0500 (YEKT),
      deleted_at: null,
      parent_id: '1',
      attachments: [] } ] ]
[2016-09-10 15:41:17.550] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopa', id: 3 }
[2016-09-10 15:41:17.554] [ INFO] console - Executing (723f2c37-6387-4890-92e2-07312c609d6b): START TRANSACTION;
[2016-09-10 15:41:17.556] [ INFO] console - Executing (723f2c37-6387-4890-92e2-07312c609d6b): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:41:17.565] [ INFO] console - Executing (default): SELECT "Kopa"."id", "Kopa"."question", "Kopa"."planned", "Kopa"."started", "Kopa"."closed", "Kopa"."isOpen", "Kopa"."note", "Kopa"."created_at", "Kopa"."updated_at", "Kopa"."deleted_at", "Kopa"."place_id", "Kopa"."inviter_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopa" AS "Kopa" LEFT OUTER JOIN "File" AS "attachments" ON "Kopa"."id" = "attachments"."kopa_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopa"."deleted_at" IS NULL AND "Kopa"."id" = 3);
[2016-09-10 15:41:17.571] [ INFO] console - Executing (723f2c37-6387-4890-92e2-07312c609d6b): COMMIT;
[2016-09-10 15:41:17.572] [ INFO] console - [ 70,
  783,
  {},
  [ { id: '3',
      question: 'CHE',
      planned: Thu Sep 01 2016 00:00:00 GMT+0500 (YEKT),
      started: Thu Sep 01 2016 00:00:00 GMT+0500 (YEKT),
      closed: null,
      isOpen: false,
      note: null,
      created_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      deleted_at: null,
      place_id: '2',
      inviter_id: '2',
      attachments: [] } ] ]
[2016-09-10 15:41:17.607] [ INFO] console - Executing (e3ecf788-c16e-4fd4-baa6-5f8a44cd2e7d): START TRANSACTION;
[2016-09-10 15:41:17.608] [ INFO] console - Executing (e3ecf788-c16e-4fd4-baa6-5f8a44cd2e7d): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:41:17.614] [ INFO] console - Executing (default): INSERT INTO "Slovo" ("id","value","created_at","updated_at","owner_id","place_id") VALUES (DEFAULT,'some Slovo temp','2016-09-10 10:41:17.609 +00:00','2016-09-10 10:41:17.609 +00:00',2,3) RETURNING *;
[2016-09-10 15:41:17.617] [ INFO] console - Executing (e3ecf788-c16e-4fd4-baa6-5f8a44cd2e7d): COMMIT;
[2016-09-10 15:41:17.619] [ INFO] console - [ 70, 784, {}, [ '57' ] ]
[2016-09-10 15:41:17.621] [ INFO] console - [ 16,
  5475318829678592,
  { acknowledge: true },
  'ru.kopa.model.Kopa.id3.slovoAdd',
  [ '57' ] ]
[2016-09-10 15:41:20.870] [ INFO] console - [ 70, 786, {}, [ 'unittest2@domain.ru' ] ]
[2016-09-10 15:41:20.876] [DEBUG] Server - #pingPong() [ 1, 2, 3 ] { x: 1, y: 2, z: 3 }
[2016-09-10 15:41:20.879] [ INFO] console - [ 70, 787, {}, [ 1, 2, 3 ], { x: 1, y: 2, z: 3 } ]
[2016-09-10 15:41:20.888] [ INFO] console - Executing (default): select 'КОПА' as result
[2016-09-10 15:41:20.892] [ INFO] console - [ 70, 788, {}, [ 'КОПА' ] ]
[2016-09-10 15:41:20.899] [DEBUG] Server - #error() [ 'sadkljfaskldjfs;af' ] {}
[2016-09-10 15:41:20.901] [ERROR] Server - [Error: sadkljfaskldjfs;af]
Error: sadkljfaskldjfs;af
    at MySuperError (Server.js:339:9)
    at fn.constructor.error.Error (Server.js:344:19)
    at new wrappedPromise (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/async-listener/index.js:372:16)
    at Server.error (Server.js:343:16)
    at Object.<anonymous> (Server.js:415:43)
    at [object Generator].next (native)
    at step (/home/alexey2baranov/htdocs/kp-sequelizejs/src/Server.js:1:253)
    at /home/alexey2baranov/htdocs/kp-sequelizejs/src/Server.js:1:513
    at new wrappedPromise (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/async-listener/index.js:372:16)
    at Object.<anonymous> (/home/alexey2baranov/htdocs/kp-sequelizejs/src/Server.js:1:161)
    at Object.<anonymous> (Server.js:412:28)
    at tryCatchResolve (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/apply.js:46:23)
    at callAndResolve (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/apply.js:30:12)
    at callAndResolveNext (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/apply.js:40:4)
    at tryCatchReject3 (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/makePromise.js:856:7)
    at runContinuation3 (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/makePromise.js:814:4)
[2016-09-10 15:41:20.905] [ INFO] console - [ 8,
  68,
  789,
  {},
  'MySuperError',
  [ 'sadkljfaskldjfs;af' ],
  { stack: 
     [ 'Error: sadkljfaskldjfs;af',
       '    at MySuperError (Server.js:339:9)',
       '    at fn.constructor.error.Error (Server.js:344:19)',
       '    at new wrappedPromise (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/async-listener/index.js:372:16)',
       '    at Server.error (Server.js:343:16)',
       '    at Object.<anonymous> (Server.js:415:43)',
       '    at [object Generator].next (native)',
       '    at step (/home/alexey2baranov/htdocs/kp-sequelizejs/src/Server.js:1:253)',
       '    at /home/alexey2baranov/htdocs/kp-sequelizejs/src/Server.js:1:513',
       '    at new wrappedPromise (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/async-listener/index.js:372:16)',
       '    at Object.<anonymous> (/home/alexey2baranov/htdocs/kp-sequelizejs/src/Server.js:1:161)',
       '    at Object.<anonymous> (Server.js:412:28)',
       '    at tryCatchResolve (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/apply.js:46:23)',
       '    at callAndResolve (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/apply.js:30:12)',
       '    at callAndResolveNext (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/apply.js:40:4)',
       '    at tryCatchReject3 (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/makePromise.js:856:7)',
       '    at runContinuation3 (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/makePromise.js:814:4)' ] } ]
[2016-09-10 15:41:20.917] [ INFO] console - [ 70, 790, {}, [ undefined ] ]
[2016-09-10 15:41:20.924] [ INFO] console - Executing (default): delete from "Slovo"
                where
                    place_id<5
                    and value like '%temp'
[2016-09-10 15:41:20.929] [ INFO] console - Executing (default): delete from "Kopnik"
                where
                    name like '%temp'
[2016-09-10 15:41:20.933] [ INFO] console - Executing (default): update "Kopnik"
                set 
                    "voiskoSize"= case when id=2 then 1 ELSE 0 END
                where
                    id>1 
                    and id<=5
[2016-09-10 15:41:20.958] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopa', id: 3 }
[2016-09-10 15:41:20.960] [ INFO] console - Executing (08bbacf0-aec9-4099-89f5-158bedec294b): START TRANSACTION;
[2016-09-10 15:41:20.962] [ INFO] console - Executing (08bbacf0-aec9-4099-89f5-158bedec294b): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:41:20.969] [ INFO] console - Executing (default): SELECT "Kopa"."id", "Kopa"."question", "Kopa"."planned", "Kopa"."started", "Kopa"."closed", "Kopa"."isOpen", "Kopa"."note", "Kopa"."created_at", "Kopa"."updated_at", "Kopa"."deleted_at", "Kopa"."place_id", "Kopa"."inviter_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopa" AS "Kopa" LEFT OUTER JOIN "File" AS "attachments" ON "Kopa"."id" = "attachments"."kopa_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopa"."deleted_at" IS NULL AND "Kopa"."id" = 3);
[2016-09-10 15:41:20.975] [ INFO] console - Executing (08bbacf0-aec9-4099-89f5-158bedec294b): COMMIT;
[2016-09-10 15:41:20.976] [ INFO] console - [ 70,
  792,
  {},
  [ { id: '3',
      question: 'CHE',
      planned: Thu Sep 01 2016 00:00:00 GMT+0500 (YEKT),
      started: Thu Sep 01 2016 00:00:00 GMT+0500 (YEKT),
      closed: null,
      isOpen: false,
      note: null,
      created_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      deleted_at: null,
      place_id: '2',
      inviter_id: '2',
      attachments: [] } ] ]
[2016-09-10 15:41:20.990] [ INFO] console - Executing (1fa6d865-cec8-4dd4-82ff-d256bdfa8c4b): START TRANSACTION;
[2016-09-10 15:41:20.992] [ INFO] console - Executing (1fa6d865-cec8-4dd4-82ff-d256bdfa8c4b): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:41:21.011] [ INFO] console - Executing (default): INSERT INTO "Golos" ("id","value","created_at","updated_at","for_id","owner_id") VALUES (DEFAULT,1,'2016-09-10 10:41:20.993 +00:00','2016-09-10 10:41:20.993 +00:00',1,2) RETURNING *;
[2016-09-10 15:41:21.014] [ INFO] console - Executing (1fa6d865-cec8-4dd4-82ff-d256bdfa8c4b): COMMIT;
[2016-09-10 15:41:21.015] [ INFO] console - [ 70, 793, {}, [ '30' ] ]
[2016-09-10 15:41:21.018] [ INFO] console - [ 16,
  1913812968013824,
  { acknowledge: true },
  'ru.kopa.model.Predlozhenie.id1.golosAdd',
  [ '30' ] ]
[2016-09-10 15:41:21.050] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopa', id: 3 }
[2016-09-10 15:41:21.054] [ INFO] console - Executing (d7ff8253-e81a-494d-8c13-b9964c3d00bf): START TRANSACTION;
[2016-09-10 15:41:21.055] [ INFO] console - Executing (d7ff8253-e81a-494d-8c13-b9964c3d00bf): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:41:21.061] [ INFO] console - Executing (default): SELECT "Kopa"."id", "Kopa"."question", "Kopa"."planned", "Kopa"."started", "Kopa"."closed", "Kopa"."isOpen", "Kopa"."note", "Kopa"."created_at", "Kopa"."updated_at", "Kopa"."deleted_at", "Kopa"."place_id", "Kopa"."inviter_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopa" AS "Kopa" LEFT OUTER JOIN "File" AS "attachments" ON "Kopa"."id" = "attachments"."kopa_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopa"."deleted_at" IS NULL AND "Kopa"."id" = 3);
[2016-09-10 15:41:21.066] [ INFO] console - Executing (d7ff8253-e81a-494d-8c13-b9964c3d00bf): COMMIT;
[2016-09-10 15:41:21.068] [ INFO] console - [ 70,
  795,
  {},
  [ { id: '3',
      question: 'CHE',
      planned: Thu Sep 01 2016 00:00:00 GMT+0500 (YEKT),
      started: Thu Sep 01 2016 00:00:00 GMT+0500 (YEKT),
      closed: null,
      isOpen: false,
      note: null,
      created_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      deleted_at: null,
      place_id: '2',
      inviter_id: '2',
      attachments: [] } ] ]
[2016-09-10 15:41:21.079] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 2 }
[2016-09-10 15:41:21.083] [ INFO] console - Executing (7066807d-a17c-4581-95ef-ced36d90b775): START TRANSACTION;
[2016-09-10 15:41:21.084] [ INFO] console - Executing (7066807d-a17c-4581-95ef-ced36d90b775): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:41:21.093] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 2);
[2016-09-10 15:41:21.098] [ INFO] console - Executing (7066807d-a17c-4581-95ef-ced36d90b775): COMMIT;
[2016-09-10 15:41:21.099] [ INFO] console - [ 70,
  796,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/2/',
      starshina: [Object],
      id: '2',
      email: 'unittest2@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '1',
      voiskoSize: 1,
      birth: 1983,
      path: '/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: null,
      attachments: [] } ] ]
[2016-09-10 15:41:21.114] [ INFO] console - Executing (628da7e6-8649-489a-8859-99b53016e53e): START TRANSACTION;
[2016-09-10 15:41:21.115] [ INFO] console - Executing (628da7e6-8649-489a-8859-99b53016e53e): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:41:21.121] [ INFO] console - Executing (default): INSERT INTO "Slovo" ("id","value","created_at","updated_at","owner_id","place_id") VALUES (DEFAULT,'some Slovo temp 1473504081110','2016-09-10 10:41:21.117 +00:00','2016-09-10 10:41:21.117 +00:00',2,3) RETURNING *;
[2016-09-10 15:41:21.124] [ INFO] console - Executing (628da7e6-8649-489a-8859-99b53016e53e): COMMIT;
[2016-09-10 15:41:21.126] [ INFO] console - [ 70, 797, {}, [ '58' ] ]
[2016-09-10 15:41:21.129] [ INFO] console - [ 16,
  5068749742800896,
  { acknowledge: true },
  'ru.kopa.model.Kopa.id3.slovoAdd',
  [ '58' ] ]
[2016-09-10 15:41:21.141] [ INFO] console - Executing (ccbbe2a0-a4be-4965-bbb9-fc6c3b09a43b): START TRANSACTION;
[2016-09-10 15:41:21.143] [ INFO] console - Executing (ccbbe2a0-a4be-4965-bbb9-fc6c3b09a43b): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:41:21.148] [ INFO] console - Executing (default): INSERT INTO "Predlozhenie" ("id","value","created_at","updated_at","initiator_id","place_id") VALUES (DEFAULT,'some Predlozhenie temp 1473504081138','2016-09-10 10:41:21.144 +00:00','2016-09-10 10:41:21.144 +00:00',2,3) RETURNING *;
[2016-09-10 15:41:21.151] [ INFO] console - Executing (ccbbe2a0-a4be-4965-bbb9-fc6c3b09a43b): COMMIT;
[2016-09-10 15:41:21.154] [ INFO] console - [ 70, 798, {}, [ '30' ] ]
[2016-09-10 15:41:21.159] [ INFO] console - [ 16,
  3735392530464768,
  { acknowledge: true },
  'ru.kopa.model.Kopa.id3.predlozhenieAdd',
  [ '30' ] ]
[2016-09-10 15:41:21.191] [ INFO] console - [ 70, 800, {}, [ undefined ] ]
[2016-09-10 15:41:21.203] [ INFO] console - Executing (default): delete from "Kopnik"
                where
                    name like '%temp'
[2016-09-10 15:41:21.204] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 2 }
[2016-09-10 15:41:21.207] [ INFO] console - Executing (88b229b6-9125-45f2-a0af-f1dc20dea9ba): START TRANSACTION;
[2016-09-10 15:41:21.208] [ INFO] console - Executing (default): update "Kopnik"
                set 
                    "voiskoSize"= case when id=2 then 1 ELSE 0 END
                where
                    id>1 
                    and id<=5
[2016-09-10 15:41:21.209] [ INFO] console - Executing (88b229b6-9125-45f2-a0af-f1dc20dea9ba): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:41:21.217] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 2);
[2016-09-10 15:41:21.222] [ INFO] console - Executing (88b229b6-9125-45f2-a0af-f1dc20dea9ba): COMMIT;
[2016-09-10 15:41:21.223] [ INFO] console - [ 70,
  801,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/2/',
      starshina: [Object],
      id: '2',
      email: 'unittest2@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '1',
      voiskoSize: 1,
      birth: 1983,
      path: '/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: null,
      attachments: [] } ] ]
[2016-09-10 15:41:21.236] [ INFO] console - Executing (ad1ab413-1453-41d3-8192-5b675323d306): START TRANSACTION;
[2016-09-10 15:41:21.238] [ INFO] console - Executing (ad1ab413-1453-41d3-8192-5b675323d306): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:41:21.243] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 2);
[2016-09-10 15:41:21.247] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"+1
                                where
                                    '/2/' like path||id||'/%'
[2016-09-10 15:41:21.252] [ INFO] console - Executing (default): INSERT INTO "Kopnik" ("id","name","surname","patronymic","voiskoSize","birth","path","created_at","updated_at","rodina_id","starshina_id") VALUES (DEFAULT,'temp','temp','temp',0,1900,'/2/','2016-09-10 10:41:21.239 +00:00','2016-09-10 10:41:21.239 +00:00',NULL,2) RETURNING *;
[2016-09-10 15:41:21.255] [ INFO] console - Executing (ad1ab413-1453-41d3-8192-5b675323d306): COMMIT;
[2016-09-10 15:41:21.257] [ INFO] console - [ 70, 802, {}, [ '141' ] ]
[2016-09-10 15:41:21.263] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/' like k.path||k.id||'/%'
[2016-09-10 15:41:21.265] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Zemla', id: 2 }
[2016-09-10 15:41:21.268] [ INFO] console - Executing (c281fb66-13e2-4784-a284-983963a0dd5a): START TRANSACTION;
[2016-09-10 15:41:21.268] [ INFO] console - Executing (9f04fb4f-0405-4d88-8fed-cc3fe8e245d4): START TRANSACTION;
[2016-09-10 15:41:21.270] [ INFO] console - Executing (c281fb66-13e2-4784-a284-983963a0dd5a): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:41:21.271] [ INFO] console - Executing (9f04fb4f-0405-4d88-8fed-cc3fe8e245d4): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:41:21.273] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 15:41:21.277] [ INFO] console - [ 16,
  7789409078345728,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id2.voiskoChange',
  [],
  { voiskoSize: 2 } ]
[2016-09-10 15:41:21.294] [ INFO] console - Executing (default): SELECT "Zemla"."id", "Zemla"."path", "Zemla"."name", "Zemla"."intensity", "Zemla"."note", "Zemla"."created_at", "Zemla"."updated_at", "Zemla"."deleted_at", "Zemla"."parent_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Zemla" AS "Zemla" LEFT OUTER JOIN "File" AS "attachments" ON "Zemla"."id" = "attachments"."zemla_id" AND "attachments"."deleted_at" IS NULL WHERE ("Zemla"."deleted_at" IS NULL AND "Zemla"."id" = 2);
[2016-09-10 15:41:21.304] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 141);
[2016-09-10 15:41:21.315] [ INFO] console - Executing (c281fb66-13e2-4784-a284-983963a0dd5a): COMMIT;
[2016-09-10 15:41:21.315] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"+1
                                where
                                    '/2/141/' like path||id||'/%'
[2016-09-10 15:41:21.318] [ INFO] console - [ 70,
  803,
  {},
  [ { fullPath: 'null2/',
      id: '2',
      path: null,
      name: 'UnitTest2',
      intensity: 1000,
      note: 'unit test 1473504075554',
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Sat Sep 10 2016 15:41:17 GMT+0500 (YEKT),
      deleted_at: null,
      parent_id: '1',
      attachments: [] } ] ]
[2016-09-10 15:41:21.330] [ INFO] console - Executing (default): INSERT INTO "Kopnik" ("id","name","surname","patronymic","voiskoSize","birth","path","created_at","updated_at","rodina_id","starshina_id") VALUES (DEFAULT,'temp','temp','temp',0,1900,'/2/141/','2016-09-10 10:41:21.277 +00:00','2016-09-10 10:41:21.277 +00:00',NULL,141) RETURNING *;
[2016-09-10 15:41:21.334] [ INFO] console - Executing (9f04fb4f-0405-4d88-8fed-cc3fe8e245d4): COMMIT;
[2016-09-10 15:41:21.337] [ INFO] console - [ 70, 804, {}, [ '142' ] ]
[2016-09-10 15:41:21.340] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/141/' like k.path||k.id||'/%'
[2016-09-10 15:41:21.347] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2', '141')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 15:41:21.350] [ INFO] console - [ 16,
  5493331752648704,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id141.voiskoChange',
  [],
  { voiskoSize: 1 } ]
[2016-09-10 15:41:21.358] [ INFO] console - [ 16,
  599112112144384,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id2.voiskoChange',
  [],
  { voiskoSize: 3 } ]
[2016-09-10 15:41:21.363] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 4 }
[2016-09-10 15:41:21.368] [ INFO] console - Executing (46768c92-adb4-4537-add2-b53445c46d08): START TRANSACTION;
[2016-09-10 15:41:21.369] [ INFO] console - Executing (46768c92-adb4-4537-add2-b53445c46d08): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:41:21.376] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 4);
[2016-09-10 15:41:21.381] [ INFO] console - Executing (46768c92-adb4-4537-add2-b53445c46d08): COMMIT;
[2016-09-10 15:41:21.383] [ INFO] console - [ 70,
  805,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/4/',
      starshina: [Object],
      id: '4',
      email: 'unittest4@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '4',
      voiskoSize: 0,
      birth: 1983,
      path: '/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: null,
      attachments: [] } ] ]
[2016-09-10 15:41:21.393] [ INFO] console - Executing (e5f5d721-1eee-4384-bbfe-56adbb068f32): START TRANSACTION;
[2016-09-10 15:41:21.395] [ INFO] console - Executing (e5f5d721-1eee-4384-bbfe-56adbb068f32): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:41:21.399] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 141);
[2016-09-10 15:41:21.404] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 4);
[2016-09-10 15:41:21.418] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/' like k.path||k.id||'/%'
[2016-09-10 15:41:21.425] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 15:41:21.429] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"-2
                                where
                                    '/2/' like path||id||'/%'
[2016-09-10 15:41:21.437] [ INFO] console - Executing (default): UPDATE "Kopnik" SET "path"='/4/',"starshina_id"='4',"updated_at"='2016-09-10 10:41:21.431 +00:00' WHERE "id" = '141'
[2016-09-10 15:41:21.440] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"+2
                                where
                                    '/4/' like path||id||'/%'
[2016-09-10 15:41:21.445] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."starshina_id" = '141');
[2016-09-10 15:41:21.453] [ INFO] console - Executing (default): UPDATE "Kopnik" SET "path"='/4/141/',"updated_at"='2016-09-10 10:41:21.447 +00:00' WHERE "id" = '142'
[2016-09-10 15:41:21.455] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/4/' like k.path||k.id||'/%'
[2016-09-10 15:41:21.460] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('4')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 15:41:21.466] [ INFO] console - Executing (e5f5d721-1eee-4384-bbfe-56adbb068f32): COMMIT;
[2016-09-10 15:41:21.468] [ INFO] console - [ 70, 806, {}, [ undefined ] ]
[2016-09-10 15:41:21.470] [ INFO] console - [ 16,
  693513538764800,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id2.voiskoChange',
  [],
  { voiskoSize: 1 } ]
[2016-09-10 15:41:21.474] [ INFO] console - [ 16,
  8342557574561792,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id4.voiskoChange',
  [],
  { voiskoSize: 2 } ]
[2016-09-10 15:41:21.513] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopa', id: 3 }
[2016-09-10 15:41:21.517] [ INFO] console - Executing (e5fdb5df-28a1-4a01-a4c1-eb2292005a83): START TRANSACTION;
[2016-09-10 15:41:21.518] [ INFO] console - Executing (e5fdb5df-28a1-4a01-a4c1-eb2292005a83): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:41:21.526] [ INFO] console - Executing (default): SELECT "Kopa"."id", "Kopa"."question", "Kopa"."planned", "Kopa"."started", "Kopa"."closed", "Kopa"."isOpen", "Kopa"."note", "Kopa"."created_at", "Kopa"."updated_at", "Kopa"."deleted_at", "Kopa"."place_id", "Kopa"."inviter_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopa" AS "Kopa" LEFT OUTER JOIN "File" AS "attachments" ON "Kopa"."id" = "attachments"."kopa_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopa"."deleted_at" IS NULL AND "Kopa"."id" = 3);
[2016-09-10 15:41:21.532] [ INFO] console - Executing (e5fdb5df-28a1-4a01-a4c1-eb2292005a83): COMMIT;
[2016-09-10 15:41:21.534] [ INFO] console - [ 70,
  808,
  {},
  [ { id: '3',
      question: 'CHE',
      planned: Thu Sep 01 2016 00:00:00 GMT+0500 (YEKT),
      started: Thu Sep 01 2016 00:00:00 GMT+0500 (YEKT),
      closed: null,
      isOpen: false,
      note: null,
      created_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      deleted_at: null,
      place_id: '2',
      inviter_id: '2',
      attachments: [] } ] ]
[2016-09-10 15:41:21.550] [ INFO] console - Executing (8df46cab-01ee-4ed3-ab4c-7e8e839c6ec0): START TRANSACTION;
[2016-09-10 15:41:21.552] [ INFO] console - Executing (8df46cab-01ee-4ed3-ab4c-7e8e839c6ec0): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:41:21.560] [ INFO] console - Executing (default): INSERT INTO "Predlozhenie" ("id","value","created_at","updated_at","initiator_id","place_id") VALUES (DEFAULT,'some Predlozhenie temp 1473504080113','2016-09-10 10:41:21.554 +00:00','2016-09-10 10:41:21.554 +00:00',2,3) RETURNING *;
[2016-09-10 15:41:21.563] [ INFO] console - Executing (8df46cab-01ee-4ed3-ab4c-7e8e839c6ec0): COMMIT;
[2016-09-10 15:41:21.564] [ INFO] console - [ 70, 809, {}, [ '31' ] ]
[2016-09-10 15:41:21.569] [ INFO] console - [ 16,
  1670281909239808,
  { acknowledge: true },
  'ru.kopa.model.Kopa.id3.predlozhenieAdd',
  [ '31' ] ]
[2016-09-10 15:41:21.578] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Predlozhenie', id: 1 }
[2016-09-10 15:41:21.581] [ INFO] console - Executing (75713b85-b3a7-4a79-b467-c1bdf96904e4): START TRANSACTION;
[2016-09-10 15:41:21.584] [ INFO] console - Executing (75713b85-b3a7-4a79-b467-c1bdf96904e4): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:41:21.592] [ INFO] console - Executing (default): SELECT "Predlozhenie"."id", "Predlozhenie"."value", "Predlozhenie"."note", "Predlozhenie"."created_at", "Predlozhenie"."updated_at", "Predlozhenie"."deleted_at", "Predlozhenie"."initiator_id", "Predlozhenie"."place_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Predlozhenie" AS "Predlozhenie" LEFT OUTER JOIN "File" AS "attachments" ON "Predlozhenie"."id" = "attachments"."predlozhenie_id" AND "attachments"."deleted_at" IS NULL WHERE ("Predlozhenie"."deleted_at" IS NULL AND "Predlozhenie"."id" = 1);
[2016-09-10 15:41:21.599] [ INFO] console - Executing (75713b85-b3a7-4a79-b467-c1bdf96904e4): COMMIT;
[2016-09-10 15:41:21.602] [ INFO] console - [ 70,
  810,
  {},
  [ { id: '1',
      value: 'Будет ...',
      note: null,
      created_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      deleted_at: null,
      initiator_id: '2',
      place_id: '3',
      attachments: [] } ] ]
[2016-09-10 15:41:21.618] [ INFO] console - Executing (0d86be0a-abf7-4625-a63a-8a86b0272f53): START TRANSACTION;
[2016-09-10 15:41:21.619] [ INFO] console - Executing (0d86be0a-abf7-4625-a63a-8a86b0272f53): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:41:21.625] [ INFO] console - Executing (default): INSERT INTO "Golos" ("id","value","created_at","updated_at","for_id","owner_id") VALUES (DEFAULT,1,'2016-09-10 10:41:21.621 +00:00','2016-09-10 10:41:21.621 +00:00',1,2) RETURNING *;
[2016-09-10 15:41:21.628] [ INFO] console - Executing (0d86be0a-abf7-4625-a63a-8a86b0272f53): COMMIT;
[2016-09-10 15:41:21.631] [ INFO] console - [ 70, 811, {}, [ '31' ] ]
[2016-09-10 15:41:21.639] [ INFO] console - [ 16,
  2305911970332672,
  { acknowledge: true },
  'ru.kopa.model.Predlozhenie.id1.golosAdd',
  [ '31' ] ]
[2016-09-10 15:41:21.682] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 2 }
[2016-09-10 15:41:21.685] [ INFO] console - Executing (5ff2682d-5075-450f-9308-90b3467bbd9e): START TRANSACTION;
[2016-09-10 15:41:21.686] [ INFO] console - Executing (5ff2682d-5075-450f-9308-90b3467bbd9e): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:41:21.693] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 2);
[2016-09-10 15:41:21.698] [ INFO] console - Executing (5ff2682d-5075-450f-9308-90b3467bbd9e): COMMIT;
[2016-09-10 15:41:21.699] [ INFO] console - [ 70,
  813,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/2/',
      starshina: [Object],
      id: '2',
      email: 'unittest2@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '1',
      voiskoSize: 1,
      birth: 1983,
      path: '/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: null,
      attachments: [] } ] ]
[2016-09-10 15:41:21.715] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 3 }
[2016-09-10 15:41:21.718] [ INFO] console - Executing (ed49f3f9-6c63-4c2d-8ce2-1f8b32731553): START TRANSACTION;
[2016-09-10 15:41:21.720] [ INFO] console - Executing (ed49f3f9-6c63-4c2d-8ce2-1f8b32731553): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:41:21.727] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 3);
[2016-09-10 15:41:21.731] [ INFO] console - Executing (ed49f3f9-6c63-4c2d-8ce2-1f8b32731553): COMMIT;
[2016-09-10 15:41:21.733] [ INFO] console - [ 70,
  814,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/2/3/',
      starshina: [Object],
      id: '3',
      email: 'unittest3@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '3',
      voiskoSize: 0,
      birth: 1983,
      path: '/2/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: '2',
      attachments: [] } ] ]
[2016-09-10 15:41:21.785] [ INFO] console - Executing (afe70382-56d8-4197-99c2-da7522d07e3e): START TRANSACTION;
[2016-09-10 15:41:21.787] [ INFO] console - Executing (afe70382-56d8-4197-99c2-da7522d07e3e): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:41:21.793] [ INFO] console - Executing (default): INSERT INTO "Slovo" ("id","value","note","created_at","updated_at","owner_id","place_id") VALUES (DEFAULT,'123 temp','456','2016-09-10 10:41:21.788 +00:00','2016-09-10 10:41:21.788 +00:00',2,3) RETURNING *;
[2016-09-10 15:41:21.796] [ INFO] console - Executing (afe70382-56d8-4197-99c2-da7522d07e3e): COMMIT;
[2016-09-10 15:41:21.798] [ INFO] console - [ 70, 815, {}, [ '59' ] ]
[2016-09-10 15:41:21.800] [ INFO] console - [ 16,
  7441530727956480,
  { acknowledge: true },
  'ru.kopa.model.Kopa.id3.slovoAdd',
  [ '59' ] ]
[2016-09-10 15:41:21.805] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Slovo', id: 59 }
[2016-09-10 15:41:21.808] [ INFO] console - Executing (ca5a0cdc-050b-4bbf-9b8f-7b9f8c72e1e7): START TRANSACTION;
[2016-09-10 15:41:21.809] [ INFO] console - Executing (ca5a0cdc-050b-4bbf-9b8f-7b9f8c72e1e7): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:41:21.815] [ INFO] console - Executing (default): SELECT "Slovo"."id", "Slovo"."value", "Slovo"."note", "Slovo"."created_at", "Slovo"."updated_at", "Slovo"."deleted_at", "Slovo"."owner_id", "Slovo"."place_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Slovo" AS "Slovo" LEFT OUTER JOIN "File" AS "attachments" ON "Slovo"."id" = "attachments"."slovo_id" AND "attachments"."deleted_at" IS NULL WHERE ("Slovo"."deleted_at" IS NULL AND "Slovo"."id" = 59);
[2016-09-10 15:41:21.820] [ INFO] console - Executing (ca5a0cdc-050b-4bbf-9b8f-7b9f8c72e1e7): COMMIT;
[2016-09-10 15:41:21.821] [ INFO] console - [ 70,
  816,
  {},
  [ { id: '59',
      value: '123 temp',
      note: '456',
      created_at: Sat Sep 10 2016 15:41:21 GMT+0500 (YEKT),
      updated_at: Sat Sep 10 2016 15:41:21 GMT+0500 (YEKT),
      deleted_at: null,
      owner_id: '2',
      place_id: '3',
      attachments: [] } ] ]
[2016-09-10 15:41:21.831] [ INFO] console - Executing (97125ec1-a74e-4d82-94b1-c4e8748abdd3): START TRANSACTION;
[2016-09-10 15:41:21.833] [ INFO] console - Executing (97125ec1-a74e-4d82-94b1-c4e8748abdd3): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:41:21.838] [ INFO] console - Executing (default): INSERT INTO "Slovo" ("id","value","created_at","updated_at","owner_id","place_id") VALUES (DEFAULT,'some value temp 1473504081829','2016-09-10 10:41:21.834 +00:00','2016-09-10 10:41:21.834 +00:00',2,3) RETURNING *;
[2016-09-10 15:41:21.840] [ INFO] console - Executing (97125ec1-a74e-4d82-94b1-c4e8748abdd3): COMMIT;
[2016-09-10 15:41:21.841] [ INFO] console - [ 70, 817, {}, [ '60' ] ]
[2016-09-10 15:41:21.844] [ INFO] console - [ 16,
  6049612322308096,
  { acknowledge: true },
  'ru.kopa.model.Kopa.id3.slovoAdd',
  [ '60' ] ]
[2016-09-10 15:41:21.849] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Zemla', id: 2 }
[2016-09-10 15:41:21.852] [ INFO] console - Executing (e1d622f4-310b-4709-929b-c64d06b80873): START TRANSACTION;
[2016-09-10 15:41:21.853] [ INFO] console - Executing (e1d622f4-310b-4709-929b-c64d06b80873): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:41:21.858] [ INFO] console - Executing (default): SELECT "Zemla"."id", "Zemla"."path", "Zemla"."name", "Zemla"."intensity", "Zemla"."note", "Zemla"."created_at", "Zemla"."updated_at", "Zemla"."deleted_at", "Zemla"."parent_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Zemla" AS "Zemla" LEFT OUTER JOIN "File" AS "attachments" ON "Zemla"."id" = "attachments"."zemla_id" AND "attachments"."deleted_at" IS NULL WHERE ("Zemla"."deleted_at" IS NULL AND "Zemla"."id" = 2);
[2016-09-10 15:41:21.863] [ INFO] console - Executing (e1d622f4-310b-4709-929b-c64d06b80873): COMMIT;
[2016-09-10 15:41:21.864] [ INFO] console - [ 70,
  818,
  {},
  [ { fullPath: 'null2/',
      id: '2',
      path: null,
      name: 'UnitTest2',
      intensity: 1000,
      note: 'unit test 1473504075554',
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Sat Sep 10 2016 15:41:17 GMT+0500 (YEKT),
      deleted_at: null,
      parent_id: '1',
      attachments: [] } ] ]
[2016-09-10 15:41:21.875] [ INFO] console - Executing (cb0384c8-209d-442d-a045-aaa92f940582): START TRANSACTION;
[2016-09-10 15:41:21.878] [ INFO] console - Executing (cb0384c8-209d-442d-a045-aaa92f940582): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:41:21.883] [ INFO] console - Executing (default): SELECT "id", "path", "name", "intensity", "note", "created_at", "updated_at", "deleted_at", "parent_id" FROM "Zemla" AS "Zemla" WHERE ("Zemla"."deleted_at" IS NULL AND "Zemla"."id" = 2);
[2016-09-10 15:41:21.891] [ INFO] console - Executing (default): UPDATE "Zemla" SET "parent_id"=1,"note"='unit test 1473504080118',"updated_at"='2016-09-10 10:41:21.885 +00:00' WHERE "id" = '2'
[2016-09-10 15:41:21.894] [ INFO] console - Executing (cb0384c8-209d-442d-a045-aaa92f940582): COMMIT;
[2016-09-10 15:41:21.896] [ INFO] console - [ 16,
  7705612674662400,
  { acknowledge: true },
  'ru.kopa.model.Zemla.id2.change' ]
[2016-09-10 15:41:21.899] [ INFO] console - [ 70, 819, {}, [ undefined ] ]
[2016-09-10 15:41:21.901] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Zemla', id: 2 }
[2016-09-10 15:41:21.904] [ INFO] console - Executing (8e91f89b-35eb-45ac-b846-5d790e39cd93): START TRANSACTION;
[2016-09-10 15:41:21.904] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Zemla', id: 2 }
[2016-09-10 15:41:21.908] [ INFO] console - Executing (88646768-f9bb-4482-a54f-c9040e12f60a): START TRANSACTION;
[2016-09-10 15:41:21.909] [ INFO] console - Executing (8e91f89b-35eb-45ac-b846-5d790e39cd93): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:41:21.910] [ INFO] console - Executing (88646768-f9bb-4482-a54f-c9040e12f60a): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:41:21.915] [ INFO] console - Executing (default): SELECT "Zemla"."id", "Zemla"."path", "Zemla"."name", "Zemla"."intensity", "Zemla"."note", "Zemla"."created_at", "Zemla"."updated_at", "Zemla"."deleted_at", "Zemla"."parent_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Zemla" AS "Zemla" LEFT OUTER JOIN "File" AS "attachments" ON "Zemla"."id" = "attachments"."zemla_id" AND "attachments"."deleted_at" IS NULL WHERE ("Zemla"."deleted_at" IS NULL AND "Zemla"."id" = 2);
[2016-09-10 15:41:21.925] [ INFO] console - Executing (default): SELECT "Zemla"."id", "Zemla"."path", "Zemla"."name", "Zemla"."intensity", "Zemla"."note", "Zemla"."created_at", "Zemla"."updated_at", "Zemla"."deleted_at", "Zemla"."parent_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Zemla" AS "Zemla" LEFT OUTER JOIN "File" AS "attachments" ON "Zemla"."id" = "attachments"."zemla_id" AND "attachments"."deleted_at" IS NULL WHERE ("Zemla"."deleted_at" IS NULL AND "Zemla"."id" = 2);
[2016-09-10 15:41:21.927] [ INFO] console - Executing (8e91f89b-35eb-45ac-b846-5d790e39cd93): COMMIT;
[2016-09-10 15:41:21.930] [ INFO] console - Executing (88646768-f9bb-4482-a54f-c9040e12f60a): COMMIT;
[2016-09-10 15:41:21.931] [ INFO] console - [ 70,
  820,
  {},
  [ { fullPath: 'null2/',
      id: '2',
      path: null,
      name: 'UnitTest2',
      intensity: 1000,
      note: 'unit test 1473504080118',
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Sat Sep 10 2016 15:41:21 GMT+0500 (YEKT),
      deleted_at: null,
      parent_id: '1',
      attachments: [] } ] ]
[2016-09-10 15:41:21.935] [ INFO] console - [ 70,
  821,
  {},
  [ { fullPath: 'null2/',
      id: '2',
      path: null,
      name: 'UnitTest2',
      intensity: 1000,
      note: 'unit test 1473504080118',
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Sat Sep 10 2016 15:41:21 GMT+0500 (YEKT),
      deleted_at: null,
      parent_id: '1',
      attachments: [] } ] ]
[2016-09-10 15:41:21.972] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopa', id: 3 }
[2016-09-10 15:41:21.975] [ INFO] console - Executing (1c74be78-90ee-4763-af1c-7a094577c6ac): START TRANSACTION;
[2016-09-10 15:41:21.977] [ INFO] console - Executing (1c74be78-90ee-4763-af1c-7a094577c6ac): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:41:21.985] [ INFO] console - Executing (default): SELECT "Kopa"."id", "Kopa"."question", "Kopa"."planned", "Kopa"."started", "Kopa"."closed", "Kopa"."isOpen", "Kopa"."note", "Kopa"."created_at", "Kopa"."updated_at", "Kopa"."deleted_at", "Kopa"."place_id", "Kopa"."inviter_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopa" AS "Kopa" LEFT OUTER JOIN "File" AS "attachments" ON "Kopa"."id" = "attachments"."kopa_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopa"."deleted_at" IS NULL AND "Kopa"."id" = 3);
[2016-09-10 15:41:21.991] [ INFO] console - Executing (1c74be78-90ee-4763-af1c-7a094577c6ac): COMMIT;
[2016-09-10 15:41:21.993] [ INFO] console - [ 70,
  823,
  {},
  [ { id: '3',
      question: 'CHE',
      planned: Thu Sep 01 2016 00:00:00 GMT+0500 (YEKT),
      started: Thu Sep 01 2016 00:00:00 GMT+0500 (YEKT),
      closed: null,
      isOpen: false,
      note: null,
      created_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      deleted_at: null,
      place_id: '2',
      inviter_id: '2',
      attachments: [] } ] ]
[2016-09-10 15:41:22.009] [ INFO] console - Executing (ec627c16-221e-4c10-b7bb-b5ed70c41532): START TRANSACTION;
[2016-09-10 15:41:22.010] [ INFO] console - Executing (ec627c16-221e-4c10-b7bb-b5ed70c41532): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:41:22.018] [ INFO] console - Executing (default): INSERT INTO "Slovo" ("id","value","created_at","updated_at","owner_id","place_id") VALUES (DEFAULT,'some Slovo temp','2016-09-10 10:41:22.012 +00:00','2016-09-10 10:41:22.012 +00:00',2,3) RETURNING *;
[2016-09-10 15:41:22.021] [ INFO] console - Executing (ec627c16-221e-4c10-b7bb-b5ed70c41532): COMMIT;
[2016-09-10 15:41:22.022] [ INFO] console - [ 70, 824, {}, [ '61' ] ]
[2016-09-10 15:41:22.023] [ INFO] console - [ 16,
  5911838824857600,
  { acknowledge: true },
  'ru.kopa.model.Kopa.id3.slovoAdd',
  [ '61' ] ]
[2016-09-10 15:41:34.272] [ INFO] console - [ 70, 826, {}, [ 'unittest2@domain.ru' ] ]
[2016-09-10 15:41:34.278] [DEBUG] Server - #pingPong() [ 1, 2, 3 ] { x: 1, y: 2, z: 3 }
[2016-09-10 15:41:34.279] [ INFO] console - [ 70, 827, {}, [ 1, 2, 3 ], { x: 1, y: 2, z: 3 } ]
[2016-09-10 15:41:34.294] [ INFO] console - Executing (default): select 'КОПА' as result
[2016-09-10 15:41:34.295] [ INFO] console - [ 70, 828, {}, [ 'КОПА' ] ]
[2016-09-10 15:41:34.301] [DEBUG] Server - #error() [ 'sadkljfaskldjfs;af' ] {}
[2016-09-10 15:41:34.302] [ERROR] Server - [Error: sadkljfaskldjfs;af]
Error: sadkljfaskldjfs;af
    at MySuperError (Server.js:339:9)
    at fn.constructor.error.Error (Server.js:344:19)
    at new wrappedPromise (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/async-listener/index.js:372:16)
    at Server.error (Server.js:343:16)
    at Object.<anonymous> (Server.js:415:43)
    at [object Generator].next (native)
    at step (/home/alexey2baranov/htdocs/kp-sequelizejs/src/Server.js:1:253)
    at /home/alexey2baranov/htdocs/kp-sequelizejs/src/Server.js:1:513
    at new wrappedPromise (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/async-listener/index.js:372:16)
    at Object.<anonymous> (/home/alexey2baranov/htdocs/kp-sequelizejs/src/Server.js:1:161)
    at Object.<anonymous> (Server.js:412:28)
    at tryCatchResolve (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/apply.js:46:23)
    at callAndResolve (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/apply.js:30:12)
    at callAndResolveNext (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/apply.js:40:4)
    at tryCatchReject3 (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/makePromise.js:856:7)
    at runContinuation3 (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/makePromise.js:814:4)
[2016-09-10 15:41:34.306] [ INFO] console - [ 8,
  68,
  829,
  {},
  'MySuperError',
  [ 'sadkljfaskldjfs;af' ],
  { stack: 
     [ 'Error: sadkljfaskldjfs;af',
       '    at MySuperError (Server.js:339:9)',
       '    at fn.constructor.error.Error (Server.js:344:19)',
       '    at new wrappedPromise (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/async-listener/index.js:372:16)',
       '    at Server.error (Server.js:343:16)',
       '    at Object.<anonymous> (Server.js:415:43)',
       '    at [object Generator].next (native)',
       '    at step (/home/alexey2baranov/htdocs/kp-sequelizejs/src/Server.js:1:253)',
       '    at /home/alexey2baranov/htdocs/kp-sequelizejs/src/Server.js:1:513',
       '    at new wrappedPromise (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/async-listener/index.js:372:16)',
       '    at Object.<anonymous> (/home/alexey2baranov/htdocs/kp-sequelizejs/src/Server.js:1:161)',
       '    at Object.<anonymous> (Server.js:412:28)',
       '    at tryCatchResolve (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/apply.js:46:23)',
       '    at callAndResolve (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/apply.js:30:12)',
       '    at callAndResolveNext (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/apply.js:40:4)',
       '    at tryCatchReject3 (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/makePromise.js:856:7)',
       '    at runContinuation3 (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/makePromise.js:814:4)' ] } ]
[2016-09-10 15:41:34.314] [ INFO] console - [ 70, 830, {}, [ undefined ] ]
[2016-09-10 15:41:34.324] [ INFO] console - Executing (default): delete from "Slovo"
                where
                    place_id<5
                    and value like '%temp'
[2016-09-10 15:41:34.329] [ INFO] console - Executing (default): delete from "Kopnik"
                where
                    name like '%temp'
[2016-09-10 15:41:34.336] [ INFO] console - Executing (default): update "Kopnik"
                set 
                    "voiskoSize"= case when id=2 then 1 ELSE 0 END
                where
                    id>1 
                    and id<=5
[2016-09-10 15:41:34.352] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopa', id: 3 }
[2016-09-10 15:41:34.355] [ INFO] console - Executing (255d88d7-14ab-4012-afaa-f0b2c33686d4): START TRANSACTION;
[2016-09-10 15:41:34.360] [ INFO] console - Executing (255d88d7-14ab-4012-afaa-f0b2c33686d4): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:41:34.372] [ INFO] console - Executing (default): SELECT "Kopa"."id", "Kopa"."question", "Kopa"."planned", "Kopa"."started", "Kopa"."closed", "Kopa"."isOpen", "Kopa"."note", "Kopa"."created_at", "Kopa"."updated_at", "Kopa"."deleted_at", "Kopa"."place_id", "Kopa"."inviter_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopa" AS "Kopa" LEFT OUTER JOIN "File" AS "attachments" ON "Kopa"."id" = "attachments"."kopa_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopa"."deleted_at" IS NULL AND "Kopa"."id" = 3);
[2016-09-10 15:41:34.377] [ INFO] console - Executing (255d88d7-14ab-4012-afaa-f0b2c33686d4): COMMIT;
[2016-09-10 15:41:34.378] [ INFO] console - [ 70,
  832,
  {},
  [ { id: '3',
      question: 'CHE',
      planned: Thu Sep 01 2016 00:00:00 GMT+0500 (YEKT),
      started: Thu Sep 01 2016 00:00:00 GMT+0500 (YEKT),
      closed: null,
      isOpen: false,
      note: null,
      created_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      deleted_at: null,
      place_id: '2',
      inviter_id: '2',
      attachments: [] } ] ]
[2016-09-10 15:41:34.391] [ INFO] console - Executing (8b900944-3f6c-471f-b1a1-5ee23eb81b7c): START TRANSACTION;
[2016-09-10 15:41:34.393] [ INFO] console - Executing (8b900944-3f6c-471f-b1a1-5ee23eb81b7c): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:41:34.396] [ INFO] console - Executing (default): INSERT INTO "Golos" ("id","value","created_at","updated_at","for_id","owner_id") VALUES (DEFAULT,1,'2016-09-10 10:41:34.394 +00:00','2016-09-10 10:41:34.394 +00:00',1,2) RETURNING *;
[2016-09-10 15:41:34.400] [ INFO] console - Executing (8b900944-3f6c-471f-b1a1-5ee23eb81b7c): COMMIT;
[2016-09-10 15:41:34.401] [ INFO] console - [ 70, 833, {}, [ '32' ] ]
[2016-09-10 15:41:34.402] [ INFO] console - [ 16,
  8332398108344320,
  { acknowledge: true },
  'ru.kopa.model.Predlozhenie.id1.golosAdd',
  [ '32' ] ]
[2016-09-10 15:41:34.431] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopa', id: 3 }
[2016-09-10 15:41:34.434] [ INFO] console - Executing (d073dae9-ef18-498b-b382-1de1219b115e): START TRANSACTION;
[2016-09-10 15:41:34.435] [ INFO] console - Executing (d073dae9-ef18-498b-b382-1de1219b115e): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:41:34.441] [ INFO] console - Executing (default): SELECT "Kopa"."id", "Kopa"."question", "Kopa"."planned", "Kopa"."started", "Kopa"."closed", "Kopa"."isOpen", "Kopa"."note", "Kopa"."created_at", "Kopa"."updated_at", "Kopa"."deleted_at", "Kopa"."place_id", "Kopa"."inviter_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopa" AS "Kopa" LEFT OUTER JOIN "File" AS "attachments" ON "Kopa"."id" = "attachments"."kopa_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopa"."deleted_at" IS NULL AND "Kopa"."id" = 3);
[2016-09-10 15:41:34.447] [ INFO] console - Executing (d073dae9-ef18-498b-b382-1de1219b115e): COMMIT;
[2016-09-10 15:41:34.448] [ INFO] console - [ 70,
  835,
  {},
  [ { id: '3',
      question: 'CHE',
      planned: Thu Sep 01 2016 00:00:00 GMT+0500 (YEKT),
      started: Thu Sep 01 2016 00:00:00 GMT+0500 (YEKT),
      closed: null,
      isOpen: false,
      note: null,
      created_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      deleted_at: null,
      place_id: '2',
      inviter_id: '2',
      attachments: [] } ] ]
[2016-09-10 15:41:34.457] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 2 }
[2016-09-10 15:41:34.463] [ INFO] console - Executing (83757e72-6dff-4e5d-81e5-dfbae9419e84): START TRANSACTION;
[2016-09-10 15:41:34.464] [ INFO] console - Executing (83757e72-6dff-4e5d-81e5-dfbae9419e84): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:41:34.469] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 2);
[2016-09-10 15:41:34.475] [ INFO] console - Executing (83757e72-6dff-4e5d-81e5-dfbae9419e84): COMMIT;
[2016-09-10 15:41:34.476] [ INFO] console - [ 70,
  836,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/2/',
      starshina: [Object],
      id: '2',
      email: 'unittest2@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '1',
      voiskoSize: 1,
      birth: 1983,
      path: '/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: null,
      attachments: [] } ] ]
[2016-09-10 15:41:34.490] [ INFO] console - Executing (2695b00f-5853-4387-9c5c-302b9e56877d): START TRANSACTION;
[2016-09-10 15:41:34.492] [ INFO] console - Executing (2695b00f-5853-4387-9c5c-302b9e56877d): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:41:34.498] [ INFO] console - Executing (default): INSERT INTO "Slovo" ("id","value","created_at","updated_at","owner_id","place_id") VALUES (DEFAULT,'some Slovo temp 1473504094488','2016-09-10 10:41:34.493 +00:00','2016-09-10 10:41:34.493 +00:00',2,3) RETURNING *;
[2016-09-10 15:41:34.502] [ INFO] console - Executing (2695b00f-5853-4387-9c5c-302b9e56877d): COMMIT;
[2016-09-10 15:41:34.503] [ INFO] console - [ 70, 837, {}, [ '62' ] ]
[2016-09-10 15:41:34.514] [ INFO] console - [ 16,
  1670381521862656,
  { acknowledge: true },
  'ru.kopa.model.Kopa.id3.slovoAdd',
  [ '62' ] ]
[2016-09-10 15:41:34.524] [ INFO] console - Executing (e7834b07-65b7-494e-a1d4-0d1c12b7b96c): START TRANSACTION;
[2016-09-10 15:41:34.528] [ INFO] console - Executing (e7834b07-65b7-494e-a1d4-0d1c12b7b96c): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:41:34.535] [ INFO] console - Executing (default): INSERT INTO "Predlozhenie" ("id","value","created_at","updated_at","initiator_id","place_id") VALUES (DEFAULT,'some Predlozhenie temp 1473504094521','2016-09-10 10:41:34.529 +00:00','2016-09-10 10:41:34.529 +00:00',2,3) RETURNING *;
[2016-09-10 15:41:34.539] [ INFO] console - Executing (e7834b07-65b7-494e-a1d4-0d1c12b7b96c): COMMIT;
[2016-09-10 15:41:34.541] [ INFO] console - [ 70, 838, {}, [ '32' ] ]
[2016-09-10 15:41:34.544] [ INFO] console - [ 16,
  1609659370700800,
  { acknowledge: true },
  'ru.kopa.model.Kopa.id3.predlozhenieAdd',
  [ '32' ] ]
[2016-09-10 15:41:34.573] [ INFO] console - [ 70, 840, {}, [ undefined ] ]
[2016-09-10 15:41:34.576] [ INFO] console - Executing (default): delete from "Kopnik"
                where
                    name like '%temp'
[2016-09-10 15:41:34.578] [ INFO] console - Executing (default): update "Kopnik"
                set 
                    "voiskoSize"= case when id=2 then 1 ELSE 0 END
                where
                    id>1 
                    and id<=5
[2016-09-10 15:41:34.581] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 2 }
[2016-09-10 15:41:34.583] [ INFO] console - Executing (1b3c0841-9416-4f8e-bf25-5d7caffc803b): START TRANSACTION;
[2016-09-10 15:41:34.584] [ INFO] console - Executing (1b3c0841-9416-4f8e-bf25-5d7caffc803b): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:41:34.592] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 2);
[2016-09-10 15:41:34.600] [ INFO] console - Executing (1b3c0841-9416-4f8e-bf25-5d7caffc803b): COMMIT;
[2016-09-10 15:41:34.601] [ INFO] console - [ 70,
  841,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/2/',
      starshina: [Object],
      id: '2',
      email: 'unittest2@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '1',
      voiskoSize: 1,
      birth: 1983,
      path: '/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: null,
      attachments: [] } ] ]
[2016-09-10 15:41:34.612] [ INFO] console - Executing (f4cbd066-c350-40b5-a2f1-042e8a1bfdbc): START TRANSACTION;
[2016-09-10 15:41:34.614] [ INFO] console - Executing (f4cbd066-c350-40b5-a2f1-042e8a1bfdbc): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:41:34.620] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 2);
[2016-09-10 15:41:34.626] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"+1
                                where
                                    '/2/' like path||id||'/%'
[2016-09-10 15:41:34.632] [ INFO] console - Executing (default): INSERT INTO "Kopnik" ("id","name","surname","patronymic","voiskoSize","birth","path","created_at","updated_at","rodina_id","starshina_id") VALUES (DEFAULT,'temp','temp','temp',0,1900,'/2/','2016-09-10 10:41:34.615 +00:00','2016-09-10 10:41:34.615 +00:00',NULL,2) RETURNING *;
[2016-09-10 15:41:34.634] [ INFO] console - Executing (f4cbd066-c350-40b5-a2f1-042e8a1bfdbc): COMMIT;
[2016-09-10 15:41:34.636] [ INFO] console - [ 70, 842, {}, [ '143' ] ]
[2016-09-10 15:41:34.638] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/' like k.path||k.id||'/%'
[2016-09-10 15:41:34.647] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 15:41:34.648] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Zemla', id: 2 }
[2016-09-10 15:41:34.653] [ INFO] console - Executing (6e474879-85a6-44b2-9796-01838ef1895d): START TRANSACTION;
[2016-09-10 15:41:34.655] [ INFO] console - Executing (ffb7f1aa-54d5-4978-9731-f1e797c11130): START TRANSACTION;
[2016-09-10 15:41:34.655] [ INFO] console - [ 16,
  7358980309385216,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id2.voiskoChange',
  [],
  { voiskoSize: 2 } ]
[2016-09-10 15:41:34.660] [ INFO] console - Executing (ffb7f1aa-54d5-4978-9731-f1e797c11130): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:41:34.661] [ INFO] console - Executing (6e474879-85a6-44b2-9796-01838ef1895d): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:41:34.673] [ INFO] console - Executing (default): SELECT "Zemla"."id", "Zemla"."path", "Zemla"."name", "Zemla"."intensity", "Zemla"."note", "Zemla"."created_at", "Zemla"."updated_at", "Zemla"."deleted_at", "Zemla"."parent_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Zemla" AS "Zemla" LEFT OUTER JOIN "File" AS "attachments" ON "Zemla"."id" = "attachments"."zemla_id" AND "attachments"."deleted_at" IS NULL WHERE ("Zemla"."deleted_at" IS NULL AND "Zemla"."id" = 2);
[2016-09-10 15:41:34.681] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 143);
[2016-09-10 15:41:34.685] [ INFO] console - Executing (6e474879-85a6-44b2-9796-01838ef1895d): COMMIT;
[2016-09-10 15:41:34.689] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"+1
                                where
                                    '/2/143/' like path||id||'/%'
[2016-09-10 15:41:34.689] [ INFO] console - [ 70,
  843,
  {},
  [ { fullPath: 'null2/',
      id: '2',
      path: null,
      name: 'UnitTest2',
      intensity: 1000,
      note: 'unit test 1473504080118',
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Sat Sep 10 2016 15:41:21 GMT+0500 (YEKT),
      deleted_at: null,
      parent_id: '1',
      attachments: [] } ] ]
[2016-09-10 15:41:34.697] [ INFO] console - Executing (default): INSERT INTO "Kopnik" ("id","name","surname","patronymic","voiskoSize","birth","path","created_at","updated_at","rodina_id","starshina_id") VALUES (DEFAULT,'temp','temp','temp',0,1900,'/2/143/','2016-09-10 10:41:34.663 +00:00','2016-09-10 10:41:34.663 +00:00',NULL,143) RETURNING *;
[2016-09-10 15:41:34.705] [ INFO] console - Executing (ffb7f1aa-54d5-4978-9731-f1e797c11130): COMMIT;
[2016-09-10 15:41:34.706] [ INFO] console - [ 70, 844, {}, [ '144' ] ]
[2016-09-10 15:41:34.708] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/143/' like k.path||k.id||'/%'
[2016-09-10 15:41:34.719] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2', '143')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 15:41:34.722] [ INFO] console - [ 16,
  990753685766144,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id143.voiskoChange',
  [],
  { voiskoSize: 1 } ]
[2016-09-10 15:41:34.728] [ INFO] console - [ 16,
  5964843945295872,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id2.voiskoChange',
  [],
  { voiskoSize: 3 } ]
[2016-09-10 15:41:34.733] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 4 }
[2016-09-10 15:41:34.736] [ INFO] console - Executing (ac18ef78-e717-4322-b284-27a31b43d19c): START TRANSACTION;
[2016-09-10 15:41:34.737] [ INFO] console - Executing (ac18ef78-e717-4322-b284-27a31b43d19c): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:41:34.744] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 4);
[2016-09-10 15:41:34.751] [ INFO] console - Executing (ac18ef78-e717-4322-b284-27a31b43d19c): COMMIT;
[2016-09-10 15:41:34.754] [ INFO] console - [ 70,
  845,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/4/',
      starshina: [Object],
      id: '4',
      email: 'unittest4@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '4',
      voiskoSize: 0,
      birth: 1983,
      path: '/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: null,
      attachments: [] } ] ]
[2016-09-10 15:41:34.768] [ INFO] console - Executing (5b382075-26eb-40bd-a9c7-ab14d5b6f01b): START TRANSACTION;
[2016-09-10 15:41:34.769] [ INFO] console - Executing (5b382075-26eb-40bd-a9c7-ab14d5b6f01b): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:41:34.773] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 143);
[2016-09-10 15:41:34.779] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 4);
[2016-09-10 15:41:34.783] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/' like k.path||k.id||'/%'
[2016-09-10 15:41:34.788] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 15:41:34.790] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"-2
                                where
                                    '/2/' like path||id||'/%'
[2016-09-10 15:41:34.798] [ INFO] console - Executing (default): UPDATE "Kopnik" SET "path"='/4/',"starshina_id"='4',"updated_at"='2016-09-10 10:41:34.792 +00:00' WHERE "id" = '143'
[2016-09-10 15:41:34.801] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"+2
                                where
                                    '/4/' like path||id||'/%'
[2016-09-10 15:41:34.805] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."starshina_id" = '143');
[2016-09-10 15:41:34.811] [ INFO] console - Executing (default): UPDATE "Kopnik" SET "path"='/4/143/',"updated_at"='2016-09-10 10:41:34.807 +00:00' WHERE "id" = '144'
[2016-09-10 15:41:34.813] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/4/' like k.path||k.id||'/%'
[2016-09-10 15:41:34.819] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('4')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 15:41:34.822] [ INFO] console - Executing (5b382075-26eb-40bd-a9c7-ab14d5b6f01b): COMMIT;
[2016-09-10 15:41:34.824] [ INFO] console - [ 70, 846, {}, [ undefined ] ]
[2016-09-10 15:41:34.825] [ INFO] console - [ 16,
  1348533995175936,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id2.voiskoChange',
  [],
  { voiskoSize: 1 } ]
[2016-09-10 15:41:34.830] [ INFO] console - [ 16,
  2097310777475072,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id4.voiskoChange',
  [],
  { voiskoSize: 2 } ]
[2016-09-10 15:41:34.865] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopa', id: 3 }
[2016-09-10 15:41:34.868] [ INFO] console - Executing (820fdbfb-84df-42d6-bfb8-b12f9b5f5c68): START TRANSACTION;
[2016-09-10 15:41:34.869] [ INFO] console - Executing (820fdbfb-84df-42d6-bfb8-b12f9b5f5c68): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:41:34.874] [ INFO] console - Executing (default): SELECT "Kopa"."id", "Kopa"."question", "Kopa"."planned", "Kopa"."started", "Kopa"."closed", "Kopa"."isOpen", "Kopa"."note", "Kopa"."created_at", "Kopa"."updated_at", "Kopa"."deleted_at", "Kopa"."place_id", "Kopa"."inviter_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopa" AS "Kopa" LEFT OUTER JOIN "File" AS "attachments" ON "Kopa"."id" = "attachments"."kopa_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopa"."deleted_at" IS NULL AND "Kopa"."id" = 3);
[2016-09-10 15:41:34.884] [ INFO] console - Executing (820fdbfb-84df-42d6-bfb8-b12f9b5f5c68): COMMIT;
[2016-09-10 15:41:34.885] [ INFO] console - [ 70,
  848,
  {},
  [ { id: '3',
      question: 'CHE',
      planned: Thu Sep 01 2016 00:00:00 GMT+0500 (YEKT),
      started: Thu Sep 01 2016 00:00:00 GMT+0500 (YEKT),
      closed: null,
      isOpen: false,
      note: null,
      created_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      deleted_at: null,
      place_id: '2',
      inviter_id: '2',
      attachments: [] } ] ]
[2016-09-10 15:41:34.896] [ INFO] console - Executing (57a1fabd-b550-4767-b4c1-20793529894b): START TRANSACTION;
[2016-09-10 15:41:34.898] [ INFO] console - Executing (57a1fabd-b550-4767-b4c1-20793529894b): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:41:34.902] [ INFO] console - Executing (default): INSERT INTO "Predlozhenie" ("id","value","created_at","updated_at","initiator_id","place_id") VALUES (DEFAULT,'some Predlozhenie temp 1473504093526','2016-09-10 10:41:34.899 +00:00','2016-09-10 10:41:34.899 +00:00',2,3) RETURNING *;
[2016-09-10 15:41:34.907] [ INFO] console - Executing (57a1fabd-b550-4767-b4c1-20793529894b): COMMIT;
[2016-09-10 15:41:34.908] [ INFO] console - [ 70, 849, {}, [ '33' ] ]
[2016-09-10 15:41:34.913] [ INFO] console - [ 16,
  7501731399204864,
  { acknowledge: true },
  'ru.kopa.model.Kopa.id3.predlozhenieAdd',
  [ '33' ] ]
[2016-09-10 15:41:34.921] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Predlozhenie', id: 1 }
[2016-09-10 15:41:34.923] [ INFO] console - Executing (f5dcc9b9-de06-4b0d-a2ce-7d8c493a6a20): START TRANSACTION;
[2016-09-10 15:41:34.924] [ INFO] console - Executing (f5dcc9b9-de06-4b0d-a2ce-7d8c493a6a20): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:41:34.930] [ INFO] console - Executing (default): SELECT "Predlozhenie"."id", "Predlozhenie"."value", "Predlozhenie"."note", "Predlozhenie"."created_at", "Predlozhenie"."updated_at", "Predlozhenie"."deleted_at", "Predlozhenie"."initiator_id", "Predlozhenie"."place_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Predlozhenie" AS "Predlozhenie" LEFT OUTER JOIN "File" AS "attachments" ON "Predlozhenie"."id" = "attachments"."predlozhenie_id" AND "attachments"."deleted_at" IS NULL WHERE ("Predlozhenie"."deleted_at" IS NULL AND "Predlozhenie"."id" = 1);
[2016-09-10 15:41:34.935] [ INFO] console - Executing (f5dcc9b9-de06-4b0d-a2ce-7d8c493a6a20): COMMIT;
[2016-09-10 15:41:34.936] [ INFO] console - [ 70,
  850,
  {},
  [ { id: '1',
      value: 'Будет ...',
      note: null,
      created_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      deleted_at: null,
      initiator_id: '2',
      place_id: '3',
      attachments: [] } ] ]
[2016-09-10 15:41:34.946] [ INFO] console - Executing (ac9e9b36-62f1-419f-a508-513cab34b872): START TRANSACTION;
[2016-09-10 15:41:34.947] [ INFO] console - Executing (ac9e9b36-62f1-419f-a508-513cab34b872): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:41:34.952] [ INFO] console - Executing (default): INSERT INTO "Golos" ("id","value","created_at","updated_at","for_id","owner_id") VALUES (DEFAULT,1,'2016-09-10 10:41:34.948 +00:00','2016-09-10 10:41:34.948 +00:00',1,2) RETURNING *;
[2016-09-10 15:41:34.955] [ INFO] console - Executing (ac9e9b36-62f1-419f-a508-513cab34b872): COMMIT;
[2016-09-10 15:41:34.957] [ INFO] console - [ 70, 851, {}, [ '33' ] ]
[2016-09-10 15:41:34.959] [ INFO] console - [ 16,
  1602710044409856,
  { acknowledge: true },
  'ru.kopa.model.Predlozhenie.id1.golosAdd',
  [ '33' ] ]
[2016-09-10 15:41:34.965] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Golos', id: 33 }
[2016-09-10 15:41:34.968] [ INFO] console - Executing (6a8877fc-e854-4bce-adf0-25711eac054c): START TRANSACTION;
[2016-09-10 15:41:34.969] [ INFO] console - Executing (6a8877fc-e854-4bce-adf0-25711eac054c): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:41:34.975] [ INFO] console - Executing (default): SELECT "Golos"."id", "Golos"."value", "Golos"."reason", "Golos"."note", "Golos"."created_at", "Golos"."updated_at", "Golos"."deleted_at", "Golos"."for_id", "Golos"."owner_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Golos" AS "Golos" LEFT OUTER JOIN "File" AS "attachments" ON "Golos"."id" = "attachments"."golos_id" AND "attachments"."deleted_at" IS NULL WHERE ("Golos"."deleted_at" IS NULL AND "Golos"."id" = 33);
[2016-09-10 15:41:34.981] [ INFO] console - Executing (6a8877fc-e854-4bce-adf0-25711eac054c): COMMIT;
[2016-09-10 15:41:34.982] [ INFO] console - [ 70,
  852,
  {},
  [ { id: '33',
      value: 1,
      reason: null,
      note: null,
      created_at: Sat Sep 10 2016 15:41:34 GMT+0500 (YEKT),
      updated_at: Sat Sep 10 2016 15:41:34 GMT+0500 (YEKT),
      deleted_at: null,
      for_id: '1',
      owner_id: '2',
      attachments: [] } ] ]
[2016-09-10 15:41:35.013] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 2 }
[2016-09-10 15:41:35.016] [ INFO] console - Executing (64566cde-f8a0-4d10-8bc5-fb676117cffc): START TRANSACTION;
[2016-09-10 15:41:35.019] [ INFO] console - Executing (64566cde-f8a0-4d10-8bc5-fb676117cffc): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:41:35.025] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 2);
[2016-09-10 15:41:35.030] [ INFO] console - Executing (64566cde-f8a0-4d10-8bc5-fb676117cffc): COMMIT;
[2016-09-10 15:41:35.032] [ INFO] console - [ 70,
  854,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/2/',
      starshina: [Object],
      id: '2',
      email: 'unittest2@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '1',
      voiskoSize: 1,
      birth: 1983,
      path: '/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: null,
      attachments: [] } ] ]
[2016-09-10 15:41:35.045] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 3 }
[2016-09-10 15:41:35.051] [ INFO] console - Executing (a27c3958-63af-4881-9a44-a174173d1f49): START TRANSACTION;
[2016-09-10 15:41:35.054] [ INFO] console - Executing (a27c3958-63af-4881-9a44-a174173d1f49): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:41:35.062] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 3);
[2016-09-10 15:41:35.066] [ INFO] console - Executing (a27c3958-63af-4881-9a44-a174173d1f49): COMMIT;
[2016-09-10 15:41:35.067] [ INFO] console - [ 70,
  855,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/2/3/',
      starshina: [Object],
      id: '3',
      email: 'unittest3@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '3',
      voiskoSize: 0,
      birth: 1983,
      path: '/2/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: '2',
      attachments: [] } ] ]
[2016-09-10 15:41:35.083] [ INFO] console - Executing (9563b5be-79f4-403a-bc49-569838517a2a): START TRANSACTION;
[2016-09-10 15:41:35.084] [ INFO] console - Executing (9563b5be-79f4-403a-bc49-569838517a2a): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:41:35.089] [ INFO] console - Executing (default): INSERT INTO "Slovo" ("id","value","note","created_at","updated_at","owner_id","place_id") VALUES (DEFAULT,'123 temp','456','2016-09-10 10:41:35.085 +00:00','2016-09-10 10:41:35.085 +00:00',2,3) RETURNING *;
[2016-09-10 15:41:35.105] [ INFO] console - Executing (9563b5be-79f4-403a-bc49-569838517a2a): COMMIT;
[2016-09-10 15:41:35.106] [ INFO] console - [ 70, 856, {}, [ '63' ] ]
[2016-09-10 15:41:35.108] [ INFO] console - [ 16,
  2899165277323264,
  { acknowledge: true },
  'ru.kopa.model.Kopa.id3.slovoAdd',
  [ '63' ] ]
[2016-09-10 15:41:35.114] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Slovo', id: 63 }
[2016-09-10 15:41:35.120] [ INFO] console - Executing (494969d0-b09c-416d-9800-c34122f19acd): START TRANSACTION;
[2016-09-10 15:41:35.121] [ INFO] console - Executing (494969d0-b09c-416d-9800-c34122f19acd): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:41:35.132] [ INFO] console - Executing (default): SELECT "Slovo"."id", "Slovo"."value", "Slovo"."note", "Slovo"."created_at", "Slovo"."updated_at", "Slovo"."deleted_at", "Slovo"."owner_id", "Slovo"."place_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Slovo" AS "Slovo" LEFT OUTER JOIN "File" AS "attachments" ON "Slovo"."id" = "attachments"."slovo_id" AND "attachments"."deleted_at" IS NULL WHERE ("Slovo"."deleted_at" IS NULL AND "Slovo"."id" = 63);
[2016-09-10 15:41:35.140] [ INFO] console - Executing (494969d0-b09c-416d-9800-c34122f19acd): COMMIT;
[2016-09-10 15:41:35.141] [ INFO] console - [ 70,
  857,
  {},
  [ { id: '63',
      value: '123 temp',
      note: '456',
      created_at: Sat Sep 10 2016 15:41:35 GMT+0500 (YEKT),
      updated_at: Sat Sep 10 2016 15:41:35 GMT+0500 (YEKT),
      deleted_at: null,
      owner_id: '2',
      place_id: '3',
      attachments: [] } ] ]
[2016-09-10 15:41:35.152] [ INFO] console - Executing (69e5213f-0da3-4549-82aa-ebf81537a6ce): START TRANSACTION;
[2016-09-10 15:41:35.154] [ INFO] console - Executing (69e5213f-0da3-4549-82aa-ebf81537a6ce): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:41:35.160] [ INFO] console - Executing (default): INSERT INTO "Slovo" ("id","value","created_at","updated_at","owner_id","place_id") VALUES (DEFAULT,'some value temp 1473504095150','2016-09-10 10:41:35.156 +00:00','2016-09-10 10:41:35.156 +00:00',2,3) RETURNING *;
[2016-09-10 15:41:35.163] [ INFO] console - Executing (69e5213f-0da3-4549-82aa-ebf81537a6ce): COMMIT;
[2016-09-10 15:41:35.164] [ INFO] console - [ 70, 858, {}, [ '64' ] ]
[2016-09-10 15:41:35.168] [ INFO] console - [ 16,
  4215368706949120,
  { acknowledge: true },
  'ru.kopa.model.Kopa.id3.slovoAdd',
  [ '64' ] ]
[2016-09-10 15:41:35.176] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Zemla', id: 2 }
[2016-09-10 15:41:35.179] [ INFO] console - Executing (9ffdfd1e-e3e0-4041-acff-d0493910d43a): START TRANSACTION;
[2016-09-10 15:41:35.180] [ INFO] console - Executing (9ffdfd1e-e3e0-4041-acff-d0493910d43a): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:41:35.186] [ INFO] console - Executing (default): SELECT "Zemla"."id", "Zemla"."path", "Zemla"."name", "Zemla"."intensity", "Zemla"."note", "Zemla"."created_at", "Zemla"."updated_at", "Zemla"."deleted_at", "Zemla"."parent_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Zemla" AS "Zemla" LEFT OUTER JOIN "File" AS "attachments" ON "Zemla"."id" = "attachments"."zemla_id" AND "attachments"."deleted_at" IS NULL WHERE ("Zemla"."deleted_at" IS NULL AND "Zemla"."id" = 2);
[2016-09-10 15:41:35.190] [ INFO] console - Executing (9ffdfd1e-e3e0-4041-acff-d0493910d43a): COMMIT;
[2016-09-10 15:41:35.191] [ INFO] console - [ 70,
  859,
  {},
  [ { fullPath: 'null2/',
      id: '2',
      path: null,
      name: 'UnitTest2',
      intensity: 1000,
      note: 'unit test 1473504080118',
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Sat Sep 10 2016 15:41:21 GMT+0500 (YEKT),
      deleted_at: null,
      parent_id: '1',
      attachments: [] } ] ]
[2016-09-10 15:41:35.202] [ INFO] console - Executing (fab47806-6ed5-46df-a174-b7129b1742ec): START TRANSACTION;
[2016-09-10 15:41:35.203] [ INFO] console - Executing (fab47806-6ed5-46df-a174-b7129b1742ec): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:41:35.206] [ INFO] console - Executing (default): SELECT "id", "path", "name", "intensity", "note", "created_at", "updated_at", "deleted_at", "parent_id" FROM "Zemla" AS "Zemla" WHERE ("Zemla"."deleted_at" IS NULL AND "Zemla"."id" = 2);
[2016-09-10 15:41:35.213] [ INFO] console - Executing (default): UPDATE "Zemla" SET "parent_id"=1,"note"='unit test 1473504093531',"updated_at"='2016-09-10 10:41:35.209 +00:00' WHERE "id" = '2'
[2016-09-10 15:41:35.217] [ INFO] console - Executing (fab47806-6ed5-46df-a174-b7129b1742ec): COMMIT;
[2016-09-10 15:41:35.219] [ INFO] console - [ 16,
  4870077214097408,
  { acknowledge: true },
  'ru.kopa.model.Zemla.id2.change' ]
[2016-09-10 15:41:35.228] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Zemla', id: 2 }
[2016-09-10 15:41:35.233] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Zemla', id: 2 }
[2016-09-10 15:41:35.234] [ INFO] console - [ 70, 860, {}, [ undefined ] ]
[2016-09-10 15:41:35.238] [ INFO] console - Executing (5c8d79f5-e8f7-4d35-819a-c393526b502a): START TRANSACTION;
[2016-09-10 15:41:35.238] [ INFO] console - Executing (cc9c2012-6a04-40a0-add4-5d36809941a9): START TRANSACTION;
[2016-09-10 15:41:35.240] [ INFO] console - Executing (5c8d79f5-e8f7-4d35-819a-c393526b502a): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:41:35.240] [ INFO] console - Executing (cc9c2012-6a04-40a0-add4-5d36809941a9): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:41:35.250] [ INFO] console - Executing (default): SELECT "Zemla"."id", "Zemla"."path", "Zemla"."name", "Zemla"."intensity", "Zemla"."note", "Zemla"."created_at", "Zemla"."updated_at", "Zemla"."deleted_at", "Zemla"."parent_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Zemla" AS "Zemla" LEFT OUTER JOIN "File" AS "attachments" ON "Zemla"."id" = "attachments"."zemla_id" AND "attachments"."deleted_at" IS NULL WHERE ("Zemla"."deleted_at" IS NULL AND "Zemla"."id" = 2);
[2016-09-10 15:41:35.250] [ INFO] console - Executing (default): SELECT "Zemla"."id", "Zemla"."path", "Zemla"."name", "Zemla"."intensity", "Zemla"."note", "Zemla"."created_at", "Zemla"."updated_at", "Zemla"."deleted_at", "Zemla"."parent_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Zemla" AS "Zemla" LEFT OUTER JOIN "File" AS "attachments" ON "Zemla"."id" = "attachments"."zemla_id" AND "attachments"."deleted_at" IS NULL WHERE ("Zemla"."deleted_at" IS NULL AND "Zemla"."id" = 2);
[2016-09-10 15:41:35.255] [ INFO] console - Executing (5c8d79f5-e8f7-4d35-819a-c393526b502a): COMMIT;
[2016-09-10 15:41:35.259] [ INFO] console - Executing (cc9c2012-6a04-40a0-add4-5d36809941a9): COMMIT;
[2016-09-10 15:41:35.259] [ INFO] console - [ 70,
  861,
  {},
  [ { fullPath: 'null2/',
      id: '2',
      path: null,
      name: 'UnitTest2',
      intensity: 1000,
      note: 'unit test 1473504093531',
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Sat Sep 10 2016 15:41:35 GMT+0500 (YEKT),
      deleted_at: null,
      parent_id: '1',
      attachments: [] } ] ]
[2016-09-10 15:41:35.264] [ INFO] console - [ 70,
  862,
  {},
  [ { fullPath: 'null2/',
      id: '2',
      path: null,
      name: 'UnitTest2',
      intensity: 1000,
      note: 'unit test 1473504093531',
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Sat Sep 10 2016 15:41:35 GMT+0500 (YEKT),
      deleted_at: null,
      parent_id: '1',
      attachments: [] } ] ]
[2016-09-10 15:41:35.295] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopa', id: 3 }
[2016-09-10 15:41:35.298] [ INFO] console - Executing (f80710b0-4bd2-4d06-9d8a-10d0314c1dd9): START TRANSACTION;
[2016-09-10 15:41:35.300] [ INFO] console - Executing (f80710b0-4bd2-4d06-9d8a-10d0314c1dd9): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:41:35.310] [ INFO] console - Executing (default): SELECT "Kopa"."id", "Kopa"."question", "Kopa"."planned", "Kopa"."started", "Kopa"."closed", "Kopa"."isOpen", "Kopa"."note", "Kopa"."created_at", "Kopa"."updated_at", "Kopa"."deleted_at", "Kopa"."place_id", "Kopa"."inviter_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopa" AS "Kopa" LEFT OUTER JOIN "File" AS "attachments" ON "Kopa"."id" = "attachments"."kopa_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopa"."deleted_at" IS NULL AND "Kopa"."id" = 3);
[2016-09-10 15:41:35.315] [ INFO] console - Executing (f80710b0-4bd2-4d06-9d8a-10d0314c1dd9): COMMIT;
[2016-09-10 15:41:35.317] [ INFO] console - [ 70,
  864,
  {},
  [ { id: '3',
      question: 'CHE',
      planned: Thu Sep 01 2016 00:00:00 GMT+0500 (YEKT),
      started: Thu Sep 01 2016 00:00:00 GMT+0500 (YEKT),
      closed: null,
      isOpen: false,
      note: null,
      created_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      deleted_at: null,
      place_id: '2',
      inviter_id: '2',
      attachments: [] } ] ]
[2016-09-10 15:41:35.327] [ INFO] console - Executing (37ff7274-d861-447d-a043-07aa7175f01b): START TRANSACTION;
[2016-09-10 15:41:35.328] [ INFO] console - Executing (37ff7274-d861-447d-a043-07aa7175f01b): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:41:35.332] [ INFO] console - Executing (default): INSERT INTO "Slovo" ("id","value","created_at","updated_at","owner_id","place_id") VALUES (DEFAULT,'some Slovo temp','2016-09-10 10:41:35.329 +00:00','2016-09-10 10:41:35.329 +00:00',2,3) RETURNING *;
[2016-09-10 15:41:35.336] [ INFO] console - Executing (37ff7274-d861-447d-a043-07aa7175f01b): COMMIT;
[2016-09-10 15:41:35.337] [ INFO] console - [ 70, 865, {}, [ '65' ] ]
[2016-09-10 15:41:35.340] [ INFO] console - [ 16,
  6699689489465344,
  { acknowledge: true },
  'ru.kopa.model.Kopa.id3.slovoAdd',
  [ '65' ] ]
[2016-09-10 15:41:41.538] [ INFO] console - [ 70, 867, {}, [ 'unittest2@domain.ru' ] ]
[2016-09-10 15:41:41.543] [DEBUG] Server - #pingPong() [ 1, 2, 3 ] { x: 1, y: 2, z: 3 }
[2016-09-10 15:41:41.546] [ INFO] console - [ 70, 868, {}, [ 1, 2, 3 ], { x: 1, y: 2, z: 3 } ]
[2016-09-10 15:41:41.554] [ INFO] console - Executing (default): select 'КОПА' as result
[2016-09-10 15:41:41.556] [ INFO] console - [ 70, 869, {}, [ 'КОПА' ] ]
[2016-09-10 15:41:41.561] [DEBUG] Server - #error() [ 'sadkljfaskldjfs;af' ] {}
[2016-09-10 15:41:41.563] [ERROR] Server - [Error: sadkljfaskldjfs;af]
Error: sadkljfaskldjfs;af
    at MySuperError (Server.js:339:9)
    at fn.constructor.error.Error (Server.js:344:19)
    at new wrappedPromise (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/async-listener/index.js:372:16)
    at Server.error (Server.js:343:16)
    at Object.<anonymous> (Server.js:415:43)
    at [object Generator].next (native)
    at step (/home/alexey2baranov/htdocs/kp-sequelizejs/src/Server.js:1:253)
    at /home/alexey2baranov/htdocs/kp-sequelizejs/src/Server.js:1:513
    at new wrappedPromise (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/async-listener/index.js:372:16)
    at Object.<anonymous> (/home/alexey2baranov/htdocs/kp-sequelizejs/src/Server.js:1:161)
    at Object.<anonymous> (Server.js:412:28)
    at tryCatchResolve (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/apply.js:46:23)
    at callAndResolve (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/apply.js:30:12)
    at callAndResolveNext (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/apply.js:40:4)
    at tryCatchReject3 (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/makePromise.js:856:7)
    at runContinuation3 (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/makePromise.js:814:4)
[2016-09-10 15:41:41.566] [ INFO] console - [ 8,
  68,
  870,
  {},
  'MySuperError',
  [ 'sadkljfaskldjfs;af' ],
  { stack: 
     [ 'Error: sadkljfaskldjfs;af',
       '    at MySuperError (Server.js:339:9)',
       '    at fn.constructor.error.Error (Server.js:344:19)',
       '    at new wrappedPromise (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/async-listener/index.js:372:16)',
       '    at Server.error (Server.js:343:16)',
       '    at Object.<anonymous> (Server.js:415:43)',
       '    at [object Generator].next (native)',
       '    at step (/home/alexey2baranov/htdocs/kp-sequelizejs/src/Server.js:1:253)',
       '    at /home/alexey2baranov/htdocs/kp-sequelizejs/src/Server.js:1:513',
       '    at new wrappedPromise (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/async-listener/index.js:372:16)',
       '    at Object.<anonymous> (/home/alexey2baranov/htdocs/kp-sequelizejs/src/Server.js:1:161)',
       '    at Object.<anonymous> (Server.js:412:28)',
       '    at tryCatchResolve (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/apply.js:46:23)',
       '    at callAndResolve (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/apply.js:30:12)',
       '    at callAndResolveNext (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/apply.js:40:4)',
       '    at tryCatchReject3 (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/makePromise.js:856:7)',
       '    at runContinuation3 (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/makePromise.js:814:4)' ] } ]
[2016-09-10 15:41:41.577] [ INFO] console - [ 70, 871, {}, [ undefined ] ]
[2016-09-10 15:41:41.581] [ INFO] console - Executing (default): delete from "Slovo"
                where
                    place_id<5
                    and value like '%temp'
[2016-09-10 15:41:41.585] [ INFO] console - Executing (default): delete from "Kopnik"
                where
                    name like '%temp'
[2016-09-10 15:41:41.587] [ INFO] console - Executing (default): update "Kopnik"
                set 
                    "voiskoSize"= case when id=2 then 1 ELSE 0 END
                where
                    id>1 
                    and id<=5
[2016-09-10 15:41:41.614] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopa', id: 3 }
[2016-09-10 15:41:41.616] [ INFO] console - Executing (3e384d78-04eb-487f-ba30-53ad5b5a93b9): START TRANSACTION;
[2016-09-10 15:41:41.619] [ INFO] console - Executing (3e384d78-04eb-487f-ba30-53ad5b5a93b9): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:41:41.625] [ INFO] console - Executing (default): SELECT "Kopa"."id", "Kopa"."question", "Kopa"."planned", "Kopa"."started", "Kopa"."closed", "Kopa"."isOpen", "Kopa"."note", "Kopa"."created_at", "Kopa"."updated_at", "Kopa"."deleted_at", "Kopa"."place_id", "Kopa"."inviter_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopa" AS "Kopa" LEFT OUTER JOIN "File" AS "attachments" ON "Kopa"."id" = "attachments"."kopa_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopa"."deleted_at" IS NULL AND "Kopa"."id" = 3);
[2016-09-10 15:41:41.630] [ INFO] console - Executing (3e384d78-04eb-487f-ba30-53ad5b5a93b9): COMMIT;
[2016-09-10 15:41:41.631] [ INFO] console - [ 70,
  873,
  {},
  [ { id: '3',
      question: 'CHE',
      planned: Thu Sep 01 2016 00:00:00 GMT+0500 (YEKT),
      started: Thu Sep 01 2016 00:00:00 GMT+0500 (YEKT),
      closed: null,
      isOpen: false,
      note: null,
      created_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      deleted_at: null,
      place_id: '2',
      inviter_id: '2',
      attachments: [] } ] ]
[2016-09-10 15:41:41.643] [ INFO] console - Executing (de643a69-a7af-453d-8593-5874613ae5d4): START TRANSACTION;
[2016-09-10 15:41:41.647] [ INFO] console - Executing (de643a69-a7af-453d-8593-5874613ae5d4): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:41:41.651] [ INFO] console - Executing (default): INSERT INTO "Golos" ("id","value","created_at","updated_at","for_id","owner_id") VALUES (DEFAULT,1,'2016-09-10 10:41:41.648 +00:00','2016-09-10 10:41:41.648 +00:00',1,2) RETURNING *;
[2016-09-10 15:41:41.655] [ INFO] console - Executing (de643a69-a7af-453d-8593-5874613ae5d4): COMMIT;
[2016-09-10 15:41:41.656] [ INFO] console - [ 70, 874, {}, [ '34' ] ]
[2016-09-10 15:41:41.659] [ INFO] console - [ 16,
  4108678420496384,
  { acknowledge: true },
  'ru.kopa.model.Predlozhenie.id1.golosAdd',
  [ '34' ] ]
[2016-09-10 15:41:41.686] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopa', id: 3 }
[2016-09-10 15:41:41.689] [ INFO] console - Executing (5b76bb4b-f532-4cbf-8758-b9ec0ae43ef6): START TRANSACTION;
[2016-09-10 15:41:41.690] [ INFO] console - Executing (5b76bb4b-f532-4cbf-8758-b9ec0ae43ef6): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:41:41.699] [ INFO] console - Executing (default): SELECT "Kopa"."id", "Kopa"."question", "Kopa"."planned", "Kopa"."started", "Kopa"."closed", "Kopa"."isOpen", "Kopa"."note", "Kopa"."created_at", "Kopa"."updated_at", "Kopa"."deleted_at", "Kopa"."place_id", "Kopa"."inviter_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopa" AS "Kopa" LEFT OUTER JOIN "File" AS "attachments" ON "Kopa"."id" = "attachments"."kopa_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopa"."deleted_at" IS NULL AND "Kopa"."id" = 3);
[2016-09-10 15:41:41.703] [ INFO] console - Executing (5b76bb4b-f532-4cbf-8758-b9ec0ae43ef6): COMMIT;
[2016-09-10 15:41:41.704] [ INFO] console - [ 70,
  876,
  {},
  [ { id: '3',
      question: 'CHE',
      planned: Thu Sep 01 2016 00:00:00 GMT+0500 (YEKT),
      started: Thu Sep 01 2016 00:00:00 GMT+0500 (YEKT),
      closed: null,
      isOpen: false,
      note: null,
      created_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      deleted_at: null,
      place_id: '2',
      inviter_id: '2',
      attachments: [] } ] ]
[2016-09-10 15:41:41.724] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 2 }
[2016-09-10 15:41:41.727] [ INFO] console - Executing (ed33b679-1c18-457c-86a0-424e1c5414c0): START TRANSACTION;
[2016-09-10 15:41:41.729] [ INFO] console - Executing (ed33b679-1c18-457c-86a0-424e1c5414c0): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:41:41.735] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 2);
[2016-09-10 15:41:41.739] [ INFO] console - Executing (ed33b679-1c18-457c-86a0-424e1c5414c0): COMMIT;
[2016-09-10 15:41:41.740] [ INFO] console - [ 70,
  877,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/2/',
      starshina: [Object],
      id: '2',
      email: 'unittest2@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '1',
      voiskoSize: 1,
      birth: 1983,
      path: '/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: null,
      attachments: [] } ] ]
[2016-09-10 15:41:41.756] [ INFO] console - Executing (9c5e04e9-1bda-4016-912b-bcb9a07b6b63): START TRANSACTION;
[2016-09-10 15:41:41.758] [ INFO] console - Executing (9c5e04e9-1bda-4016-912b-bcb9a07b6b63): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:41:41.763] [ INFO] console - Executing (default): INSERT INTO "Slovo" ("id","value","created_at","updated_at","owner_id","place_id") VALUES (DEFAULT,'some Slovo temp 1473504101748','2016-09-10 10:41:41.759 +00:00','2016-09-10 10:41:41.759 +00:00',2,3) RETURNING *;
[2016-09-10 15:41:41.767] [ INFO] console - Executing (9c5e04e9-1bda-4016-912b-bcb9a07b6b63): COMMIT;
[2016-09-10 15:41:41.768] [ INFO] console - [ 70, 878, {}, [ '66' ] ]
[2016-09-10 15:41:41.770] [ INFO] console - [ 16,
  3406343746617344,
  { acknowledge: true },
  'ru.kopa.model.Kopa.id3.slovoAdd',
  [ '66' ] ]
[2016-09-10 15:41:41.789] [ INFO] console - Executing (964455bc-b2b1-462f-ba69-176c80f0d749): START TRANSACTION;
[2016-09-10 15:41:41.793] [ INFO] console - Executing (964455bc-b2b1-462f-ba69-176c80f0d749): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:41:41.804] [ INFO] console - Executing (default): INSERT INTO "Predlozhenie" ("id","value","created_at","updated_at","initiator_id","place_id") VALUES (DEFAULT,'some Predlozhenie temp 1473504101778','2016-09-10 10:41:41.794 +00:00','2016-09-10 10:41:41.794 +00:00',2,3) RETURNING *;
[2016-09-10 15:41:41.807] [ INFO] console - Executing (964455bc-b2b1-462f-ba69-176c80f0d749): COMMIT;
[2016-09-10 15:41:41.809] [ INFO] console - [ 70, 879, {}, [ '34' ] ]
[2016-09-10 15:41:41.813] [ INFO] console - [ 16,
  126787604447232,
  { acknowledge: true },
  'ru.kopa.model.Kopa.id3.predlozhenieAdd',
  [ '34' ] ]
[2016-09-10 15:41:41.853] [ INFO] console - [ 70, 881, {}, [ undefined ] ]
[2016-09-10 15:41:41.855] [ INFO] console - Executing (default): delete from "Kopnik"
                where
                    name like '%temp'
[2016-09-10 15:41:41.862] [ INFO] console - Executing (default): update "Kopnik"
                set 
                    "voiskoSize"= case when id=2 then 1 ELSE 0 END
                where
                    id>1 
                    and id<=5
[2016-09-10 15:41:41.864] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 2 }
[2016-09-10 15:41:41.867] [ INFO] console - Executing (777c96fe-bdd8-4a3f-8fc6-131941a596c2): START TRANSACTION;
[2016-09-10 15:41:41.869] [ INFO] console - Executing (777c96fe-bdd8-4a3f-8fc6-131941a596c2): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:41:41.875] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 2);
[2016-09-10 15:41:41.879] [ INFO] console - Executing (777c96fe-bdd8-4a3f-8fc6-131941a596c2): COMMIT;
[2016-09-10 15:41:41.881] [ INFO] console - [ 70,
  882,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/2/',
      starshina: [Object],
      id: '2',
      email: 'unittest2@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '1',
      voiskoSize: 1,
      birth: 1983,
      path: '/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: null,
      attachments: [] } ] ]
[2016-09-10 15:41:41.891] [ INFO] console - Executing (9d20f8d9-0ec5-4217-8654-44cfd9df4edb): START TRANSACTION;
[2016-09-10 15:41:41.892] [ INFO] console - Executing (9d20f8d9-0ec5-4217-8654-44cfd9df4edb): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:41:41.902] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 2);
[2016-09-10 15:41:41.906] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"+1
                                where
                                    '/2/' like path||id||'/%'
[2016-09-10 15:41:41.910] [ INFO] console - Executing (default): INSERT INTO "Kopnik" ("id","name","surname","patronymic","voiskoSize","birth","path","created_at","updated_at","rodina_id","starshina_id") VALUES (DEFAULT,'temp','temp','temp',0,1900,'/2/','2016-09-10 10:41:41.894 +00:00','2016-09-10 10:41:41.894 +00:00',NULL,2) RETURNING *;
[2016-09-10 15:41:41.914] [ INFO] console - Executing (9d20f8d9-0ec5-4217-8654-44cfd9df4edb): COMMIT;
[2016-09-10 15:41:41.915] [ INFO] console - [ 70, 883, {}, [ '145' ] ]
[2016-09-10 15:41:41.919] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/' like k.path||k.id||'/%'
[2016-09-10 15:41:41.928] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Zemla', id: 2 }
[2016-09-10 15:41:41.932] [ INFO] console - Executing (50d63180-d81b-40ba-afdb-dc1effc7d991): START TRANSACTION;
[2016-09-10 15:41:41.932] [ INFO] console - Executing (e4ed03b4-dff7-4d32-834c-e8882440ce69): START TRANSACTION;
[2016-09-10 15:41:41.934] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 15:41:41.936] [ INFO] console - Executing (50d63180-d81b-40ba-afdb-dc1effc7d991): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:41:41.937] [ INFO] console - Executing (e4ed03b4-dff7-4d32-834c-e8882440ce69): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:41:41.942] [ INFO] console - [ 16,
  8106003184746496,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id2.voiskoChange',
  [],
  { voiskoSize: 2 } ]
[2016-09-10 15:41:41.961] [ INFO] console - Executing (default): SELECT "Zemla"."id", "Zemla"."path", "Zemla"."name", "Zemla"."intensity", "Zemla"."note", "Zemla"."created_at", "Zemla"."updated_at", "Zemla"."deleted_at", "Zemla"."parent_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Zemla" AS "Zemla" LEFT OUTER JOIN "File" AS "attachments" ON "Zemla"."id" = "attachments"."zemla_id" AND "attachments"."deleted_at" IS NULL WHERE ("Zemla"."deleted_at" IS NULL AND "Zemla"."id" = 2);
[2016-09-10 15:41:41.965] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 145);
[2016-09-10 15:41:41.971] [ INFO] console - Executing (50d63180-d81b-40ba-afdb-dc1effc7d991): COMMIT;
[2016-09-10 15:41:41.973] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"+1
                                where
                                    '/2/145/' like path||id||'/%'
[2016-09-10 15:41:41.974] [ INFO] console - [ 70,
  884,
  {},
  [ { fullPath: 'null2/',
      id: '2',
      path: null,
      name: 'UnitTest2',
      intensity: 1000,
      note: 'unit test 1473504093531',
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Sat Sep 10 2016 15:41:35 GMT+0500 (YEKT),
      deleted_at: null,
      parent_id: '1',
      attachments: [] } ] ]
[2016-09-10 15:41:41.982] [ INFO] console - Executing (default): INSERT INTO "Kopnik" ("id","name","surname","patronymic","voiskoSize","birth","path","created_at","updated_at","rodina_id","starshina_id") VALUES (DEFAULT,'temp','temp','temp',0,1900,'/2/145/','2016-09-10 10:41:41.941 +00:00','2016-09-10 10:41:41.941 +00:00',NULL,145) RETURNING *;
[2016-09-10 15:41:41.990] [ INFO] console - Executing (e4ed03b4-dff7-4d32-834c-e8882440ce69): COMMIT;
[2016-09-10 15:41:41.991] [ INFO] console - [ 70, 885, {}, [ '146' ] ]
[2016-09-10 15:41:41.996] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/145/' like k.path||k.id||'/%'
[2016-09-10 15:41:42.006] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2', '145')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 15:41:42.011] [ INFO] console - [ 16,
  7778052878630912,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id145.voiskoChange',
  [],
  { voiskoSize: 1 } ]
[2016-09-10 15:41:42.020] [ INFO] console - [ 16,
  5778555489222656,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id2.voiskoChange',
  [],
  { voiskoSize: 3 } ]
[2016-09-10 15:41:42.027] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 4 }
[2016-09-10 15:41:42.030] [ INFO] console - Executing (f354b6be-727d-485d-8077-a18798ab329f): START TRANSACTION;
[2016-09-10 15:41:42.032] [ INFO] console - Executing (f354b6be-727d-485d-8077-a18798ab329f): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:41:42.040] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 4);
[2016-09-10 15:41:42.045] [ INFO] console - Executing (f354b6be-727d-485d-8077-a18798ab329f): COMMIT;
[2016-09-10 15:41:42.048] [ INFO] console - [ 70,
  886,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/4/',
      starshina: [Object],
      id: '4',
      email: 'unittest4@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '4',
      voiskoSize: 0,
      birth: 1983,
      path: '/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: null,
      attachments: [] } ] ]
[2016-09-10 15:41:42.063] [ INFO] console - Executing (6b61290f-8fe6-4942-8a17-764409983571): START TRANSACTION;
[2016-09-10 15:41:42.064] [ INFO] console - Executing (6b61290f-8fe6-4942-8a17-764409983571): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:41:42.068] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 145);
[2016-09-10 15:41:42.075] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 4);
[2016-09-10 15:41:42.079] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/' like k.path||k.id||'/%'
[2016-09-10 15:41:42.083] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 15:41:42.087] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"-2
                                where
                                    '/2/' like path||id||'/%'
[2016-09-10 15:41:42.093] [ INFO] console - Executing (default): UPDATE "Kopnik" SET "path"='/4/',"starshina_id"='4',"updated_at"='2016-09-10 10:41:42.088 +00:00' WHERE "id" = '145'
[2016-09-10 15:41:42.101] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"+2
                                where
                                    '/4/' like path||id||'/%'
[2016-09-10 15:41:42.105] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."starshina_id" = '145');
[2016-09-10 15:41:42.112] [ INFO] console - Executing (default): UPDATE "Kopnik" SET "path"='/4/145/',"updated_at"='2016-09-10 10:41:42.108 +00:00' WHERE "id" = '146'
[2016-09-10 15:41:42.115] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/4/' like k.path||k.id||'/%'
[2016-09-10 15:41:42.120] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('4')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 15:41:42.124] [ INFO] console - Executing (6b61290f-8fe6-4942-8a17-764409983571): COMMIT;
[2016-09-10 15:41:42.125] [ INFO] console - [ 70, 887, {}, [ undefined ] ]
[2016-09-10 15:41:42.128] [ INFO] console - [ 16,
  3313910486663168,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id2.voiskoChange',
  [],
  { voiskoSize: 1 } ]
[2016-09-10 15:41:42.132] [ INFO] console - [ 16,
  5531480358912000,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id4.voiskoChange',
  [],
  { voiskoSize: 2 } ]
[2016-09-10 15:41:42.157] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopa', id: 3 }
[2016-09-10 15:41:42.160] [ INFO] console - Executing (da6ea1dc-c653-4b6c-a02e-097a8491b3a5): START TRANSACTION;
[2016-09-10 15:41:42.162] [ INFO] console - Executing (da6ea1dc-c653-4b6c-a02e-097a8491b3a5): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:41:42.169] [ INFO] console - Executing (default): SELECT "Kopa"."id", "Kopa"."question", "Kopa"."planned", "Kopa"."started", "Kopa"."closed", "Kopa"."isOpen", "Kopa"."note", "Kopa"."created_at", "Kopa"."updated_at", "Kopa"."deleted_at", "Kopa"."place_id", "Kopa"."inviter_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopa" AS "Kopa" LEFT OUTER JOIN "File" AS "attachments" ON "Kopa"."id" = "attachments"."kopa_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopa"."deleted_at" IS NULL AND "Kopa"."id" = 3);
[2016-09-10 15:41:42.172] [ INFO] console - Executing (da6ea1dc-c653-4b6c-a02e-097a8491b3a5): COMMIT;
[2016-09-10 15:41:42.174] [ INFO] console - [ 70,
  889,
  {},
  [ { id: '3',
      question: 'CHE',
      planned: Thu Sep 01 2016 00:00:00 GMT+0500 (YEKT),
      started: Thu Sep 01 2016 00:00:00 GMT+0500 (YEKT),
      closed: null,
      isOpen: false,
      note: null,
      created_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      deleted_at: null,
      place_id: '2',
      inviter_id: '2',
      attachments: [] } ] ]
[2016-09-10 15:41:42.185] [ INFO] console - Executing (08fb3a71-7d44-441f-977a-277c8fbde099): START TRANSACTION;
[2016-09-10 15:41:42.187] [ INFO] console - Executing (08fb3a71-7d44-441f-977a-277c8fbde099): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:41:42.193] [ INFO] console - Executing (default): INSERT INTO "Predlozhenie" ("id","value","created_at","updated_at","initiator_id","place_id") VALUES (DEFAULT,'some Predlozhenie temp 1473504100333','2016-09-10 10:41:42.189 +00:00','2016-09-10 10:41:42.189 +00:00',2,3) RETURNING *;
[2016-09-10 15:41:42.196] [ INFO] console - Executing (08fb3a71-7d44-441f-977a-277c8fbde099): COMMIT;
[2016-09-10 15:41:42.197] [ INFO] console - [ 70, 890, {}, [ '35' ] ]
[2016-09-10 15:41:42.207] [ INFO] console - [ 16,
  7435534555152384,
  { acknowledge: true },
  'ru.kopa.model.Kopa.id3.predlozhenieAdd',
  [ '35' ] ]
[2016-09-10 15:41:42.217] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Predlozhenie', id: 1 }
[2016-09-10 15:41:42.221] [ INFO] console - Executing (e5a92975-e947-4810-954f-12b807f4ed33): START TRANSACTION;
[2016-09-10 15:41:42.223] [ INFO] console - Executing (e5a92975-e947-4810-954f-12b807f4ed33): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:41:42.231] [ INFO] console - Executing (default): SELECT "Predlozhenie"."id", "Predlozhenie"."value", "Predlozhenie"."note", "Predlozhenie"."created_at", "Predlozhenie"."updated_at", "Predlozhenie"."deleted_at", "Predlozhenie"."initiator_id", "Predlozhenie"."place_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Predlozhenie" AS "Predlozhenie" LEFT OUTER JOIN "File" AS "attachments" ON "Predlozhenie"."id" = "attachments"."predlozhenie_id" AND "attachments"."deleted_at" IS NULL WHERE ("Predlozhenie"."deleted_at" IS NULL AND "Predlozhenie"."id" = 1);
[2016-09-10 15:41:42.235] [ INFO] console - Executing (e5a92975-e947-4810-954f-12b807f4ed33): COMMIT;
[2016-09-10 15:41:42.236] [ INFO] console - [ 70,
  891,
  {},
  [ { id: '1',
      value: 'Будет ...',
      note: null,
      created_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      deleted_at: null,
      initiator_id: '2',
      place_id: '3',
      attachments: [] } ] ]
[2016-09-10 15:41:42.245] [ INFO] console - Executing (5f7862eb-0acc-4848-9016-1aca36512003): START TRANSACTION;
[2016-09-10 15:41:42.246] [ INFO] console - Executing (5f7862eb-0acc-4848-9016-1aca36512003): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:41:42.250] [ INFO] console - Executing (default): INSERT INTO "Golos" ("id","value","created_at","updated_at","for_id","owner_id") VALUES (DEFAULT,1,'2016-09-10 10:41:42.247 +00:00','2016-09-10 10:41:42.247 +00:00',1,2) RETURNING *;
[2016-09-10 15:41:42.254] [ INFO] console - Executing (5f7862eb-0acc-4848-9016-1aca36512003): COMMIT;
[2016-09-10 15:41:42.256] [ INFO] console - [ 70, 892, {}, [ '35' ] ]
[2016-09-10 15:41:42.257] [ INFO] console - [ 16,
  7118281244672,
  { acknowledge: true },
  'ru.kopa.model.Predlozhenie.id1.golosAdd',
  [ '35' ] ]
[2016-09-10 15:41:42.299] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 2 }
[2016-09-10 15:41:42.306] [ INFO] console - Executing (f421bf9e-b8b5-40b0-ba3e-d4c18ee531f0): START TRANSACTION;
[2016-09-10 15:41:42.310] [ INFO] console - Executing (f421bf9e-b8b5-40b0-ba3e-d4c18ee531f0): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:41:42.320] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 2);
[2016-09-10 15:41:42.324] [ INFO] console - Executing (f421bf9e-b8b5-40b0-ba3e-d4c18ee531f0): COMMIT;
[2016-09-10 15:41:42.325] [ INFO] console - [ 70,
  894,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/2/',
      starshina: [Object],
      id: '2',
      email: 'unittest2@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '1',
      voiskoSize: 1,
      birth: 1983,
      path: '/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: null,
      attachments: [] } ] ]
[2016-09-10 15:41:42.336] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 3 }
[2016-09-10 15:41:42.341] [ INFO] console - Executing (541d37c7-5b69-4c5b-bef5-54a7d7b36c32): START TRANSACTION;
[2016-09-10 15:41:42.342] [ INFO] console - Executing (541d37c7-5b69-4c5b-bef5-54a7d7b36c32): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:41:42.347] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 3);
[2016-09-10 15:41:42.352] [ INFO] console - Executing (541d37c7-5b69-4c5b-bef5-54a7d7b36c32): COMMIT;
[2016-09-10 15:41:42.353] [ INFO] console - [ 70,
  895,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/2/3/',
      starshina: [Object],
      id: '3',
      email: 'unittest3@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '3',
      voiskoSize: 0,
      birth: 1983,
      path: '/2/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: '2',
      attachments: [] } ] ]
[2016-09-10 15:41:42.369] [ INFO] console - Executing (cb3ad729-3b63-4dec-88c2-a5f193bb857a): START TRANSACTION;
[2016-09-10 15:41:42.370] [ INFO] console - Executing (cb3ad729-3b63-4dec-88c2-a5f193bb857a): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:41:42.382] [ INFO] console - Executing (default): INSERT INTO "Slovo" ("id","value","note","created_at","updated_at","owner_id","place_id") VALUES (DEFAULT,'123 temp','456','2016-09-10 10:41:42.372 +00:00','2016-09-10 10:41:42.372 +00:00',2,3) RETURNING *;
[2016-09-10 15:41:42.385] [ INFO] console - Executing (cb3ad729-3b63-4dec-88c2-a5f193bb857a): COMMIT;
[2016-09-10 15:41:42.386] [ INFO] console - [ 70, 896, {}, [ '67' ] ]
[2016-09-10 15:41:42.392] [ INFO] console - [ 16,
  8837220806950912,
  { acknowledge: true },
  'ru.kopa.model.Kopa.id3.slovoAdd',
  [ '67' ] ]
[2016-09-10 15:41:42.396] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Slovo', id: 67 }
[2016-09-10 15:41:42.399] [ INFO] console - Executing (18d287b5-ef5c-487b-899f-5e8ba0f1facb): START TRANSACTION;
[2016-09-10 15:41:42.400] [ INFO] console - Executing (18d287b5-ef5c-487b-899f-5e8ba0f1facb): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:41:42.411] [ INFO] console - Executing (default): SELECT "Slovo"."id", "Slovo"."value", "Slovo"."note", "Slovo"."created_at", "Slovo"."updated_at", "Slovo"."deleted_at", "Slovo"."owner_id", "Slovo"."place_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Slovo" AS "Slovo" LEFT OUTER JOIN "File" AS "attachments" ON "Slovo"."id" = "attachments"."slovo_id" AND "attachments"."deleted_at" IS NULL WHERE ("Slovo"."deleted_at" IS NULL AND "Slovo"."id" = 67);
[2016-09-10 15:41:42.420] [ INFO] console - Executing (18d287b5-ef5c-487b-899f-5e8ba0f1facb): COMMIT;
[2016-09-10 15:41:42.422] [ INFO] console - [ 70,
  897,
  {},
  [ { id: '67',
      value: '123 temp',
      note: '456',
      created_at: Sat Sep 10 2016 15:41:42 GMT+0500 (YEKT),
      updated_at: Sat Sep 10 2016 15:41:42 GMT+0500 (YEKT),
      deleted_at: null,
      owner_id: '2',
      place_id: '3',
      attachments: [] } ] ]
[2016-09-10 15:41:42.431] [ INFO] console - Executing (0d86da67-85ba-44e9-8946-c39ac9058c07): START TRANSACTION;
[2016-09-10 15:41:42.433] [ INFO] console - Executing (0d86da67-85ba-44e9-8946-c39ac9058c07): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:41:42.438] [ INFO] console - Executing (default): INSERT INTO "Slovo" ("id","value","created_at","updated_at","owner_id","place_id") VALUES (DEFAULT,'some value temp 1473504102429','2016-09-10 10:41:42.434 +00:00','2016-09-10 10:41:42.434 +00:00',2,3) RETURNING *;
[2016-09-10 15:41:42.441] [ INFO] console - Executing (0d86da67-85ba-44e9-8946-c39ac9058c07): COMMIT;
[2016-09-10 15:41:42.443] [ INFO] console - [ 70, 898, {}, [ '68' ] ]
[2016-09-10 15:41:42.445] [ INFO] console - [ 16,
  3367604622196736,
  { acknowledge: true },
  'ru.kopa.model.Kopa.id3.slovoAdd',
  [ '68' ] ]
[2016-09-10 15:41:42.451] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Zemla', id: 2 }
[2016-09-10 15:41:42.454] [ INFO] console - Executing (bfe0f64a-5920-4bf9-9ec8-4d58138917fb): START TRANSACTION;
[2016-09-10 15:41:42.456] [ INFO] console - Executing (bfe0f64a-5920-4bf9-9ec8-4d58138917fb): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:41:42.460] [ INFO] console - Executing (default): SELECT "Zemla"."id", "Zemla"."path", "Zemla"."name", "Zemla"."intensity", "Zemla"."note", "Zemla"."created_at", "Zemla"."updated_at", "Zemla"."deleted_at", "Zemla"."parent_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Zemla" AS "Zemla" LEFT OUTER JOIN "File" AS "attachments" ON "Zemla"."id" = "attachments"."zemla_id" AND "attachments"."deleted_at" IS NULL WHERE ("Zemla"."deleted_at" IS NULL AND "Zemla"."id" = 2);
[2016-09-10 15:41:42.464] [ INFO] console - Executing (bfe0f64a-5920-4bf9-9ec8-4d58138917fb): COMMIT;
[2016-09-10 15:41:42.466] [ INFO] console - [ 70,
  899,
  {},
  [ { fullPath: 'null2/',
      id: '2',
      path: null,
      name: 'UnitTest2',
      intensity: 1000,
      note: 'unit test 1473504093531',
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Sat Sep 10 2016 15:41:35 GMT+0500 (YEKT),
      deleted_at: null,
      parent_id: '1',
      attachments: [] } ] ]
[2016-09-10 15:41:42.477] [ INFO] console - Executing (f14140b7-f9b1-4b1f-964a-fc0da971b1f7): START TRANSACTION;
[2016-09-10 15:41:42.478] [ INFO] console - Executing (f14140b7-f9b1-4b1f-964a-fc0da971b1f7): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:41:42.481] [ INFO] console - Executing (default): SELECT "id", "path", "name", "intensity", "note", "created_at", "updated_at", "deleted_at", "parent_id" FROM "Zemla" AS "Zemla" WHERE ("Zemla"."deleted_at" IS NULL AND "Zemla"."id" = 2);
[2016-09-10 15:41:42.488] [ INFO] console - Executing (default): UPDATE "Zemla" SET "parent_id"=1,"note"='unit test 1473504100374',"updated_at"='2016-09-10 10:41:42.484 +00:00' WHERE "id" = '2'
[2016-09-10 15:41:42.490] [ INFO] console - Executing (f14140b7-f9b1-4b1f-964a-fc0da971b1f7): COMMIT;
[2016-09-10 15:41:42.491] [ INFO] console - [ 16,
  4643004765700096,
  { acknowledge: true },
  'ru.kopa.model.Zemla.id2.change' ]
[2016-09-10 15:41:42.495] [ INFO] console - [ 70, 900, {}, [ undefined ] ]
[2016-09-10 15:41:42.500] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Zemla', id: 2 }
[2016-09-10 15:41:42.502] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Zemla', id: 2 }
[2016-09-10 15:41:42.504] [ INFO] console - Executing (81a91541-77bd-48fc-ac94-172c1ee801c7): START TRANSACTION;
[2016-09-10 15:41:42.504] [ INFO] console - Executing (055a6d12-8f2d-4228-ad1f-2ac7046930f6): START TRANSACTION;
[2016-09-10 15:41:42.506] [ INFO] console - Executing (81a91541-77bd-48fc-ac94-172c1ee801c7): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:41:42.506] [ INFO] console - Executing (055a6d12-8f2d-4228-ad1f-2ac7046930f6): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:41:42.515] [ INFO] console - Executing (default): SELECT "Zemla"."id", "Zemla"."path", "Zemla"."name", "Zemla"."intensity", "Zemla"."note", "Zemla"."created_at", "Zemla"."updated_at", "Zemla"."deleted_at", "Zemla"."parent_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Zemla" AS "Zemla" LEFT OUTER JOIN "File" AS "attachments" ON "Zemla"."id" = "attachments"."zemla_id" AND "attachments"."deleted_at" IS NULL WHERE ("Zemla"."deleted_at" IS NULL AND "Zemla"."id" = 2);
[2016-09-10 15:41:42.516] [ INFO] console - Executing (default): SELECT "Zemla"."id", "Zemla"."path", "Zemla"."name", "Zemla"."intensity", "Zemla"."note", "Zemla"."created_at", "Zemla"."updated_at", "Zemla"."deleted_at", "Zemla"."parent_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Zemla" AS "Zemla" LEFT OUTER JOIN "File" AS "attachments" ON "Zemla"."id" = "attachments"."zemla_id" AND "attachments"."deleted_at" IS NULL WHERE ("Zemla"."deleted_at" IS NULL AND "Zemla"."id" = 2);
[2016-09-10 15:41:42.524] [ INFO] console - Executing (81a91541-77bd-48fc-ac94-172c1ee801c7): COMMIT;
[2016-09-10 15:41:42.525] [ INFO] console - Executing (055a6d12-8f2d-4228-ad1f-2ac7046930f6): COMMIT;
[2016-09-10 15:41:42.526] [ INFO] console - [ 70,
  901,
  {},
  [ { fullPath: 'null2/',
      id: '2',
      path: null,
      name: 'UnitTest2',
      intensity: 1000,
      note: 'unit test 1473504100374',
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Sat Sep 10 2016 15:41:42 GMT+0500 (YEKT),
      deleted_at: null,
      parent_id: '1',
      attachments: [] } ] ]
[2016-09-10 15:41:42.530] [ INFO] console - [ 70,
  902,
  {},
  [ { fullPath: 'null2/',
      id: '2',
      path: null,
      name: 'UnitTest2',
      intensity: 1000,
      note: 'unit test 1473504100374',
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Sat Sep 10 2016 15:41:42 GMT+0500 (YEKT),
      deleted_at: null,
      parent_id: '1',
      attachments: [] } ] ]
[2016-09-10 15:41:42.567] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopa', id: 3 }
[2016-09-10 15:41:42.569] [ INFO] console - Executing (c2a5e0da-6f16-4384-b9b9-f25c3e85a967): START TRANSACTION;
[2016-09-10 15:41:42.570] [ INFO] console - Executing (c2a5e0da-6f16-4384-b9b9-f25c3e85a967): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:41:42.576] [ INFO] console - Executing (default): SELECT "Kopa"."id", "Kopa"."question", "Kopa"."planned", "Kopa"."started", "Kopa"."closed", "Kopa"."isOpen", "Kopa"."note", "Kopa"."created_at", "Kopa"."updated_at", "Kopa"."deleted_at", "Kopa"."place_id", "Kopa"."inviter_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopa" AS "Kopa" LEFT OUTER JOIN "File" AS "attachments" ON "Kopa"."id" = "attachments"."kopa_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopa"."deleted_at" IS NULL AND "Kopa"."id" = 3);
[2016-09-10 15:41:42.579] [ INFO] console - Executing (c2a5e0da-6f16-4384-b9b9-f25c3e85a967): COMMIT;
[2016-09-10 15:41:42.580] [ INFO] console - [ 70,
  904,
  {},
  [ { id: '3',
      question: 'CHE',
      planned: Thu Sep 01 2016 00:00:00 GMT+0500 (YEKT),
      started: Thu Sep 01 2016 00:00:00 GMT+0500 (YEKT),
      closed: null,
      isOpen: false,
      note: null,
      created_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      deleted_at: null,
      place_id: '2',
      inviter_id: '2',
      attachments: [] } ] ]
[2016-09-10 15:41:42.597] [ INFO] console - Executing (b9c90207-8bd9-43e1-b6c8-203cf33bf52a): START TRANSACTION;
[2016-09-10 15:41:42.598] [ INFO] console - Executing (b9c90207-8bd9-43e1-b6c8-203cf33bf52a): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:41:42.602] [ INFO] console - Executing (default): INSERT INTO "Slovo" ("id","value","created_at","updated_at","owner_id","place_id") VALUES (DEFAULT,'some Slovo temp','2016-09-10 10:41:42.599 +00:00','2016-09-10 10:41:42.599 +00:00',2,3) RETURNING *;
[2016-09-10 15:41:42.610] [ INFO] console - Executing (b9c90207-8bd9-43e1-b6c8-203cf33bf52a): COMMIT;
[2016-09-10 15:41:42.611] [ INFO] console - [ 70, 905, {}, [ '69' ] ]
[2016-09-10 15:41:42.618] [ INFO] console - [ 16,
  1689476975820800,
  { acknowledge: true },
  'ru.kopa.model.Kopa.id3.slovoAdd',
  [ '69' ] ]
[2016-09-10 15:41:48.699] [ INFO] console - [ 70, 907, {}, [ 'unittest2@domain.ru' ] ]
[2016-09-10 15:41:48.706] [DEBUG] Server - #pingPong() [ 1, 2, 3 ] { x: 1, y: 2, z: 3 }
[2016-09-10 15:41:48.709] [ INFO] console - [ 70, 908, {}, [ 1, 2, 3 ], { x: 1, y: 2, z: 3 } ]
[2016-09-10 15:41:48.716] [ INFO] console - Executing (default): select 'КОПА' as result
[2016-09-10 15:41:48.718] [ INFO] console - [ 70, 909, {}, [ 'КОПА' ] ]
[2016-09-10 15:41:48.722] [DEBUG] Server - #error() [ 'sadkljfaskldjfs;af' ] {}
[2016-09-10 15:41:48.723] [ERROR] Server - [Error: sadkljfaskldjfs;af]
Error: sadkljfaskldjfs;af
    at MySuperError (Server.js:339:9)
    at fn.constructor.error.Error (Server.js:344:19)
    at new wrappedPromise (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/async-listener/index.js:372:16)
    at Server.error (Server.js:343:16)
    at Object.<anonymous> (Server.js:415:43)
    at [object Generator].next (native)
    at step (/home/alexey2baranov/htdocs/kp-sequelizejs/src/Server.js:1:253)
    at /home/alexey2baranov/htdocs/kp-sequelizejs/src/Server.js:1:513
    at new wrappedPromise (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/async-listener/index.js:372:16)
    at Object.<anonymous> (/home/alexey2baranov/htdocs/kp-sequelizejs/src/Server.js:1:161)
    at Object.<anonymous> (Server.js:412:28)
    at tryCatchResolve (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/apply.js:46:23)
    at callAndResolve (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/apply.js:30:12)
    at callAndResolveNext (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/apply.js:40:4)
    at tryCatchReject3 (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/makePromise.js:856:7)
    at runContinuation3 (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/makePromise.js:814:4)
[2016-09-10 15:41:48.725] [ INFO] console - [ 8,
  68,
  910,
  {},
  'MySuperError',
  [ 'sadkljfaskldjfs;af' ],
  { stack: 
     [ 'Error: sadkljfaskldjfs;af',
       '    at MySuperError (Server.js:339:9)',
       '    at fn.constructor.error.Error (Server.js:344:19)',
       '    at new wrappedPromise (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/async-listener/index.js:372:16)',
       '    at Server.error (Server.js:343:16)',
       '    at Object.<anonymous> (Server.js:415:43)',
       '    at [object Generator].next (native)',
       '    at step (/home/alexey2baranov/htdocs/kp-sequelizejs/src/Server.js:1:253)',
       '    at /home/alexey2baranov/htdocs/kp-sequelizejs/src/Server.js:1:513',
       '    at new wrappedPromise (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/async-listener/index.js:372:16)',
       '    at Object.<anonymous> (/home/alexey2baranov/htdocs/kp-sequelizejs/src/Server.js:1:161)',
       '    at Object.<anonymous> (Server.js:412:28)',
       '    at tryCatchResolve (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/apply.js:46:23)',
       '    at callAndResolve (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/apply.js:30:12)',
       '    at callAndResolveNext (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/apply.js:40:4)',
       '    at tryCatchReject3 (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/makePromise.js:856:7)',
       '    at runContinuation3 (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/makePromise.js:814:4)' ] } ]
[2016-09-10 15:41:48.737] [ INFO] console - [ 70, 911, {}, [ undefined ] ]
[2016-09-10 15:41:48.745] [ INFO] console - Executing (default): delete from "Slovo"
                where
                    place_id<5
                    and value like '%temp'
[2016-09-10 15:41:48.750] [ INFO] console - Executing (default): delete from "Kopnik"
                where
                    name like '%temp'
[2016-09-10 15:41:48.751] [ INFO] console - Executing (default): update "Kopnik"
                set 
                    "voiskoSize"= case when id=2 then 1 ELSE 0 END
                where
                    id>1 
                    and id<=5
[2016-09-10 15:41:48.784] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopa', id: 3 }
[2016-09-10 15:41:48.786] [ INFO] console - Executing (8a61efaa-2ee2-4bef-ac31-94b959cdba41): START TRANSACTION;
[2016-09-10 15:41:48.788] [ INFO] console - Executing (8a61efaa-2ee2-4bef-ac31-94b959cdba41): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:41:48.794] [ INFO] console - Executing (default): SELECT "Kopa"."id", "Kopa"."question", "Kopa"."planned", "Kopa"."started", "Kopa"."closed", "Kopa"."isOpen", "Kopa"."note", "Kopa"."created_at", "Kopa"."updated_at", "Kopa"."deleted_at", "Kopa"."place_id", "Kopa"."inviter_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopa" AS "Kopa" LEFT OUTER JOIN "File" AS "attachments" ON "Kopa"."id" = "attachments"."kopa_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopa"."deleted_at" IS NULL AND "Kopa"."id" = 3);
[2016-09-10 15:41:48.798] [ INFO] console - Executing (8a61efaa-2ee2-4bef-ac31-94b959cdba41): COMMIT;
[2016-09-10 15:41:48.800] [ INFO] console - [ 70,
  913,
  {},
  [ { id: '3',
      question: 'CHE',
      planned: Thu Sep 01 2016 00:00:00 GMT+0500 (YEKT),
      started: Thu Sep 01 2016 00:00:00 GMT+0500 (YEKT),
      closed: null,
      isOpen: false,
      note: null,
      created_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      deleted_at: null,
      place_id: '2',
      inviter_id: '2',
      attachments: [] } ] ]
[2016-09-10 15:41:48.810] [ INFO] console - Executing (c7b64c72-90b1-4394-b53b-e25b3e5bae49): START TRANSACTION;
[2016-09-10 15:41:48.812] [ INFO] console - Executing (c7b64c72-90b1-4394-b53b-e25b3e5bae49): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:41:48.817] [ INFO] console - Executing (default): INSERT INTO "Golos" ("id","value","created_at","updated_at","for_id","owner_id") VALUES (DEFAULT,1,'2016-09-10 10:41:48.813 +00:00','2016-09-10 10:41:48.813 +00:00',1,2) RETURNING *;
[2016-09-10 15:41:48.820] [ INFO] console - Executing (c7b64c72-90b1-4394-b53b-e25b3e5bae49): COMMIT;
[2016-09-10 15:41:48.821] [ INFO] console - [ 70, 914, {}, [ '36' ] ]
[2016-09-10 15:41:48.824] [ INFO] console - [ 16,
  1096399959621632,
  { acknowledge: true },
  'ru.kopa.model.Predlozhenie.id1.golosAdd',
  [ '36' ] ]
[2016-09-10 15:41:48.866] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopa', id: 3 }
[2016-09-10 15:41:48.868] [ INFO] console - Executing (d7333a39-2c83-402a-9b95-d8864774c04a): START TRANSACTION;
[2016-09-10 15:41:48.869] [ INFO] console - Executing (d7333a39-2c83-402a-9b95-d8864774c04a): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:41:48.875] [ INFO] console - Executing (default): SELECT "Kopa"."id", "Kopa"."question", "Kopa"."planned", "Kopa"."started", "Kopa"."closed", "Kopa"."isOpen", "Kopa"."note", "Kopa"."created_at", "Kopa"."updated_at", "Kopa"."deleted_at", "Kopa"."place_id", "Kopa"."inviter_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopa" AS "Kopa" LEFT OUTER JOIN "File" AS "attachments" ON "Kopa"."id" = "attachments"."kopa_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopa"."deleted_at" IS NULL AND "Kopa"."id" = 3);
[2016-09-10 15:41:48.880] [ INFO] console - Executing (d7333a39-2c83-402a-9b95-d8864774c04a): COMMIT;
[2016-09-10 15:41:48.881] [ INFO] console - [ 70,
  916,
  {},
  [ { id: '3',
      question: 'CHE',
      planned: Thu Sep 01 2016 00:00:00 GMT+0500 (YEKT),
      started: Thu Sep 01 2016 00:00:00 GMT+0500 (YEKT),
      closed: null,
      isOpen: false,
      note: null,
      created_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      deleted_at: null,
      place_id: '2',
      inviter_id: '2',
      attachments: [] } ] ]
[2016-09-10 15:41:48.889] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 2 }
[2016-09-10 15:41:48.892] [ INFO] console - Executing (ff04afaa-4340-4a4c-a6f8-5a2bf6d62cef): START TRANSACTION;
[2016-09-10 15:41:48.894] [ INFO] console - Executing (ff04afaa-4340-4a4c-a6f8-5a2bf6d62cef): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:41:48.901] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 2);
[2016-09-10 15:41:48.906] [ INFO] console - Executing (ff04afaa-4340-4a4c-a6f8-5a2bf6d62cef): COMMIT;
[2016-09-10 15:41:48.908] [ INFO] console - [ 70,
  917,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/2/',
      starshina: [Object],
      id: '2',
      email: 'unittest2@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '1',
      voiskoSize: 1,
      birth: 1983,
      path: '/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: null,
      attachments: [] } ] ]
[2016-09-10 15:41:48.922] [ INFO] console - Executing (a37bc6b9-36ce-48a1-9b34-6bdc4acc8217): START TRANSACTION;
[2016-09-10 15:41:48.923] [ INFO] console - Executing (a37bc6b9-36ce-48a1-9b34-6bdc4acc8217): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:41:48.929] [ INFO] console - Executing (default): INSERT INTO "Slovo" ("id","value","created_at","updated_at","owner_id","place_id") VALUES (DEFAULT,'some Slovo temp 1473504108919','2016-09-10 10:41:48.925 +00:00','2016-09-10 10:41:48.925 +00:00',2,3) RETURNING *;
[2016-09-10 15:41:48.931] [ INFO] console - Executing (a37bc6b9-36ce-48a1-9b34-6bdc4acc8217): COMMIT;
[2016-09-10 15:41:48.933] [ INFO] console - [ 70, 918, {}, [ '70' ] ]
[2016-09-10 15:41:48.936] [ INFO] console - [ 16,
  5818917121425408,
  { acknowledge: true },
  'ru.kopa.model.Kopa.id3.slovoAdd',
  [ '70' ] ]
[2016-09-10 15:41:48.946] [ INFO] console - Executing (7045a641-42cd-47a5-9daa-3295d84a2dbe): START TRANSACTION;
[2016-09-10 15:41:48.953] [ INFO] console - Executing (7045a641-42cd-47a5-9daa-3295d84a2dbe): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:41:48.963] [ INFO] console - Executing (default): INSERT INTO "Predlozhenie" ("id","value","created_at","updated_at","initiator_id","place_id") VALUES (DEFAULT,'some Predlozhenie temp 1473504108941','2016-09-10 10:41:48.955 +00:00','2016-09-10 10:41:48.955 +00:00',2,3) RETURNING *;
[2016-09-10 15:41:48.966] [ INFO] console - Executing (7045a641-42cd-47a5-9daa-3295d84a2dbe): COMMIT;
[2016-09-10 15:41:48.968] [ INFO] console - [ 70, 919, {}, [ '36' ] ]
[2016-09-10 15:41:48.972] [ INFO] console - [ 16,
  6812491455660032,
  { acknowledge: true },
  'ru.kopa.model.Kopa.id3.predlozhenieAdd',
  [ '36' ] ]
[2016-09-10 15:41:49.002] [ INFO] console - [ 70, 921, {}, [ undefined ] ]
[2016-09-10 15:41:49.005] [ INFO] console - Executing (default): delete from "Kopnik"
                where
                    name like '%temp'
[2016-09-10 15:41:49.007] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 2 }
[2016-09-10 15:41:49.009] [ INFO] console - Executing (default): update "Kopnik"
                set 
                    "voiskoSize"= case when id=2 then 1 ELSE 0 END
                where
                    id>1 
                    and id<=5
[2016-09-10 15:41:49.010] [ INFO] console - Executing (eab42122-233c-4fab-a3a6-3f58511b05a4): START TRANSACTION;
[2016-09-10 15:41:49.014] [ INFO] console - Executing (eab42122-233c-4fab-a3a6-3f58511b05a4): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:41:49.022] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 2);
[2016-09-10 15:41:49.027] [ INFO] console - Executing (eab42122-233c-4fab-a3a6-3f58511b05a4): COMMIT;
[2016-09-10 15:41:49.028] [ INFO] console - [ 70,
  922,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/2/',
      starshina: [Object],
      id: '2',
      email: 'unittest2@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '1',
      voiskoSize: 1,
      birth: 1983,
      path: '/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: null,
      attachments: [] } ] ]
[2016-09-10 15:41:49.039] [ INFO] console - Executing (7697b957-99d4-415e-930b-0b820f80b950): START TRANSACTION;
[2016-09-10 15:41:49.041] [ INFO] console - Executing (7697b957-99d4-415e-930b-0b820f80b950): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:41:49.046] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 2);
[2016-09-10 15:41:49.051] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"+1
                                where
                                    '/2/' like path||id||'/%'
[2016-09-10 15:41:49.058] [ INFO] console - Executing (default): INSERT INTO "Kopnik" ("id","name","surname","patronymic","voiskoSize","birth","path","created_at","updated_at","rodina_id","starshina_id") VALUES (DEFAULT,'temp','temp','temp',0,1900,'/2/','2016-09-10 10:41:49.042 +00:00','2016-09-10 10:41:49.042 +00:00',NULL,2) RETURNING *;
[2016-09-10 15:41:49.061] [ INFO] console - Executing (7697b957-99d4-415e-930b-0b820f80b950): COMMIT;
[2016-09-10 15:41:49.062] [ INFO] console - [ 70, 923, {}, [ '147' ] ]
[2016-09-10 15:41:49.066] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/' like k.path||k.id||'/%'
[2016-09-10 15:41:49.073] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 15:41:49.074] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Zemla', id: 2 }
[2016-09-10 15:41:49.081] [ INFO] console - Executing (41b60260-b41a-4975-a3f9-fa73d29ccfa0): START TRANSACTION;
[2016-09-10 15:41:49.083] [ INFO] console - Executing (0f72cb65-a95e-49ac-84cc-b48863e0ab05): START TRANSACTION;
[2016-09-10 15:41:49.085] [ INFO] console - [ 16,
  6006007226433536,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id2.voiskoChange',
  [],
  { voiskoSize: 2 } ]
[2016-09-10 15:41:49.088] [ INFO] console - Executing (41b60260-b41a-4975-a3f9-fa73d29ccfa0): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:41:49.089] [ INFO] console - Executing (0f72cb65-a95e-49ac-84cc-b48863e0ab05): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:41:49.096] [ INFO] console - Executing (default): SELECT "Zemla"."id", "Zemla"."path", "Zemla"."name", "Zemla"."intensity", "Zemla"."note", "Zemla"."created_at", "Zemla"."updated_at", "Zemla"."deleted_at", "Zemla"."parent_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Zemla" AS "Zemla" LEFT OUTER JOIN "File" AS "attachments" ON "Zemla"."id" = "attachments"."zemla_id" AND "attachments"."deleted_at" IS NULL WHERE ("Zemla"."deleted_at" IS NULL AND "Zemla"."id" = 2);
[2016-09-10 15:41:49.100] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 147);
[2016-09-10 15:41:49.106] [ INFO] console - Executing (41b60260-b41a-4975-a3f9-fa73d29ccfa0): COMMIT;
[2016-09-10 15:41:49.107] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"+1
                                where
                                    '/2/147/' like path||id||'/%'
[2016-09-10 15:41:49.109] [ INFO] console - [ 70,
  924,
  {},
  [ { fullPath: 'null2/',
      id: '2',
      path: null,
      name: 'UnitTest2',
      intensity: 1000,
      note: 'unit test 1473504100374',
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Sat Sep 10 2016 15:41:42 GMT+0500 (YEKT),
      deleted_at: null,
      parent_id: '1',
      attachments: [] } ] ]
[2016-09-10 15:41:49.117] [ INFO] console - Executing (default): INSERT INTO "Kopnik" ("id","name","surname","patronymic","voiskoSize","birth","path","created_at","updated_at","rodina_id","starshina_id") VALUES (DEFAULT,'temp','temp','temp',0,1900,'/2/147/','2016-09-10 10:41:49.091 +00:00','2016-09-10 10:41:49.091 +00:00',NULL,147) RETURNING *;
[2016-09-10 15:41:49.121] [ INFO] console - Executing (0f72cb65-a95e-49ac-84cc-b48863e0ab05): COMMIT;
[2016-09-10 15:41:49.122] [ INFO] console - [ 70, 925, {}, [ '148' ] ]
[2016-09-10 15:41:49.126] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/147/' like k.path||k.id||'/%'
[2016-09-10 15:41:49.132] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2', '147')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 15:41:49.138] [ INFO] console - [ 16,
  4243502539997184,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id147.voiskoChange',
  [],
  { voiskoSize: 1 } ]
[2016-09-10 15:41:49.143] [ INFO] console - [ 16,
  2418420752580608,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id2.voiskoChange',
  [],
  { voiskoSize: 3 } ]
[2016-09-10 15:41:49.153] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 4 }
[2016-09-10 15:41:49.162] [ INFO] console - Executing (3e8eb2fb-206c-49ca-9872-a416859de07d): START TRANSACTION;
[2016-09-10 15:41:49.165] [ INFO] console - Executing (3e8eb2fb-206c-49ca-9872-a416859de07d): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:41:49.172] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 4);
[2016-09-10 15:41:49.177] [ INFO] console - Executing (3e8eb2fb-206c-49ca-9872-a416859de07d): COMMIT;
[2016-09-10 15:41:49.179] [ INFO] console - [ 70,
  926,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/4/',
      starshina: [Object],
      id: '4',
      email: 'unittest4@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '4',
      voiskoSize: 0,
      birth: 1983,
      path: '/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: null,
      attachments: [] } ] ]
[2016-09-10 15:41:49.191] [ INFO] console - Executing (1909d63b-6586-47a7-af21-d7007a59a4e4): START TRANSACTION;
[2016-09-10 15:41:49.193] [ INFO] console - Executing (1909d63b-6586-47a7-af21-d7007a59a4e4): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:41:49.196] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 147);
[2016-09-10 15:41:49.203] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 4);
[2016-09-10 15:41:49.206] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/' like k.path||k.id||'/%'
[2016-09-10 15:41:49.212] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 15:41:49.215] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"-2
                                where
                                    '/2/' like path||id||'/%'
[2016-09-10 15:41:49.222] [ INFO] console - Executing (default): UPDATE "Kopnik" SET "path"='/4/',"starshina_id"='4',"updated_at"='2016-09-10 10:41:49.217 +00:00' WHERE "id" = '147'
[2016-09-10 15:41:49.225] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"+2
                                where
                                    '/4/' like path||id||'/%'
[2016-09-10 15:41:49.229] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."starshina_id" = '147');
[2016-09-10 15:41:49.238] [ INFO] console - Executing (default): UPDATE "Kopnik" SET "path"='/4/147/',"updated_at"='2016-09-10 10:41:49.232 +00:00' WHERE "id" = '148'
[2016-09-10 15:41:49.241] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/4/' like k.path||k.id||'/%'
[2016-09-10 15:41:49.248] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('4')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 15:41:49.264] [ INFO] console - Executing (1909d63b-6586-47a7-af21-d7007a59a4e4): COMMIT;
[2016-09-10 15:41:49.266] [ INFO] console - [ 70, 927, {}, [ undefined ] ]
[2016-09-10 15:41:49.269] [ INFO] console - [ 16,
  6881278768971776,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id2.voiskoChange',
  [],
  { voiskoSize: 1 } ]
[2016-09-10 15:41:49.276] [ INFO] console - [ 16,
  5024394634067968,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id4.voiskoChange',
  [],
  { voiskoSize: 2 } ]
[2016-09-10 15:41:49.300] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopa', id: 3 }
[2016-09-10 15:41:49.302] [ INFO] console - Executing (d4cf2add-2fad-4da5-b421-bb6d7b77e40c): START TRANSACTION;
[2016-09-10 15:41:49.304] [ INFO] console - Executing (d4cf2add-2fad-4da5-b421-bb6d7b77e40c): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:41:49.312] [ INFO] console - Executing (default): SELECT "Kopa"."id", "Kopa"."question", "Kopa"."planned", "Kopa"."started", "Kopa"."closed", "Kopa"."isOpen", "Kopa"."note", "Kopa"."created_at", "Kopa"."updated_at", "Kopa"."deleted_at", "Kopa"."place_id", "Kopa"."inviter_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopa" AS "Kopa" LEFT OUTER JOIN "File" AS "attachments" ON "Kopa"."id" = "attachments"."kopa_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopa"."deleted_at" IS NULL AND "Kopa"."id" = 3);
[2016-09-10 15:41:49.324] [ INFO] console - Executing (d4cf2add-2fad-4da5-b421-bb6d7b77e40c): COMMIT;
[2016-09-10 15:41:49.326] [ INFO] console - [ 70,
  929,
  {},
  [ { id: '3',
      question: 'CHE',
      planned: Thu Sep 01 2016 00:00:00 GMT+0500 (YEKT),
      started: Thu Sep 01 2016 00:00:00 GMT+0500 (YEKT),
      closed: null,
      isOpen: false,
      note: null,
      created_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      deleted_at: null,
      place_id: '2',
      inviter_id: '2',
      attachments: [] } ] ]
[2016-09-10 15:41:49.337] [ INFO] console - Executing (bd8d0ea6-4951-4882-9151-7519cea13969): START TRANSACTION;
[2016-09-10 15:41:49.338] [ INFO] console - Executing (bd8d0ea6-4951-4882-9151-7519cea13969): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:41:49.345] [ INFO] console - Executing (default): INSERT INTO "Predlozhenie" ("id","value","created_at","updated_at","initiator_id","place_id") VALUES (DEFAULT,'some Predlozhenie temp 1473504107469','2016-09-10 10:41:49.341 +00:00','2016-09-10 10:41:49.341 +00:00',2,3) RETURNING *;
[2016-09-10 15:41:49.348] [ INFO] console - Executing (bd8d0ea6-4951-4882-9151-7519cea13969): COMMIT;
[2016-09-10 15:41:49.349] [ INFO] console - [ 70, 930, {}, [ '37' ] ]
[2016-09-10 15:41:49.351] [ INFO] console - [ 16,
  3501510858113024,
  { acknowledge: true },
  'ru.kopa.model.Kopa.id3.predlozhenieAdd',
  [ '37' ] ]
[2016-09-10 15:41:49.360] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Predlozhenie', id: 1 }
[2016-09-10 15:41:49.362] [ INFO] console - Executing (9fa51a58-2b44-4f44-8c40-eb40ab4ebc99): START TRANSACTION;
[2016-09-10 15:41:49.364] [ INFO] console - Executing (9fa51a58-2b44-4f44-8c40-eb40ab4ebc99): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:41:49.378] [ INFO] console - Executing (default): SELECT "Predlozhenie"."id", "Predlozhenie"."value", "Predlozhenie"."note", "Predlozhenie"."created_at", "Predlozhenie"."updated_at", "Predlozhenie"."deleted_at", "Predlozhenie"."initiator_id", "Predlozhenie"."place_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Predlozhenie" AS "Predlozhenie" LEFT OUTER JOIN "File" AS "attachments" ON "Predlozhenie"."id" = "attachments"."predlozhenie_id" AND "attachments"."deleted_at" IS NULL WHERE ("Predlozhenie"."deleted_at" IS NULL AND "Predlozhenie"."id" = 1);
[2016-09-10 15:41:49.383] [ INFO] console - Executing (9fa51a58-2b44-4f44-8c40-eb40ab4ebc99): COMMIT;
[2016-09-10 15:41:49.384] [ INFO] console - [ 70,
  931,
  {},
  [ { id: '1',
      value: 'Будет ...',
      note: null,
      created_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      deleted_at: null,
      initiator_id: '2',
      place_id: '3',
      attachments: [] } ] ]
[2016-09-10 15:41:49.395] [ INFO] console - Executing (090d00f8-b452-48bc-b291-a652d1d6ea91): START TRANSACTION;
[2016-09-10 15:41:49.396] [ INFO] console - Executing (090d00f8-b452-48bc-b291-a652d1d6ea91): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:41:49.405] [ INFO] console - Executing (default): INSERT INTO "Golos" ("id","value","created_at","updated_at","for_id","owner_id") VALUES (DEFAULT,1,'2016-09-10 10:41:49.398 +00:00','2016-09-10 10:41:49.398 +00:00',1,2) RETURNING *;
[2016-09-10 15:41:49.409] [ INFO] console - Executing (090d00f8-b452-48bc-b291-a652d1d6ea91): COMMIT;
[2016-09-10 15:41:49.410] [ INFO] console - [ 70, 932, {}, [ '37' ] ]
[2016-09-10 15:41:49.413] [ INFO] console - [ 16,
  5777814844342272,
  { acknowledge: true },
  'ru.kopa.model.Predlozhenie.id1.golosAdd',
  [ '37' ] ]
[2016-09-10 15:41:49.441] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 2 }
[2016-09-10 15:41:49.444] [ INFO] console - Executing (b1e6e5b3-bac8-4893-9166-66e576030bb4): START TRANSACTION;
[2016-09-10 15:41:49.445] [ INFO] console - Executing (b1e6e5b3-bac8-4893-9166-66e576030bb4): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:41:49.450] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 2);
[2016-09-10 15:41:49.456] [ INFO] console - Executing (b1e6e5b3-bac8-4893-9166-66e576030bb4): COMMIT;
[2016-09-10 15:41:49.457] [ INFO] console - [ 70,
  934,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/2/',
      starshina: [Object],
      id: '2',
      email: 'unittest2@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '1',
      voiskoSize: 1,
      birth: 1983,
      path: '/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: null,
      attachments: [] } ] ]
[2016-09-10 15:41:49.472] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 3 }
[2016-09-10 15:41:49.479] [ INFO] console - Executing (4bc97d8d-03b9-47f7-8b62-228b52ce0e9a): START TRANSACTION;
[2016-09-10 15:41:49.481] [ INFO] console - Executing (4bc97d8d-03b9-47f7-8b62-228b52ce0e9a): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:41:49.492] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 3);
[2016-09-10 15:41:49.498] [ INFO] console - Executing (4bc97d8d-03b9-47f7-8b62-228b52ce0e9a): COMMIT;
[2016-09-10 15:41:49.500] [ INFO] console - [ 70,
  935,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/2/3/',
      starshina: [Object],
      id: '3',
      email: 'unittest3@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '3',
      voiskoSize: 0,
      birth: 1983,
      path: '/2/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: '2',
      attachments: [] } ] ]
[2016-09-10 15:41:49.514] [ INFO] console - Executing (e16ecacf-1211-4b89-b186-220414405968): START TRANSACTION;
[2016-09-10 15:41:49.534] [ INFO] console - Executing (e16ecacf-1211-4b89-b186-220414405968): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:41:49.552] [ INFO] console - Executing (default): INSERT INTO "Slovo" ("id","value","note","created_at","updated_at","owner_id","place_id") VALUES (DEFAULT,'123 temp','456','2016-09-10 10:41:49.544 +00:00','2016-09-10 10:41:49.544 +00:00',2,3) RETURNING *;
[2016-09-10 15:41:49.563] [ INFO] console - Executing (e16ecacf-1211-4b89-b186-220414405968): COMMIT;
[2016-09-10 15:41:49.565] [ INFO] console - [ 70, 936, {}, [ '71' ] ]
[2016-09-10 15:41:49.572] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Slovo', id: 71 }
[2016-09-10 15:41:49.575] [ INFO] console - [ 16,
  2152666411040768,
  { acknowledge: true },
  'ru.kopa.model.Kopa.id3.slovoAdd',
  [ '71' ] ]
[2016-09-10 15:41:49.580] [ INFO] console - Executing (04ed7f46-cdbb-4837-b87f-9c729effc18e): START TRANSACTION;
[2016-09-10 15:41:49.582] [ INFO] console - Executing (04ed7f46-cdbb-4837-b87f-9c729effc18e): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:41:49.588] [ INFO] console - Executing (default): SELECT "Slovo"."id", "Slovo"."value", "Slovo"."note", "Slovo"."created_at", "Slovo"."updated_at", "Slovo"."deleted_at", "Slovo"."owner_id", "Slovo"."place_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Slovo" AS "Slovo" LEFT OUTER JOIN "File" AS "attachments" ON "Slovo"."id" = "attachments"."slovo_id" AND "attachments"."deleted_at" IS NULL WHERE ("Slovo"."deleted_at" IS NULL AND "Slovo"."id" = 71);
[2016-09-10 15:41:49.593] [ INFO] console - Executing (04ed7f46-cdbb-4837-b87f-9c729effc18e): COMMIT;
[2016-09-10 15:41:49.595] [ INFO] console - [ 70,
  937,
  {},
  [ { id: '71',
      value: '123 temp',
      note: '456',
      created_at: Sat Sep 10 2016 15:41:49 GMT+0500 (YEKT),
      updated_at: Sat Sep 10 2016 15:41:49 GMT+0500 (YEKT),
      deleted_at: null,
      owner_id: '2',
      place_id: '3',
      attachments: [] } ] ]
[2016-09-10 15:41:49.624] [ INFO] console - Executing (8b8c06e9-a75f-4e70-8890-586db0dd4ad5): START TRANSACTION;
[2016-09-10 15:41:49.625] [ INFO] console - Executing (8b8c06e9-a75f-4e70-8890-586db0dd4ad5): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:41:49.630] [ INFO] console - Executing (default): INSERT INTO "Slovo" ("id","value","created_at","updated_at","owner_id","place_id") VALUES (DEFAULT,'some value temp 1473504109607','2016-09-10 10:41:49.626 +00:00','2016-09-10 10:41:49.626 +00:00',2,3) RETURNING *;
[2016-09-10 15:41:49.633] [ INFO] console - Executing (8b8c06e9-a75f-4e70-8890-586db0dd4ad5): COMMIT;
[2016-09-10 15:41:49.635] [ INFO] console - [ 70, 938, {}, [ '72' ] ]
[2016-09-10 15:41:49.637] [ INFO] console - [ 16,
  3910148326162432,
  { acknowledge: true },
  'ru.kopa.model.Kopa.id3.slovoAdd',
  [ '72' ] ]
[2016-09-10 15:41:49.646] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Zemla', id: 2 }
[2016-09-10 15:41:49.649] [ INFO] console - Executing (95b320ed-434b-479c-a0e5-0900355e7516): START TRANSACTION;
[2016-09-10 15:41:49.650] [ INFO] console - Executing (95b320ed-434b-479c-a0e5-0900355e7516): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:41:49.659] [ INFO] console - Executing (default): SELECT "Zemla"."id", "Zemla"."path", "Zemla"."name", "Zemla"."intensity", "Zemla"."note", "Zemla"."created_at", "Zemla"."updated_at", "Zemla"."deleted_at", "Zemla"."parent_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Zemla" AS "Zemla" LEFT OUTER JOIN "File" AS "attachments" ON "Zemla"."id" = "attachments"."zemla_id" AND "attachments"."deleted_at" IS NULL WHERE ("Zemla"."deleted_at" IS NULL AND "Zemla"."id" = 2);
[2016-09-10 15:41:49.666] [ INFO] console - Executing (95b320ed-434b-479c-a0e5-0900355e7516): COMMIT;
[2016-09-10 15:41:49.667] [ INFO] console - [ 70,
  939,
  {},
  [ { fullPath: 'null2/',
      id: '2',
      path: null,
      name: 'UnitTest2',
      intensity: 1000,
      note: 'unit test 1473504100374',
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Sat Sep 10 2016 15:41:42 GMT+0500 (YEKT),
      deleted_at: null,
      parent_id: '1',
      attachments: [] } ] ]
[2016-09-10 15:41:49.682] [ INFO] console - Executing (78e1ab0f-c18c-4102-8e8b-1ecdecc968c6): START TRANSACTION;
[2016-09-10 15:41:49.683] [ INFO] console - Executing (78e1ab0f-c18c-4102-8e8b-1ecdecc968c6): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:41:49.687] [ INFO] console - Executing (default): SELECT "id", "path", "name", "intensity", "note", "created_at", "updated_at", "deleted_at", "parent_id" FROM "Zemla" AS "Zemla" WHERE ("Zemla"."deleted_at" IS NULL AND "Zemla"."id" = 2);
[2016-09-10 15:41:49.694] [ INFO] console - Executing (default): UPDATE "Zemla" SET "parent_id"=1,"note"='unit test 1473504107509',"updated_at"='2016-09-10 10:41:49.689 +00:00' WHERE "id" = '2'
[2016-09-10 15:41:49.697] [ INFO] console - Executing (78e1ab0f-c18c-4102-8e8b-1ecdecc968c6): COMMIT;
[2016-09-10 15:41:49.699] [ INFO] console - [ 16,
  3966090728177664,
  { acknowledge: true },
  'ru.kopa.model.Zemla.id2.change' ]
[2016-09-10 15:41:49.703] [ INFO] console - [ 70, 940, {}, [ undefined ] ]
[2016-09-10 15:41:49.707] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Zemla', id: 2 }
[2016-09-10 15:41:49.710] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Zemla', id: 2 }
[2016-09-10 15:41:49.714] [ INFO] console - Executing (69c02bd7-0a46-4bca-bf3f-0f8790dea856): START TRANSACTION;
[2016-09-10 15:41:49.714] [ INFO] console - Executing (217f8a3f-40bd-48ca-8905-3818b664e43a): START TRANSACTION;
[2016-09-10 15:41:49.716] [ INFO] console - Executing (69c02bd7-0a46-4bca-bf3f-0f8790dea856): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:41:49.717] [ INFO] console - Executing (217f8a3f-40bd-48ca-8905-3818b664e43a): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:41:49.728] [ INFO] console - Executing (default): SELECT "Zemla"."id", "Zemla"."path", "Zemla"."name", "Zemla"."intensity", "Zemla"."note", "Zemla"."created_at", "Zemla"."updated_at", "Zemla"."deleted_at", "Zemla"."parent_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Zemla" AS "Zemla" LEFT OUTER JOIN "File" AS "attachments" ON "Zemla"."id" = "attachments"."zemla_id" AND "attachments"."deleted_at" IS NULL WHERE ("Zemla"."deleted_at" IS NULL AND "Zemla"."id" = 2);
[2016-09-10 15:41:49.728] [ INFO] console - Executing (default): SELECT "Zemla"."id", "Zemla"."path", "Zemla"."name", "Zemla"."intensity", "Zemla"."note", "Zemla"."created_at", "Zemla"."updated_at", "Zemla"."deleted_at", "Zemla"."parent_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Zemla" AS "Zemla" LEFT OUTER JOIN "File" AS "attachments" ON "Zemla"."id" = "attachments"."zemla_id" AND "attachments"."deleted_at" IS NULL WHERE ("Zemla"."deleted_at" IS NULL AND "Zemla"."id" = 2);
[2016-09-10 15:41:49.734] [ INFO] console - Executing (69c02bd7-0a46-4bca-bf3f-0f8790dea856): COMMIT;
[2016-09-10 15:41:49.737] [ INFO] console - Executing (217f8a3f-40bd-48ca-8905-3818b664e43a): COMMIT;
[2016-09-10 15:41:49.739] [ INFO] console - [ 70,
  941,
  {},
  [ { fullPath: 'null2/',
      id: '2',
      path: null,
      name: 'UnitTest2',
      intensity: 1000,
      note: 'unit test 1473504107509',
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Sat Sep 10 2016 15:41:49 GMT+0500 (YEKT),
      deleted_at: null,
      parent_id: '1',
      attachments: [] } ] ]
[2016-09-10 15:41:49.745] [ INFO] console - [ 70,
  942,
  {},
  [ { fullPath: 'null2/',
      id: '2',
      path: null,
      name: 'UnitTest2',
      intensity: 1000,
      note: 'unit test 1473504107509',
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Sat Sep 10 2016 15:41:49 GMT+0500 (YEKT),
      deleted_at: null,
      parent_id: '1',
      attachments: [] } ] ]
[2016-09-10 15:41:49.794] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopa', id: 3 }
[2016-09-10 15:41:49.798] [ INFO] console - Executing (eebf8608-5143-4cec-b27c-43b6dac76f51): START TRANSACTION;
[2016-09-10 15:41:49.800] [ INFO] console - Executing (eebf8608-5143-4cec-b27c-43b6dac76f51): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:41:49.837] [ INFO] console - Executing (default): SELECT "Kopa"."id", "Kopa"."question", "Kopa"."planned", "Kopa"."started", "Kopa"."closed", "Kopa"."isOpen", "Kopa"."note", "Kopa"."created_at", "Kopa"."updated_at", "Kopa"."deleted_at", "Kopa"."place_id", "Kopa"."inviter_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopa" AS "Kopa" LEFT OUTER JOIN "File" AS "attachments" ON "Kopa"."id" = "attachments"."kopa_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopa"."deleted_at" IS NULL AND "Kopa"."id" = 3);
[2016-09-10 15:41:49.855] [ INFO] console - Executing (eebf8608-5143-4cec-b27c-43b6dac76f51): COMMIT;
[2016-09-10 15:41:49.857] [ INFO] console - [ 70,
  944,
  {},
  [ { id: '3',
      question: 'CHE',
      planned: Thu Sep 01 2016 00:00:00 GMT+0500 (YEKT),
      started: Thu Sep 01 2016 00:00:00 GMT+0500 (YEKT),
      closed: null,
      isOpen: false,
      note: null,
      created_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      deleted_at: null,
      place_id: '2',
      inviter_id: '2',
      attachments: [] } ] ]
[2016-09-10 15:41:49.875] [ INFO] console - Executing (be21f548-2f3a-4729-90b8-ecbebc4eb018): START TRANSACTION;
[2016-09-10 15:41:49.878] [ INFO] console - Executing (be21f548-2f3a-4729-90b8-ecbebc4eb018): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:41:49.887] [ INFO] console - Executing (default): INSERT INTO "Slovo" ("id","value","created_at","updated_at","owner_id","place_id") VALUES (DEFAULT,'some Slovo temp','2016-09-10 10:41:49.881 +00:00','2016-09-10 10:41:49.881 +00:00',2,3) RETURNING *;
[2016-09-10 15:41:49.898] [ INFO] console - Executing (be21f548-2f3a-4729-90b8-ecbebc4eb018): COMMIT;
[2016-09-10 15:41:49.899] [ INFO] console - [ 70, 945, {}, [ '73' ] ]
[2016-09-10 15:41:49.904] [ INFO] console - [ 16,
  5744845494681600,
  { acknowledge: true },
  'ru.kopa.model.Kopa.id3.slovoAdd',
  [ '73' ] ]
[2016-09-10 15:42:30.400] [ INFO] console - [ 70, 947, {}, [ 'unittest2@domain.ru' ] ]
[2016-09-10 15:42:30.408] [DEBUG] Server - #pingPong() [ 1, 2, 3 ] { x: 1, y: 2, z: 3 }
[2016-09-10 15:42:30.410] [ INFO] console - [ 70, 948, {}, [ 1, 2, 3 ], { x: 1, y: 2, z: 3 } ]
[2016-09-10 15:42:30.428] [ INFO] console - Executing (default): select 'КОПА' as result
[2016-09-10 15:42:30.430] [ INFO] console - [ 70, 949, {}, [ 'КОПА' ] ]
[2016-09-10 15:42:30.434] [DEBUG] Server - #error() [ 'sadkljfaskldjfs;af' ] {}
[2016-09-10 15:42:30.436] [ERROR] Server - [Error: sadkljfaskldjfs;af]
Error: sadkljfaskldjfs;af
    at MySuperError (Server.js:339:9)
    at fn.constructor.error.Error (Server.js:344:19)
    at new wrappedPromise (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/async-listener/index.js:372:16)
    at Server.error (Server.js:343:16)
    at Object.<anonymous> (Server.js:415:43)
    at [object Generator].next (native)
    at step (/home/alexey2baranov/htdocs/kp-sequelizejs/src/Server.js:1:253)
    at /home/alexey2baranov/htdocs/kp-sequelizejs/src/Server.js:1:513
    at new wrappedPromise (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/async-listener/index.js:372:16)
    at Object.<anonymous> (/home/alexey2baranov/htdocs/kp-sequelizejs/src/Server.js:1:161)
    at Object.<anonymous> (Server.js:412:28)
    at tryCatchResolve (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/apply.js:46:23)
    at callAndResolve (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/apply.js:30:12)
    at callAndResolveNext (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/apply.js:40:4)
    at tryCatchReject3 (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/makePromise.js:856:7)
    at runContinuation3 (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/makePromise.js:814:4)
[2016-09-10 15:42:30.438] [ INFO] console - [ 8,
  68,
  950,
  {},
  'MySuperError',
  [ 'sadkljfaskldjfs;af' ],
  { stack: 
     [ 'Error: sadkljfaskldjfs;af',
       '    at MySuperError (Server.js:339:9)',
       '    at fn.constructor.error.Error (Server.js:344:19)',
       '    at new wrappedPromise (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/async-listener/index.js:372:16)',
       '    at Server.error (Server.js:343:16)',
       '    at Object.<anonymous> (Server.js:415:43)',
       '    at [object Generator].next (native)',
       '    at step (/home/alexey2baranov/htdocs/kp-sequelizejs/src/Server.js:1:253)',
       '    at /home/alexey2baranov/htdocs/kp-sequelizejs/src/Server.js:1:513',
       '    at new wrappedPromise (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/async-listener/index.js:372:16)',
       '    at Object.<anonymous> (/home/alexey2baranov/htdocs/kp-sequelizejs/src/Server.js:1:161)',
       '    at Object.<anonymous> (Server.js:412:28)',
       '    at tryCatchResolve (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/apply.js:46:23)',
       '    at callAndResolve (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/apply.js:30:12)',
       '    at callAndResolveNext (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/apply.js:40:4)',
       '    at tryCatchReject3 (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/makePromise.js:856:7)',
       '    at runContinuation3 (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/makePromise.js:814:4)' ] } ]
[2016-09-10 15:42:30.449] [ INFO] console - [ 70, 951, {}, [ undefined ] ]
[2016-09-10 15:42:30.451] [ INFO] console - Executing (default): delete from "Slovo"
                where
                    place_id<5
                    and value like '%temp'
[2016-09-10 15:42:30.458] [ INFO] console - Executing (default): delete from "Kopnik"
                where
                    name like '%temp'
[2016-09-10 15:42:30.466] [ INFO] console - Executing (default): update "Kopnik"
                set 
                    "voiskoSize"= case when id=2 then 1 ELSE 0 END
                where
                    id>1 
                    and id<=5
[2016-09-10 15:42:30.487] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopa', id: 3 }
[2016-09-10 15:42:30.490] [ INFO] console - Executing (458c85cb-9938-4930-86f4-d490ca7be83d): START TRANSACTION;
[2016-09-10 15:42:30.492] [ INFO] console - Executing (458c85cb-9938-4930-86f4-d490ca7be83d): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:42:30.507] [ INFO] console - Executing (default): SELECT "Kopa"."id", "Kopa"."question", "Kopa"."planned", "Kopa"."started", "Kopa"."closed", "Kopa"."isOpen", "Kopa"."note", "Kopa"."created_at", "Kopa"."updated_at", "Kopa"."deleted_at", "Kopa"."place_id", "Kopa"."inviter_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopa" AS "Kopa" LEFT OUTER JOIN "File" AS "attachments" ON "Kopa"."id" = "attachments"."kopa_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopa"."deleted_at" IS NULL AND "Kopa"."id" = 3);
[2016-09-10 15:42:30.512] [ INFO] console - Executing (458c85cb-9938-4930-86f4-d490ca7be83d): COMMIT;
[2016-09-10 15:42:30.513] [ INFO] console - [ 70,
  953,
  {},
  [ { id: '3',
      question: 'CHE',
      planned: Thu Sep 01 2016 00:00:00 GMT+0500 (YEKT),
      started: Thu Sep 01 2016 00:00:00 GMT+0500 (YEKT),
      closed: null,
      isOpen: false,
      note: null,
      created_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      deleted_at: null,
      place_id: '2',
      inviter_id: '2',
      attachments: [] } ] ]
[2016-09-10 15:42:30.539] [ INFO] console - Executing (cf6d002a-0509-4ed3-85e9-e7d071a13291): START TRANSACTION;
[2016-09-10 15:42:30.541] [ INFO] console - Executing (cf6d002a-0509-4ed3-85e9-e7d071a13291): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:42:30.547] [ INFO] console - Executing (default): INSERT INTO "Golos" ("id","value","created_at","updated_at","for_id","owner_id") VALUES (DEFAULT,1,'2016-09-10 10:42:30.543 +00:00','2016-09-10 10:42:30.543 +00:00',1,2) RETURNING *;
[2016-09-10 15:42:30.550] [ INFO] console - Executing (cf6d002a-0509-4ed3-85e9-e7d071a13291): COMMIT;
[2016-09-10 15:42:30.552] [ INFO] console - [ 70, 954, {}, [ '38' ] ]
[2016-09-10 15:42:30.557] [ INFO] console - [ 16,
  2774344820326400,
  { acknowledge: true },
  'ru.kopa.model.Predlozhenie.id1.golosAdd',
  [ '38' ] ]
[2016-09-10 15:42:30.593] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopa', id: 3 }
[2016-09-10 15:42:30.599] [ INFO] console - Executing (6ce21a91-e29e-4c06-aaa6-bba0d5808005): START TRANSACTION;
[2016-09-10 15:42:30.603] [ INFO] console - Executing (6ce21a91-e29e-4c06-aaa6-bba0d5808005): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:42:30.613] [ INFO] console - Executing (default): SELECT "Kopa"."id", "Kopa"."question", "Kopa"."planned", "Kopa"."started", "Kopa"."closed", "Kopa"."isOpen", "Kopa"."note", "Kopa"."created_at", "Kopa"."updated_at", "Kopa"."deleted_at", "Kopa"."place_id", "Kopa"."inviter_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopa" AS "Kopa" LEFT OUTER JOIN "File" AS "attachments" ON "Kopa"."id" = "attachments"."kopa_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopa"."deleted_at" IS NULL AND "Kopa"."id" = 3);
[2016-09-10 15:42:30.620] [ INFO] console - Executing (6ce21a91-e29e-4c06-aaa6-bba0d5808005): COMMIT;
[2016-09-10 15:42:30.622] [ INFO] console - [ 70,
  956,
  {},
  [ { id: '3',
      question: 'CHE',
      planned: Thu Sep 01 2016 00:00:00 GMT+0500 (YEKT),
      started: Thu Sep 01 2016 00:00:00 GMT+0500 (YEKT),
      closed: null,
      isOpen: false,
      note: null,
      created_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      deleted_at: null,
      place_id: '2',
      inviter_id: '2',
      attachments: [] } ] ]
[2016-09-10 15:42:30.634] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 2 }
[2016-09-10 15:42:30.638] [ INFO] console - Executing (99df419e-d787-46a9-88d0-a94f273afc17): START TRANSACTION;
[2016-09-10 15:42:30.639] [ INFO] console - Executing (99df419e-d787-46a9-88d0-a94f273afc17): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:42:30.649] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 2);
[2016-09-10 15:42:30.663] [ INFO] console - Executing (99df419e-d787-46a9-88d0-a94f273afc17): COMMIT;
[2016-09-10 15:42:30.665] [ INFO] console - [ 70,
  957,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/2/',
      starshina: [Object],
      id: '2',
      email: 'unittest2@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '1',
      voiskoSize: 1,
      birth: 1983,
      path: '/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: null,
      attachments: [] } ] ]
[2016-09-10 15:42:30.683] [ INFO] console - Executing (b07e7bc0-2f12-4292-a5b5-896c3a06fe6d): START TRANSACTION;
[2016-09-10 15:42:30.686] [ INFO] console - Executing (b07e7bc0-2f12-4292-a5b5-896c3a06fe6d): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:42:30.693] [ INFO] console - Executing (default): INSERT INTO "Slovo" ("id","value","created_at","updated_at","owner_id","place_id") VALUES (DEFAULT,'some Slovo temp 1473504150678','2016-09-10 10:42:30.688 +00:00','2016-09-10 10:42:30.688 +00:00',2,3) RETURNING *;
[2016-09-10 15:42:30.697] [ INFO] console - Executing (b07e7bc0-2f12-4292-a5b5-896c3a06fe6d): COMMIT;
[2016-09-10 15:42:30.699] [ INFO] console - [ 70, 958, {}, [ '74' ] ]
[2016-09-10 15:42:30.704] [ INFO] console - [ 16,
  988858627915776,
  { acknowledge: true },
  'ru.kopa.model.Kopa.id3.slovoAdd',
  [ '74' ] ]
[2016-09-10 15:42:30.719] [ INFO] console - Executing (df398c17-6225-47d5-a935-eac46c58208b): START TRANSACTION;
[2016-09-10 15:42:30.721] [ INFO] console - Executing (df398c17-6225-47d5-a935-eac46c58208b): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:42:30.727] [ INFO] console - Executing (default): INSERT INTO "Predlozhenie" ("id","value","created_at","updated_at","initiator_id","place_id") VALUES (DEFAULT,'some Predlozhenie temp 1473504150711','2016-09-10 10:42:30.723 +00:00','2016-09-10 10:42:30.723 +00:00',2,3) RETURNING *;
[2016-09-10 15:42:30.731] [ INFO] console - Executing (df398c17-6225-47d5-a935-eac46c58208b): COMMIT;
[2016-09-10 15:42:30.733] [ INFO] console - [ 70, 959, {}, [ '38' ] ]
[2016-09-10 15:42:30.741] [ INFO] console - [ 16,
  3691538620088320,
  { acknowledge: true },
  'ru.kopa.model.Kopa.id3.predlozhenieAdd',
  [ '38' ] ]
[2016-09-10 15:42:30.773] [ INFO] console - [ 70, 961, {}, [ undefined ] ]
[2016-09-10 15:42:30.778] [ INFO] console - Executing (default): delete from "Kopnik"
                where
                    name like '%temp'
[2016-09-10 15:42:30.779] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 2 }
[2016-09-10 15:42:30.783] [ INFO] console - Executing (8b1f2779-685c-4a8d-ba8f-f532909e9beb): START TRANSACTION;
[2016-09-10 15:42:30.785] [ INFO] console - Executing (default): update "Kopnik"
                set 
                    "voiskoSize"= case when id=2 then 1 ELSE 0 END
                where
                    id>1 
                    and id<=5
[2016-09-10 15:42:30.786] [ INFO] console - Executing (8b1f2779-685c-4a8d-ba8f-f532909e9beb): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:42:30.795] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 2);
[2016-09-10 15:42:30.800] [ INFO] console - Executing (8b1f2779-685c-4a8d-ba8f-f532909e9beb): COMMIT;
[2016-09-10 15:42:30.802] [ INFO] console - [ 70,
  962,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/2/',
      starshina: [Object],
      id: '2',
      email: 'unittest2@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '1',
      voiskoSize: 1,
      birth: 1983,
      path: '/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: null,
      attachments: [] } ] ]
[2016-09-10 15:42:30.812] [ INFO] console - Executing (d76f4ed4-fd6c-4c8d-bb1f-b72a9014712a): START TRANSACTION;
[2016-09-10 15:42:30.814] [ INFO] console - Executing (d76f4ed4-fd6c-4c8d-bb1f-b72a9014712a): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:42:30.820] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 2);
[2016-09-10 15:42:30.824] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"+1
                                where
                                    '/2/' like path||id||'/%'
[2016-09-10 15:42:30.830] [ INFO] console - Executing (default): INSERT INTO "Kopnik" ("id","name","surname","patronymic","voiskoSize","birth","path","created_at","updated_at","rodina_id","starshina_id") VALUES (DEFAULT,'temp','temp','temp',0,1900,'/2/','2016-09-10 10:42:30.816 +00:00','2016-09-10 10:42:30.816 +00:00',NULL,2) RETURNING *;
[2016-09-10 15:42:30.835] [ INFO] console - Executing (d76f4ed4-fd6c-4c8d-bb1f-b72a9014712a): COMMIT;
[2016-09-10 15:42:30.837] [ INFO] console - [ 70, 963, {}, [ '149' ] ]
[2016-09-10 15:42:30.847] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Zemla', id: 2 }
[2016-09-10 15:42:30.851] [ INFO] console - Executing (3dc18c53-fe2f-4b60-acd6-7ce101922e0f): START TRANSACTION;
[2016-09-10 15:42:30.852] [ INFO] console - Executing (b533c73a-0076-4887-a451-567238f87b25): START TRANSACTION;
[2016-09-10 15:42:30.855] [ INFO] console - Executing (3dc18c53-fe2f-4b60-acd6-7ce101922e0f): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:42:30.855] [ INFO] console - Executing (b533c73a-0076-4887-a451-567238f87b25): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:42:30.872] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/' like k.path||k.id||'/%'
[2016-09-10 15:42:30.882] [ INFO] console - Executing (default): SELECT "Zemla"."id", "Zemla"."path", "Zemla"."name", "Zemla"."intensity", "Zemla"."note", "Zemla"."created_at", "Zemla"."updated_at", "Zemla"."deleted_at", "Zemla"."parent_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Zemla" AS "Zemla" LEFT OUTER JOIN "File" AS "attachments" ON "Zemla"."id" = "attachments"."zemla_id" AND "attachments"."deleted_at" IS NULL WHERE ("Zemla"."deleted_at" IS NULL AND "Zemla"."id" = 2);
[2016-09-10 15:42:30.895] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 149);
[2016-09-10 15:42:30.901] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 15:42:30.904] [ INFO] console - Executing (3dc18c53-fe2f-4b60-acd6-7ce101922e0f): COMMIT;
[2016-09-10 15:42:30.909] [ INFO] console - [ 16,
  1843917565722624,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id2.voiskoChange',
  [],
  { voiskoSize: 2 } ]
[2016-09-10 15:42:30.917] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"+1
                                where
                                    '/2/149/' like path||id||'/%'
[2016-09-10 15:42:30.918] [ INFO] console - [ 70,
  964,
  {},
  [ { fullPath: 'null2/',
      id: '2',
      path: null,
      name: 'UnitTest2',
      intensity: 1000,
      note: 'unit test 1473504107509',
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Sat Sep 10 2016 15:41:49 GMT+0500 (YEKT),
      deleted_at: null,
      parent_id: '1',
      attachments: [] } ] ]
[2016-09-10 15:42:30.932] [ INFO] console - Executing (default): INSERT INTO "Kopnik" ("id","name","surname","patronymic","voiskoSize","birth","path","created_at","updated_at","rodina_id","starshina_id") VALUES (DEFAULT,'temp','temp','temp',0,1900,'/2/149/','2016-09-10 10:42:30.858 +00:00','2016-09-10 10:42:30.858 +00:00',NULL,149) RETURNING *;
[2016-09-10 15:42:30.936] [ INFO] console - Executing (b533c73a-0076-4887-a451-567238f87b25): COMMIT;
[2016-09-10 15:42:30.938] [ INFO] console - [ 70, 965, {}, [ '150' ] ]
[2016-09-10 15:42:30.946] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/149/' like k.path||k.id||'/%'
[2016-09-10 15:42:30.952] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2', '149')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 15:42:30.955] [ INFO] console - [ 16,
  1138220790185984,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id149.voiskoChange',
  [],
  { voiskoSize: 1 } ]
[2016-09-10 15:42:30.960] [ INFO] console - [ 16,
  673182329602048,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id2.voiskoChange',
  [],
  { voiskoSize: 3 } ]
[2016-09-10 15:42:30.966] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 4 }
[2016-09-10 15:42:30.969] [ INFO] console - Executing (0400e3e5-54df-43d8-a869-770e1660d400): START TRANSACTION;
[2016-09-10 15:42:30.971] [ INFO] console - Executing (0400e3e5-54df-43d8-a869-770e1660d400): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:42:30.981] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 4);
[2016-09-10 15:42:30.989] [ INFO] console - Executing (0400e3e5-54df-43d8-a869-770e1660d400): COMMIT;
[2016-09-10 15:42:30.991] [ INFO] console - [ 70,
  966,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/4/',
      starshina: [Object],
      id: '4',
      email: 'unittest4@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '4',
      voiskoSize: 0,
      birth: 1983,
      path: '/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: null,
      attachments: [] } ] ]
[2016-09-10 15:42:31.003] [ INFO] console - Executing (91037b2c-6b6f-41dd-992e-8eb988d9b012): START TRANSACTION;
[2016-09-10 15:42:31.005] [ INFO] console - Executing (91037b2c-6b6f-41dd-992e-8eb988d9b012): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:42:31.010] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 149);
[2016-09-10 15:42:31.015] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 4);
[2016-09-10 15:42:31.019] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/' like k.path||k.id||'/%'
[2016-09-10 15:42:31.025] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 15:42:31.033] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"-2
                                where
                                    '/2/' like path||id||'/%'
[2016-09-10 15:42:31.041] [ INFO] console - Executing (default): UPDATE "Kopnik" SET "path"='/4/',"starshina_id"='4',"updated_at"='2016-09-10 10:42:31.035 +00:00' WHERE "id" = '149'
[2016-09-10 15:42:31.045] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"+2
                                where
                                    '/4/' like path||id||'/%'
[2016-09-10 15:42:31.049] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."starshina_id" = '149');
[2016-09-10 15:42:31.057] [ INFO] console - Executing (default): UPDATE "Kopnik" SET "path"='/4/149/',"updated_at"='2016-09-10 10:42:31.051 +00:00' WHERE "id" = '150'
[2016-09-10 15:42:31.060] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/4/' like k.path||k.id||'/%'
[2016-09-10 15:42:31.065] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('4')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 15:42:31.068] [ INFO] console - Executing (91037b2c-6b6f-41dd-992e-8eb988d9b012): COMMIT;
[2016-09-10 15:42:31.070] [ INFO] console - [ 70, 967, {}, [ undefined ] ]
[2016-09-10 15:42:31.074] [ INFO] console - [ 16,
  1658549790834688,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id2.voiskoChange',
  [],
  { voiskoSize: 1 } ]
[2016-09-10 15:42:31.078] [ INFO] console - [ 16,
  205626391134208,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id4.voiskoChange',
  [],
  { voiskoSize: 2 } ]
[2016-09-10 15:42:31.103] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopa', id: 3 }
[2016-09-10 15:42:31.106] [ INFO] console - Executing (ebfc917e-0e22-4775-8094-581d805558cc): START TRANSACTION;
[2016-09-10 15:42:31.107] [ INFO] console - Executing (ebfc917e-0e22-4775-8094-581d805558cc): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:42:31.117] [ INFO] console - Executing (default): SELECT "Kopa"."id", "Kopa"."question", "Kopa"."planned", "Kopa"."started", "Kopa"."closed", "Kopa"."isOpen", "Kopa"."note", "Kopa"."created_at", "Kopa"."updated_at", "Kopa"."deleted_at", "Kopa"."place_id", "Kopa"."inviter_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopa" AS "Kopa" LEFT OUTER JOIN "File" AS "attachments" ON "Kopa"."id" = "attachments"."kopa_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopa"."deleted_at" IS NULL AND "Kopa"."id" = 3);
[2016-09-10 15:42:31.125] [ INFO] console - Executing (ebfc917e-0e22-4775-8094-581d805558cc): COMMIT;
[2016-09-10 15:42:31.127] [ INFO] console - [ 70,
  969,
  {},
  [ { id: '3',
      question: 'CHE',
      planned: Thu Sep 01 2016 00:00:00 GMT+0500 (YEKT),
      started: Thu Sep 01 2016 00:00:00 GMT+0500 (YEKT),
      closed: null,
      isOpen: false,
      note: null,
      created_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      deleted_at: null,
      place_id: '2',
      inviter_id: '2',
      attachments: [] } ] ]
[2016-09-10 15:42:31.139] [ INFO] console - Executing (0b7f724a-8c0e-4be3-87b7-c049a5a9ccec): START TRANSACTION;
[2016-09-10 15:42:31.140] [ INFO] console - Executing (0b7f724a-8c0e-4be3-87b7-c049a5a9ccec): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:42:31.145] [ INFO] console - Executing (default): INSERT INTO "Predlozhenie" ("id","value","created_at","updated_at","initiator_id","place_id") VALUES (DEFAULT,'some Predlozhenie temp 1473504149205','2016-09-10 10:42:31.142 +00:00','2016-09-10 10:42:31.142 +00:00',2,3) RETURNING *;
[2016-09-10 15:42:31.149] [ INFO] console - Executing (0b7f724a-8c0e-4be3-87b7-c049a5a9ccec): COMMIT;
[2016-09-10 15:42:31.150] [ INFO] console - [ 70, 970, {}, [ '39' ] ]
[2016-09-10 15:42:31.152] [ INFO] console - [ 16,
  7209717807972352,
  { acknowledge: true },
  'ru.kopa.model.Kopa.id3.predlozhenieAdd',
  [ '39' ] ]
[2016-09-10 15:42:31.163] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Predlozhenie', id: 1 }
[2016-09-10 15:42:31.167] [ INFO] console - Executing (1243f6cd-ed32-46ff-bb7e-8b1e2666839e): START TRANSACTION;
[2016-09-10 15:42:31.168] [ INFO] console - Executing (1243f6cd-ed32-46ff-bb7e-8b1e2666839e): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:42:31.182] [ INFO] console - Executing (default): SELECT "Predlozhenie"."id", "Predlozhenie"."value", "Predlozhenie"."note", "Predlozhenie"."created_at", "Predlozhenie"."updated_at", "Predlozhenie"."deleted_at", "Predlozhenie"."initiator_id", "Predlozhenie"."place_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Predlozhenie" AS "Predlozhenie" LEFT OUTER JOIN "File" AS "attachments" ON "Predlozhenie"."id" = "attachments"."predlozhenie_id" AND "attachments"."deleted_at" IS NULL WHERE ("Predlozhenie"."deleted_at" IS NULL AND "Predlozhenie"."id" = 1);
[2016-09-10 15:42:31.187] [ INFO] console - Executing (1243f6cd-ed32-46ff-bb7e-8b1e2666839e): COMMIT;
[2016-09-10 15:42:31.188] [ INFO] console - [ 70,
  971,
  {},
  [ { id: '1',
      value: 'Будет ...',
      note: null,
      created_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      deleted_at: null,
      initiator_id: '2',
      place_id: '3',
      attachments: [] } ] ]
[2016-09-10 15:42:31.199] [ INFO] console - Executing (7f3e4c68-02b7-473f-971a-9ba20a9c504f): START TRANSACTION;
[2016-09-10 15:42:31.203] [ INFO] console - Executing (7f3e4c68-02b7-473f-971a-9ba20a9c504f): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:42:31.211] [ INFO] console - Executing (default): INSERT INTO "Golos" ("id","value","created_at","updated_at","for_id","owner_id") VALUES (DEFAULT,1,'2016-09-10 10:42:31.205 +00:00','2016-09-10 10:42:31.205 +00:00',1,2) RETURNING *;
[2016-09-10 15:42:31.214] [ INFO] console - Executing (7f3e4c68-02b7-473f-971a-9ba20a9c504f): COMMIT;
[2016-09-10 15:42:31.215] [ INFO] console - [ 70, 972, {}, [ '39' ] ]
[2016-09-10 15:42:31.222] [ INFO] console - [ 16,
  6682905849888768,
  { acknowledge: true },
  'ru.kopa.model.Predlozhenie.id1.golosAdd',
  [ '39' ] ]
[2016-09-10 15:42:31.256] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 2 }
[2016-09-10 15:42:31.263] [ INFO] console - Executing (2f70f6c2-c448-4384-972b-8ff7fffa38d1): START TRANSACTION;
[2016-09-10 15:42:31.264] [ INFO] console - Executing (2f70f6c2-c448-4384-972b-8ff7fffa38d1): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:42:31.270] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 2);
[2016-09-10 15:42:31.284] [ INFO] console - Executing (2f70f6c2-c448-4384-972b-8ff7fffa38d1): COMMIT;
[2016-09-10 15:42:31.286] [ INFO] console - [ 70,
  974,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/2/',
      starshina: [Object],
      id: '2',
      email: 'unittest2@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '1',
      voiskoSize: 1,
      birth: 1983,
      path: '/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: null,
      attachments: [] } ] ]
[2016-09-10 15:42:31.301] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 3 }
[2016-09-10 15:42:31.304] [ INFO] console - Executing (7ef6ec3b-8c45-44d8-b55c-1f4b481d4665): START TRANSACTION;
[2016-09-10 15:42:31.305] [ INFO] console - Executing (7ef6ec3b-8c45-44d8-b55c-1f4b481d4665): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:42:31.313] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 3);
[2016-09-10 15:42:31.318] [ INFO] console - Executing (7ef6ec3b-8c45-44d8-b55c-1f4b481d4665): COMMIT;
[2016-09-10 15:42:31.319] [ INFO] console - [ 70,
  975,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/2/3/',
      starshina: [Object],
      id: '3',
      email: 'unittest3@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '3',
      voiskoSize: 0,
      birth: 1983,
      path: '/2/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: '2',
      attachments: [] } ] ]
[2016-09-10 15:42:31.332] [ INFO] console - Executing (b710531b-15c0-4d05-9754-9108f860d62e): START TRANSACTION;
[2016-09-10 15:42:31.333] [ INFO] console - Executing (b710531b-15c0-4d05-9754-9108f860d62e): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:42:31.338] [ INFO] console - Executing (default): INSERT INTO "Slovo" ("id","value","note","created_at","updated_at","owner_id","place_id") VALUES (DEFAULT,'123 temp','456','2016-09-10 10:42:31.335 +00:00','2016-09-10 10:42:31.335 +00:00',2,3) RETURNING *;
[2016-09-10 15:42:31.350] [ INFO] console - Executing (b710531b-15c0-4d05-9754-9108f860d62e): COMMIT;
[2016-09-10 15:42:31.352] [ INFO] console - [ 70, 976, {}, [ '75' ] ]
[2016-09-10 15:42:31.362] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Slovo', id: 75 }
[2016-09-10 15:42:31.369] [ INFO] console - [ 16,
  3095748247814144,
  { acknowledge: true },
  'ru.kopa.model.Kopa.id3.slovoAdd',
  [ '75' ] ]
[2016-09-10 15:42:31.372] [ INFO] console - Executing (a41a52ec-f73b-490f-a9c2-34c9cf39d834): START TRANSACTION;
[2016-09-10 15:42:31.374] [ INFO] console - Executing (a41a52ec-f73b-490f-a9c2-34c9cf39d834): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:42:31.384] [ INFO] console - Executing (default): SELECT "Slovo"."id", "Slovo"."value", "Slovo"."note", "Slovo"."created_at", "Slovo"."updated_at", "Slovo"."deleted_at", "Slovo"."owner_id", "Slovo"."place_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Slovo" AS "Slovo" LEFT OUTER JOIN "File" AS "attachments" ON "Slovo"."id" = "attachments"."slovo_id" AND "attachments"."deleted_at" IS NULL WHERE ("Slovo"."deleted_at" IS NULL AND "Slovo"."id" = 75);
[2016-09-10 15:42:31.389] [ INFO] console - Executing (a41a52ec-f73b-490f-a9c2-34c9cf39d834): COMMIT;
[2016-09-10 15:42:31.390] [ INFO] console - [ 70,
  977,
  {},
  [ { id: '75',
      value: '123 temp',
      note: '456',
      created_at: Sat Sep 10 2016 15:42:31 GMT+0500 (YEKT),
      updated_at: Sat Sep 10 2016 15:42:31 GMT+0500 (YEKT),
      deleted_at: null,
      owner_id: '2',
      place_id: '3',
      attachments: [] } ] ]
[2016-09-10 15:42:31.401] [ INFO] console - Executing (2e8d7f4b-d6e9-4998-b100-09701c02e7b7): START TRANSACTION;
[2016-09-10 15:42:31.406] [ INFO] console - Executing (2e8d7f4b-d6e9-4998-b100-09701c02e7b7): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:42:31.413] [ INFO] console - Executing (default): INSERT INTO "Slovo" ("id","value","created_at","updated_at","owner_id","place_id") VALUES (DEFAULT,'some value temp 1473504151397','2016-09-10 10:42:31.409 +00:00','2016-09-10 10:42:31.409 +00:00',2,3) RETURNING *;
[2016-09-10 15:42:31.418] [ INFO] console - Executing (2e8d7f4b-d6e9-4998-b100-09701c02e7b7): COMMIT;
[2016-09-10 15:42:31.420] [ INFO] console - [ 70, 978, {}, [ '76' ] ]
[2016-09-10 15:42:31.426] [ INFO] console - [ 16,
  1855420165521408,
  { acknowledge: true },
  'ru.kopa.model.Kopa.id3.slovoAdd',
  [ '76' ] ]
[2016-09-10 15:42:31.432] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Zemla', id: 2 }
[2016-09-10 15:42:31.435] [ INFO] console - Executing (db3e52b1-1d3e-426a-9b76-7f0fd7cea4c3): START TRANSACTION;
[2016-09-10 15:42:31.436] [ INFO] console - Executing (db3e52b1-1d3e-426a-9b76-7f0fd7cea4c3): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:42:31.444] [ INFO] console - Executing (default): SELECT "Zemla"."id", "Zemla"."path", "Zemla"."name", "Zemla"."intensity", "Zemla"."note", "Zemla"."created_at", "Zemla"."updated_at", "Zemla"."deleted_at", "Zemla"."parent_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Zemla" AS "Zemla" LEFT OUTER JOIN "File" AS "attachments" ON "Zemla"."id" = "attachments"."zemla_id" AND "attachments"."deleted_at" IS NULL WHERE ("Zemla"."deleted_at" IS NULL AND "Zemla"."id" = 2);
[2016-09-10 15:42:31.448] [ INFO] console - Executing (db3e52b1-1d3e-426a-9b76-7f0fd7cea4c3): COMMIT;
[2016-09-10 15:42:31.450] [ INFO] console - [ 70,
  979,
  {},
  [ { fullPath: 'null2/',
      id: '2',
      path: null,
      name: 'UnitTest2',
      intensity: 1000,
      note: 'unit test 1473504107509',
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Sat Sep 10 2016 15:41:49 GMT+0500 (YEKT),
      deleted_at: null,
      parent_id: '1',
      attachments: [] } ] ]
[2016-09-10 15:42:31.467] [ INFO] console - Executing (41a046c0-b248-468e-8f68-61d9c2cc762c): START TRANSACTION;
[2016-09-10 15:42:31.469] [ INFO] console - Executing (41a046c0-b248-468e-8f68-61d9c2cc762c): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:42:31.474] [ INFO] console - Executing (default): SELECT "id", "path", "name", "intensity", "note", "created_at", "updated_at", "deleted_at", "parent_id" FROM "Zemla" AS "Zemla" WHERE ("Zemla"."deleted_at" IS NULL AND "Zemla"."id" = 2);
[2016-09-10 15:42:31.483] [ INFO] console - Executing (default): UPDATE "Zemla" SET "parent_id"=1,"note"='unit test 1473504149258',"updated_at"='2016-09-10 10:42:31.478 +00:00' WHERE "id" = '2'
[2016-09-10 15:42:31.487] [ INFO] console - Executing (41a046c0-b248-468e-8f68-61d9c2cc762c): COMMIT;
[2016-09-10 15:42:31.488] [ INFO] console - [ 16,
  7528171796692992,
  { acknowledge: true },
  'ru.kopa.model.Zemla.id2.change' ]
[2016-09-10 15:42:31.496] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Zemla', id: 2 }
[2016-09-10 15:42:31.500] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Zemla', id: 2 }
[2016-09-10 15:42:31.502] [ INFO] console - [ 70, 980, {}, [ undefined ] ]
[2016-09-10 15:42:31.507] [ INFO] console - Executing (93f5b8eb-7bcb-4134-99aa-002609d21c57): START TRANSACTION;
[2016-09-10 15:42:31.508] [ INFO] console - Executing (744f690a-68d6-4554-ae50-e4eeeec4d882): START TRANSACTION;
[2016-09-10 15:42:31.510] [ INFO] console - Executing (93f5b8eb-7bcb-4134-99aa-002609d21c57): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:42:31.511] [ INFO] console - Executing (744f690a-68d6-4554-ae50-e4eeeec4d882): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:42:31.527] [ INFO] console - Executing (default): SELECT "Zemla"."id", "Zemla"."path", "Zemla"."name", "Zemla"."intensity", "Zemla"."note", "Zemla"."created_at", "Zemla"."updated_at", "Zemla"."deleted_at", "Zemla"."parent_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Zemla" AS "Zemla" LEFT OUTER JOIN "File" AS "attachments" ON "Zemla"."id" = "attachments"."zemla_id" AND "attachments"."deleted_at" IS NULL WHERE ("Zemla"."deleted_at" IS NULL AND "Zemla"."id" = 2);
[2016-09-10 15:42:31.529] [ INFO] console - Executing (default): SELECT "Zemla"."id", "Zemla"."path", "Zemla"."name", "Zemla"."intensity", "Zemla"."note", "Zemla"."created_at", "Zemla"."updated_at", "Zemla"."deleted_at", "Zemla"."parent_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Zemla" AS "Zemla" LEFT OUTER JOIN "File" AS "attachments" ON "Zemla"."id" = "attachments"."zemla_id" AND "attachments"."deleted_at" IS NULL WHERE ("Zemla"."deleted_at" IS NULL AND "Zemla"."id" = 2);
[2016-09-10 15:42:31.537] [ INFO] console - Executing (93f5b8eb-7bcb-4134-99aa-002609d21c57): COMMIT;
[2016-09-10 15:42:31.538] [ INFO] console - Executing (744f690a-68d6-4554-ae50-e4eeeec4d882): COMMIT;
[2016-09-10 15:42:31.540] [ INFO] console - [ 70,
  981,
  {},
  [ { fullPath: 'null2/',
      id: '2',
      path: null,
      name: 'UnitTest2',
      intensity: 1000,
      note: 'unit test 1473504149258',
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Sat Sep 10 2016 15:42:31 GMT+0500 (YEKT),
      deleted_at: null,
      parent_id: '1',
      attachments: [] } ] ]
[2016-09-10 15:42:31.546] [ INFO] console - [ 70,
  982,
  {},
  [ { fullPath: 'null2/',
      id: '2',
      path: null,
      name: 'UnitTest2',
      intensity: 1000,
      note: 'unit test 1473504149258',
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Sat Sep 10 2016 15:42:31 GMT+0500 (YEKT),
      deleted_at: null,
      parent_id: '1',
      attachments: [] } ] ]
[2016-09-10 15:42:31.575] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopa', id: 3 }
[2016-09-10 15:42:31.578] [ INFO] console - Executing (93e51201-063d-477b-874e-0add1fa76fb5): START TRANSACTION;
[2016-09-10 15:42:31.579] [ INFO] console - Executing (93e51201-063d-477b-874e-0add1fa76fb5): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:42:31.594] [ INFO] console - Executing (default): SELECT "Kopa"."id", "Kopa"."question", "Kopa"."planned", "Kopa"."started", "Kopa"."closed", "Kopa"."isOpen", "Kopa"."note", "Kopa"."created_at", "Kopa"."updated_at", "Kopa"."deleted_at", "Kopa"."place_id", "Kopa"."inviter_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopa" AS "Kopa" LEFT OUTER JOIN "File" AS "attachments" ON "Kopa"."id" = "attachments"."kopa_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopa"."deleted_at" IS NULL AND "Kopa"."id" = 3);
[2016-09-10 15:42:31.598] [ INFO] console - Executing (93e51201-063d-477b-874e-0add1fa76fb5): COMMIT;
[2016-09-10 15:42:31.600] [ INFO] console - [ 70,
  984,
  {},
  [ { id: '3',
      question: 'CHE',
      planned: Thu Sep 01 2016 00:00:00 GMT+0500 (YEKT),
      started: Thu Sep 01 2016 00:00:00 GMT+0500 (YEKT),
      closed: null,
      isOpen: false,
      note: null,
      created_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      deleted_at: null,
      place_id: '2',
      inviter_id: '2',
      attachments: [] } ] ]
[2016-09-10 15:42:31.613] [ INFO] console - Executing (694c671d-edb0-430c-9cff-369237117072): START TRANSACTION;
[2016-09-10 15:42:31.614] [ INFO] console - Executing (694c671d-edb0-430c-9cff-369237117072): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:42:31.621] [ INFO] console - Executing (default): INSERT INTO "Slovo" ("id","value","created_at","updated_at","owner_id","place_id") VALUES (DEFAULT,'some Slovo temp','2016-09-10 10:42:31.617 +00:00','2016-09-10 10:42:31.617 +00:00',2,3) RETURNING *;
[2016-09-10 15:42:31.624] [ INFO] console - Executing (694c671d-edb0-430c-9cff-369237117072): COMMIT;
[2016-09-10 15:42:31.626] [ INFO] console - [ 70, 985, {}, [ '77' ] ]
[2016-09-10 15:42:31.629] [ INFO] console - [ 16,
  3119393437384704,
  { acknowledge: true },
  'ru.kopa.model.Kopa.id3.slovoAdd',
  [ '77' ] ]
[2016-09-10 15:42:57.453] [ INFO] console - [ 70, 987, {}, [ 'unittest2@domain.ru' ] ]
[2016-09-10 15:42:57.462] [DEBUG] Server - #pingPong() [ 1, 2, 3 ] { x: 1, y: 2, z: 3 }
[2016-09-10 15:42:57.466] [ INFO] console - [ 70, 988, {}, [ 1, 2, 3 ], { x: 1, y: 2, z: 3 } ]
[2016-09-10 15:42:57.483] [ INFO] console - Executing (default): select 'КОПА' as result
[2016-09-10 15:42:57.485] [ INFO] console - [ 70, 989, {}, [ 'КОПА' ] ]
[2016-09-10 15:42:57.493] [DEBUG] Server - #error() [ 'sadkljfaskldjfs;af' ] {}
[2016-09-10 15:42:57.495] [ERROR] Server - [Error: sadkljfaskldjfs;af]
Error: sadkljfaskldjfs;af
    at MySuperError (Server.js:339:9)
    at fn.constructor.error.Error (Server.js:344:19)
    at new wrappedPromise (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/async-listener/index.js:372:16)
    at Server.error (Server.js:343:16)
    at Object.<anonymous> (Server.js:415:43)
    at [object Generator].next (native)
    at step (/home/alexey2baranov/htdocs/kp-sequelizejs/src/Server.js:1:253)
    at /home/alexey2baranov/htdocs/kp-sequelizejs/src/Server.js:1:513
    at new wrappedPromise (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/async-listener/index.js:372:16)
    at Object.<anonymous> (/home/alexey2baranov/htdocs/kp-sequelizejs/src/Server.js:1:161)
    at Object.<anonymous> (Server.js:412:28)
    at tryCatchResolve (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/apply.js:46:23)
    at callAndResolve (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/apply.js:30:12)
    at callAndResolveNext (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/apply.js:40:4)
    at tryCatchReject3 (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/makePromise.js:856:7)
    at runContinuation3 (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/makePromise.js:814:4)
[2016-09-10 15:42:57.500] [ INFO] console - [ 8,
  68,
  990,
  {},
  'MySuperError',
  [ 'sadkljfaskldjfs;af' ],
  { stack: 
     [ 'Error: sadkljfaskldjfs;af',
       '    at MySuperError (Server.js:339:9)',
       '    at fn.constructor.error.Error (Server.js:344:19)',
       '    at new wrappedPromise (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/async-listener/index.js:372:16)',
       '    at Server.error (Server.js:343:16)',
       '    at Object.<anonymous> (Server.js:415:43)',
       '    at [object Generator].next (native)',
       '    at step (/home/alexey2baranov/htdocs/kp-sequelizejs/src/Server.js:1:253)',
       '    at /home/alexey2baranov/htdocs/kp-sequelizejs/src/Server.js:1:513',
       '    at new wrappedPromise (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/async-listener/index.js:372:16)',
       '    at Object.<anonymous> (/home/alexey2baranov/htdocs/kp-sequelizejs/src/Server.js:1:161)',
       '    at Object.<anonymous> (Server.js:412:28)',
       '    at tryCatchResolve (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/apply.js:46:23)',
       '    at callAndResolve (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/apply.js:30:12)',
       '    at callAndResolveNext (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/apply.js:40:4)',
       '    at tryCatchReject3 (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/makePromise.js:856:7)',
       '    at runContinuation3 (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/makePromise.js:814:4)' ] } ]
[2016-09-10 15:42:57.516] [ INFO] console - [ 70, 991, {}, [ undefined ] ]
[2016-09-10 15:42:57.521] [ INFO] console - Executing (default): delete from "Slovo"
                where
                    place_id<5
                    and value like '%temp'
[2016-09-10 15:42:57.523] [ INFO] console - Executing (default): delete from "Kopnik"
                where
                    name like '%temp'
[2016-09-10 15:42:57.528] [ INFO] console - Executing (default): update "Kopnik"
                set 
                    "voiskoSize"= case when id=2 then 1 ELSE 0 END
                where
                    id>1 
                    and id<=5
[2016-09-10 15:42:57.564] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopa', id: 3 }
[2016-09-10 15:42:57.569] [ INFO] console - Executing (f29158ca-1270-4966-b8cf-43269e8a4a4a): START TRANSACTION;
[2016-09-10 15:42:57.571] [ INFO] console - Executing (f29158ca-1270-4966-b8cf-43269e8a4a4a): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:42:57.584] [ INFO] console - Executing (default): SELECT "Kopa"."id", "Kopa"."question", "Kopa"."planned", "Kopa"."started", "Kopa"."closed", "Kopa"."isOpen", "Kopa"."note", "Kopa"."created_at", "Kopa"."updated_at", "Kopa"."deleted_at", "Kopa"."place_id", "Kopa"."inviter_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopa" AS "Kopa" LEFT OUTER JOIN "File" AS "attachments" ON "Kopa"."id" = "attachments"."kopa_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopa"."deleted_at" IS NULL AND "Kopa"."id" = 3);
[2016-09-10 15:42:57.589] [ INFO] console - Executing (f29158ca-1270-4966-b8cf-43269e8a4a4a): COMMIT;
[2016-09-10 15:42:57.590] [ INFO] console - [ 70,
  993,
  {},
  [ { id: '3',
      question: 'CHE',
      planned: Thu Sep 01 2016 00:00:00 GMT+0500 (YEKT),
      started: Thu Sep 01 2016 00:00:00 GMT+0500 (YEKT),
      closed: null,
      isOpen: false,
      note: null,
      created_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      deleted_at: null,
      place_id: '2',
      inviter_id: '2',
      attachments: [] } ] ]
[2016-09-10 15:42:57.602] [ INFO] console - Executing (c01fbd6f-cee4-459c-a684-318bb92a3973): START TRANSACTION;
[2016-09-10 15:42:57.604] [ INFO] console - Executing (c01fbd6f-cee4-459c-a684-318bb92a3973): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:42:57.609] [ INFO] console - Executing (default): INSERT INTO "Golos" ("id","value","created_at","updated_at","for_id","owner_id") VALUES (DEFAULT,1,'2016-09-10 10:42:57.606 +00:00','2016-09-10 10:42:57.606 +00:00',1,2) RETURNING *;
[2016-09-10 15:42:57.613] [ INFO] console - Executing (c01fbd6f-cee4-459c-a684-318bb92a3973): COMMIT;
[2016-09-10 15:42:57.614] [ INFO] console - [ 70, 994, {}, [ '40' ] ]
[2016-09-10 15:42:57.616] [ INFO] console - [ 16,
  7400959619629056,
  { acknowledge: true },
  'ru.kopa.model.Predlozhenie.id1.golosAdd',
  [ '40' ] ]
[2016-09-10 15:42:57.657] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopa', id: 3 }
[2016-09-10 15:42:57.660] [ INFO] console - Executing (d757a740-2791-4f18-ba4f-ae4f3f6ee068): START TRANSACTION;
[2016-09-10 15:42:57.661] [ INFO] console - Executing (d757a740-2791-4f18-ba4f-ae4f3f6ee068): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:42:57.667] [ INFO] console - Executing (default): SELECT "Kopa"."id", "Kopa"."question", "Kopa"."planned", "Kopa"."started", "Kopa"."closed", "Kopa"."isOpen", "Kopa"."note", "Kopa"."created_at", "Kopa"."updated_at", "Kopa"."deleted_at", "Kopa"."place_id", "Kopa"."inviter_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopa" AS "Kopa" LEFT OUTER JOIN "File" AS "attachments" ON "Kopa"."id" = "attachments"."kopa_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopa"."deleted_at" IS NULL AND "Kopa"."id" = 3);
[2016-09-10 15:42:57.672] [ INFO] console - Executing (d757a740-2791-4f18-ba4f-ae4f3f6ee068): COMMIT;
[2016-09-10 15:42:57.674] [ INFO] console - [ 70,
  996,
  {},
  [ { id: '3',
      question: 'CHE',
      planned: Thu Sep 01 2016 00:00:00 GMT+0500 (YEKT),
      started: Thu Sep 01 2016 00:00:00 GMT+0500 (YEKT),
      closed: null,
      isOpen: false,
      note: null,
      created_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      deleted_at: null,
      place_id: '2',
      inviter_id: '2',
      attachments: [] } ] ]
[2016-09-10 15:42:57.690] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 2 }
[2016-09-10 15:42:57.694] [ INFO] console - Executing (25fa5a78-6c04-4b7b-a06b-7107e9a384ac): START TRANSACTION;
[2016-09-10 15:42:57.696] [ INFO] console - Executing (25fa5a78-6c04-4b7b-a06b-7107e9a384ac): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:42:57.702] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 2);
[2016-09-10 15:42:57.719] [ INFO] console - Executing (25fa5a78-6c04-4b7b-a06b-7107e9a384ac): COMMIT;
[2016-09-10 15:42:57.721] [ INFO] console - [ 70,
  997,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/2/',
      starshina: [Object],
      id: '2',
      email: 'unittest2@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '1',
      voiskoSize: 1,
      birth: 1983,
      path: '/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: null,
      attachments: [] } ] ]
[2016-09-10 15:42:57.733] [ INFO] console - Executing (d7caa06d-56c1-4497-a62a-6dfb1a6052ec): START TRANSACTION;
[2016-09-10 15:42:57.734] [ INFO] console - Executing (d7caa06d-56c1-4497-a62a-6dfb1a6052ec): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:42:57.741] [ INFO] console - Executing (default): INSERT INTO "Slovo" ("id","value","created_at","updated_at","owner_id","place_id") VALUES (DEFAULT,'some Slovo temp 1473504177729','2016-09-10 10:42:57.736 +00:00','2016-09-10 10:42:57.736 +00:00',2,3) RETURNING *;
[2016-09-10 15:42:57.745] [ INFO] console - Executing (d7caa06d-56c1-4497-a62a-6dfb1a6052ec): COMMIT;
[2016-09-10 15:42:57.747] [ INFO] console - [ 70, 998, {}, [ '78' ] ]
[2016-09-10 15:42:57.750] [ INFO] console - [ 16,
  2847222154657792,
  { acknowledge: true },
  'ru.kopa.model.Kopa.id3.slovoAdd',
  [ '78' ] ]
[2016-09-10 15:42:57.760] [ INFO] console - Executing (905eab62-5584-4940-91d1-b299e5bdd009): START TRANSACTION;
[2016-09-10 15:42:57.762] [ INFO] console - Executing (905eab62-5584-4940-91d1-b299e5bdd009): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:42:57.766] [ INFO] console - Executing (default): INSERT INTO "Predlozhenie" ("id","value","created_at","updated_at","initiator_id","place_id") VALUES (DEFAULT,'some Predlozhenie temp 1473504177756','2016-09-10 10:42:57.763 +00:00','2016-09-10 10:42:57.763 +00:00',2,3) RETURNING *;
[2016-09-10 15:42:57.773] [ INFO] console - Executing (905eab62-5584-4940-91d1-b299e5bdd009): COMMIT;
[2016-09-10 15:42:57.775] [ INFO] console - [ 70, 999, {}, [ '40' ] ]
[2016-09-10 15:42:57.777] [ INFO] console - [ 16,
  2958576523935744,
  { acknowledge: true },
  'ru.kopa.model.Kopa.id3.predlozhenieAdd',
  [ '40' ] ]
[2016-09-10 15:42:57.805] [ INFO] console - [ 70, 1001, {}, [ undefined ] ]
[2016-09-10 15:42:57.807] [ INFO] console - Executing (default): delete from "Kopnik"
                where
                    name like '%temp'
[2016-09-10 15:42:57.810] [ INFO] console - Executing (default): update "Kopnik"
                set 
                    "voiskoSize"= case when id=2 then 1 ELSE 0 END
                where
                    id>1 
                    and id<=5
[2016-09-10 15:42:57.816] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 2 }
[2016-09-10 15:42:57.820] [ INFO] console - Executing (1b3328c5-e7a1-4e30-ad84-d3ba9552af7e): START TRANSACTION;
[2016-09-10 15:42:57.822] [ INFO] console - Executing (1b3328c5-e7a1-4e30-ad84-d3ba9552af7e): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:42:57.831] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 2);
[2016-09-10 15:42:57.836] [ INFO] console - Executing (1b3328c5-e7a1-4e30-ad84-d3ba9552af7e): COMMIT;
[2016-09-10 15:42:57.837] [ INFO] console - [ 70,
  1002,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/2/',
      starshina: [Object],
      id: '2',
      email: 'unittest2@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '1',
      voiskoSize: 1,
      birth: 1983,
      path: '/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: null,
      attachments: [] } ] ]
[2016-09-10 15:42:57.851] [ INFO] console - Executing (1ff88d38-bf4c-40e0-a224-63a34f739cec): START TRANSACTION;
[2016-09-10 15:42:57.853] [ INFO] console - Executing (1ff88d38-bf4c-40e0-a224-63a34f739cec): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:42:57.866] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 2);
[2016-09-10 15:42:57.873] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"+1
                                where
                                    '/2/' like path||id||'/%'
[2016-09-10 15:42:57.883] [ INFO] console - Executing (default): INSERT INTO "Kopnik" ("id","name","surname","patronymic","voiskoSize","birth","path","created_at","updated_at","rodina_id","starshina_id") VALUES (DEFAULT,'temp','temp','temp',0,1900,'/2/','2016-09-10 10:42:57.857 +00:00','2016-09-10 10:42:57.857 +00:00',NULL,2) RETURNING *;
[2016-09-10 15:42:57.887] [ INFO] console - Executing (1ff88d38-bf4c-40e0-a224-63a34f739cec): COMMIT;
[2016-09-10 15:42:57.890] [ INFO] console - [ 70, 1003, {}, [ '151' ] ]
[2016-09-10 15:42:57.898] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Zemla', id: 2 }
[2016-09-10 15:42:57.902] [ INFO] console - Executing (2352e38e-5aef-4fdd-961f-5b89318bbe0d): START TRANSACTION;
[2016-09-10 15:42:57.903] [ INFO] console - Executing (2542298f-80a4-4eb9-b07c-3a574bb4c017): START TRANSACTION;
[2016-09-10 15:42:57.909] [ INFO] console - Executing (2352e38e-5aef-4fdd-961f-5b89318bbe0d): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:42:57.909] [ INFO] console - Executing (2542298f-80a4-4eb9-b07c-3a574bb4c017): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:42:57.934] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/' like k.path||k.id||'/%'
[2016-09-10 15:42:57.948] [ INFO] console - Executing (default): SELECT "Zemla"."id", "Zemla"."path", "Zemla"."name", "Zemla"."intensity", "Zemla"."note", "Zemla"."created_at", "Zemla"."updated_at", "Zemla"."deleted_at", "Zemla"."parent_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Zemla" AS "Zemla" LEFT OUTER JOIN "File" AS "attachments" ON "Zemla"."id" = "attachments"."zemla_id" AND "attachments"."deleted_at" IS NULL WHERE ("Zemla"."deleted_at" IS NULL AND "Zemla"."id" = 2);
[2016-09-10 15:42:57.959] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 151);
[2016-09-10 15:42:57.966] [ INFO] console - Executing (2352e38e-5aef-4fdd-961f-5b89318bbe0d): COMMIT;
[2016-09-10 15:42:57.970] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 15:42:57.975] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"+1
                                where
                                    '/2/151/' like path||id||'/%'
[2016-09-10 15:42:57.976] [ INFO] console - [ 16,
  6333003869454336,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id2.voiskoChange',
  [],
  { voiskoSize: 2 } ]
[2016-09-10 15:42:57.978] [ INFO] console - [ 70,
  1004,
  {},
  [ { fullPath: 'null2/',
      id: '2',
      path: null,
      name: 'UnitTest2',
      intensity: 1000,
      note: 'unit test 1473504149258',
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Sat Sep 10 2016 15:42:31 GMT+0500 (YEKT),
      deleted_at: null,
      parent_id: '1',
      attachments: [] } ] ]
[2016-09-10 15:42:57.988] [ INFO] console - Executing (default): INSERT INTO "Kopnik" ("id","name","surname","patronymic","voiskoSize","birth","path","created_at","updated_at","rodina_id","starshina_id") VALUES (DEFAULT,'temp','temp','temp',0,1900,'/2/151/','2016-09-10 10:42:57.913 +00:00','2016-09-10 10:42:57.913 +00:00',NULL,151) RETURNING *;
[2016-09-10 15:42:57.992] [ INFO] console - Executing (2542298f-80a4-4eb9-b07c-3a574bb4c017): COMMIT;
[2016-09-10 15:42:57.994] [ INFO] console - [ 70, 1005, {}, [ '152' ] ]
[2016-09-10 15:42:57.996] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/151/' like k.path||k.id||'/%'
[2016-09-10 15:42:58.003] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2', '151')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 15:42:58.006] [ INFO] console - [ 16,
  1725520408477696,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id151.voiskoChange',
  [],
  { voiskoSize: 1 } ]
[2016-09-10 15:42:58.018] [ INFO] console - [ 16,
  2922491383119872,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id2.voiskoChange',
  [],
  { voiskoSize: 3 } ]
[2016-09-10 15:42:58.027] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 4 }
[2016-09-10 15:42:58.034] [ INFO] console - Executing (c99e3244-21c0-49d1-8dac-f46fc339937c): START TRANSACTION;
[2016-09-10 15:42:58.036] [ INFO] console - Executing (c99e3244-21c0-49d1-8dac-f46fc339937c): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:42:58.045] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 4);
[2016-09-10 15:42:58.051] [ INFO] console - Executing (c99e3244-21c0-49d1-8dac-f46fc339937c): COMMIT;
[2016-09-10 15:42:58.052] [ INFO] console - [ 70,
  1006,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/4/',
      starshina: [Object],
      id: '4',
      email: 'unittest4@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '4',
      voiskoSize: 0,
      birth: 1983,
      path: '/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: null,
      attachments: [] } ] ]
[2016-09-10 15:42:58.063] [ INFO] console - Executing (344e0ebc-d91e-4a89-a999-83826e6f6571): START TRANSACTION;
[2016-09-10 15:42:58.065] [ INFO] console - Executing (344e0ebc-d91e-4a89-a999-83826e6f6571): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:42:58.070] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 151);
[2016-09-10 15:42:58.079] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 4);
[2016-09-10 15:42:58.085] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/' like k.path||k.id||'/%'
[2016-09-10 15:42:58.089] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 15:42:58.092] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"-2
                                where
                                    '/2/' like path||id||'/%'
[2016-09-10 15:42:58.101] [ INFO] console - Executing (default): UPDATE "Kopnik" SET "path"='/4/',"starshina_id"='4',"updated_at"='2016-09-10 10:42:58.096 +00:00' WHERE "id" = '151'
[2016-09-10 15:42:58.106] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"+2
                                where
                                    '/4/' like path||id||'/%'
[2016-09-10 15:42:58.116] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."starshina_id" = '151');
[2016-09-10 15:42:58.124] [ INFO] console - Executing (default): UPDATE "Kopnik" SET "path"='/4/151/',"updated_at"='2016-09-10 10:42:58.119 +00:00' WHERE "id" = '152'
[2016-09-10 15:42:58.127] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/4/' like k.path||k.id||'/%'
[2016-09-10 15:42:58.132] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('4')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 15:42:58.139] [ INFO] console - Executing (344e0ebc-d91e-4a89-a999-83826e6f6571): COMMIT;
[2016-09-10 15:42:58.142] [ INFO] console - [ 70, 1007, {}, [ undefined ] ]
[2016-09-10 15:42:58.147] [ INFO] console - [ 16,
  6765338402226176,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id2.voiskoChange',
  [],
  { voiskoSize: 1 } ]
[2016-09-10 15:42:58.151] [ INFO] console - [ 16,
  5016763439775744,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id4.voiskoChange',
  [],
  { voiskoSize: 2 } ]
[2016-09-10 15:42:58.172] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopa', id: 3 }
[2016-09-10 15:42:58.175] [ INFO] console - Executing (8cad2320-6d2e-467d-81ef-90c3c2f40871): START TRANSACTION;
[2016-09-10 15:42:58.178] [ INFO] console - Executing (8cad2320-6d2e-467d-81ef-90c3c2f40871): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:42:58.188] [ INFO] console - Executing (default): SELECT "Kopa"."id", "Kopa"."question", "Kopa"."planned", "Kopa"."started", "Kopa"."closed", "Kopa"."isOpen", "Kopa"."note", "Kopa"."created_at", "Kopa"."updated_at", "Kopa"."deleted_at", "Kopa"."place_id", "Kopa"."inviter_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopa" AS "Kopa" LEFT OUTER JOIN "File" AS "attachments" ON "Kopa"."id" = "attachments"."kopa_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopa"."deleted_at" IS NULL AND "Kopa"."id" = 3);
[2016-09-10 15:42:58.199] [ INFO] console - Executing (8cad2320-6d2e-467d-81ef-90c3c2f40871): COMMIT;
[2016-09-10 15:42:58.202] [ INFO] console - [ 70,
  1009,
  {},
  [ { id: '3',
      question: 'CHE',
      planned: Thu Sep 01 2016 00:00:00 GMT+0500 (YEKT),
      started: Thu Sep 01 2016 00:00:00 GMT+0500 (YEKT),
      closed: null,
      isOpen: false,
      note: null,
      created_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      deleted_at: null,
      place_id: '2',
      inviter_id: '2',
      attachments: [] } ] ]
[2016-09-10 15:42:58.216] [ INFO] console - Executing (3c0b3547-9dc7-49bd-b6c0-2a7d3fb69eeb): START TRANSACTION;
[2016-09-10 15:42:58.218] [ INFO] console - Executing (3c0b3547-9dc7-49bd-b6c0-2a7d3fb69eeb): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:42:58.225] [ INFO] console - Executing (default): INSERT INTO "Predlozhenie" ("id","value","created_at","updated_at","initiator_id","place_id") VALUES (DEFAULT,'some Predlozhenie temp 1473504176124','2016-09-10 10:42:58.219 +00:00','2016-09-10 10:42:58.219 +00:00',2,3) RETURNING *;
[2016-09-10 15:42:58.229] [ INFO] console - Executing (3c0b3547-9dc7-49bd-b6c0-2a7d3fb69eeb): COMMIT;
[2016-09-10 15:42:58.230] [ INFO] console - [ 70, 1010, {}, [ '41' ] ]
[2016-09-10 15:42:58.233] [ INFO] console - [ 16,
  8757809260789760,
  { acknowledge: true },
  'ru.kopa.model.Kopa.id3.predlozhenieAdd',
  [ '41' ] ]
[2016-09-10 15:42:58.245] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Predlozhenie', id: 1 }
[2016-09-10 15:42:58.250] [ INFO] console - Executing (1f18e78c-8fa3-4cca-9a5c-1cf1d7fc364d): START TRANSACTION;
[2016-09-10 15:42:58.256] [ INFO] console - Executing (1f18e78c-8fa3-4cca-9a5c-1cf1d7fc364d): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:42:58.263] [ INFO] console - Executing (default): SELECT "Predlozhenie"."id", "Predlozhenie"."value", "Predlozhenie"."note", "Predlozhenie"."created_at", "Predlozhenie"."updated_at", "Predlozhenie"."deleted_at", "Predlozhenie"."initiator_id", "Predlozhenie"."place_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Predlozhenie" AS "Predlozhenie" LEFT OUTER JOIN "File" AS "attachments" ON "Predlozhenie"."id" = "attachments"."predlozhenie_id" AND "attachments"."deleted_at" IS NULL WHERE ("Predlozhenie"."deleted_at" IS NULL AND "Predlozhenie"."id" = 1);
[2016-09-10 15:42:58.268] [ INFO] console - Executing (1f18e78c-8fa3-4cca-9a5c-1cf1d7fc364d): COMMIT;
[2016-09-10 15:42:58.269] [ INFO] console - [ 70,
  1011,
  {},
  [ { id: '1',
      value: 'Будет ...',
      note: null,
      created_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      deleted_at: null,
      initiator_id: '2',
      place_id: '3',
      attachments: [] } ] ]
[2016-09-10 15:42:58.280] [ INFO] console - Executing (561c0e99-79c0-402d-915b-834ad1dcda70): START TRANSACTION;
[2016-09-10 15:42:58.281] [ INFO] console - Executing (561c0e99-79c0-402d-915b-834ad1dcda70): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:42:58.286] [ INFO] console - Executing (default): INSERT INTO "Golos" ("id","value","created_at","updated_at","for_id","owner_id") VALUES (DEFAULT,1,'2016-09-10 10:42:58.283 +00:00','2016-09-10 10:42:58.283 +00:00',1,2) RETURNING *;
[2016-09-10 15:42:58.290] [ INFO] console - Executing (561c0e99-79c0-402d-915b-834ad1dcda70): COMMIT;
[2016-09-10 15:42:58.292] [ INFO] console - [ 70, 1012, {}, [ '41' ] ]
[2016-09-10 15:42:58.294] [ INFO] console - [ 16,
  6117160258633728,
  { acknowledge: true },
  'ru.kopa.model.Predlozhenie.id1.golosAdd',
  [ '41' ] ]
[2016-09-10 15:42:58.384] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 2 }
[2016-09-10 15:42:58.387] [ INFO] console - Executing (4b2177aa-faff-4709-b332-9a06ef9fa670): START TRANSACTION;
[2016-09-10 15:42:58.388] [ INFO] console - Executing (4b2177aa-faff-4709-b332-9a06ef9fa670): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:42:58.401] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 2);
[2016-09-10 15:42:58.407] [ INFO] console - Executing (4b2177aa-faff-4709-b332-9a06ef9fa670): COMMIT;
[2016-09-10 15:42:58.408] [ INFO] console - [ 70,
  1014,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/2/',
      starshina: [Object],
      id: '2',
      email: 'unittest2@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '1',
      voiskoSize: 1,
      birth: 1983,
      path: '/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: null,
      attachments: [] } ] ]
[2016-09-10 15:42:58.420] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 3 }
[2016-09-10 15:42:58.424] [ INFO] console - Executing (7ea32eeb-9482-4ef3-8fc3-3e60eaaa4aae): START TRANSACTION;
[2016-09-10 15:42:58.425] [ INFO] console - Executing (7ea32eeb-9482-4ef3-8fc3-3e60eaaa4aae): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:42:58.432] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 3);
[2016-09-10 15:42:58.437] [ INFO] console - Executing (7ea32eeb-9482-4ef3-8fc3-3e60eaaa4aae): COMMIT;
[2016-09-10 15:42:58.439] [ INFO] console - [ 70,
  1015,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/2/3/',
      starshina: [Object],
      id: '3',
      email: 'unittest3@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '3',
      voiskoSize: 0,
      birth: 1983,
      path: '/2/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: '2',
      attachments: [] } ] ]
[2016-09-10 15:42:58.451] [ INFO] console - Executing (61afa96c-44d1-49cc-bf5a-44b343ffd615): START TRANSACTION;
[2016-09-10 15:42:58.453] [ INFO] console - Executing (61afa96c-44d1-49cc-bf5a-44b343ffd615): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:42:58.458] [ INFO] console - Executing (default): INSERT INTO "Slovo" ("id","value","note","created_at","updated_at","owner_id","place_id") VALUES (DEFAULT,'123 temp','456','2016-09-10 10:42:58.454 +00:00','2016-09-10 10:42:58.454 +00:00',2,3) RETURNING *;
[2016-09-10 15:42:58.463] [ INFO] console - Executing (61afa96c-44d1-49cc-bf5a-44b343ffd615): COMMIT;
[2016-09-10 15:42:58.464] [ INFO] console - [ 70, 1016, {}, [ '79' ] ]
[2016-09-10 15:42:58.466] [ INFO] console - [ 16,
  3647620960485376,
  { acknowledge: true },
  'ru.kopa.model.Kopa.id3.slovoAdd',
  [ '79' ] ]
[2016-09-10 15:42:58.472] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Slovo', id: 79 }
[2016-09-10 15:42:58.476] [ INFO] console - Executing (48074b79-83b3-4637-8b9f-5ab9d69fafe7): START TRANSACTION;
[2016-09-10 15:42:58.477] [ INFO] console - Executing (48074b79-83b3-4637-8b9f-5ab9d69fafe7): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:42:58.484] [ INFO] console - Executing (default): SELECT "Slovo"."id", "Slovo"."value", "Slovo"."note", "Slovo"."created_at", "Slovo"."updated_at", "Slovo"."deleted_at", "Slovo"."owner_id", "Slovo"."place_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Slovo" AS "Slovo" LEFT OUTER JOIN "File" AS "attachments" ON "Slovo"."id" = "attachments"."slovo_id" AND "attachments"."deleted_at" IS NULL WHERE ("Slovo"."deleted_at" IS NULL AND "Slovo"."id" = 79);
[2016-09-10 15:42:58.489] [ INFO] console - Executing (48074b79-83b3-4637-8b9f-5ab9d69fafe7): COMMIT;
[2016-09-10 15:42:58.491] [ INFO] console - [ 70,
  1017,
  {},
  [ { id: '79',
      value: '123 temp',
      note: '456',
      created_at: Sat Sep 10 2016 15:42:58 GMT+0500 (YEKT),
      updated_at: Sat Sep 10 2016 15:42:58 GMT+0500 (YEKT),
      deleted_at: null,
      owner_id: '2',
      place_id: '3',
      attachments: [] } ] ]
[2016-09-10 15:42:58.502] [ INFO] console - Executing (cdf3a056-2a8c-4dbc-a12d-9005da948ddc): START TRANSACTION;
[2016-09-10 15:42:58.504] [ INFO] console - Executing (cdf3a056-2a8c-4dbc-a12d-9005da948ddc): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:42:58.509] [ INFO] console - Executing (default): INSERT INTO "Slovo" ("id","value","created_at","updated_at","owner_id","place_id") VALUES (DEFAULT,'some value temp 1473504178498','2016-09-10 10:42:58.506 +00:00','2016-09-10 10:42:58.506 +00:00',2,3) RETURNING *;
[2016-09-10 15:42:58.511] [ INFO] console - Executing (cdf3a056-2a8c-4dbc-a12d-9005da948ddc): COMMIT;
[2016-09-10 15:42:58.512] [ INFO] console - [ 70, 1018, {}, [ '80' ] ]
[2016-09-10 15:42:58.516] [ INFO] console - [ 16,
  3489407883542528,
  { acknowledge: true },
  'ru.kopa.model.Kopa.id3.slovoAdd',
  [ '80' ] ]
[2016-09-10 15:42:58.526] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Zemla', id: 2 }
[2016-09-10 15:42:58.534] [ INFO] console - Executing (45bdd462-c9ec-4f77-b506-a12456fe2d6b): START TRANSACTION;
[2016-09-10 15:42:58.535] [ INFO] console - Executing (45bdd462-c9ec-4f77-b506-a12456fe2d6b): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:42:58.544] [ INFO] console - Executing (default): SELECT "Zemla"."id", "Zemla"."path", "Zemla"."name", "Zemla"."intensity", "Zemla"."note", "Zemla"."created_at", "Zemla"."updated_at", "Zemla"."deleted_at", "Zemla"."parent_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Zemla" AS "Zemla" LEFT OUTER JOIN "File" AS "attachments" ON "Zemla"."id" = "attachments"."zemla_id" AND "attachments"."deleted_at" IS NULL WHERE ("Zemla"."deleted_at" IS NULL AND "Zemla"."id" = 2);
[2016-09-10 15:42:58.548] [ INFO] console - Executing (45bdd462-c9ec-4f77-b506-a12456fe2d6b): COMMIT;
[2016-09-10 15:42:58.550] [ INFO] console - [ 70,
  1019,
  {},
  [ { fullPath: 'null2/',
      id: '2',
      path: null,
      name: 'UnitTest2',
      intensity: 1000,
      note: 'unit test 1473504149258',
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Sat Sep 10 2016 15:42:31 GMT+0500 (YEKT),
      deleted_at: null,
      parent_id: '1',
      attachments: [] } ] ]
[2016-09-10 15:42:58.563] [ INFO] console - Executing (7b013fe2-b72e-41ad-a088-42f1b0eb80ab): START TRANSACTION;
[2016-09-10 15:42:58.565] [ INFO] console - Executing (7b013fe2-b72e-41ad-a088-42f1b0eb80ab): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:42:58.569] [ INFO] console - Executing (default): SELECT "id", "path", "name", "intensity", "note", "created_at", "updated_at", "deleted_at", "parent_id" FROM "Zemla" AS "Zemla" WHERE ("Zemla"."deleted_at" IS NULL AND "Zemla"."id" = 2);
[2016-09-10 15:42:58.576] [ INFO] console - Executing (default): UPDATE "Zemla" SET "parent_id"=1,"note"='unit test 1473504176166',"updated_at"='2016-09-10 10:42:58.572 +00:00' WHERE "id" = '2'
[2016-09-10 15:42:58.578] [ INFO] console - Executing (7b013fe2-b72e-41ad-a088-42f1b0eb80ab): COMMIT;
[2016-09-10 15:42:58.580] [ INFO] console - [ 16,
  6332871249756160,
  { acknowledge: true },
  'ru.kopa.model.Zemla.id2.change' ]
[2016-09-10 15:42:58.585] [ INFO] console - [ 70, 1020, {}, [ undefined ] ]
[2016-09-10 15:42:58.587] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Zemla', id: 2 }
[2016-09-10 15:42:58.590] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Zemla', id: 2 }
[2016-09-10 15:42:58.593] [ INFO] console - Executing (90a3f6bc-0362-4217-8266-b3fa8ff9fd9d): START TRANSACTION;
[2016-09-10 15:42:58.593] [ INFO] console - Executing (5b24e68f-1d10-4762-9b9e-85e138d15d09): START TRANSACTION;
[2016-09-10 15:42:58.594] [ INFO] console - Executing (90a3f6bc-0362-4217-8266-b3fa8ff9fd9d): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:42:58.596] [ INFO] console - Executing (5b24e68f-1d10-4762-9b9e-85e138d15d09): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:42:58.607] [ INFO] console - Executing (default): SELECT "Zemla"."id", "Zemla"."path", "Zemla"."name", "Zemla"."intensity", "Zemla"."note", "Zemla"."created_at", "Zemla"."updated_at", "Zemla"."deleted_at", "Zemla"."parent_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Zemla" AS "Zemla" LEFT OUTER JOIN "File" AS "attachments" ON "Zemla"."id" = "attachments"."zemla_id" AND "attachments"."deleted_at" IS NULL WHERE ("Zemla"."deleted_at" IS NULL AND "Zemla"."id" = 2);
[2016-09-10 15:42:58.608] [ INFO] console - Executing (default): SELECT "Zemla"."id", "Zemla"."path", "Zemla"."name", "Zemla"."intensity", "Zemla"."note", "Zemla"."created_at", "Zemla"."updated_at", "Zemla"."deleted_at", "Zemla"."parent_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Zemla" AS "Zemla" LEFT OUTER JOIN "File" AS "attachments" ON "Zemla"."id" = "attachments"."zemla_id" AND "attachments"."deleted_at" IS NULL WHERE ("Zemla"."deleted_at" IS NULL AND "Zemla"."id" = 2);
[2016-09-10 15:42:58.613] [ INFO] console - Executing (5b24e68f-1d10-4762-9b9e-85e138d15d09): COMMIT;
[2016-09-10 15:42:58.616] [ INFO] console - Executing (90a3f6bc-0362-4217-8266-b3fa8ff9fd9d): COMMIT;
[2016-09-10 15:42:58.617] [ INFO] console - [ 70,
  1022,
  {},
  [ { fullPath: 'null2/',
      id: '2',
      path: null,
      name: 'UnitTest2',
      intensity: 1000,
      note: 'unit test 1473504176166',
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Sat Sep 10 2016 15:42:58 GMT+0500 (YEKT),
      deleted_at: null,
      parent_id: '1',
      attachments: [] } ] ]
[2016-09-10 15:42:58.627] [ INFO] console - [ 70,
  1021,
  {},
  [ { fullPath: 'null2/',
      id: '2',
      path: null,
      name: 'UnitTest2',
      intensity: 1000,
      note: 'unit test 1473504176166',
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Sat Sep 10 2016 15:42:58 GMT+0500 (YEKT),
      deleted_at: null,
      parent_id: '1',
      attachments: [] } ] ]
[2016-09-10 15:42:58.662] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopa', id: 3 }
[2016-09-10 15:42:58.673] [ INFO] console - Executing (0eed9aab-4264-45e1-94e2-73cbd1560193): START TRANSACTION;
[2016-09-10 15:42:58.677] [ INFO] console - Executing (0eed9aab-4264-45e1-94e2-73cbd1560193): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:42:58.686] [ INFO] console - Executing (default): SELECT "Kopa"."id", "Kopa"."question", "Kopa"."planned", "Kopa"."started", "Kopa"."closed", "Kopa"."isOpen", "Kopa"."note", "Kopa"."created_at", "Kopa"."updated_at", "Kopa"."deleted_at", "Kopa"."place_id", "Kopa"."inviter_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopa" AS "Kopa" LEFT OUTER JOIN "File" AS "attachments" ON "Kopa"."id" = "attachments"."kopa_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopa"."deleted_at" IS NULL AND "Kopa"."id" = 3);
[2016-09-10 15:42:58.691] [ INFO] console - Executing (0eed9aab-4264-45e1-94e2-73cbd1560193): COMMIT;
[2016-09-10 15:42:58.692] [ INFO] console - [ 70,
  1024,
  {},
  [ { id: '3',
      question: 'CHE',
      planned: Thu Sep 01 2016 00:00:00 GMT+0500 (YEKT),
      started: Thu Sep 01 2016 00:00:00 GMT+0500 (YEKT),
      closed: null,
      isOpen: false,
      note: null,
      created_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      deleted_at: null,
      place_id: '2',
      inviter_id: '2',
      attachments: [] } ] ]
[2016-09-10 15:42:58.702] [ INFO] console - Executing (d7a68550-2e53-4131-be81-5910f1753693): START TRANSACTION;
[2016-09-10 15:42:58.704] [ INFO] console - Executing (d7a68550-2e53-4131-be81-5910f1753693): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:42:58.710] [ INFO] console - Executing (default): INSERT INTO "Slovo" ("id","value","created_at","updated_at","owner_id","place_id") VALUES (DEFAULT,'some Slovo temp','2016-09-10 10:42:58.705 +00:00','2016-09-10 10:42:58.705 +00:00',2,3) RETURNING *;
[2016-09-10 15:42:58.712] [ INFO] console - Executing (d7a68550-2e53-4131-be81-5910f1753693): COMMIT;
[2016-09-10 15:42:58.714] [ INFO] console - [ 70, 1025, {}, [ '81' ] ]
[2016-09-10 15:42:58.717] [ INFO] console - [ 16,
  4012431380578304,
  { acknowledge: true },
  'ru.kopa.model.Kopa.id3.slovoAdd',
  [ '81' ] ]
[2016-09-10 15:44:01.250] [ INFO] console - [ 70, 1027, {}, [ 'unittest2@domain.ru' ] ]
[2016-09-10 15:44:01.261] [DEBUG] Server - #pingPong() [ 1, 2, 3 ] { x: 1, y: 2, z: 3 }
[2016-09-10 15:44:01.269] [ INFO] console - [ 70, 1028, {}, [ 1, 2, 3 ], { x: 1, y: 2, z: 3 } ]
[2016-09-10 15:44:01.382] [ INFO] console - Executing (default): select 'КОПА' as result
[2016-09-10 15:44:01.387] [ INFO] console - [ 70, 1029, {}, [ 'КОПА' ] ]
[2016-09-10 15:44:01.397] [DEBUG] Server - #error() [ 'sadkljfaskldjfs;af' ] {}
[2016-09-10 15:44:01.399] [ERROR] Server - [Error: sadkljfaskldjfs;af]
Error: sadkljfaskldjfs;af
    at MySuperError (Server.js:339:9)
    at fn.constructor.error.Error (Server.js:344:19)
    at new wrappedPromise (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/async-listener/index.js:372:16)
    at Server.error (Server.js:343:16)
    at Object.<anonymous> (Server.js:415:43)
    at [object Generator].next (native)
    at step (/home/alexey2baranov/htdocs/kp-sequelizejs/src/Server.js:1:253)
    at /home/alexey2baranov/htdocs/kp-sequelizejs/src/Server.js:1:513
    at new wrappedPromise (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/async-listener/index.js:372:16)
    at Object.<anonymous> (/home/alexey2baranov/htdocs/kp-sequelizejs/src/Server.js:1:161)
    at Object.<anonymous> (Server.js:412:28)
    at tryCatchResolve (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/apply.js:46:23)
    at callAndResolve (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/apply.js:30:12)
    at callAndResolveNext (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/apply.js:40:4)
    at tryCatchReject3 (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/makePromise.js:856:7)
    at runContinuation3 (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/makePromise.js:814:4)
[2016-09-10 15:44:01.410] [ INFO] console - [ 8,
  68,
  1030,
  {},
  'MySuperError',
  [ 'sadkljfaskldjfs;af' ],
  { stack: 
     [ 'Error: sadkljfaskldjfs;af',
       '    at MySuperError (Server.js:339:9)',
       '    at fn.constructor.error.Error (Server.js:344:19)',
       '    at new wrappedPromise (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/async-listener/index.js:372:16)',
       '    at Server.error (Server.js:343:16)',
       '    at Object.<anonymous> (Server.js:415:43)',
       '    at [object Generator].next (native)',
       '    at step (/home/alexey2baranov/htdocs/kp-sequelizejs/src/Server.js:1:253)',
       '    at /home/alexey2baranov/htdocs/kp-sequelizejs/src/Server.js:1:513',
       '    at new wrappedPromise (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/async-listener/index.js:372:16)',
       '    at Object.<anonymous> (/home/alexey2baranov/htdocs/kp-sequelizejs/src/Server.js:1:161)',
       '    at Object.<anonymous> (Server.js:412:28)',
       '    at tryCatchResolve (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/apply.js:46:23)',
       '    at callAndResolve (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/apply.js:30:12)',
       '    at callAndResolveNext (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/apply.js:40:4)',
       '    at tryCatchReject3 (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/makePromise.js:856:7)',
       '    at runContinuation3 (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/makePromise.js:814:4)' ] } ]
[2016-09-10 15:44:01.421] [ INFO] console - [ 70, 1031, {}, [ undefined ] ]
[2016-09-10 15:44:01.424] [ INFO] console - Executing (default): delete from "Slovo"
                where
                    place_id<5
                    and value like '%temp'
[2016-09-10 15:44:01.437] [ INFO] console - Executing (default): delete from "Kopnik"
                where
                    name like '%temp'
[2016-09-10 15:44:01.440] [ INFO] console - Executing (default): update "Kopnik"
                set 
                    "voiskoSize"= case when id=2 then 1 ELSE 0 END
                where
                    id>1 
                    and id<=5
[2016-09-10 15:44:01.468] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopa', id: 3 }
[2016-09-10 15:44:01.471] [ INFO] console - Executing (55cb1105-163a-4c52-aa59-9f8e1ce780b9): START TRANSACTION;
[2016-09-10 15:44:01.473] [ INFO] console - Executing (55cb1105-163a-4c52-aa59-9f8e1ce780b9): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:44:01.489] [ INFO] console - Executing (default): SELECT "Kopa"."id", "Kopa"."question", "Kopa"."planned", "Kopa"."started", "Kopa"."closed", "Kopa"."isOpen", "Kopa"."note", "Kopa"."created_at", "Kopa"."updated_at", "Kopa"."deleted_at", "Kopa"."place_id", "Kopa"."inviter_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopa" AS "Kopa" LEFT OUTER JOIN "File" AS "attachments" ON "Kopa"."id" = "attachments"."kopa_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopa"."deleted_at" IS NULL AND "Kopa"."id" = 3);
[2016-09-10 15:44:01.494] [ INFO] console - Executing (55cb1105-163a-4c52-aa59-9f8e1ce780b9): COMMIT;
[2016-09-10 15:44:01.495] [ INFO] console - [ 70,
  1033,
  {},
  [ { id: '3',
      question: 'CHE',
      planned: Thu Sep 01 2016 00:00:00 GMT+0500 (YEKT),
      started: Thu Sep 01 2016 00:00:00 GMT+0500 (YEKT),
      closed: null,
      isOpen: false,
      note: null,
      created_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      deleted_at: null,
      place_id: '2',
      inviter_id: '2',
      attachments: [] } ] ]
[2016-09-10 15:44:01.513] [ INFO] console - Executing (423fb47d-f9a3-4be9-a1a2-d8eed0277045): START TRANSACTION;
[2016-09-10 15:44:01.515] [ INFO] console - Executing (423fb47d-f9a3-4be9-a1a2-d8eed0277045): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:44:01.520] [ INFO] console - Executing (default): INSERT INTO "Golos" ("id","value","created_at","updated_at","for_id","owner_id") VALUES (DEFAULT,1,'2016-09-10 10:44:01.516 +00:00','2016-09-10 10:44:01.516 +00:00',1,2) RETURNING *;
[2016-09-10 15:44:01.525] [ INFO] console - Executing (423fb47d-f9a3-4be9-a1a2-d8eed0277045): COMMIT;
[2016-09-10 15:44:01.526] [ INFO] console - [ 70, 1034, {}, [ '42' ] ]
[2016-09-10 15:44:01.529] [ INFO] console - [ 16,
  1671693682606080,
  { acknowledge: true },
  'ru.kopa.model.Predlozhenie.id1.golosAdd',
  [ '42' ] ]
[2016-09-10 15:44:01.598] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopa', id: 3 }
[2016-09-10 15:44:01.601] [ INFO] console - Executing (a21ca4d3-790c-41b8-9e71-4e379329afb7): START TRANSACTION;
[2016-09-10 15:44:01.602] [ INFO] console - Executing (a21ca4d3-790c-41b8-9e71-4e379329afb7): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:44:01.608] [ INFO] console - Executing (default): SELECT "Kopa"."id", "Kopa"."question", "Kopa"."planned", "Kopa"."started", "Kopa"."closed", "Kopa"."isOpen", "Kopa"."note", "Kopa"."created_at", "Kopa"."updated_at", "Kopa"."deleted_at", "Kopa"."place_id", "Kopa"."inviter_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopa" AS "Kopa" LEFT OUTER JOIN "File" AS "attachments" ON "Kopa"."id" = "attachments"."kopa_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopa"."deleted_at" IS NULL AND "Kopa"."id" = 3);
[2016-09-10 15:44:01.613] [ INFO] console - Executing (a21ca4d3-790c-41b8-9e71-4e379329afb7): COMMIT;
[2016-09-10 15:44:01.614] [ INFO] console - [ 70,
  1036,
  {},
  [ { id: '3',
      question: 'CHE',
      planned: Thu Sep 01 2016 00:00:00 GMT+0500 (YEKT),
      started: Thu Sep 01 2016 00:00:00 GMT+0500 (YEKT),
      closed: null,
      isOpen: false,
      note: null,
      created_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      deleted_at: null,
      place_id: '2',
      inviter_id: '2',
      attachments: [] } ] ]
[2016-09-10 15:44:01.626] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 2 }
[2016-09-10 15:44:01.628] [ INFO] console - Executing (e5cc7dda-a3fb-46fa-afd2-92446d142ee0): START TRANSACTION;
[2016-09-10 15:44:01.630] [ INFO] console - Executing (e5cc7dda-a3fb-46fa-afd2-92446d142ee0): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:44:01.636] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 2);
[2016-09-10 15:44:01.641] [ INFO] console - Executing (e5cc7dda-a3fb-46fa-afd2-92446d142ee0): COMMIT;
[2016-09-10 15:44:01.643] [ INFO] console - [ 70,
  1037,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/2/',
      starshina: [Object],
      id: '2',
      email: 'unittest2@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '1',
      voiskoSize: 1,
      birth: 1983,
      path: '/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: null,
      attachments: [] } ] ]
[2016-09-10 15:44:01.654] [ INFO] console - Executing (c76128ec-beb3-464e-ae29-3fa9038c0ad7): START TRANSACTION;
[2016-09-10 15:44:01.655] [ INFO] console - Executing (c76128ec-beb3-464e-ae29-3fa9038c0ad7): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:44:01.662] [ INFO] console - Executing (default): INSERT INTO "Slovo" ("id","value","created_at","updated_at","owner_id","place_id") VALUES (DEFAULT,'some Slovo temp 1473504241652','2016-09-10 10:44:01.657 +00:00','2016-09-10 10:44:01.657 +00:00',2,3) RETURNING *;
[2016-09-10 15:44:01.668] [ INFO] console - Executing (c76128ec-beb3-464e-ae29-3fa9038c0ad7): COMMIT;
[2016-09-10 15:44:01.669] [ INFO] console - [ 70, 1038, {}, [ '82' ] ]
[2016-09-10 15:44:01.680] [ INFO] console - [ 16,
  5449537850179584,
  { acknowledge: true },
  'ru.kopa.model.Kopa.id3.slovoAdd',
  [ '82' ] ]
[2016-09-10 15:44:01.691] [ INFO] console - Executing (270cbe07-9ee9-464f-a606-9d6bc7483899): START TRANSACTION;
[2016-09-10 15:44:01.692] [ INFO] console - Executing (270cbe07-9ee9-464f-a606-9d6bc7483899): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:44:01.698] [ INFO] console - Executing (default): INSERT INTO "Predlozhenie" ("id","value","created_at","updated_at","initiator_id","place_id") VALUES (DEFAULT,'some Predlozhenie temp 1473504241686','2016-09-10 10:44:01.694 +00:00','2016-09-10 10:44:01.694 +00:00',2,3) RETURNING *;
[2016-09-10 15:44:01.702] [ INFO] console - Executing (270cbe07-9ee9-464f-a606-9d6bc7483899): COMMIT;
[2016-09-10 15:44:01.703] [ INFO] console - [ 70, 1039, {}, [ '42' ] ]
[2016-09-10 15:44:01.707] [ INFO] console - [ 16,
  6089984991821824,
  { acknowledge: true },
  'ru.kopa.model.Kopa.id3.predlozhenieAdd',
  [ '42' ] ]
[2016-09-10 15:44:01.747] [ INFO] console - [ 70, 1041, {}, [ undefined ] ]
[2016-09-10 15:44:01.749] [ INFO] console - Executing (default): delete from "Kopnik"
                where
                    name like '%temp'
[2016-09-10 15:44:01.753] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 2 }
[2016-09-10 15:44:01.755] [ INFO] console - Executing (default): update "Kopnik"
                set 
                    "voiskoSize"= case when id=2 then 1 ELSE 0 END
                where
                    id>1 
                    and id<=5
[2016-09-10 15:44:01.756] [ INFO] console - Executing (abd02664-10ab-4f8b-b512-5a237e955b39): START TRANSACTION;
[2016-09-10 15:44:01.758] [ INFO] console - Executing (abd02664-10ab-4f8b-b512-5a237e955b39): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:44:01.765] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 2);
[2016-09-10 15:44:01.769] [ INFO] console - Executing (abd02664-10ab-4f8b-b512-5a237e955b39): COMMIT;
[2016-09-10 15:44:01.771] [ INFO] console - [ 70,
  1042,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/2/',
      starshina: [Object],
      id: '2',
      email: 'unittest2@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '1',
      voiskoSize: 1,
      birth: 1983,
      path: '/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: null,
      attachments: [] } ] ]
[2016-09-10 15:44:01.784] [ INFO] console - Executing (36c4ef98-de60-4b35-bff7-537a429326eb): START TRANSACTION;
[2016-09-10 15:44:01.786] [ INFO] console - Executing (36c4ef98-de60-4b35-bff7-537a429326eb): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:44:01.793] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 2);
[2016-09-10 15:44:01.797] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"+1
                                where
                                    '/2/' like path||id||'/%'
[2016-09-10 15:44:01.803] [ INFO] console - Executing (default): INSERT INTO "Kopnik" ("id","name","surname","patronymic","voiskoSize","birth","path","created_at","updated_at","rodina_id","starshina_id") VALUES (DEFAULT,'temp','temp','temp',0,1900,'/2/','2016-09-10 10:44:01.787 +00:00','2016-09-10 10:44:01.787 +00:00',NULL,2) RETURNING *;
[2016-09-10 15:44:01.808] [ INFO] console - Executing (36c4ef98-de60-4b35-bff7-537a429326eb): COMMIT;
[2016-09-10 15:44:01.809] [ INFO] console - [ 70, 1043, {}, [ '153' ] ]
[2016-09-10 15:44:01.813] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/' like k.path||k.id||'/%'
[2016-09-10 15:44:01.818] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Zemla', id: 2 }
[2016-09-10 15:44:01.821] [ INFO] console - Executing (54da9b69-0085-442c-9b5f-9bbed5d39a92): START TRANSACTION;
[2016-09-10 15:44:01.822] [ INFO] console - Executing (6ee08a21-3ed8-43eb-ba51-a168ca8c4dc9): START TRANSACTION;
[2016-09-10 15:44:01.829] [ INFO] console - Executing (54da9b69-0085-442c-9b5f-9bbed5d39a92): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:44:01.830] [ INFO] console - Executing (6ee08a21-3ed8-43eb-ba51-a168ca8c4dc9): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:44:01.847] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 15:44:01.850] [ INFO] console - Executing (default): SELECT "Zemla"."id", "Zemla"."path", "Zemla"."name", "Zemla"."intensity", "Zemla"."note", "Zemla"."created_at", "Zemla"."updated_at", "Zemla"."deleted_at", "Zemla"."parent_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Zemla" AS "Zemla" LEFT OUTER JOIN "File" AS "attachments" ON "Zemla"."id" = "attachments"."zemla_id" AND "attachments"."deleted_at" IS NULL WHERE ("Zemla"."deleted_at" IS NULL AND "Zemla"."id" = 2);
[2016-09-10 15:44:01.851] [ INFO] console - [ 16,
  8768710586138624,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id2.voiskoChange',
  [],
  { voiskoSize: 2 } ]
[2016-09-10 15:44:01.857] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 153);
[2016-09-10 15:44:01.869] [ INFO] console - Executing (54da9b69-0085-442c-9b5f-9bbed5d39a92): COMMIT;
[2016-09-10 15:44:01.873] [ INFO] console - [ 70,
  1044,
  {},
  [ { fullPath: 'null2/',
      id: '2',
      path: null,
      name: 'UnitTest2',
      intensity: 1000,
      note: 'unit test 1473504176166',
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Sat Sep 10 2016 15:42:58 GMT+0500 (YEKT),
      deleted_at: null,
      parent_id: '1',
      attachments: [] } ] ]
[2016-09-10 15:44:01.877] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"+1
                                where
                                    '/2/153/' like path||id||'/%'
[2016-09-10 15:44:01.885] [ INFO] console - Executing (default): INSERT INTO "Kopnik" ("id","name","surname","patronymic","voiskoSize","birth","path","created_at","updated_at","rodina_id","starshina_id") VALUES (DEFAULT,'temp','temp','temp',0,1900,'/2/153/','2016-09-10 10:44:01.832 +00:00','2016-09-10 10:44:01.832 +00:00',NULL,153) RETURNING *;
[2016-09-10 15:44:01.889] [ INFO] console - Executing (6ee08a21-3ed8-43eb-ba51-a168ca8c4dc9): COMMIT;
[2016-09-10 15:44:01.891] [ INFO] console - [ 70, 1045, {}, [ '154' ] ]
[2016-09-10 15:44:01.894] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/153/' like k.path||k.id||'/%'
[2016-09-10 15:44:01.905] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2', '153')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 15:44:01.909] [ INFO] console - [ 16,
  1745975093755904,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id153.voiskoChange',
  [],
  { voiskoSize: 1 } ]
[2016-09-10 15:44:01.917] [ INFO] console - [ 16,
  6272390090719232,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id2.voiskoChange',
  [],
  { voiskoSize: 3 } ]
[2016-09-10 15:44:01.925] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 4 }
[2016-09-10 15:44:01.928] [ INFO] console - Executing (68a4e757-85bd-4a1b-a8d2-4984f6dbbb68): START TRANSACTION;
[2016-09-10 15:44:01.930] [ INFO] console - Executing (68a4e757-85bd-4a1b-a8d2-4984f6dbbb68): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:44:01.937] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 4);
[2016-09-10 15:44:01.942] [ INFO] console - Executing (68a4e757-85bd-4a1b-a8d2-4984f6dbbb68): COMMIT;
[2016-09-10 15:44:01.944] [ INFO] console - [ 70,
  1046,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/4/',
      starshina: [Object],
      id: '4',
      email: 'unittest4@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '4',
      voiskoSize: 0,
      birth: 1983,
      path: '/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: null,
      attachments: [] } ] ]
[2016-09-10 15:44:01.995] [ INFO] console - Executing (77053cba-431c-4602-9b75-036f34264e06): START TRANSACTION;
[2016-09-10 15:44:01.999] [ INFO] console - Executing (77053cba-431c-4602-9b75-036f34264e06): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:44:02.007] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 153);
[2016-09-10 15:44:02.013] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 4);
[2016-09-10 15:44:02.017] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/' like k.path||k.id||'/%'
[2016-09-10 15:44:02.023] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 15:44:02.027] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"-2
                                where
                                    '/2/' like path||id||'/%'
[2016-09-10 15:44:02.038] [ INFO] console - Executing (default): UPDATE "Kopnik" SET "path"='/4/',"starshina_id"='4',"updated_at"='2016-09-10 10:44:02.029 +00:00' WHERE "id" = '153'
[2016-09-10 15:44:02.041] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"+2
                                where
                                    '/4/' like path||id||'/%'
[2016-09-10 15:44:02.048] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."starshina_id" = '153');
[2016-09-10 15:44:02.055] [ INFO] console - Executing (default): UPDATE "Kopnik" SET "path"='/4/153/',"updated_at"='2016-09-10 10:44:02.051 +00:00' WHERE "id" = '154'
[2016-09-10 15:44:02.059] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/4/' like k.path||k.id||'/%'
[2016-09-10 15:44:02.063] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('4')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 15:44:02.066] [ INFO] console - Executing (77053cba-431c-4602-9b75-036f34264e06): COMMIT;
[2016-09-10 15:44:02.067] [ INFO] console - [ 70, 1047, {}, [ undefined ] ]
[2016-09-10 15:44:02.071] [ INFO] console - [ 16,
  1958859931385856,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id2.voiskoChange',
  [],
  { voiskoSize: 1 } ]
[2016-09-10 15:44:02.076] [ INFO] console - [ 16,
  7111684005036032,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id4.voiskoChange',
  [],
  { voiskoSize: 2 } ]
[2016-09-10 15:44:02.141] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopa', id: 3 }
[2016-09-10 15:44:02.146] [ INFO] console - Executing (d77c582d-f792-4ff3-8e15-7d48bc0c90fc): START TRANSACTION;
[2016-09-10 15:44:02.150] [ INFO] console - Executing (d77c582d-f792-4ff3-8e15-7d48bc0c90fc): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:44:02.157] [ INFO] console - Executing (default): SELECT "Kopa"."id", "Kopa"."question", "Kopa"."planned", "Kopa"."started", "Kopa"."closed", "Kopa"."isOpen", "Kopa"."note", "Kopa"."created_at", "Kopa"."updated_at", "Kopa"."deleted_at", "Kopa"."place_id", "Kopa"."inviter_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopa" AS "Kopa" LEFT OUTER JOIN "File" AS "attachments" ON "Kopa"."id" = "attachments"."kopa_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopa"."deleted_at" IS NULL AND "Kopa"."id" = 3);
[2016-09-10 15:44:02.164] [ INFO] console - Executing (d77c582d-f792-4ff3-8e15-7d48bc0c90fc): COMMIT;
[2016-09-10 15:44:02.166] [ INFO] console - [ 70,
  1049,
  {},
  [ { id: '3',
      question: 'CHE',
      planned: Thu Sep 01 2016 00:00:00 GMT+0500 (YEKT),
      started: Thu Sep 01 2016 00:00:00 GMT+0500 (YEKT),
      closed: null,
      isOpen: false,
      note: null,
      created_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      deleted_at: null,
      place_id: '2',
      inviter_id: '2',
      attachments: [] } ] ]
[2016-09-10 15:44:02.177] [ INFO] console - Executing (a9ac471a-0cb7-4d4a-bf56-f8b62bfd9113): START TRANSACTION;
[2016-09-10 15:44:02.178] [ INFO] console - Executing (a9ac471a-0cb7-4d4a-bf56-f8b62bfd9113): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:44:02.187] [ INFO] console - Executing (default): INSERT INTO "Predlozhenie" ("id","value","created_at","updated_at","initiator_id","place_id") VALUES (DEFAULT,'some Predlozhenie temp 1473504239760','2016-09-10 10:44:02.180 +00:00','2016-09-10 10:44:02.180 +00:00',2,3) RETURNING *;
[2016-09-10 15:44:02.189] [ INFO] console - Executing (a9ac471a-0cb7-4d4a-bf56-f8b62bfd9113): COMMIT;
[2016-09-10 15:44:02.191] [ INFO] console - [ 70, 1050, {}, [ '43' ] ]
[2016-09-10 15:44:02.196] [ INFO] console - [ 16,
  5806879431196672,
  { acknowledge: true },
  'ru.kopa.model.Kopa.id3.predlozhenieAdd',
  [ '43' ] ]
[2016-09-10 15:44:02.202] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Predlozhenie', id: 1 }
[2016-09-10 15:44:02.207] [ INFO] console - Executing (8617ffca-35d4-4aca-8952-bf2c4df187a4): START TRANSACTION;
[2016-09-10 15:44:02.208] [ INFO] console - Executing (8617ffca-35d4-4aca-8952-bf2c4df187a4): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:44:02.218] [ INFO] console - Executing (default): SELECT "Predlozhenie"."id", "Predlozhenie"."value", "Predlozhenie"."note", "Predlozhenie"."created_at", "Predlozhenie"."updated_at", "Predlozhenie"."deleted_at", "Predlozhenie"."initiator_id", "Predlozhenie"."place_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Predlozhenie" AS "Predlozhenie" LEFT OUTER JOIN "File" AS "attachments" ON "Predlozhenie"."id" = "attachments"."predlozhenie_id" AND "attachments"."deleted_at" IS NULL WHERE ("Predlozhenie"."deleted_at" IS NULL AND "Predlozhenie"."id" = 1);
[2016-09-10 15:44:02.222] [ INFO] console - Executing (8617ffca-35d4-4aca-8952-bf2c4df187a4): COMMIT;
[2016-09-10 15:44:02.224] [ INFO] console - [ 70,
  1051,
  {},
  [ { id: '1',
      value: 'Будет ...',
      note: null,
      created_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      deleted_at: null,
      initiator_id: '2',
      place_id: '3',
      attachments: [] } ] ]
[2016-09-10 15:44:02.233] [ INFO] console - Executing (a54d1d93-3693-4295-8ed4-cf325758cc7a): START TRANSACTION;
[2016-09-10 15:44:02.234] [ INFO] console - Executing (a54d1d93-3693-4295-8ed4-cf325758cc7a): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:44:02.240] [ INFO] console - Executing (default): INSERT INTO "Golos" ("id","value","created_at","updated_at","for_id","owner_id") VALUES (DEFAULT,1,'2016-09-10 10:44:02.235 +00:00','2016-09-10 10:44:02.235 +00:00',1,2) RETURNING *;
[2016-09-10 15:44:02.243] [ INFO] console - Executing (a54d1d93-3693-4295-8ed4-cf325758cc7a): COMMIT;
[2016-09-10 15:44:02.246] [ INFO] console - [ 70, 1052, {}, [ '43' ] ]
[2016-09-10 15:44:02.250] [ INFO] console - [ 16,
  2215216026746880,
  { acknowledge: true },
  'ru.kopa.model.Predlozhenie.id1.golosAdd',
  [ '43' ] ]
[2016-09-10 15:44:02.297] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 2 }
[2016-09-10 15:44:02.299] [ INFO] console - Executing (790291e4-6e9c-451e-87dc-9bde91741586): START TRANSACTION;
[2016-09-10 15:44:02.300] [ INFO] console - Executing (790291e4-6e9c-451e-87dc-9bde91741586): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:44:02.313] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 2);
[2016-09-10 15:44:02.318] [ INFO] console - Executing (790291e4-6e9c-451e-87dc-9bde91741586): COMMIT;
[2016-09-10 15:44:02.319] [ INFO] console - [ 70,
  1054,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/2/',
      starshina: [Object],
      id: '2',
      email: 'unittest2@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '1',
      voiskoSize: 1,
      birth: 1983,
      path: '/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: null,
      attachments: [] } ] ]
[2016-09-10 15:44:02.332] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 3 }
[2016-09-10 15:44:02.337] [ INFO] console - Executing (de235a7c-54b5-488a-a160-66bbd01f65ca): START TRANSACTION;
[2016-09-10 15:44:02.338] [ INFO] console - Executing (de235a7c-54b5-488a-a160-66bbd01f65ca): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:44:02.343] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 3);
[2016-09-10 15:44:02.347] [ INFO] console - Executing (de235a7c-54b5-488a-a160-66bbd01f65ca): COMMIT;
[2016-09-10 15:44:02.349] [ INFO] console - [ 70,
  1055,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/2/3/',
      starshina: [Object],
      id: '3',
      email: 'unittest3@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '3',
      voiskoSize: 0,
      birth: 1983,
      path: '/2/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: '2',
      attachments: [] } ] ]
[2016-09-10 15:44:02.359] [ INFO] console - Executing (4d7f4a78-78fe-4fc1-9c8b-e775841e87a9): START TRANSACTION;
[2016-09-10 15:44:02.361] [ INFO] console - Executing (4d7f4a78-78fe-4fc1-9c8b-e775841e87a9): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:44:02.367] [ INFO] console - Executing (default): INSERT INTO "Slovo" ("id","value","note","created_at","updated_at","owner_id","place_id") VALUES (DEFAULT,'123 temp','456','2016-09-10 10:44:02.363 +00:00','2016-09-10 10:44:02.363 +00:00',2,3) RETURNING *;
[2016-09-10 15:44:02.374] [ INFO] console - Executing (4d7f4a78-78fe-4fc1-9c8b-e775841e87a9): COMMIT;
[2016-09-10 15:44:02.376] [ INFO] console - [ 70, 1056, {}, [ '83' ] ]
[2016-09-10 15:44:02.381] [ INFO] console - [ 16,
  2602675803783168,
  { acknowledge: true },
  'ru.kopa.model.Kopa.id3.slovoAdd',
  [ '83' ] ]
[2016-09-10 15:44:02.389] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Slovo', id: 83 }
[2016-09-10 15:44:02.392] [ INFO] console - Executing (5420725c-9d8c-4450-854f-f84746bc8b23): START TRANSACTION;
[2016-09-10 15:44:02.393] [ INFO] console - Executing (5420725c-9d8c-4450-854f-f84746bc8b23): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:44:02.398] [ INFO] console - Executing (default): SELECT "Slovo"."id", "Slovo"."value", "Slovo"."note", "Slovo"."created_at", "Slovo"."updated_at", "Slovo"."deleted_at", "Slovo"."owner_id", "Slovo"."place_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Slovo" AS "Slovo" LEFT OUTER JOIN "File" AS "attachments" ON "Slovo"."id" = "attachments"."slovo_id" AND "attachments"."deleted_at" IS NULL WHERE ("Slovo"."deleted_at" IS NULL AND "Slovo"."id" = 83);
[2016-09-10 15:44:02.404] [ INFO] console - Executing (5420725c-9d8c-4450-854f-f84746bc8b23): COMMIT;
[2016-09-10 15:44:02.405] [ INFO] console - [ 70,
  1057,
  {},
  [ { id: '83',
      value: '123 temp',
      note: '456',
      created_at: Sat Sep 10 2016 15:44:02 GMT+0500 (YEKT),
      updated_at: Sat Sep 10 2016 15:44:02 GMT+0500 (YEKT),
      deleted_at: null,
      owner_id: '2',
      place_id: '3',
      attachments: [] } ] ]
[2016-09-10 15:44:02.419] [ INFO] console - Executing (1962a602-bc72-4ce5-a539-dd85f30ad0f8): START TRANSACTION;
[2016-09-10 15:44:02.425] [ INFO] console - Executing (1962a602-bc72-4ce5-a539-dd85f30ad0f8): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:44:02.429] [ INFO] console - Executing (default): INSERT INTO "Slovo" ("id","value","created_at","updated_at","owner_id","place_id") VALUES (DEFAULT,'some value temp 1473504242416','2016-09-10 10:44:02.426 +00:00','2016-09-10 10:44:02.426 +00:00',2,3) RETURNING *;
[2016-09-10 15:44:02.432] [ INFO] console - Executing (1962a602-bc72-4ce5-a539-dd85f30ad0f8): COMMIT;
[2016-09-10 15:44:02.434] [ INFO] console - [ 70, 1058, {}, [ '84' ] ]
[2016-09-10 15:44:02.436] [ INFO] console - [ 16,
  2722794672488448,
  { acknowledge: true },
  'ru.kopa.model.Kopa.id3.slovoAdd',
  [ '84' ] ]
[2016-09-10 15:44:02.443] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Zemla', id: 2 }
[2016-09-10 15:44:02.445] [ INFO] console - Executing (5fdb6459-7016-4ebd-8994-a857337e3847): START TRANSACTION;
[2016-09-10 15:44:02.446] [ INFO] console - Executing (5fdb6459-7016-4ebd-8994-a857337e3847): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:44:02.451] [ INFO] console - Executing (default): SELECT "Zemla"."id", "Zemla"."path", "Zemla"."name", "Zemla"."intensity", "Zemla"."note", "Zemla"."created_at", "Zemla"."updated_at", "Zemla"."deleted_at", "Zemla"."parent_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Zemla" AS "Zemla" LEFT OUTER JOIN "File" AS "attachments" ON "Zemla"."id" = "attachments"."zemla_id" AND "attachments"."deleted_at" IS NULL WHERE ("Zemla"."deleted_at" IS NULL AND "Zemla"."id" = 2);
[2016-09-10 15:44:02.455] [ INFO] console - Executing (5fdb6459-7016-4ebd-8994-a857337e3847): COMMIT;
[2016-09-10 15:44:02.456] [ INFO] console - [ 70,
  1059,
  {},
  [ { fullPath: 'null2/',
      id: '2',
      path: null,
      name: 'UnitTest2',
      intensity: 1000,
      note: 'unit test 1473504176166',
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Sat Sep 10 2016 15:42:58 GMT+0500 (YEKT),
      deleted_at: null,
      parent_id: '1',
      attachments: [] } ] ]
[2016-09-10 15:44:02.466] [ INFO] console - Executing (76c94508-b64f-48d3-be65-3a431799303d): START TRANSACTION;
[2016-09-10 15:44:02.467] [ INFO] console - Executing (76c94508-b64f-48d3-be65-3a431799303d): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:44:02.471] [ INFO] console - Executing (default): SELECT "id", "path", "name", "intensity", "note", "created_at", "updated_at", "deleted_at", "parent_id" FROM "Zemla" AS "Zemla" WHERE ("Zemla"."deleted_at" IS NULL AND "Zemla"."id" = 2);
[2016-09-10 15:44:02.478] [ INFO] console - Executing (default): UPDATE "Zemla" SET "parent_id"=1,"note"='unit test 1473504239801',"updated_at"='2016-09-10 10:44:02.473 +00:00' WHERE "id" = '2'
[2016-09-10 15:44:02.482] [ INFO] console - Executing (76c94508-b64f-48d3-be65-3a431799303d): COMMIT;
[2016-09-10 15:44:02.484] [ INFO] console - [ 16,
  8676444718759936,
  { acknowledge: true },
  'ru.kopa.model.Zemla.id2.change' ]
[2016-09-10 15:44:02.491] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Zemla', id: 2 }
[2016-09-10 15:44:02.493] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Zemla', id: 2 }
[2016-09-10 15:44:02.495] [ INFO] console - [ 70, 1060, {}, [ undefined ] ]
[2016-09-10 15:44:02.497] [ INFO] console - Executing (fd7609ab-65d6-4ce0-9160-0fbd3a7e4714): START TRANSACTION;
[2016-09-10 15:44:02.498] [ INFO] console - Executing (714ad210-fa82-4432-8624-ae8f48fdee50): START TRANSACTION;
[2016-09-10 15:44:02.499] [ INFO] console - Executing (fd7609ab-65d6-4ce0-9160-0fbd3a7e4714): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:44:02.500] [ INFO] console - Executing (714ad210-fa82-4432-8624-ae8f48fdee50): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:44:02.509] [ INFO] console - Executing (default): SELECT "Zemla"."id", "Zemla"."path", "Zemla"."name", "Zemla"."intensity", "Zemla"."note", "Zemla"."created_at", "Zemla"."updated_at", "Zemla"."deleted_at", "Zemla"."parent_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Zemla" AS "Zemla" LEFT OUTER JOIN "File" AS "attachments" ON "Zemla"."id" = "attachments"."zemla_id" AND "attachments"."deleted_at" IS NULL WHERE ("Zemla"."deleted_at" IS NULL AND "Zemla"."id" = 2);
[2016-09-10 15:44:02.511] [ INFO] console - Executing (default): SELECT "Zemla"."id", "Zemla"."path", "Zemla"."name", "Zemla"."intensity", "Zemla"."note", "Zemla"."created_at", "Zemla"."updated_at", "Zemla"."deleted_at", "Zemla"."parent_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Zemla" AS "Zemla" LEFT OUTER JOIN "File" AS "attachments" ON "Zemla"."id" = "attachments"."zemla_id" AND "attachments"."deleted_at" IS NULL WHERE ("Zemla"."deleted_at" IS NULL AND "Zemla"."id" = 2);
[2016-09-10 15:44:02.517] [ INFO] console - Executing (fd7609ab-65d6-4ce0-9160-0fbd3a7e4714): COMMIT;
[2016-09-10 15:44:02.517] [ INFO] console - Executing (714ad210-fa82-4432-8624-ae8f48fdee50): COMMIT;
[2016-09-10 15:44:02.519] [ INFO] console - [ 70,
  1061,
  {},
  [ { fullPath: 'null2/',
      id: '2',
      path: null,
      name: 'UnitTest2',
      intensity: 1000,
      note: 'unit test 1473504239801',
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Sat Sep 10 2016 15:44:02 GMT+0500 (YEKT),
      deleted_at: null,
      parent_id: '1',
      attachments: [] } ] ]
[2016-09-10 15:44:02.526] [ INFO] console - [ 70,
  1062,
  {},
  [ { fullPath: 'null2/',
      id: '2',
      path: null,
      name: 'UnitTest2',
      intensity: 1000,
      note: 'unit test 1473504239801',
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Sat Sep 10 2016 15:44:02 GMT+0500 (YEKT),
      deleted_at: null,
      parent_id: '1',
      attachments: [] } ] ]
[2016-09-10 15:44:02.561] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopa', id: 3 }
[2016-09-10 15:44:02.564] [ INFO] console - Executing (35f87033-cc28-4ded-a194-32912dc57149): START TRANSACTION;
[2016-09-10 15:44:02.565] [ INFO] console - Executing (35f87033-cc28-4ded-a194-32912dc57149): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:44:02.571] [ INFO] console - Executing (default): SELECT "Kopa"."id", "Kopa"."question", "Kopa"."planned", "Kopa"."started", "Kopa"."closed", "Kopa"."isOpen", "Kopa"."note", "Kopa"."created_at", "Kopa"."updated_at", "Kopa"."deleted_at", "Kopa"."place_id", "Kopa"."inviter_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopa" AS "Kopa" LEFT OUTER JOIN "File" AS "attachments" ON "Kopa"."id" = "attachments"."kopa_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopa"."deleted_at" IS NULL AND "Kopa"."id" = 3);
[2016-09-10 15:44:02.576] [ INFO] console - Executing (35f87033-cc28-4ded-a194-32912dc57149): COMMIT;
[2016-09-10 15:44:02.577] [ INFO] console - [ 70,
  1064,
  {},
  [ { id: '3',
      question: 'CHE',
      planned: Thu Sep 01 2016 00:00:00 GMT+0500 (YEKT),
      started: Thu Sep 01 2016 00:00:00 GMT+0500 (YEKT),
      closed: null,
      isOpen: false,
      note: null,
      created_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      deleted_at: null,
      place_id: '2',
      inviter_id: '2',
      attachments: [] } ] ]
[2016-09-10 15:44:02.588] [ INFO] console - Executing (45e4d12b-87ea-452f-a1ba-c3ecec557749): START TRANSACTION;
[2016-09-10 15:44:02.589] [ INFO] console - Executing (45e4d12b-87ea-452f-a1ba-c3ecec557749): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:44:02.594] [ INFO] console - Executing (default): INSERT INTO "Slovo" ("id","value","created_at","updated_at","owner_id","place_id") VALUES (DEFAULT,'some Slovo temp','2016-09-10 10:44:02.591 +00:00','2016-09-10 10:44:02.591 +00:00',2,3) RETURNING *;
[2016-09-10 15:44:02.599] [ INFO] console - Executing (45e4d12b-87ea-452f-a1ba-c3ecec557749): COMMIT;
[2016-09-10 15:44:02.600] [ INFO] console - [ 70, 1065, {}, [ '85' ] ]
[2016-09-10 15:44:02.606] [ INFO] console - [ 16,
  3323248464887808,
  { acknowledge: true },
  'ru.kopa.model.Kopa.id3.slovoAdd',
  [ '85' ] ]
[2016-09-10 15:47:00.569] [ INFO] console - [ 70, 1067, {}, [ 'unittest2@domain.ru' ] ]
[2016-09-10 15:47:00.575] [DEBUG] Server - #pingPong() [ 1, 2, 3 ] { x: 1, y: 2, z: 3 }
[2016-09-10 15:47:00.577] [ INFO] console - [ 70, 1068, {}, [ 1, 2, 3 ], { x: 1, y: 2, z: 3 } ]
[2016-09-10 15:47:00.605] [ INFO] console - Executing (default): select 'КОПА' as result
[2016-09-10 15:47:00.607] [ INFO] console - [ 70, 1069, {}, [ 'КОПА' ] ]
[2016-09-10 15:47:00.614] [DEBUG] Server - #error() [ 'sadkljfaskldjfs;af' ] {}
[2016-09-10 15:47:00.616] [ERROR] Server - [Error: sadkljfaskldjfs;af]
Error: sadkljfaskldjfs;af
    at MySuperError (Server.js:339:9)
    at fn.constructor.error.Error (Server.js:344:19)
    at new wrappedPromise (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/async-listener/index.js:372:16)
    at Server.error (Server.js:343:16)
    at Object.<anonymous> (Server.js:415:43)
    at [object Generator].next (native)
    at step (/home/alexey2baranov/htdocs/kp-sequelizejs/src/Server.js:1:253)
    at /home/alexey2baranov/htdocs/kp-sequelizejs/src/Server.js:1:513
    at new wrappedPromise (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/async-listener/index.js:372:16)
    at Object.<anonymous> (/home/alexey2baranov/htdocs/kp-sequelizejs/src/Server.js:1:161)
    at Object.<anonymous> (Server.js:412:28)
    at tryCatchResolve (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/apply.js:46:23)
    at callAndResolve (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/apply.js:30:12)
    at callAndResolveNext (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/apply.js:40:4)
    at tryCatchReject3 (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/makePromise.js:856:7)
    at runContinuation3 (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/makePromise.js:814:4)
[2016-09-10 15:47:00.620] [ INFO] console - [ 8,
  68,
  1070,
  {},
  'MySuperError',
  [ 'sadkljfaskldjfs;af' ],
  { stack: 
     [ 'Error: sadkljfaskldjfs;af',
       '    at MySuperError (Server.js:339:9)',
       '    at fn.constructor.error.Error (Server.js:344:19)',
       '    at new wrappedPromise (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/async-listener/index.js:372:16)',
       '    at Server.error (Server.js:343:16)',
       '    at Object.<anonymous> (Server.js:415:43)',
       '    at [object Generator].next (native)',
       '    at step (/home/alexey2baranov/htdocs/kp-sequelizejs/src/Server.js:1:253)',
       '    at /home/alexey2baranov/htdocs/kp-sequelizejs/src/Server.js:1:513',
       '    at new wrappedPromise (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/async-listener/index.js:372:16)',
       '    at Object.<anonymous> (/home/alexey2baranov/htdocs/kp-sequelizejs/src/Server.js:1:161)',
       '    at Object.<anonymous> (Server.js:412:28)',
       '    at tryCatchResolve (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/apply.js:46:23)',
       '    at callAndResolve (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/apply.js:30:12)',
       '    at callAndResolveNext (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/apply.js:40:4)',
       '    at tryCatchReject3 (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/makePromise.js:856:7)',
       '    at runContinuation3 (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/makePromise.js:814:4)' ] } ]
[2016-09-10 15:47:00.630] [ INFO] console - [ 70, 1071, {}, [ undefined ] ]
[2016-09-10 15:47:00.641] [ INFO] console - Executing (default): delete from "Slovo"
                where
                    place_id<5
                    and value like '%temp'
[2016-09-10 15:47:00.654] [ INFO] console - Executing (default): delete from "Kopnik"
                where
                    name like '%temp'
[2016-09-10 15:47:00.662] [ INFO] console - Executing (default): update "Kopnik"
                set 
                    "voiskoSize"= case when id=2 then 1 ELSE 0 END
                where
                    id>1 
                    and id<=5
[2016-09-10 15:47:00.680] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopa', id: 3 }
[2016-09-10 15:47:00.683] [ INFO] console - Executing (4efa7d64-20e9-42a2-9365-d97a79f1e504): START TRANSACTION;
[2016-09-10 15:47:00.684] [ INFO] console - Executing (4efa7d64-20e9-42a2-9365-d97a79f1e504): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:47:00.700] [ INFO] console - Executing (default): SELECT "Kopa"."id", "Kopa"."question", "Kopa"."planned", "Kopa"."started", "Kopa"."closed", "Kopa"."isOpen", "Kopa"."note", "Kopa"."created_at", "Kopa"."updated_at", "Kopa"."deleted_at", "Kopa"."place_id", "Kopa"."inviter_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopa" AS "Kopa" LEFT OUTER JOIN "File" AS "attachments" ON "Kopa"."id" = "attachments"."kopa_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopa"."deleted_at" IS NULL AND "Kopa"."id" = 3);
[2016-09-10 15:47:00.707] [ INFO] console - Executing (4efa7d64-20e9-42a2-9365-d97a79f1e504): COMMIT;
[2016-09-10 15:47:00.708] [ INFO] console - [ 70,
  1073,
  {},
  [ { id: '3',
      question: 'CHE',
      planned: Thu Sep 01 2016 00:00:00 GMT+0500 (YEKT),
      started: Thu Sep 01 2016 00:00:00 GMT+0500 (YEKT),
      closed: null,
      isOpen: false,
      note: null,
      created_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      deleted_at: null,
      place_id: '2',
      inviter_id: '2',
      attachments: [] } ] ]
[2016-09-10 15:47:00.725] [ INFO] console - Executing (a1595351-cff2-49a8-8140-3e0063e7e571): START TRANSACTION;
[2016-09-10 15:47:00.727] [ INFO] console - Executing (a1595351-cff2-49a8-8140-3e0063e7e571): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:47:00.733] [ INFO] console - Executing (default): INSERT INTO "Golos" ("id","value","created_at","updated_at","for_id","owner_id") VALUES (DEFAULT,1,'2016-09-10 10:47:00.729 +00:00','2016-09-10 10:47:00.729 +00:00',1,2) RETURNING *;
[2016-09-10 15:47:00.738] [ INFO] console - Executing (a1595351-cff2-49a8-8140-3e0063e7e571): COMMIT;
[2016-09-10 15:47:00.739] [ INFO] console - [ 70, 1074, {}, [ '44' ] ]
[2016-09-10 15:47:00.745] [ INFO] console - [ 16,
  8580660463665152,
  { acknowledge: true },
  'ru.kopa.model.Predlozhenie.id1.golosAdd',
  [ '44' ] ]
[2016-09-10 15:47:00.785] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopa', id: 3 }
[2016-09-10 15:47:00.797] [ INFO] console - Executing (36a8f71e-8346-49d6-b4be-8b50f2b534f6): START TRANSACTION;
[2016-09-10 15:47:00.798] [ INFO] console - Executing (36a8f71e-8346-49d6-b4be-8b50f2b534f6): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:47:00.807] [ INFO] console - Executing (default): SELECT "Kopa"."id", "Kopa"."question", "Kopa"."planned", "Kopa"."started", "Kopa"."closed", "Kopa"."isOpen", "Kopa"."note", "Kopa"."created_at", "Kopa"."updated_at", "Kopa"."deleted_at", "Kopa"."place_id", "Kopa"."inviter_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopa" AS "Kopa" LEFT OUTER JOIN "File" AS "attachments" ON "Kopa"."id" = "attachments"."kopa_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopa"."deleted_at" IS NULL AND "Kopa"."id" = 3);
[2016-09-10 15:47:00.812] [ INFO] console - Executing (36a8f71e-8346-49d6-b4be-8b50f2b534f6): COMMIT;
[2016-09-10 15:47:00.813] [ INFO] console - [ 70,
  1076,
  {},
  [ { id: '3',
      question: 'CHE',
      planned: Thu Sep 01 2016 00:00:00 GMT+0500 (YEKT),
      started: Thu Sep 01 2016 00:00:00 GMT+0500 (YEKT),
      closed: null,
      isOpen: false,
      note: null,
      created_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      deleted_at: null,
      place_id: '2',
      inviter_id: '2',
      attachments: [] } ] ]
[2016-09-10 15:47:00.825] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 2 }
[2016-09-10 15:47:00.844] [ INFO] console - Executing (7516e551-e11e-47c2-aba5-cb90d1d470f2): START TRANSACTION;
[2016-09-10 15:47:00.846] [ INFO] console - Executing (7516e551-e11e-47c2-aba5-cb90d1d470f2): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:47:00.854] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 2);
[2016-09-10 15:47:00.859] [ INFO] console - Executing (7516e551-e11e-47c2-aba5-cb90d1d470f2): COMMIT;
[2016-09-10 15:47:00.860] [ INFO] console - [ 70,
  1077,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/2/',
      starshina: [Object],
      id: '2',
      email: 'unittest2@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '1',
      voiskoSize: 1,
      birth: 1983,
      path: '/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: null,
      attachments: [] } ] ]
[2016-09-10 15:47:00.872] [ INFO] console - Executing (d4c1f9f8-015d-4fd0-adc7-47f6d718fe3c): START TRANSACTION;
[2016-09-10 15:47:00.874] [ INFO] console - Executing (d4c1f9f8-015d-4fd0-adc7-47f6d718fe3c): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:47:00.879] [ INFO] console - Executing (default): INSERT INTO "Slovo" ("id","value","created_at","updated_at","owner_id","place_id") VALUES (DEFAULT,'some Slovo temp 1473504420869','2016-09-10 10:47:00.875 +00:00','2016-09-10 10:47:00.875 +00:00',2,3) RETURNING *;
[2016-09-10 15:47:00.883] [ INFO] console - Executing (d4c1f9f8-015d-4fd0-adc7-47f6d718fe3c): COMMIT;
[2016-09-10 15:47:00.885] [ INFO] console - [ 70, 1078, {}, [ '86' ] ]
[2016-09-10 15:47:00.887] [ INFO] console - [ 16,
  5208621923172352,
  { acknowledge: true },
  'ru.kopa.model.Kopa.id3.slovoAdd',
  [ '86' ] ]
[2016-09-10 15:47:00.896] [ INFO] console - Executing (a6903d93-6782-43d6-b320-1faf9f7f9b83): START TRANSACTION;
[2016-09-10 15:47:00.901] [ INFO] console - Executing (a6903d93-6782-43d6-b320-1faf9f7f9b83): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:47:00.908] [ INFO] console - Executing (default): INSERT INTO "Predlozhenie" ("id","value","created_at","updated_at","initiator_id","place_id") VALUES (DEFAULT,'some Predlozhenie temp 1473504420893','2016-09-10 10:47:00.903 +00:00','2016-09-10 10:47:00.903 +00:00',2,3) RETURNING *;
[2016-09-10 15:47:00.913] [ INFO] console - Executing (a6903d93-6782-43d6-b320-1faf9f7f9b83): COMMIT;
[2016-09-10 15:47:00.914] [ INFO] console - [ 70, 1079, {}, [ '44' ] ]
[2016-09-10 15:47:00.919] [ INFO] console - [ 16,
  2227966683643904,
  { acknowledge: true },
  'ru.kopa.model.Kopa.id3.predlozhenieAdd',
  [ '44' ] ]
[2016-09-10 15:47:00.950] [ INFO] console - [ 70, 1081, {}, [ undefined ] ]
[2016-09-10 15:47:00.953] [ INFO] console - Executing (default): delete from "Kopnik"
                where
                    name like '%temp'
[2016-09-10 15:47:00.956] [ INFO] console - Executing (default): update "Kopnik"
                set 
                    "voiskoSize"= case when id=2 then 1 ELSE 0 END
                where
                    id>1 
                    and id<=5
[2016-09-10 15:47:00.962] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 2 }
[2016-09-10 15:47:00.965] [ INFO] console - Executing (7ea06ccf-b8e9-44db-a660-3cd789fdb091): START TRANSACTION;
[2016-09-10 15:47:00.966] [ INFO] console - Executing (7ea06ccf-b8e9-44db-a660-3cd789fdb091): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:47:00.973] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 2);
[2016-09-10 15:47:00.977] [ INFO] console - Executing (7ea06ccf-b8e9-44db-a660-3cd789fdb091): COMMIT;
[2016-09-10 15:47:00.979] [ INFO] console - [ 70,
  1082,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/2/',
      starshina: [Object],
      id: '2',
      email: 'unittest2@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '1',
      voiskoSize: 1,
      birth: 1983,
      path: '/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: null,
      attachments: [] } ] ]
[2016-09-10 15:47:00.995] [ INFO] console - Executing (87796957-6607-4f30-83db-f1f076152cd6): START TRANSACTION;
[2016-09-10 15:47:00.997] [ INFO] console - Executing (87796957-6607-4f30-83db-f1f076152cd6): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:47:01.005] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 2);
[2016-09-10 15:47:01.010] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"+1
                                where
                                    '/2/' like path||id||'/%'
[2016-09-10 15:47:01.021] [ INFO] console - Executing (default): INSERT INTO "Kopnik" ("id","name","surname","patronymic","voiskoSize","birth","path","created_at","updated_at","rodina_id","starshina_id") VALUES (DEFAULT,'temp','temp','temp',0,1900,'/2/','2016-09-10 10:47:01.000 +00:00','2016-09-10 10:47:01.000 +00:00',NULL,2) RETURNING *;
[2016-09-10 15:47:01.025] [ INFO] console - Executing (87796957-6607-4f30-83db-f1f076152cd6): COMMIT;
[2016-09-10 15:47:01.027] [ INFO] console - [ 70, 1083, {}, [ '155' ] ]
[2016-09-10 15:47:01.034] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/' like k.path||k.id||'/%'
[2016-09-10 15:47:01.036] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Zemla', id: 2 }
[2016-09-10 15:47:01.042] [ INFO] console - Executing (2cf1c459-678f-4bcb-926a-5f351faa3f32): START TRANSACTION;
[2016-09-10 15:47:01.043] [ INFO] console - Executing (e4d06b84-0506-4b54-a7d6-00e8804394db): START TRANSACTION;
[2016-09-10 15:47:01.048] [ INFO] console - Executing (e4d06b84-0506-4b54-a7d6-00e8804394db): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:47:01.049] [ INFO] console - Executing (2cf1c459-678f-4bcb-926a-5f351faa3f32): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:47:01.071] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 15:47:01.076] [ INFO] console - Executing (default): SELECT "Zemla"."id", "Zemla"."path", "Zemla"."name", "Zemla"."intensity", "Zemla"."note", "Zemla"."created_at", "Zemla"."updated_at", "Zemla"."deleted_at", "Zemla"."parent_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Zemla" AS "Zemla" LEFT OUTER JOIN "File" AS "attachments" ON "Zemla"."id" = "attachments"."zemla_id" AND "attachments"."deleted_at" IS NULL WHERE ("Zemla"."deleted_at" IS NULL AND "Zemla"."id" = 2);
[2016-09-10 15:47:01.079] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 155);
[2016-09-10 15:47:01.079] [ INFO] console - [ 16,
  3245915232010240,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id2.voiskoChange',
  [],
  { voiskoSize: 2 } ]
[2016-09-10 15:47:01.090] [ INFO] console - Executing (2cf1c459-678f-4bcb-926a-5f351faa3f32): COMMIT;
[2016-09-10 15:47:01.092] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"+1
                                where
                                    '/2/155/' like path||id||'/%'
[2016-09-10 15:47:01.094] [ INFO] console - [ 70,
  1084,
  {},
  [ { fullPath: 'null2/',
      id: '2',
      path: null,
      name: 'UnitTest2',
      intensity: 1000,
      note: 'unit test 1473504239801',
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Sat Sep 10 2016 15:44:02 GMT+0500 (YEKT),
      deleted_at: null,
      parent_id: '1',
      attachments: [] } ] ]
[2016-09-10 15:47:01.104] [ INFO] console - Executing (default): INSERT INTO "Kopnik" ("id","name","surname","patronymic","voiskoSize","birth","path","created_at","updated_at","rodina_id","starshina_id") VALUES (DEFAULT,'temp','temp','temp',0,1900,'/2/155/','2016-09-10 10:47:01.056 +00:00','2016-09-10 10:47:01.056 +00:00',NULL,155) RETURNING *;
[2016-09-10 15:47:01.109] [ INFO] console - Executing (e4d06b84-0506-4b54-a7d6-00e8804394db): COMMIT;
[2016-09-10 15:47:01.113] [ INFO] console - [ 70, 1085, {}, [ '156' ] ]
[2016-09-10 15:47:01.115] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/155/' like k.path||k.id||'/%'
[2016-09-10 15:47:01.132] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2', '155')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 15:47:01.137] [ INFO] console - [ 16,
  1366485349957632,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id155.voiskoChange',
  [],
  { voiskoSize: 1 } ]
[2016-09-10 15:47:01.144] [ INFO] console - [ 16,
  5146311791738880,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id2.voiskoChange',
  [],
  { voiskoSize: 3 } ]
[2016-09-10 15:50:35.925] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 4 }
[2016-09-10 15:50:35.981] [ INFO] console - Executing (0aace4e5-d4b5-4293-a361-4fa898dff1b9): START TRANSACTION;
[2016-09-10 15:50:35.982] [ INFO] console - Executing (0aace4e5-d4b5-4293-a361-4fa898dff1b9): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:50:35.995] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 4);
[2016-09-10 15:50:36.006] [ INFO] console - Executing (0aace4e5-d4b5-4293-a361-4fa898dff1b9): COMMIT;
[2016-09-10 15:50:36.007] [ INFO] console - [ 70,
  1086,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/4/',
      starshina: [Object],
      id: '4',
      email: 'unittest4@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '4',
      voiskoSize: 0,
      birth: 1983,
      path: '/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: null,
      attachments: [] } ] ]
[2016-09-10 15:50:36.034] [ INFO] console - Executing (20ddd51e-bef3-427d-bc0e-ea6e88fb9873): START TRANSACTION;
[2016-09-10 15:50:36.035] [ INFO] console - Executing (20ddd51e-bef3-427d-bc0e-ea6e88fb9873): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:50:36.039] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 155);
[2016-09-10 15:50:36.045] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 4);
[2016-09-10 15:50:36.048] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/' like k.path||k.id||'/%'
[2016-09-10 15:50:36.053] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 15:50:36.057] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"-2
                                where
                                    '/2/' like path||id||'/%'
[2016-09-10 15:50:36.072] [ INFO] console - Executing (default): UPDATE "Kopnik" SET "path"='/4/',"starshina_id"='4',"updated_at"='2016-09-10 10:50:36.067 +00:00' WHERE "id" = '155'
[2016-09-10 15:50:36.075] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"+2
                                where
                                    '/4/' like path||id||'/%'
[2016-09-10 15:50:36.081] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."starshina_id" = '155');
[2016-09-10 15:50:36.089] [ INFO] console - Executing (default): UPDATE "Kopnik" SET "path"='/4/155/',"updated_at"='2016-09-10 10:50:36.084 +00:00' WHERE "id" = '156'
[2016-09-10 15:50:36.092] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/4/' like k.path||k.id||'/%'
[2016-09-10 15:50:36.097] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('4')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 15:50:36.101] [ INFO] console - Executing (20ddd51e-bef3-427d-bc0e-ea6e88fb9873): COMMIT;
[2016-09-10 15:50:36.103] [ INFO] console - [ 70, 1087, {}, [ undefined ] ]
[2016-09-10 15:50:36.106] [ INFO] console - [ 16,
  5123903349325824,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id2.voiskoChange',
  [],
  { voiskoSize: 1 } ]
[2016-09-10 15:50:36.112] [ INFO] console - [ 16,
  7513509019516928,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id4.voiskoChange',
  [],
  { voiskoSize: 2 } ]
[2016-09-10 15:51:50.144] [ INFO] console - [ 70, 1089, {}, [ 'unittest2@domain.ru' ] ]
[2016-09-10 15:51:50.152] [DEBUG] Server - #pingPong() [ 1, 2, 3 ] { x: 1, y: 2, z: 3 }
[2016-09-10 15:51:50.155] [ INFO] console - [ 70, 1090, {}, [ 1, 2, 3 ], { x: 1, y: 2, z: 3 } ]
[2016-09-10 15:51:50.188] [ INFO] console - Executing (default): select 'КОПА' as result
[2016-09-10 15:51:50.191] [ INFO] console - [ 70, 1091, {}, [ 'КОПА' ] ]
[2016-09-10 15:51:50.196] [DEBUG] Server - #error() [ 'sadkljfaskldjfs;af' ] {}
[2016-09-10 15:51:50.198] [ERROR] Server - [Error: sadkljfaskldjfs;af]
Error: sadkljfaskldjfs;af
    at MySuperError (Server.js:339:9)
    at fn.constructor.error.Error (Server.js:344:19)
    at new wrappedPromise (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/async-listener/index.js:372:16)
    at Server.error (Server.js:343:16)
    at Object.<anonymous> (Server.js:415:43)
    at [object Generator].next (native)
    at step (/home/alexey2baranov/htdocs/kp-sequelizejs/src/Server.js:1:253)
    at /home/alexey2baranov/htdocs/kp-sequelizejs/src/Server.js:1:513
    at new wrappedPromise (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/async-listener/index.js:372:16)
    at Object.<anonymous> (/home/alexey2baranov/htdocs/kp-sequelizejs/src/Server.js:1:161)
    at Object.<anonymous> (Server.js:412:28)
    at tryCatchResolve (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/apply.js:46:23)
    at callAndResolve (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/apply.js:30:12)
    at callAndResolveNext (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/apply.js:40:4)
    at tryCatchReject3 (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/makePromise.js:856:7)
    at runContinuation3 (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/makePromise.js:814:4)
[2016-09-10 15:51:50.207] [ INFO] console - [ 8,
  68,
  1092,
  {},
  'MySuperError',
  [ 'sadkljfaskldjfs;af' ],
  { stack: 
     [ 'Error: sadkljfaskldjfs;af',
       '    at MySuperError (Server.js:339:9)',
       '    at fn.constructor.error.Error (Server.js:344:19)',
       '    at new wrappedPromise (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/async-listener/index.js:372:16)',
       '    at Server.error (Server.js:343:16)',
       '    at Object.<anonymous> (Server.js:415:43)',
       '    at [object Generator].next (native)',
       '    at step (/home/alexey2baranov/htdocs/kp-sequelizejs/src/Server.js:1:253)',
       '    at /home/alexey2baranov/htdocs/kp-sequelizejs/src/Server.js:1:513',
       '    at new wrappedPromise (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/async-listener/index.js:372:16)',
       '    at Object.<anonymous> (/home/alexey2baranov/htdocs/kp-sequelizejs/src/Server.js:1:161)',
       '    at Object.<anonymous> (Server.js:412:28)',
       '    at tryCatchResolve (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/apply.js:46:23)',
       '    at callAndResolve (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/apply.js:30:12)',
       '    at callAndResolveNext (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/apply.js:40:4)',
       '    at tryCatchReject3 (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/makePromise.js:856:7)',
       '    at runContinuation3 (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/makePromise.js:814:4)' ] } ]
[2016-09-10 15:51:50.218] [ INFO] console - [ 70, 1093, {}, [ undefined ] ]
[2016-09-10 15:51:50.245] [ INFO] console - Executing (default): delete from "Slovo"
                where
                    place_id<5
                    and value like '%temp'
[2016-09-10 15:51:50.260] [ INFO] console - Executing (default): delete from "Kopnik"
                where
                    name like '%temp'
[2016-09-10 15:51:50.267] [ INFO] console - Executing (default): update "Kopnik"
                set 
                    "voiskoSize"= case when id=2 then 1 ELSE 0 END
                where
                    id>1 
                    and id<=5
[2016-09-10 15:51:50.279] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopa', id: 3 }
[2016-09-10 15:51:50.283] [ INFO] console - Executing (e1a6c43f-ca53-4284-87b7-afa3bcf10996): START TRANSACTION;
[2016-09-10 15:51:50.285] [ INFO] console - Executing (e1a6c43f-ca53-4284-87b7-afa3bcf10996): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:51:50.305] [ INFO] console - Executing (default): SELECT "Kopa"."id", "Kopa"."question", "Kopa"."planned", "Kopa"."started", "Kopa"."closed", "Kopa"."isOpen", "Kopa"."note", "Kopa"."created_at", "Kopa"."updated_at", "Kopa"."deleted_at", "Kopa"."place_id", "Kopa"."inviter_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopa" AS "Kopa" LEFT OUTER JOIN "File" AS "attachments" ON "Kopa"."id" = "attachments"."kopa_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopa"."deleted_at" IS NULL AND "Kopa"."id" = 3);
[2016-09-10 15:51:50.310] [ INFO] console - Executing (e1a6c43f-ca53-4284-87b7-afa3bcf10996): COMMIT;
[2016-09-10 15:51:50.312] [ INFO] console - [ 70,
  1095,
  {},
  [ { id: '3',
      question: 'CHE',
      planned: Thu Sep 01 2016 00:00:00 GMT+0500 (YEKT),
      started: Thu Sep 01 2016 00:00:00 GMT+0500 (YEKT),
      closed: null,
      isOpen: false,
      note: null,
      created_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      deleted_at: null,
      place_id: '2',
      inviter_id: '2',
      attachments: [] } ] ]
[2016-09-10 15:51:50.326] [ INFO] console - Executing (34d865dc-8de6-4817-ae1b-e2561fa5fccb): START TRANSACTION;
[2016-09-10 15:51:50.328] [ INFO] console - Executing (34d865dc-8de6-4817-ae1b-e2561fa5fccb): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:51:50.335] [ INFO] console - Executing (default): INSERT INTO "Golos" ("id","value","created_at","updated_at","for_id","owner_id") VALUES (DEFAULT,1,'2016-09-10 10:51:50.329 +00:00','2016-09-10 10:51:50.329 +00:00',1,2) RETURNING *;
[2016-09-10 15:51:50.339] [ INFO] console - Executing (34d865dc-8de6-4817-ae1b-e2561fa5fccb): COMMIT;
[2016-09-10 15:51:50.340] [ INFO] console - [ 70, 1096, {}, [ '45' ] ]
[2016-09-10 15:51:50.344] [ INFO] console - [ 16,
  4085464940150784,
  { acknowledge: true },
  'ru.kopa.model.Predlozhenie.id1.golosAdd',
  [ '45' ] ]
[2016-09-10 15:51:50.391] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopa', id: 3 }
[2016-09-10 15:51:50.394] [ INFO] console - Executing (e07ad2d0-4de8-42cf-a26f-394f0bd18b71): START TRANSACTION;
[2016-09-10 15:51:50.396] [ INFO] console - Executing (e07ad2d0-4de8-42cf-a26f-394f0bd18b71): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:51:50.412] [ INFO] console - Executing (default): SELECT "Kopa"."id", "Kopa"."question", "Kopa"."planned", "Kopa"."started", "Kopa"."closed", "Kopa"."isOpen", "Kopa"."note", "Kopa"."created_at", "Kopa"."updated_at", "Kopa"."deleted_at", "Kopa"."place_id", "Kopa"."inviter_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopa" AS "Kopa" LEFT OUTER JOIN "File" AS "attachments" ON "Kopa"."id" = "attachments"."kopa_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopa"."deleted_at" IS NULL AND "Kopa"."id" = 3);
[2016-09-10 15:51:50.418] [ INFO] console - Executing (e07ad2d0-4de8-42cf-a26f-394f0bd18b71): COMMIT;
[2016-09-10 15:51:50.420] [ INFO] console - [ 70,
  1098,
  {},
  [ { id: '3',
      question: 'CHE',
      planned: Thu Sep 01 2016 00:00:00 GMT+0500 (YEKT),
      started: Thu Sep 01 2016 00:00:00 GMT+0500 (YEKT),
      closed: null,
      isOpen: false,
      note: null,
      created_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      deleted_at: null,
      place_id: '2',
      inviter_id: '2',
      attachments: [] } ] ]
[2016-09-10 15:51:50.434] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 2 }
[2016-09-10 15:51:50.436] [ INFO] console - Executing (459b37c0-5867-4ed4-835f-59fc2b8db192): START TRANSACTION;
[2016-09-10 15:51:50.438] [ INFO] console - Executing (459b37c0-5867-4ed4-835f-59fc2b8db192): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:51:50.447] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 2);
[2016-09-10 15:51:50.454] [ INFO] console - Executing (459b37c0-5867-4ed4-835f-59fc2b8db192): COMMIT;
[2016-09-10 15:51:50.456] [ INFO] console - [ 70,
  1099,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/2/',
      starshina: [Object],
      id: '2',
      email: 'unittest2@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '1',
      voiskoSize: 1,
      birth: 1983,
      path: '/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: null,
      attachments: [] } ] ]
[2016-09-10 15:51:50.475] [ INFO] console - Executing (ebaaad72-99c3-4d24-8511-b17d0507b2ba): START TRANSACTION;
[2016-09-10 15:51:50.476] [ INFO] console - Executing (ebaaad72-99c3-4d24-8511-b17d0507b2ba): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:51:50.486] [ INFO] console - Executing (default): INSERT INTO "Slovo" ("id","value","created_at","updated_at","owner_id","place_id") VALUES (DEFAULT,'some Slovo temp 1473504710469','2016-09-10 10:51:50.478 +00:00','2016-09-10 10:51:50.478 +00:00',2,3) RETURNING *;
[2016-09-10 15:51:50.492] [ INFO] console - Executing (ebaaad72-99c3-4d24-8511-b17d0507b2ba): COMMIT;
[2016-09-10 15:51:50.493] [ INFO] console - [ 70, 1100, {}, [ '87' ] ]
[2016-09-10 15:51:50.500] [ INFO] console - [ 16,
  5334735175811072,
  { acknowledge: true },
  'ru.kopa.model.Kopa.id3.slovoAdd',
  [ '87' ] ]
[2016-09-10 15:51:50.511] [ INFO] console - Executing (11276f25-6222-43e6-9f37-703910b1c4af): START TRANSACTION;
[2016-09-10 15:51:50.513] [ INFO] console - Executing (11276f25-6222-43e6-9f37-703910b1c4af): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:51:50.524] [ INFO] console - Executing (default): INSERT INTO "Predlozhenie" ("id","value","created_at","updated_at","initiator_id","place_id") VALUES (DEFAULT,'some Predlozhenie temp 1473504710506','2016-09-10 10:51:50.516 +00:00','2016-09-10 10:51:50.516 +00:00',2,3) RETURNING *;
[2016-09-10 15:51:50.530] [ INFO] console - Executing (11276f25-6222-43e6-9f37-703910b1c4af): COMMIT;
[2016-09-10 15:51:50.531] [ INFO] console - [ 70, 1101, {}, [ '45' ] ]
[2016-09-10 15:51:50.536] [ INFO] console - [ 16,
  7458584356978688,
  { acknowledge: true },
  'ru.kopa.model.Kopa.id3.predlozhenieAdd',
  [ '45' ] ]
[2016-09-10 15:51:50.574] [ INFO] console - [ 70, 1103, {}, [ undefined ] ]
[2016-09-10 15:51:50.580] [ INFO] console - Executing (default): delete from "Kopnik"
                where
                    name like '%temp'
[2016-09-10 15:51:50.584] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 2 }
[2016-09-10 15:51:50.587] [ INFO] console - Executing (b5249a08-c070-41d3-bb59-eeeced119122): START TRANSACTION;
[2016-09-10 15:51:50.590] [ INFO] console - Executing (default): update "Kopnik"
                set 
                    "voiskoSize"= case when id=2 then 1 ELSE 0 END
                where
                    id>1 
                    and id<=5
[2016-09-10 15:51:50.591] [ INFO] console - Executing (b5249a08-c070-41d3-bb59-eeeced119122): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:51:50.599] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 2);
[2016-09-10 15:51:50.607] [ INFO] console - Executing (b5249a08-c070-41d3-bb59-eeeced119122): COMMIT;
[2016-09-10 15:51:50.610] [ INFO] console - [ 70,
  1104,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/2/',
      starshina: [Object],
      id: '2',
      email: 'unittest2@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '1',
      voiskoSize: 1,
      birth: 1983,
      path: '/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: null,
      attachments: [] } ] ]
[2016-09-10 15:51:50.637] [ INFO] console - Executing (30001d8e-72dd-47fe-a4d2-7d312972c8f8): START TRANSACTION;
[2016-09-10 15:51:50.644] [ INFO] console - Executing (30001d8e-72dd-47fe-a4d2-7d312972c8f8): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:51:50.661] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 2);
[2016-09-10 15:51:50.672] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"+1
                                where
                                    '/2/' like path||id||'/%'
[2016-09-10 15:51:50.677] [ INFO] console - Executing (default): INSERT INTO "Kopnik" ("id","name","surname","patronymic","voiskoSize","birth","path","created_at","updated_at","rodina_id","starshina_id") VALUES (DEFAULT,'temp','temp','temp',0,1900,'/2/','2016-09-10 10:51:50.648 +00:00','2016-09-10 10:51:50.648 +00:00',NULL,2) RETURNING *;
[2016-09-10 15:51:50.681] [ INFO] console - Executing (30001d8e-72dd-47fe-a4d2-7d312972c8f8): COMMIT;
[2016-09-10 15:51:50.684] [ INFO] console - [ 70, 1105, {}, [ '157' ] ]
[2016-09-10 15:51:50.695] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Zemla', id: 2 }
[2016-09-10 15:51:50.705] [ INFO] console - Executing (55221da1-7791-4a04-897e-0366c56e9c24): START TRANSACTION;
[2016-09-10 15:51:50.706] [ INFO] console - Executing (162877cd-5ca7-4b63-afce-92c28efcfa86): START TRANSACTION;
[2016-09-10 15:51:50.712] [ INFO] console - Executing (55221da1-7791-4a04-897e-0366c56e9c24): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:51:50.713] [ INFO] console - Executing (162877cd-5ca7-4b63-afce-92c28efcfa86): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:51:50.733] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/' like k.path||k.id||'/%'
[2016-09-10 15:51:50.738] [ INFO] console - Executing (default): SELECT "Zemla"."id", "Zemla"."path", "Zemla"."name", "Zemla"."intensity", "Zemla"."note", "Zemla"."created_at", "Zemla"."updated_at", "Zemla"."deleted_at", "Zemla"."parent_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Zemla" AS "Zemla" LEFT OUTER JOIN "File" AS "attachments" ON "Zemla"."id" = "attachments"."zemla_id" AND "attachments"."deleted_at" IS NULL WHERE ("Zemla"."deleted_at" IS NULL AND "Zemla"."id" = 2);
[2016-09-10 15:51:50.748] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 157);
[2016-09-10 15:51:50.770] [ INFO] console - Executing (55221da1-7791-4a04-897e-0366c56e9c24): COMMIT;
[2016-09-10 15:51:50.774] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 15:51:50.785] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"+1
                                where
                                    '/2/157/' like path||id||'/%'
[2016-09-10 15:51:50.786] [ INFO] console - [ 16,
  702384567222272,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id2.voiskoChange',
  [],
  { voiskoSize: 2 } ]
[2016-09-10 15:51:50.796] [ INFO] console - [ 70,
  1106,
  {},
  [ { fullPath: 'null2/',
      id: '2',
      path: null,
      name: 'UnitTest2',
      intensity: 1000,
      note: 'unit test 1473504239801',
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Sat Sep 10 2016 15:44:02 GMT+0500 (YEKT),
      deleted_at: null,
      parent_id: '1',
      attachments: [] } ] ]
[2016-09-10 15:51:50.828] [ INFO] console - Executing (default): INSERT INTO "Kopnik" ("id","name","surname","patronymic","voiskoSize","birth","path","created_at","updated_at","rodina_id","starshina_id") VALUES (DEFAULT,'temp','temp','temp',0,1900,'/2/157/','2016-09-10 10:51:50.718 +00:00','2016-09-10 10:51:50.718 +00:00',NULL,157) RETURNING *;
[2016-09-10 15:51:50.833] [ INFO] console - Executing (162877cd-5ca7-4b63-afce-92c28efcfa86): COMMIT;
[2016-09-10 15:51:50.834] [ INFO] console - [ 70, 1107, {}, [ '158' ] ]
[2016-09-10 15:51:50.842] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/157/' like k.path||k.id||'/%'
[2016-09-10 15:51:50.852] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2', '157')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 15:51:50.855] [ INFO] console - [ 16,
  1479945725411328,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id157.voiskoChange',
  [],
  { voiskoSize: 1 } ]
[2016-09-10 15:51:50.860] [ INFO] console - [ 16,
  2024083952762880,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id2.voiskoChange',
  [],
  { voiskoSize: 3 } ]
[2016-09-10 15:52:43.281] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 4 }
[2016-09-10 15:52:43.294] [ INFO] console - Executing (fcefdd8a-ecf7-481b-b2c2-c27e3f879ad6): START TRANSACTION;
[2016-09-10 15:52:43.298] [ INFO] console - Executing (fcefdd8a-ecf7-481b-b2c2-c27e3f879ad6): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:52:43.327] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 4);
[2016-09-10 15:52:43.342] [ INFO] console - Executing (fcefdd8a-ecf7-481b-b2c2-c27e3f879ad6): COMMIT;
[2016-09-10 15:52:43.345] [ INFO] console - [ 70,
  1108,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/4/',
      starshina: [Object],
      id: '4',
      email: 'unittest4@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '4',
      voiskoSize: 0,
      birth: 1983,
      path: '/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: null,
      attachments: [] } ] ]
[2016-09-10 15:52:46.728] [ INFO] console - [ 70, 1110, {}, [ 'unittest2@domain.ru' ] ]
[2016-09-10 15:52:46.737] [DEBUG] Server - #pingPong() [ 1, 2, 3 ] { x: 1, y: 2, z: 3 }
[2016-09-10 15:52:46.739] [ INFO] console - [ 70, 1111, {}, [ 1, 2, 3 ], { x: 1, y: 2, z: 3 } ]
[2016-09-10 15:52:46.748] [ INFO] console - Executing (default): select 'КОПА' as result
[2016-09-10 15:52:46.751] [ INFO] console - [ 70, 1112, {}, [ 'КОПА' ] ]
[2016-09-10 15:52:46.760] [DEBUG] Server - #error() [ 'sadkljfaskldjfs;af' ] {}
[2016-09-10 15:52:46.761] [ERROR] Server - [Error: sadkljfaskldjfs;af]
Error: sadkljfaskldjfs;af
    at MySuperError (Server.js:339:9)
    at fn.constructor.error.Error (Server.js:344:19)
    at new wrappedPromise (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/async-listener/index.js:372:16)
    at Server.error (Server.js:343:16)
    at Object.<anonymous> (Server.js:415:43)
    at [object Generator].next (native)
    at step (/home/alexey2baranov/htdocs/kp-sequelizejs/src/Server.js:1:253)
    at /home/alexey2baranov/htdocs/kp-sequelizejs/src/Server.js:1:513
    at new wrappedPromise (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/async-listener/index.js:372:16)
    at Object.<anonymous> (/home/alexey2baranov/htdocs/kp-sequelizejs/src/Server.js:1:161)
    at Object.<anonymous> (Server.js:412:28)
    at tryCatchResolve (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/apply.js:46:23)
    at callAndResolve (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/apply.js:30:12)
    at callAndResolveNext (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/apply.js:40:4)
    at tryCatchReject3 (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/makePromise.js:856:7)
    at runContinuation3 (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/makePromise.js:814:4)
[2016-09-10 15:52:46.766] [ INFO] console - [ 8,
  68,
  1113,
  {},
  'MySuperError',
  [ 'sadkljfaskldjfs;af' ],
  { stack: 
     [ 'Error: sadkljfaskldjfs;af',
       '    at MySuperError (Server.js:339:9)',
       '    at fn.constructor.error.Error (Server.js:344:19)',
       '    at new wrappedPromise (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/async-listener/index.js:372:16)',
       '    at Server.error (Server.js:343:16)',
       '    at Object.<anonymous> (Server.js:415:43)',
       '    at [object Generator].next (native)',
       '    at step (/home/alexey2baranov/htdocs/kp-sequelizejs/src/Server.js:1:253)',
       '    at /home/alexey2baranov/htdocs/kp-sequelizejs/src/Server.js:1:513',
       '    at new wrappedPromise (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/async-listener/index.js:372:16)',
       '    at Object.<anonymous> (/home/alexey2baranov/htdocs/kp-sequelizejs/src/Server.js:1:161)',
       '    at Object.<anonymous> (Server.js:412:28)',
       '    at tryCatchResolve (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/apply.js:46:23)',
       '    at callAndResolve (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/apply.js:30:12)',
       '    at callAndResolveNext (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/apply.js:40:4)',
       '    at tryCatchReject3 (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/makePromise.js:856:7)',
       '    at runContinuation3 (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/makePromise.js:814:4)' ] } ]
[2016-09-10 15:52:46.778] [ INFO] console - [ 70, 1114, {}, [ undefined ] ]
[2016-09-10 15:52:46.788] [ INFO] console - Executing (default): delete from "Slovo"
                where
                    place_id<5
                    and value like '%temp'
[2016-09-10 15:52:46.800] [ INFO] console - Executing (default): delete from "Kopnik"
                where
                    name like '%temp'
[2016-09-10 15:52:46.802] [ INFO] console - Executing (default): update "Kopnik"
                set 
                    "voiskoSize"= case when id=2 then 1 ELSE 0 END
                where
                    id>1 
                    and id<=5
[2016-09-10 15:52:46.826] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopa', id: 3 }
[2016-09-10 15:52:46.828] [ INFO] console - Executing (95b3fefe-91f2-4914-9e00-f5d1b3654df8): START TRANSACTION;
[2016-09-10 15:52:46.830] [ INFO] console - Executing (95b3fefe-91f2-4914-9e00-f5d1b3654df8): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:52:46.837] [ INFO] console - Executing (default): SELECT "Kopa"."id", "Kopa"."question", "Kopa"."planned", "Kopa"."started", "Kopa"."closed", "Kopa"."isOpen", "Kopa"."note", "Kopa"."created_at", "Kopa"."updated_at", "Kopa"."deleted_at", "Kopa"."place_id", "Kopa"."inviter_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopa" AS "Kopa" LEFT OUTER JOIN "File" AS "attachments" ON "Kopa"."id" = "attachments"."kopa_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopa"."deleted_at" IS NULL AND "Kopa"."id" = 3);
[2016-09-10 15:52:46.842] [ INFO] console - Executing (95b3fefe-91f2-4914-9e00-f5d1b3654df8): COMMIT;
[2016-09-10 15:52:46.845] [ INFO] console - [ 70,
  1116,
  {},
  [ { id: '3',
      question: 'CHE',
      planned: Thu Sep 01 2016 00:00:00 GMT+0500 (YEKT),
      started: Thu Sep 01 2016 00:00:00 GMT+0500 (YEKT),
      closed: null,
      isOpen: false,
      note: null,
      created_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      deleted_at: null,
      place_id: '2',
      inviter_id: '2',
      attachments: [] } ] ]
[2016-09-10 15:52:46.856] [ INFO] console - Executing (f9a68038-31b1-4700-96ae-e01573f90585): START TRANSACTION;
[2016-09-10 15:52:46.858] [ INFO] console - Executing (f9a68038-31b1-4700-96ae-e01573f90585): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:52:46.862] [ INFO] console - Executing (default): INSERT INTO "Golos" ("id","value","created_at","updated_at","for_id","owner_id") VALUES (DEFAULT,1,'2016-09-10 10:52:46.859 +00:00','2016-09-10 10:52:46.859 +00:00',1,2) RETURNING *;
[2016-09-10 15:52:46.867] [ INFO] console - Executing (f9a68038-31b1-4700-96ae-e01573f90585): COMMIT;
[2016-09-10 15:52:46.869] [ INFO] console - [ 70, 1117, {}, [ '46' ] ]
[2016-09-10 15:52:46.872] [ INFO] console - [ 16,
  4601834060644352,
  { acknowledge: true },
  'ru.kopa.model.Predlozhenie.id1.golosAdd',
  [ '46' ] ]
[2016-09-10 15:52:46.908] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopa', id: 3 }
[2016-09-10 15:52:46.911] [ INFO] console - Executing (701fc728-b0ad-4d7d-80b2-3afd2e33bed4): START TRANSACTION;
[2016-09-10 15:52:46.913] [ INFO] console - Executing (701fc728-b0ad-4d7d-80b2-3afd2e33bed4): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:52:46.921] [ INFO] console - Executing (default): SELECT "Kopa"."id", "Kopa"."question", "Kopa"."planned", "Kopa"."started", "Kopa"."closed", "Kopa"."isOpen", "Kopa"."note", "Kopa"."created_at", "Kopa"."updated_at", "Kopa"."deleted_at", "Kopa"."place_id", "Kopa"."inviter_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopa" AS "Kopa" LEFT OUTER JOIN "File" AS "attachments" ON "Kopa"."id" = "attachments"."kopa_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopa"."deleted_at" IS NULL AND "Kopa"."id" = 3);
[2016-09-10 15:52:46.928] [ INFO] console - Executing (701fc728-b0ad-4d7d-80b2-3afd2e33bed4): COMMIT;
[2016-09-10 15:52:46.930] [ INFO] console - [ 70,
  1119,
  {},
  [ { id: '3',
      question: 'CHE',
      planned: Thu Sep 01 2016 00:00:00 GMT+0500 (YEKT),
      started: Thu Sep 01 2016 00:00:00 GMT+0500 (YEKT),
      closed: null,
      isOpen: false,
      note: null,
      created_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      deleted_at: null,
      place_id: '2',
      inviter_id: '2',
      attachments: [] } ] ]
[2016-09-10 15:52:46.942] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 2 }
[2016-09-10 15:52:46.946] [ INFO] console - Executing (c4b119ff-2f25-4563-920d-b8c02b4093cd): START TRANSACTION;
[2016-09-10 15:52:46.948] [ INFO] console - Executing (c4b119ff-2f25-4563-920d-b8c02b4093cd): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:52:46.968] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 2);
[2016-09-10 15:52:46.974] [ INFO] console - Executing (c4b119ff-2f25-4563-920d-b8c02b4093cd): COMMIT;
[2016-09-10 15:52:46.976] [ INFO] console - [ 70,
  1120,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/2/',
      starshina: [Object],
      id: '2',
      email: 'unittest2@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '1',
      voiskoSize: 1,
      birth: 1983,
      path: '/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: null,
      attachments: [] } ] ]
[2016-09-10 15:52:47.025] [ INFO] console - Executing (23313514-251f-446c-91be-8657df990357): START TRANSACTION;
[2016-09-10 15:52:47.027] [ INFO] console - Executing (23313514-251f-446c-91be-8657df990357): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:52:47.032] [ INFO] console - Executing (default): INSERT INTO "Slovo" ("id","value","created_at","updated_at","owner_id","place_id") VALUES (DEFAULT,'some Slovo temp 1473504767022','2016-09-10 10:52:47.028 +00:00','2016-09-10 10:52:47.028 +00:00',2,3) RETURNING *;
[2016-09-10 15:52:47.035] [ INFO] console - Executing (23313514-251f-446c-91be-8657df990357): COMMIT;
[2016-09-10 15:52:47.037] [ INFO] console - [ 70, 1121, {}, [ '88' ] ]
[2016-09-10 15:52:47.039] [ INFO] console - [ 16,
  3273290879598592,
  { acknowledge: true },
  'ru.kopa.model.Kopa.id3.slovoAdd',
  [ '88' ] ]
[2016-09-10 15:52:47.061] [ INFO] console - Executing (a3ee5c31-4553-475f-9bec-f0855be7eeee): START TRANSACTION;
[2016-09-10 15:52:47.066] [ INFO] console - Executing (a3ee5c31-4553-475f-9bec-f0855be7eeee): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:52:47.071] [ INFO] console - Executing (default): INSERT INTO "Predlozhenie" ("id","value","created_at","updated_at","initiator_id","place_id") VALUES (DEFAULT,'some Predlozhenie temp 1473504767055','2016-09-10 10:52:47.067 +00:00','2016-09-10 10:52:47.067 +00:00',2,3) RETURNING *;
[2016-09-10 15:52:47.077] [ INFO] console - Executing (a3ee5c31-4553-475f-9bec-f0855be7eeee): COMMIT;
[2016-09-10 15:52:47.078] [ INFO] console - [ 70, 1122, {}, [ '46' ] ]
[2016-09-10 15:52:47.080] [ INFO] console - [ 16,
  2966362737606656,
  { acknowledge: true },
  'ru.kopa.model.Kopa.id3.predlozhenieAdd',
  [ '46' ] ]
[2016-09-10 15:52:47.112] [ INFO] console - [ 70, 1124, {}, [ undefined ] ]
[2016-09-10 15:52:47.114] [ INFO] console - Executing (default): delete from "Kopnik"
                where
                    name like '%temp'
[2016-09-10 15:52:47.117] [ INFO] console - Executing (default): update "Kopnik"
                set 
                    "voiskoSize"= case when id=2 then 1 ELSE 0 END
                where
                    id>1 
                    and id<=5
[2016-09-10 15:52:47.118] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 2 }
[2016-09-10 15:52:47.126] [ INFO] console - Executing (accdfab3-e9b7-46b2-8e67-00a61ba6ebcc): START TRANSACTION;
[2016-09-10 15:52:47.127] [ INFO] console - Executing (accdfab3-e9b7-46b2-8e67-00a61ba6ebcc): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:52:47.142] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 2);
[2016-09-10 15:52:47.157] [ INFO] console - Executing (accdfab3-e9b7-46b2-8e67-00a61ba6ebcc): COMMIT;
[2016-09-10 15:52:47.165] [ INFO] console - [ 70,
  1125,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/2/',
      starshina: [Object],
      id: '2',
      email: 'unittest2@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '1',
      voiskoSize: 1,
      birth: 1983,
      path: '/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: null,
      attachments: [] } ] ]
[2016-09-10 15:52:47.187] [ INFO] console - Executing (9fcf132c-4f8f-4339-a632-2ab4ca4ef3d0): START TRANSACTION;
[2016-09-10 15:52:47.189] [ INFO] console - Executing (9fcf132c-4f8f-4339-a632-2ab4ca4ef3d0): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:52:47.197] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 2);
[2016-09-10 15:52:47.202] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"+1
                                where
                                    '/2/' like path||id||'/%'
[2016-09-10 15:52:47.208] [ INFO] console - Executing (default): INSERT INTO "Kopnik" ("id","name","surname","patronymic","voiskoSize","birth","path","created_at","updated_at","rodina_id","starshina_id") VALUES (DEFAULT,'temp','temp','temp',0,1900,'/2/','2016-09-10 10:52:47.190 +00:00','2016-09-10 10:52:47.190 +00:00',NULL,2) RETURNING *;
[2016-09-10 15:52:47.212] [ INFO] console - Executing (9fcf132c-4f8f-4339-a632-2ab4ca4ef3d0): COMMIT;
[2016-09-10 15:52:47.214] [ INFO] console - [ 70, 1126, {}, [ '159' ] ]
[2016-09-10 15:52:47.221] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Zemla', id: 2 }
[2016-09-10 15:52:47.226] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/' like k.path||k.id||'/%'
[2016-09-10 15:52:47.227] [ INFO] console - Executing (5298ac98-4a4d-4ac6-a3d8-fb9ae90df20d): START TRANSACTION;
[2016-09-10 15:52:47.230] [ INFO] console - Executing (90dd4134-6f62-41c3-8de4-26292d1f5284): START TRANSACTION;
[2016-09-10 15:52:47.231] [ INFO] console - Executing (5298ac98-4a4d-4ac6-a3d8-fb9ae90df20d): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:52:47.234] [ INFO] console - Executing (90dd4134-6f62-41c3-8de4-26292d1f5284): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:52:47.256] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 15:52:47.293] [ INFO] console - Executing (default): SELECT "Zemla"."id", "Zemla"."path", "Zemla"."name", "Zemla"."intensity", "Zemla"."note", "Zemla"."created_at", "Zemla"."updated_at", "Zemla"."deleted_at", "Zemla"."parent_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Zemla" AS "Zemla" LEFT OUTER JOIN "File" AS "attachments" ON "Zemla"."id" = "attachments"."zemla_id" AND "attachments"."deleted_at" IS NULL WHERE ("Zemla"."deleted_at" IS NULL AND "Zemla"."id" = 2);
[2016-09-10 15:52:47.299] [ INFO] console - [ 16,
  712489549430784,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id2.voiskoChange',
  [],
  { voiskoSize: 2 } ]
[2016-09-10 15:52:47.309] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 159);
[2016-09-10 15:52:47.312] [ INFO] console - Executing (5298ac98-4a4d-4ac6-a3d8-fb9ae90df20d): COMMIT;
[2016-09-10 15:52:47.315] [ INFO] console - [ 70,
  1127,
  {},
  [ { fullPath: 'null2/',
      id: '2',
      path: null,
      name: 'UnitTest2',
      intensity: 1000,
      note: 'unit test 1473504239801',
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Sat Sep 10 2016 15:44:02 GMT+0500 (YEKT),
      deleted_at: null,
      parent_id: '1',
      attachments: [] } ] ]
[2016-09-10 15:52:47.320] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"+1
                                where
                                    '/2/159/' like path||id||'/%'
[2016-09-10 15:52:47.328] [ INFO] console - Executing (default): INSERT INTO "Kopnik" ("id","name","surname","patronymic","voiskoSize","birth","path","created_at","updated_at","rodina_id","starshina_id") VALUES (DEFAULT,'temp','temp','temp',0,1900,'/2/159/','2016-09-10 10:52:47.243 +00:00','2016-09-10 10:52:47.243 +00:00',NULL,159) RETURNING *;
[2016-09-10 15:52:47.334] [ INFO] console - Executing (90dd4134-6f62-41c3-8de4-26292d1f5284): COMMIT;
[2016-09-10 15:52:47.336] [ INFO] console - [ 70, 1128, {}, [ '160' ] ]
[2016-09-10 15:52:47.339] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/159/' like k.path||k.id||'/%'
[2016-09-10 15:52:47.346] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2', '159')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 15:52:47.350] [ INFO] console - [ 16,
  3055962854260736,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id159.voiskoChange',
  [],
  { voiskoSize: 1 } ]
[2016-09-10 15:52:47.361] [ INFO] console - [ 16,
  5533763027075072,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id2.voiskoChange',
  [],
  { voiskoSize: 3 } ]
[2016-09-10 15:54:26.776] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 4 }
[2016-09-10 15:54:26.792] [ INFO] console - Executing (f28d050e-ae98-4f06-990b-e3cdc79dcaab): START TRANSACTION;
[2016-09-10 15:54:26.794] [ INFO] console - Executing (f28d050e-ae98-4f06-990b-e3cdc79dcaab): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:54:26.830] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 4);
[2016-09-10 15:54:26.841] [ INFO] console - Executing (f28d050e-ae98-4f06-990b-e3cdc79dcaab): COMMIT;
[2016-09-10 15:54:26.854] [ INFO] console - [ 70,
  1129,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/4/',
      starshina: [Object],
      id: '4',
      email: 'unittest4@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '4',
      voiskoSize: 0,
      birth: 1983,
      path: '/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: null,
      attachments: [] } ] ]
[2016-09-10 15:54:30.591] [ INFO] console - [ 70, 1131, {}, [ 'unittest2@domain.ru' ] ]
[2016-09-10 15:54:30.602] [DEBUG] Server - #pingPong() [ 1, 2, 3 ] { x: 1, y: 2, z: 3 }
[2016-09-10 15:54:30.604] [ INFO] console - [ 70, 1132, {}, [ 1, 2, 3 ], { x: 1, y: 2, z: 3 } ]
[2016-09-10 15:54:30.613] [ INFO] console - Executing (default): select 'КОПА' as result
[2016-09-10 15:54:30.615] [ INFO] console - [ 70, 1133, {}, [ 'КОПА' ] ]
[2016-09-10 15:54:30.622] [DEBUG] Server - #error() [ 'sadkljfaskldjfs;af' ] {}
[2016-09-10 15:54:30.624] [ERROR] Server - [Error: sadkljfaskldjfs;af]
Error: sadkljfaskldjfs;af
    at MySuperError (Server.js:339:9)
    at fn.constructor.error.Error (Server.js:344:19)
    at new wrappedPromise (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/async-listener/index.js:372:16)
    at Server.error (Server.js:343:16)
    at Object.<anonymous> (Server.js:415:43)
    at [object Generator].next (native)
    at step (/home/alexey2baranov/htdocs/kp-sequelizejs/src/Server.js:1:253)
    at /home/alexey2baranov/htdocs/kp-sequelizejs/src/Server.js:1:513
    at new wrappedPromise (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/async-listener/index.js:372:16)
    at Object.<anonymous> (/home/alexey2baranov/htdocs/kp-sequelizejs/src/Server.js:1:161)
    at Object.<anonymous> (Server.js:412:28)
    at tryCatchResolve (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/apply.js:46:23)
    at callAndResolve (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/apply.js:30:12)
    at callAndResolveNext (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/apply.js:40:4)
    at tryCatchReject3 (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/makePromise.js:856:7)
    at runContinuation3 (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/makePromise.js:814:4)
[2016-09-10 15:54:30.632] [ INFO] console - [ 8,
  68,
  1134,
  {},
  'MySuperError',
  [ 'sadkljfaskldjfs;af' ],
  { stack: 
     [ 'Error: sadkljfaskldjfs;af',
       '    at MySuperError (Server.js:339:9)',
       '    at fn.constructor.error.Error (Server.js:344:19)',
       '    at new wrappedPromise (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/async-listener/index.js:372:16)',
       '    at Server.error (Server.js:343:16)',
       '    at Object.<anonymous> (Server.js:415:43)',
       '    at [object Generator].next (native)',
       '    at step (/home/alexey2baranov/htdocs/kp-sequelizejs/src/Server.js:1:253)',
       '    at /home/alexey2baranov/htdocs/kp-sequelizejs/src/Server.js:1:513',
       '    at new wrappedPromise (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/async-listener/index.js:372:16)',
       '    at Object.<anonymous> (/home/alexey2baranov/htdocs/kp-sequelizejs/src/Server.js:1:161)',
       '    at Object.<anonymous> (Server.js:412:28)',
       '    at tryCatchResolve (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/apply.js:46:23)',
       '    at callAndResolve (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/apply.js:30:12)',
       '    at callAndResolveNext (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/apply.js:40:4)',
       '    at tryCatchReject3 (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/makePromise.js:856:7)',
       '    at runContinuation3 (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/makePromise.js:814:4)' ] } ]
[2016-09-10 15:54:30.644] [ INFO] console - [ 70, 1135, {}, [ undefined ] ]
[2016-09-10 15:54:30.671] [ INFO] console - Executing (default): delete from "Slovo"
                where
                    place_id<5
                    and value like '%temp'
[2016-09-10 15:54:30.677] [ INFO] console - Executing (default): delete from "Kopnik"
                where
                    name like '%temp'
[2016-09-10 15:54:30.691] [ INFO] console - Executing (default): update "Kopnik"
                set 
                    "voiskoSize"= case when id=2 then 1 ELSE 0 END
                where
                    id>1 
                    and id<=5
[2016-09-10 15:54:30.701] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopa', id: 3 }
[2016-09-10 15:54:30.705] [ INFO] console - Executing (7475e309-03ea-424d-adec-4d1f88915d8c): START TRANSACTION;
[2016-09-10 15:54:30.706] [ INFO] console - Executing (7475e309-03ea-424d-adec-4d1f88915d8c): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:54:30.714] [ INFO] console - Executing (default): SELECT "Kopa"."id", "Kopa"."question", "Kopa"."planned", "Kopa"."started", "Kopa"."closed", "Kopa"."isOpen", "Kopa"."note", "Kopa"."created_at", "Kopa"."updated_at", "Kopa"."deleted_at", "Kopa"."place_id", "Kopa"."inviter_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopa" AS "Kopa" LEFT OUTER JOIN "File" AS "attachments" ON "Kopa"."id" = "attachments"."kopa_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopa"."deleted_at" IS NULL AND "Kopa"."id" = 3);
[2016-09-10 15:54:30.720] [ INFO] console - Executing (7475e309-03ea-424d-adec-4d1f88915d8c): COMMIT;
[2016-09-10 15:54:30.722] [ INFO] console - [ 70,
  1137,
  {},
  [ { id: '3',
      question: 'CHE',
      planned: Thu Sep 01 2016 00:00:00 GMT+0500 (YEKT),
      started: Thu Sep 01 2016 00:00:00 GMT+0500 (YEKT),
      closed: null,
      isOpen: false,
      note: null,
      created_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      deleted_at: null,
      place_id: '2',
      inviter_id: '2',
      attachments: [] } ] ]
[2016-09-10 15:54:30.734] [ INFO] console - Executing (90212a7f-f860-4552-b6fd-dc2c9157caec): START TRANSACTION;
[2016-09-10 15:54:30.735] [ INFO] console - Executing (90212a7f-f860-4552-b6fd-dc2c9157caec): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:54:30.742] [ INFO] console - Executing (default): INSERT INTO "Golos" ("id","value","created_at","updated_at","for_id","owner_id") VALUES (DEFAULT,1,'2016-09-10 10:54:30.737 +00:00','2016-09-10 10:54:30.737 +00:00',1,2) RETURNING *;
[2016-09-10 15:54:30.744] [ INFO] console - Executing (90212a7f-f860-4552-b6fd-dc2c9157caec): COMMIT;
[2016-09-10 15:54:30.746] [ INFO] console - [ 70, 1138, {}, [ '47' ] ]
[2016-09-10 15:54:30.748] [ INFO] console - [ 16,
  2327484515221504,
  { acknowledge: true },
  'ru.kopa.model.Predlozhenie.id1.golosAdd',
  [ '47' ] ]
[2016-09-10 15:54:30.858] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopa', id: 3 }
[2016-09-10 15:54:30.863] [ INFO] console - Executing (98906723-f64b-47f5-9787-5011b6a30b6f): START TRANSACTION;
[2016-09-10 15:54:30.881] [ INFO] console - Executing (98906723-f64b-47f5-9787-5011b6a30b6f): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:54:30.892] [ INFO] console - Executing (default): SELECT "Kopa"."id", "Kopa"."question", "Kopa"."planned", "Kopa"."started", "Kopa"."closed", "Kopa"."isOpen", "Kopa"."note", "Kopa"."created_at", "Kopa"."updated_at", "Kopa"."deleted_at", "Kopa"."place_id", "Kopa"."inviter_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopa" AS "Kopa" LEFT OUTER JOIN "File" AS "attachments" ON "Kopa"."id" = "attachments"."kopa_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopa"."deleted_at" IS NULL AND "Kopa"."id" = 3);
[2016-09-10 15:54:30.896] [ INFO] console - Executing (98906723-f64b-47f5-9787-5011b6a30b6f): COMMIT;
[2016-09-10 15:54:30.898] [ INFO] console - [ 70,
  1140,
  {},
  [ { id: '3',
      question: 'CHE',
      planned: Thu Sep 01 2016 00:00:00 GMT+0500 (YEKT),
      started: Thu Sep 01 2016 00:00:00 GMT+0500 (YEKT),
      closed: null,
      isOpen: false,
      note: null,
      created_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      deleted_at: null,
      place_id: '2',
      inviter_id: '2',
      attachments: [] } ] ]
[2016-09-10 15:54:30.908] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 2 }
[2016-09-10 15:54:30.912] [ INFO] console - Executing (0eb4da99-4102-488a-a167-4f719dc81e61): START TRANSACTION;
[2016-09-10 15:54:30.913] [ INFO] console - Executing (0eb4da99-4102-488a-a167-4f719dc81e61): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:54:30.919] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 2);
[2016-09-10 15:54:30.926] [ INFO] console - Executing (0eb4da99-4102-488a-a167-4f719dc81e61): COMMIT;
[2016-09-10 15:54:30.927] [ INFO] console - [ 70,
  1141,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/2/',
      starshina: [Object],
      id: '2',
      email: 'unittest2@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '1',
      voiskoSize: 1,
      birth: 1983,
      path: '/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: null,
      attachments: [] } ] ]
[2016-09-10 15:54:30.943] [ INFO] console - Executing (77ec74f2-9966-422e-831a-8cf34221c114): START TRANSACTION;
[2016-09-10 15:54:30.945] [ INFO] console - Executing (77ec74f2-9966-422e-831a-8cf34221c114): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:54:30.953] [ INFO] console - Executing (default): INSERT INTO "Slovo" ("id","value","created_at","updated_at","owner_id","place_id") VALUES (DEFAULT,'some Slovo temp 1473504870937','2016-09-10 10:54:30.947 +00:00','2016-09-10 10:54:30.947 +00:00',2,3) RETURNING *;
[2016-09-10 15:54:30.956] [ INFO] console - Executing (77ec74f2-9966-422e-831a-8cf34221c114): COMMIT;
[2016-09-10 15:54:30.958] [ INFO] console - [ 70, 1142, {}, [ '89' ] ]
[2016-09-10 15:54:30.962] [ INFO] console - [ 16,
  3167076141236224,
  { acknowledge: true },
  'ru.kopa.model.Kopa.id3.slovoAdd',
  [ '89' ] ]
[2016-09-10 15:54:30.969] [ INFO] console - Executing (00e257a6-8be3-4938-92da-4c371c21bc5a): START TRANSACTION;
[2016-09-10 15:54:30.970] [ INFO] console - Executing (00e257a6-8be3-4938-92da-4c371c21bc5a): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:54:30.975] [ INFO] console - Executing (default): INSERT INTO "Predlozhenie" ("id","value","created_at","updated_at","initiator_id","place_id") VALUES (DEFAULT,'some Predlozhenie temp 1473504870967','2016-09-10 10:54:30.972 +00:00','2016-09-10 10:54:30.972 +00:00',2,3) RETURNING *;
[2016-09-10 15:54:30.979] [ INFO] console - Executing (00e257a6-8be3-4938-92da-4c371c21bc5a): COMMIT;
[2016-09-10 15:54:30.981] [ INFO] console - [ 70, 1143, {}, [ '47' ] ]
[2016-09-10 15:54:30.984] [ INFO] console - [ 16,
  6179456154599424,
  { acknowledge: true },
  'ru.kopa.model.Kopa.id3.predlozhenieAdd',
  [ '47' ] ]
[2016-09-10 15:54:31.010] [ INFO] console - [ 70, 1145, {}, [ undefined ] ]
[2016-09-10 15:54:31.015] [ INFO] console - Executing (default): delete from "Kopnik"
                where
                    name like '%temp'
[2016-09-10 15:54:31.016] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 2 }
[2016-09-10 15:54:31.019] [ INFO] console - Executing (56515a07-053f-454c-963b-e17d9fd5f63e): START TRANSACTION;
[2016-09-10 15:54:31.021] [ INFO] console - Executing (default): update "Kopnik"
                set 
                    "voiskoSize"= case when id=2 then 1 ELSE 0 END
                where
                    id>1 
                    and id<=5
[2016-09-10 15:54:31.022] [ INFO] console - Executing (56515a07-053f-454c-963b-e17d9fd5f63e): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:54:31.028] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 2);
[2016-09-10 15:54:31.034] [ INFO] console - Executing (56515a07-053f-454c-963b-e17d9fd5f63e): COMMIT;
[2016-09-10 15:54:31.036] [ INFO] console - [ 70,
  1146,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/2/',
      starshina: [Object],
      id: '2',
      email: 'unittest2@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '1',
      voiskoSize: 1,
      birth: 1983,
      path: '/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: null,
      attachments: [] } ] ]
[2016-09-10 15:54:31.067] [ INFO] console - Executing (ec1612e3-91f8-44f3-898b-4457f074ca3e): START TRANSACTION;
[2016-09-10 15:54:31.074] [ INFO] console - Executing (ec1612e3-91f8-44f3-898b-4457f074ca3e): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:54:31.086] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 2);
[2016-09-10 15:54:31.092] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"+1
                                where
                                    '/2/' like path||id||'/%'
[2016-09-10 15:54:31.098] [ INFO] console - Executing (default): INSERT INTO "Kopnik" ("id","name","surname","patronymic","voiskoSize","birth","path","created_at","updated_at","rodina_id","starshina_id") VALUES (DEFAULT,'temp','temp','temp',0,1900,'/2/','2016-09-10 10:54:31.076 +00:00','2016-09-10 10:54:31.076 +00:00',NULL,2) RETURNING *;
[2016-09-10 15:54:31.103] [ INFO] console - Executing (ec1612e3-91f8-44f3-898b-4457f074ca3e): COMMIT;
[2016-09-10 15:54:31.104] [ INFO] console - [ 70, 1147, {}, [ '161' ] ]
[2016-09-10 15:54:31.117] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Zemla', id: 2 }
[2016-09-10 15:54:31.152] [ INFO] console - Executing (4c638af8-96d2-4a6a-a636-3377f027396f): START TRANSACTION;
[2016-09-10 15:54:31.152] [ INFO] console - Executing (90b73254-ed4e-43dc-98da-507f9e6adf98): START TRANSACTION;
[2016-09-10 15:54:31.162] [ INFO] console - Executing (4c638af8-96d2-4a6a-a636-3377f027396f): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:54:31.163] [ INFO] console - Executing (90b73254-ed4e-43dc-98da-507f9e6adf98): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:54:31.192] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/' like k.path||k.id||'/%'
[2016-09-10 15:54:31.201] [ INFO] console - Executing (default): SELECT "Zemla"."id", "Zemla"."path", "Zemla"."name", "Zemla"."intensity", "Zemla"."note", "Zemla"."created_at", "Zemla"."updated_at", "Zemla"."deleted_at", "Zemla"."parent_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Zemla" AS "Zemla" LEFT OUTER JOIN "File" AS "attachments" ON "Zemla"."id" = "attachments"."zemla_id" AND "attachments"."deleted_at" IS NULL WHERE ("Zemla"."deleted_at" IS NULL AND "Zemla"."id" = 2);
[2016-09-10 15:54:31.207] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 161);
[2016-09-10 15:54:31.217] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 15:54:31.221] [ INFO] console - Executing (4c638af8-96d2-4a6a-a636-3377f027396f): COMMIT;
[2016-09-10 15:54:31.222] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"+1
                                where
                                    '/2/161/' like path||id||'/%'
[2016-09-10 15:54:31.223] [ INFO] console - [ 16,
  4241122675130368,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id2.voiskoChange',
  [],
  { voiskoSize: 2 } ]
[2016-09-10 15:54:31.230] [ INFO] console - [ 70,
  1148,
  {},
  [ { fullPath: 'null2/',
      id: '2',
      path: null,
      name: 'UnitTest2',
      intensity: 1000,
      note: 'unit test 1473504239801',
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Sat Sep 10 2016 15:44:02 GMT+0500 (YEKT),
      deleted_at: null,
      parent_id: '1',
      attachments: [] } ] ]
[2016-09-10 15:54:31.243] [ INFO] console - Executing (default): INSERT INTO "Kopnik" ("id","name","surname","patronymic","voiskoSize","birth","path","created_at","updated_at","rodina_id","starshina_id") VALUES (DEFAULT,'temp','temp','temp',0,1900,'/2/161/','2016-09-10 10:54:31.165 +00:00','2016-09-10 10:54:31.165 +00:00',NULL,161) RETURNING *;
[2016-09-10 15:54:31.247] [ INFO] console - Executing (90b73254-ed4e-43dc-98da-507f9e6adf98): COMMIT;
[2016-09-10 15:54:31.248] [ INFO] console - [ 70, 1149, {}, [ '162' ] ]
[2016-09-10 15:54:31.257] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/161/' like k.path||k.id||'/%'
[2016-09-10 15:54:31.274] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2', '161')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 15:54:31.290] [ INFO] console - [ 16,
  3325107202162688,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id161.voiskoChange',
  [],
  { voiskoSize: 1 } ]
[2016-09-10 15:54:31.302] [ INFO] console - [ 16,
  6196529106780160,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id2.voiskoChange',
  [],
  { voiskoSize: 3 } ]
[2016-09-10 15:57:37.373] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 4 }
[2016-09-10 15:57:37.384] [ INFO] console - Executing (98a56bea-05b8-4536-afe9-954603778039): START TRANSACTION;
[2016-09-10 15:57:37.385] [ INFO] console - Executing (98a56bea-05b8-4536-afe9-954603778039): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:57:37.403] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 4);
[2016-09-10 15:57:37.410] [ INFO] console - Executing (98a56bea-05b8-4536-afe9-954603778039): COMMIT;
[2016-09-10 15:57:37.411] [ INFO] console - [ 70,
  1150,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/4/',
      starshina: [Object],
      id: '4',
      email: 'unittest4@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '4',
      voiskoSize: 0,
      birth: 1983,
      path: '/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: null,
      attachments: [] } ] ]
[2016-09-10 15:57:37.424] [ INFO] console - Executing (ae2ebea0-c23d-4cf8-b397-674283bb5a97): START TRANSACTION;
[2016-09-10 15:57:37.426] [ INFO] console - Executing (ae2ebea0-c23d-4cf8-b397-674283bb5a97): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:57:37.429] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 161);
[2016-09-10 15:57:37.435] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 4);
[2016-09-10 15:57:37.438] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/' like k.path||k.id||'/%'
[2016-09-10 15:57:37.444] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 15:57:37.448] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"-2
                                where
                                    '/2/' like path||id||'/%'
[2016-09-10 15:57:37.458] [ INFO] console - Executing (default): UPDATE "Kopnik" SET "path"='/4/',"starshina_id"='4',"updated_at"='2016-09-10 10:57:37.450 +00:00' WHERE "id" = '161'
[2016-09-10 15:57:37.460] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"+2
                                where
                                    '/4/' like path||id||'/%'
[2016-09-10 15:57:37.464] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."starshina_id" = '161');
[2016-09-10 15:57:37.474] [ INFO] console - Executing (default): UPDATE "Kopnik" SET "path"='/4/161/',"updated_at"='2016-09-10 10:57:37.466 +00:00' WHERE "id" = '162'
[2016-09-10 15:57:37.477] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/4/' like k.path||k.id||'/%'
[2016-09-10 15:57:37.482] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('4')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 15:57:37.486] [ INFO] console - Executing (ae2ebea0-c23d-4cf8-b397-674283bb5a97): COMMIT;
[2016-09-10 15:57:37.488] [ INFO] console - [ 70, 1151, {}, [ undefined ] ]
[2016-09-10 15:57:37.490] [ INFO] console - [ 16,
  8942768263004160,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id2.voiskoChange',
  [],
  { voiskoSize: 1 } ]
[2016-09-10 15:57:37.494] [ INFO] console - [ 16,
  7177319615561728,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id4.voiskoChange',
  [],
  { voiskoSize: 2 } ]
[2016-09-10 15:57:42.099] [ INFO] console - [ 70, 1153, {}, [ 'unittest2@domain.ru' ] ]
[2016-09-10 15:57:42.110] [DEBUG] Server - #pingPong() [ 1, 2, 3 ] { x: 1, y: 2, z: 3 }
[2016-09-10 15:57:42.122] [ INFO] console - [ 70, 1154, {}, [ 1, 2, 3 ], { x: 1, y: 2, z: 3 } ]
[2016-09-10 15:57:42.133] [ INFO] console - Executing (default): select 'КОПА' as result
[2016-09-10 15:57:42.136] [ INFO] console - [ 70, 1155, {}, [ 'КОПА' ] ]
[2016-09-10 15:57:42.143] [DEBUG] Server - #error() [ 'sadkljfaskldjfs;af' ] {}
[2016-09-10 15:57:42.145] [ERROR] Server - [Error: sadkljfaskldjfs;af]
Error: sadkljfaskldjfs;af
    at MySuperError (Server.js:339:9)
    at fn.constructor.error.Error (Server.js:344:19)
    at new wrappedPromise (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/async-listener/index.js:372:16)
    at Server.error (Server.js:343:16)
    at Object.<anonymous> (Server.js:415:43)
    at [object Generator].next (native)
    at step (/home/alexey2baranov/htdocs/kp-sequelizejs/src/Server.js:1:253)
    at /home/alexey2baranov/htdocs/kp-sequelizejs/src/Server.js:1:513
    at new wrappedPromise (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/async-listener/index.js:372:16)
    at Object.<anonymous> (/home/alexey2baranov/htdocs/kp-sequelizejs/src/Server.js:1:161)
    at Object.<anonymous> (Server.js:412:28)
    at tryCatchResolve (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/apply.js:46:23)
    at callAndResolve (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/apply.js:30:12)
    at callAndResolveNext (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/apply.js:40:4)
    at tryCatchReject3 (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/makePromise.js:856:7)
    at runContinuation3 (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/makePromise.js:814:4)
[2016-09-10 15:57:42.150] [ INFO] console - [ 8,
  68,
  1156,
  {},
  'MySuperError',
  [ 'sadkljfaskldjfs;af' ],
  { stack: 
     [ 'Error: sadkljfaskldjfs;af',
       '    at MySuperError (Server.js:339:9)',
       '    at fn.constructor.error.Error (Server.js:344:19)',
       '    at new wrappedPromise (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/async-listener/index.js:372:16)',
       '    at Server.error (Server.js:343:16)',
       '    at Object.<anonymous> (Server.js:415:43)',
       '    at [object Generator].next (native)',
       '    at step (/home/alexey2baranov/htdocs/kp-sequelizejs/src/Server.js:1:253)',
       '    at /home/alexey2baranov/htdocs/kp-sequelizejs/src/Server.js:1:513',
       '    at new wrappedPromise (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/async-listener/index.js:372:16)',
       '    at Object.<anonymous> (/home/alexey2baranov/htdocs/kp-sequelizejs/src/Server.js:1:161)',
       '    at Object.<anonymous> (Server.js:412:28)',
       '    at tryCatchResolve (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/apply.js:46:23)',
       '    at callAndResolve (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/apply.js:30:12)',
       '    at callAndResolveNext (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/apply.js:40:4)',
       '    at tryCatchReject3 (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/makePromise.js:856:7)',
       '    at runContinuation3 (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/makePromise.js:814:4)' ] } ]
[2016-09-10 15:57:42.161] [ INFO] console - [ 70, 1157, {}, [ undefined ] ]
[2016-09-10 15:57:42.173] [ INFO] console - Executing (default): delete from "Slovo"
                where
                    place_id<5
                    and value like '%temp'
[2016-09-10 15:57:42.180] [ INFO] console - Executing (default): delete from "Kopnik"
                where
                    name like '%temp'
[2016-09-10 15:57:42.189] [ INFO] console - Executing (default): update "Kopnik"
                set 
                    "voiskoSize"= case when id=2 then 1 ELSE 0 END
                where
                    id>1 
                    and id<=5
[2016-09-10 15:57:42.202] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopa', id: 3 }
[2016-09-10 15:57:42.205] [ INFO] console - Executing (0c11acd4-8868-48d1-9b98-3099343500c2): START TRANSACTION;
[2016-09-10 15:57:42.206] [ INFO] console - Executing (0c11acd4-8868-48d1-9b98-3099343500c2): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:57:42.212] [ INFO] console - Executing (default): SELECT "Kopa"."id", "Kopa"."question", "Kopa"."planned", "Kopa"."started", "Kopa"."closed", "Kopa"."isOpen", "Kopa"."note", "Kopa"."created_at", "Kopa"."updated_at", "Kopa"."deleted_at", "Kopa"."place_id", "Kopa"."inviter_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopa" AS "Kopa" LEFT OUTER JOIN "File" AS "attachments" ON "Kopa"."id" = "attachments"."kopa_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopa"."deleted_at" IS NULL AND "Kopa"."id" = 3);
[2016-09-10 15:57:42.218] [ INFO] console - Executing (0c11acd4-8868-48d1-9b98-3099343500c2): COMMIT;
[2016-09-10 15:57:42.219] [ INFO] console - [ 70,
  1159,
  {},
  [ { id: '3',
      question: 'CHE',
      planned: Thu Sep 01 2016 00:00:00 GMT+0500 (YEKT),
      started: Thu Sep 01 2016 00:00:00 GMT+0500 (YEKT),
      closed: null,
      isOpen: false,
      note: null,
      created_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      deleted_at: null,
      place_id: '2',
      inviter_id: '2',
      attachments: [] } ] ]
[2016-09-10 15:57:42.231] [ INFO] console - Executing (da276027-0b41-4337-9c54-a0a765c837d6): START TRANSACTION;
[2016-09-10 15:57:42.232] [ INFO] console - Executing (da276027-0b41-4337-9c54-a0a765c837d6): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:57:42.239] [ INFO] console - Executing (default): INSERT INTO "Golos" ("id","value","created_at","updated_at","for_id","owner_id") VALUES (DEFAULT,1,'2016-09-10 10:57:42.234 +00:00','2016-09-10 10:57:42.234 +00:00',1,2) RETURNING *;
[2016-09-10 15:57:42.250] [ INFO] console - Executing (da276027-0b41-4337-9c54-a0a765c837d6): COMMIT;
[2016-09-10 15:57:42.252] [ INFO] console - [ 70, 1160, {}, [ '48' ] ]
[2016-09-10 15:57:42.253] [ INFO] console - [ 16,
  2684978521440256,
  { acknowledge: true },
  'ru.kopa.model.Predlozhenie.id1.golosAdd',
  [ '48' ] ]
[2016-09-10 15:57:42.280] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopa', id: 3 }
[2016-09-10 15:57:42.283] [ INFO] console - Executing (49507c11-d5af-4851-93e0-46aa9295bf5b): START TRANSACTION;
[2016-09-10 15:57:42.284] [ INFO] console - Executing (49507c11-d5af-4851-93e0-46aa9295bf5b): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:57:42.291] [ INFO] console - Executing (default): SELECT "Kopa"."id", "Kopa"."question", "Kopa"."planned", "Kopa"."started", "Kopa"."closed", "Kopa"."isOpen", "Kopa"."note", "Kopa"."created_at", "Kopa"."updated_at", "Kopa"."deleted_at", "Kopa"."place_id", "Kopa"."inviter_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopa" AS "Kopa" LEFT OUTER JOIN "File" AS "attachments" ON "Kopa"."id" = "attachments"."kopa_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopa"."deleted_at" IS NULL AND "Kopa"."id" = 3);
[2016-09-10 15:57:42.296] [ INFO] console - Executing (49507c11-d5af-4851-93e0-46aa9295bf5b): COMMIT;
[2016-09-10 15:57:42.297] [ INFO] console - [ 70,
  1162,
  {},
  [ { id: '3',
      question: 'CHE',
      planned: Thu Sep 01 2016 00:00:00 GMT+0500 (YEKT),
      started: Thu Sep 01 2016 00:00:00 GMT+0500 (YEKT),
      closed: null,
      isOpen: false,
      note: null,
      created_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      deleted_at: null,
      place_id: '2',
      inviter_id: '2',
      attachments: [] } ] ]
[2016-09-10 15:57:42.308] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 2 }
[2016-09-10 15:57:42.311] [ INFO] console - Executing (8455d785-2307-4a1c-b939-d7cb0d512dab): START TRANSACTION;
[2016-09-10 15:57:42.312] [ INFO] console - Executing (8455d785-2307-4a1c-b939-d7cb0d512dab): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:57:42.319] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 2);
[2016-09-10 15:57:42.325] [ INFO] console - Executing (8455d785-2307-4a1c-b939-d7cb0d512dab): COMMIT;
[2016-09-10 15:57:42.326] [ INFO] console - [ 70,
  1163,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/2/',
      starshina: [Object],
      id: '2',
      email: 'unittest2@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '1',
      voiskoSize: 1,
      birth: 1983,
      path: '/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: null,
      attachments: [] } ] ]
[2016-09-10 15:57:42.338] [ INFO] console - Executing (f49d1e7d-f82c-414a-a5cd-99eeddde51e9): START TRANSACTION;
[2016-09-10 15:57:42.340] [ INFO] console - Executing (f49d1e7d-f82c-414a-a5cd-99eeddde51e9): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:57:42.346] [ INFO] console - Executing (default): INSERT INTO "Slovo" ("id","value","created_at","updated_at","owner_id","place_id") VALUES (DEFAULT,'some Slovo temp 1473505062335','2016-09-10 10:57:42.342 +00:00','2016-09-10 10:57:42.342 +00:00',2,3) RETURNING *;
[2016-09-10 15:57:42.352] [ INFO] console - Executing (f49d1e7d-f82c-414a-a5cd-99eeddde51e9): COMMIT;
[2016-09-10 15:57:42.356] [ INFO] console - [ 70, 1164, {}, [ '90' ] ]
[2016-09-10 15:57:42.362] [ INFO] console - [ 16,
  5023076750196736,
  { acknowledge: true },
  'ru.kopa.model.Kopa.id3.slovoAdd',
  [ '90' ] ]
[2016-09-10 15:57:42.371] [ INFO] console - Executing (eed4afc9-456f-4d44-8b63-e94eab5aa084): START TRANSACTION;
[2016-09-10 15:57:42.372] [ INFO] console - Executing (eed4afc9-456f-4d44-8b63-e94eab5aa084): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:57:42.379] [ INFO] console - Executing (default): INSERT INTO "Predlozhenie" ("id","value","created_at","updated_at","initiator_id","place_id") VALUES (DEFAULT,'some Predlozhenie temp 1473505062368','2016-09-10 10:57:42.373 +00:00','2016-09-10 10:57:42.373 +00:00',2,3) RETURNING *;
[2016-09-10 15:57:42.382] [ INFO] console - Executing (eed4afc9-456f-4d44-8b63-e94eab5aa084): COMMIT;
[2016-09-10 15:57:42.384] [ INFO] console - [ 70, 1165, {}, [ '48' ] ]
[2016-09-10 15:57:42.387] [ INFO] console - [ 16,
  513704395276288,
  { acknowledge: true },
  'ru.kopa.model.Kopa.id3.predlozhenieAdd',
  [ '48' ] ]
[2016-09-10 15:57:42.424] [ INFO] console - [ 70, 1167, {}, [ undefined ] ]
[2016-09-10 15:57:42.432] [ INFO] console - Executing (default): delete from "Kopnik"
                where
                    name like '%temp'
[2016-09-10 15:57:42.433] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 2 }
[2016-09-10 15:57:42.436] [ INFO] console - Executing (278415cc-78df-4b10-84c2-aee2bc634413): START TRANSACTION;
[2016-09-10 15:57:42.438] [ INFO] console - Executing (default): update "Kopnik"
                set 
                    "voiskoSize"= case when id=2 then 1 ELSE 0 END
                where
                    id>1 
                    and id<=5
[2016-09-10 15:57:42.439] [ INFO] console - Executing (278415cc-78df-4b10-84c2-aee2bc634413): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:57:42.448] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 2);
[2016-09-10 15:57:42.453] [ INFO] console - Executing (278415cc-78df-4b10-84c2-aee2bc634413): COMMIT;
[2016-09-10 15:57:42.455] [ INFO] console - [ 70,
  1168,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/2/',
      starshina: [Object],
      id: '2',
      email: 'unittest2@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '1',
      voiskoSize: 1,
      birth: 1983,
      path: '/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: null,
      attachments: [] } ] ]
[2016-09-10 15:57:42.466] [ INFO] console - Executing (a1cb83b7-7531-4220-bb7e-50e2aa55b502): START TRANSACTION;
[2016-09-10 15:57:42.467] [ INFO] console - Executing (a1cb83b7-7531-4220-bb7e-50e2aa55b502): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:57:42.474] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 2);
[2016-09-10 15:57:42.479] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"+1
                                where
                                    '/2/' like path||id||'/%'
[2016-09-10 15:57:42.484] [ INFO] console - Executing (default): INSERT INTO "Kopnik" ("id","name","surname","patronymic","voiskoSize","birth","path","created_at","updated_at","rodina_id","starshina_id") VALUES (DEFAULT,'temp','temp','temp',0,1900,'/2/','2016-09-10 10:57:42.469 +00:00','2016-09-10 10:57:42.469 +00:00',NULL,2) RETURNING *;
[2016-09-10 15:57:42.487] [ INFO] console - Executing (a1cb83b7-7531-4220-bb7e-50e2aa55b502): COMMIT;
[2016-09-10 15:57:42.489] [ INFO] console - [ 70, 1169, {}, [ '163' ] ]
[2016-09-10 15:57:42.497] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Zemla', id: 2 }
[2016-09-10 15:57:42.503] [ INFO] console - Executing (cda81c86-602c-41fa-8011-4dacdc8bf4d3): START TRANSACTION;
[2016-09-10 15:57:42.503] [ INFO] console - Executing (c031b190-4b3a-4f96-9606-cb37ad81247c): START TRANSACTION;
[2016-09-10 15:57:42.507] [ INFO] console - Executing (cda81c86-602c-41fa-8011-4dacdc8bf4d3): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:57:42.508] [ INFO] console - Executing (c031b190-4b3a-4f96-9606-cb37ad81247c): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:57:42.528] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/' like k.path||k.id||'/%'
[2016-09-10 15:57:42.533] [ INFO] console - Executing (default): SELECT "Zemla"."id", "Zemla"."path", "Zemla"."name", "Zemla"."intensity", "Zemla"."note", "Zemla"."created_at", "Zemla"."updated_at", "Zemla"."deleted_at", "Zemla"."parent_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Zemla" AS "Zemla" LEFT OUTER JOIN "File" AS "attachments" ON "Zemla"."id" = "attachments"."zemla_id" AND "attachments"."deleted_at" IS NULL WHERE ("Zemla"."deleted_at" IS NULL AND "Zemla"."id" = 2);
[2016-09-10 15:57:42.540] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 163);
[2016-09-10 15:57:42.546] [ INFO] console - Executing (cda81c86-602c-41fa-8011-4dacdc8bf4d3): COMMIT;
[2016-09-10 15:57:42.549] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 15:57:42.553] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"+1
                                where
                                    '/2/163/' like path||id||'/%'
[2016-09-10 15:57:42.554] [ INFO] console - [ 16,
  5484271525429248,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id2.voiskoChange',
  [],
  { voiskoSize: 2 } ]
[2016-09-10 15:57:42.560] [ INFO] console - [ 70,
  1170,
  {},
  [ { fullPath: 'null2/',
      id: '2',
      path: null,
      name: 'UnitTest2',
      intensity: 1000,
      note: 'unit test 1473504239801',
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Sat Sep 10 2016 15:44:02 GMT+0500 (YEKT),
      deleted_at: null,
      parent_id: '1',
      attachments: [] } ] ]
[2016-09-10 15:57:42.575] [ INFO] console - Executing (default): INSERT INTO "Kopnik" ("id","name","surname","patronymic","voiskoSize","birth","path","created_at","updated_at","rodina_id","starshina_id") VALUES (DEFAULT,'temp','temp','temp',0,1900,'/2/163/','2016-09-10 10:57:42.512 +00:00','2016-09-10 10:57:42.512 +00:00',NULL,163) RETURNING *;
[2016-09-10 15:57:42.604] [ INFO] console - Executing (c031b190-4b3a-4f96-9606-cb37ad81247c): COMMIT;
[2016-09-10 15:57:42.606] [ INFO] console - [ 70, 1171, {}, [ '164' ] ]
[2016-09-10 15:57:42.614] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/163/' like k.path||k.id||'/%'
[2016-09-10 15:57:42.626] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2', '163')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 15:57:42.630] [ INFO] console - [ 16,
  1040952359649280,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id163.voiskoChange',
  [],
  { voiskoSize: 1 } ]
[2016-09-10 15:57:42.641] [ INFO] console - [ 16,
  8074112394067968,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id2.voiskoChange',
  [],
  { voiskoSize: 3 } ]
[2016-09-10 15:57:42.650] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 4 }
[2016-09-10 15:57:42.669] [ INFO] console - Executing (74fe4e25-78b1-494d-96ce-f1c723c1acd5): START TRANSACTION;
[2016-09-10 15:57:42.673] [ INFO] console - Executing (74fe4e25-78b1-494d-96ce-f1c723c1acd5): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:57:42.681] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 4);
[2016-09-10 15:57:42.685] [ INFO] console - Executing (74fe4e25-78b1-494d-96ce-f1c723c1acd5): COMMIT;
[2016-09-10 15:57:42.686] [ INFO] console - [ 70,
  1172,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/4/',
      starshina: [Object],
      id: '4',
      email: 'unittest4@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '4',
      voiskoSize: 0,
      birth: 1983,
      path: '/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: null,
      attachments: [] } ] ]
[2016-09-10 15:57:42.698] [ INFO] console - Executing (bba9a82b-b5ba-46a4-b770-1199d4a294a8): START TRANSACTION;
[2016-09-10 15:57:42.700] [ INFO] console - Executing (bba9a82b-b5ba-46a4-b770-1199d4a294a8): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:57:42.706] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 163);
[2016-09-10 15:57:42.711] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 4);
[2016-09-10 15:57:42.715] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/' like k.path||k.id||'/%'
[2016-09-10 15:57:42.721] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 15:57:42.724] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"-2
                                where
                                    '/2/' like path||id||'/%'
[2016-09-10 15:57:42.730] [ INFO] console - Executing (default): UPDATE "Kopnik" SET "path"='/4/',"starshina_id"='4',"updated_at"='2016-09-10 10:57:42.726 +00:00' WHERE "id" = '163'
[2016-09-10 15:57:42.733] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"+2
                                where
                                    '/4/' like path||id||'/%'
[2016-09-10 15:57:42.737] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."starshina_id" = '163');
[2016-09-10 15:57:42.745] [ INFO] console - Executing (default): UPDATE "Kopnik" SET "path"='/4/163/',"updated_at"='2016-09-10 10:57:42.740 +00:00' WHERE "id" = '164'
[2016-09-10 15:57:42.747] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/4/' like k.path||k.id||'/%'
[2016-09-10 15:57:42.753] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('4')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 15:57:42.756] [ INFO] console - Executing (bba9a82b-b5ba-46a4-b770-1199d4a294a8): COMMIT;
[2016-09-10 15:57:42.760] [ INFO] console - [ 70, 1173, {}, [ undefined ] ]
[2016-09-10 15:57:42.762] [ INFO] console - [ 16,
  7933003055497216,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id2.voiskoChange',
  [],
  { voiskoSize: 1 } ]
[2016-09-10 15:57:42.777] [ INFO] console - [ 16,
  7187278768111616,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id4.voiskoChange',
  [],
  { voiskoSize: 2 } ]
[2016-09-10 15:57:42.833] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopa', id: 3 }
[2016-09-10 15:57:42.837] [ INFO] console - Executing (0c35ed82-6baa-46e3-b297-debab3d80ffb): START TRANSACTION;
[2016-09-10 15:57:42.839] [ INFO] console - Executing (0c35ed82-6baa-46e3-b297-debab3d80ffb): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:57:42.857] [ INFO] console - Executing (default): SELECT "Kopa"."id", "Kopa"."question", "Kopa"."planned", "Kopa"."started", "Kopa"."closed", "Kopa"."isOpen", "Kopa"."note", "Kopa"."created_at", "Kopa"."updated_at", "Kopa"."deleted_at", "Kopa"."place_id", "Kopa"."inviter_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopa" AS "Kopa" LEFT OUTER JOIN "File" AS "attachments" ON "Kopa"."id" = "attachments"."kopa_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopa"."deleted_at" IS NULL AND "Kopa"."id" = 3);
[2016-09-10 15:57:42.862] [ INFO] console - Executing (0c35ed82-6baa-46e3-b297-debab3d80ffb): COMMIT;
[2016-09-10 15:57:42.864] [ INFO] console - [ 70,
  1175,
  {},
  [ { id: '3',
      question: 'CHE',
      planned: Thu Sep 01 2016 00:00:00 GMT+0500 (YEKT),
      started: Thu Sep 01 2016 00:00:00 GMT+0500 (YEKT),
      closed: null,
      isOpen: false,
      note: null,
      created_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      deleted_at: null,
      place_id: '2',
      inviter_id: '2',
      attachments: [] } ] ]
[2016-09-10 15:57:42.880] [ INFO] console - Executing (e2388f1e-ab35-4297-98b5-895e334c04c0): START TRANSACTION;
[2016-09-10 15:57:42.881] [ INFO] console - Executing (e2388f1e-ab35-4297-98b5-895e334c04c0): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:57:42.886] [ INFO] console - Executing (default): INSERT INTO "Predlozhenie" ("id","value","created_at","updated_at","initiator_id","place_id") VALUES (DEFAULT,'some Predlozhenie temp 1473505061829','2016-09-10 10:57:42.883 +00:00','2016-09-10 10:57:42.883 +00:00',2,3) RETURNING *;
[2016-09-10 15:57:42.890] [ INFO] console - Executing (e2388f1e-ab35-4297-98b5-895e334c04c0): COMMIT;
[2016-09-10 15:57:42.891] [ INFO] console - [ 70, 1176, {}, [ '49' ] ]
[2016-09-10 15:57:42.894] [ INFO] console - [ 16,
  1006214200688640,
  { acknowledge: true },
  'ru.kopa.model.Kopa.id3.predlozhenieAdd',
  [ '49' ] ]
[2016-09-10 15:57:42.902] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Predlozhenie', id: 1 }
[2016-09-10 15:57:42.904] [ INFO] console - Executing (e345f227-9e5e-410e-a4fd-9d50dcde07c5): START TRANSACTION;
[2016-09-10 15:57:42.906] [ INFO] console - Executing (e345f227-9e5e-410e-a4fd-9d50dcde07c5): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:57:42.913] [ INFO] console - Executing (default): SELECT "Predlozhenie"."id", "Predlozhenie"."value", "Predlozhenie"."note", "Predlozhenie"."created_at", "Predlozhenie"."updated_at", "Predlozhenie"."deleted_at", "Predlozhenie"."initiator_id", "Predlozhenie"."place_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Predlozhenie" AS "Predlozhenie" LEFT OUTER JOIN "File" AS "attachments" ON "Predlozhenie"."id" = "attachments"."predlozhenie_id" AND "attachments"."deleted_at" IS NULL WHERE ("Predlozhenie"."deleted_at" IS NULL AND "Predlozhenie"."id" = 1);
[2016-09-10 15:57:42.919] [ INFO] console - Executing (e345f227-9e5e-410e-a4fd-9d50dcde07c5): COMMIT;
[2016-09-10 15:57:42.920] [ INFO] console - [ 70,
  1177,
  {},
  [ { id: '1',
      value: 'Будет ...',
      note: null,
      created_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      deleted_at: null,
      initiator_id: '2',
      place_id: '3',
      attachments: [] } ] ]
[2016-09-10 15:57:42.930] [ INFO] console - Executing (77f15dcb-abfe-418c-8d83-f7c7fd19904f): START TRANSACTION;
[2016-09-10 15:57:42.932] [ INFO] console - Executing (77f15dcb-abfe-418c-8d83-f7c7fd19904f): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:57:42.940] [ INFO] console - Executing (default): INSERT INTO "Golos" ("id","value","created_at","updated_at","for_id","owner_id") VALUES (DEFAULT,1,'2016-09-10 10:57:42.934 +00:00','2016-09-10 10:57:42.934 +00:00',1,2) RETURNING *;
[2016-09-10 15:57:42.948] [ INFO] console - Executing (77f15dcb-abfe-418c-8d83-f7c7fd19904f): COMMIT;
[2016-09-10 15:57:42.949] [ INFO] console - [ 70, 1178, {}, [ '49' ] ]
[2016-09-10 15:57:42.952] [ INFO] console - [ 16,
  8872286348115968,
  { acknowledge: true },
  'ru.kopa.model.Predlozhenie.id1.golosAdd',
  [ '49' ] ]
[2016-09-10 15:57:42.992] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 2 }
[2016-09-10 15:57:42.996] [ INFO] console - Executing (51745939-f6db-4dae-9bb0-91da2abc23be): START TRANSACTION;
[2016-09-10 15:57:42.998] [ INFO] console - Executing (51745939-f6db-4dae-9bb0-91da2abc23be): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:57:43.009] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 2);
[2016-09-10 15:57:43.014] [ INFO] console - Executing (51745939-f6db-4dae-9bb0-91da2abc23be): COMMIT;
[2016-09-10 15:57:43.015] [ INFO] console - [ 70,
  1180,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/2/',
      starshina: [Object],
      id: '2',
      email: 'unittest2@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '1',
      voiskoSize: 1,
      birth: 1983,
      path: '/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: null,
      attachments: [] } ] ]
[2016-09-10 15:57:43.027] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 3 }
[2016-09-10 15:57:43.031] [ INFO] console - Executing (ff130bc7-c2c6-437f-b741-e2e6c87f38c5): START TRANSACTION;
[2016-09-10 15:57:43.032] [ INFO] console - Executing (ff130bc7-c2c6-437f-b741-e2e6c87f38c5): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:57:43.039] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 3);
[2016-09-10 15:57:43.043] [ INFO] console - Executing (ff130bc7-c2c6-437f-b741-e2e6c87f38c5): COMMIT;
[2016-09-10 15:57:43.045] [ INFO] console - [ 70,
  1181,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/2/3/',
      starshina: [Object],
      id: '3',
      email: 'unittest3@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '3',
      voiskoSize: 0,
      birth: 1983,
      path: '/2/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: '2',
      attachments: [] } ] ]
[2016-09-10 15:57:43.057] [ INFO] console - Executing (60c28161-5acc-41ee-a8a9-34864d4a48db): START TRANSACTION;
[2016-09-10 15:57:43.059] [ INFO] console - Executing (60c28161-5acc-41ee-a8a9-34864d4a48db): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:57:43.066] [ INFO] console - Executing (default): INSERT INTO "Slovo" ("id","value","note","created_at","updated_at","owner_id","place_id") VALUES (DEFAULT,'123 temp','456','2016-09-10 10:57:43.061 +00:00','2016-09-10 10:57:43.061 +00:00',2,3) RETURNING *;
[2016-09-10 15:57:43.070] [ INFO] console - Executing (60c28161-5acc-41ee-a8a9-34864d4a48db): COMMIT;
[2016-09-10 15:57:43.072] [ INFO] console - [ 70, 1182, {}, [ '91' ] ]
[2016-09-10 15:57:43.075] [ INFO] console - [ 16,
  8257455578415104,
  { acknowledge: true },
  'ru.kopa.model.Kopa.id3.slovoAdd',
  [ '91' ] ]
[2016-09-10 15:57:43.080] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Slovo', id: 91 }
[2016-09-10 15:57:43.083] [ INFO] console - Executing (16adcdb4-e511-4a12-bc06-dd01f13871e4): START TRANSACTION;
[2016-09-10 15:57:43.085] [ INFO] console - Executing (16adcdb4-e511-4a12-bc06-dd01f13871e4): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:57:43.124] [ INFO] console - Executing (default): SELECT "Slovo"."id", "Slovo"."value", "Slovo"."note", "Slovo"."created_at", "Slovo"."updated_at", "Slovo"."deleted_at", "Slovo"."owner_id", "Slovo"."place_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Slovo" AS "Slovo" LEFT OUTER JOIN "File" AS "attachments" ON "Slovo"."id" = "attachments"."slovo_id" AND "attachments"."deleted_at" IS NULL WHERE ("Slovo"."deleted_at" IS NULL AND "Slovo"."id" = 91);
[2016-09-10 15:57:43.129] [ INFO] console - Executing (16adcdb4-e511-4a12-bc06-dd01f13871e4): COMMIT;
[2016-09-10 15:57:43.131] [ INFO] console - [ 70,
  1183,
  {},
  [ { id: '91',
      value: '123 temp',
      note: '456',
      created_at: Sat Sep 10 2016 15:57:43 GMT+0500 (YEKT),
      updated_at: Sat Sep 10 2016 15:57:43 GMT+0500 (YEKT),
      deleted_at: null,
      owner_id: '2',
      place_id: '3',
      attachments: [] } ] ]
[2016-09-10 15:57:43.151] [ INFO] console - Executing (3d1423db-26d4-48fd-b26d-102c095cd625): START TRANSACTION;
[2016-09-10 15:57:43.152] [ INFO] console - Executing (3d1423db-26d4-48fd-b26d-102c095cd625): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:57:43.160] [ INFO] console - Executing (default): INSERT INTO "Slovo" ("id","value","created_at","updated_at","owner_id","place_id") VALUES (DEFAULT,'some value temp 1473505063146','2016-09-10 10:57:43.153 +00:00','2016-09-10 10:57:43.153 +00:00',2,3) RETURNING *;
[2016-09-10 15:57:43.163] [ INFO] console - Executing (3d1423db-26d4-48fd-b26d-102c095cd625): COMMIT;
[2016-09-10 15:57:43.165] [ INFO] console - [ 70, 1184, {}, [ '92' ] ]
[2016-09-10 15:57:43.168] [ INFO] console - [ 16,
  1774241051574272,
  { acknowledge: true },
  'ru.kopa.model.Kopa.id3.slovoAdd',
  [ '92' ] ]
[2016-09-10 15:57:43.175] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Zemla', id: 2 }
[2016-09-10 15:57:43.179] [ INFO] console - Executing (d6266ed7-27a0-451d-aabd-aca0b4deabc6): START TRANSACTION;
[2016-09-10 15:57:43.180] [ INFO] console - Executing (d6266ed7-27a0-451d-aabd-aca0b4deabc6): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:57:43.186] [ INFO] console - Executing (default): SELECT "Zemla"."id", "Zemla"."path", "Zemla"."name", "Zemla"."intensity", "Zemla"."note", "Zemla"."created_at", "Zemla"."updated_at", "Zemla"."deleted_at", "Zemla"."parent_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Zemla" AS "Zemla" LEFT OUTER JOIN "File" AS "attachments" ON "Zemla"."id" = "attachments"."zemla_id" AND "attachments"."deleted_at" IS NULL WHERE ("Zemla"."deleted_at" IS NULL AND "Zemla"."id" = 2);
[2016-09-10 15:57:43.191] [ INFO] console - Executing (d6266ed7-27a0-451d-aabd-aca0b4deabc6): COMMIT;
[2016-09-10 15:57:43.192] [ INFO] console - [ 70,
  1185,
  {},
  [ { fullPath: 'null2/',
      id: '2',
      path: null,
      name: 'UnitTest2',
      intensity: 1000,
      note: 'unit test 1473504239801',
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Sat Sep 10 2016 15:44:02 GMT+0500 (YEKT),
      deleted_at: null,
      parent_id: '1',
      attachments: [] } ] ]
[2016-09-10 15:57:43.205] [ INFO] console - Executing (9b7e847c-94e4-40da-97d3-5054e676b373): START TRANSACTION;
[2016-09-10 15:57:43.206] [ INFO] console - Executing (9b7e847c-94e4-40da-97d3-5054e676b373): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:57:43.210] [ INFO] console - Executing (default): SELECT "id", "path", "name", "intensity", "note", "created_at", "updated_at", "deleted_at", "parent_id" FROM "Zemla" AS "Zemla" WHERE ("Zemla"."deleted_at" IS NULL AND "Zemla"."id" = 2);
[2016-09-10 15:57:43.220] [ INFO] console - Executing (default): UPDATE "Zemla" SET "parent_id"=1,"note"='unit test 1473505061871',"updated_at"='2016-09-10 10:57:43.213 +00:00' WHERE "id" = '2'
[2016-09-10 15:57:43.222] [ INFO] console - Executing (9b7e847c-94e4-40da-97d3-5054e676b373): COMMIT;
[2016-09-10 15:57:43.223] [ INFO] console - [ 16,
  7995479447044096,
  { acknowledge: true },
  'ru.kopa.model.Zemla.id2.change' ]
[2016-09-10 15:57:43.230] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Zemla', id: 2 }
[2016-09-10 15:57:43.236] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Zemla', id: 2 }
[2016-09-10 15:57:43.239] [ INFO] console - [ 70, 1186, {}, [ undefined ] ]
[2016-09-10 15:57:43.246] [ INFO] console - Executing (780c9ff3-2636-404b-809d-95c1c55e43a1): START TRANSACTION;
[2016-09-10 15:57:43.246] [ INFO] console - Executing (93774495-3125-497e-818d-b1839cd6ca65): START TRANSACTION;
[2016-09-10 15:57:43.247] [ INFO] console - Executing (780c9ff3-2636-404b-809d-95c1c55e43a1): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:57:43.248] [ INFO] console - Executing (93774495-3125-497e-818d-b1839cd6ca65): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:57:43.256] [ INFO] console - Executing (default): SELECT "Zemla"."id", "Zemla"."path", "Zemla"."name", "Zemla"."intensity", "Zemla"."note", "Zemla"."created_at", "Zemla"."updated_at", "Zemla"."deleted_at", "Zemla"."parent_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Zemla" AS "Zemla" LEFT OUTER JOIN "File" AS "attachments" ON "Zemla"."id" = "attachments"."zemla_id" AND "attachments"."deleted_at" IS NULL WHERE ("Zemla"."deleted_at" IS NULL AND "Zemla"."id" = 2);
[2016-09-10 15:57:43.258] [ INFO] console - Executing (default): SELECT "Zemla"."id", "Zemla"."path", "Zemla"."name", "Zemla"."intensity", "Zemla"."note", "Zemla"."created_at", "Zemla"."updated_at", "Zemla"."deleted_at", "Zemla"."parent_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Zemla" AS "Zemla" LEFT OUTER JOIN "File" AS "attachments" ON "Zemla"."id" = "attachments"."zemla_id" AND "attachments"."deleted_at" IS NULL WHERE ("Zemla"."deleted_at" IS NULL AND "Zemla"."id" = 2);
[2016-09-10 15:57:43.264] [ INFO] console - Executing (780c9ff3-2636-404b-809d-95c1c55e43a1): COMMIT;
[2016-09-10 15:57:43.265] [ INFO] console - Executing (93774495-3125-497e-818d-b1839cd6ca65): COMMIT;
[2016-09-10 15:57:43.266] [ INFO] console - [ 70,
  1187,
  {},
  [ { fullPath: 'null2/',
      id: '2',
      path: null,
      name: 'UnitTest2',
      intensity: 1000,
      note: 'unit test 1473505061871',
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Sat Sep 10 2016 15:57:43 GMT+0500 (YEKT),
      deleted_at: null,
      parent_id: '1',
      attachments: [] } ] ]
[2016-09-10 15:57:43.271] [ INFO] console - [ 70,
  1188,
  {},
  [ { fullPath: 'null2/',
      id: '2',
      path: null,
      name: 'UnitTest2',
      intensity: 1000,
      note: 'unit test 1473505061871',
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Sat Sep 10 2016 15:57:43 GMT+0500 (YEKT),
      deleted_at: null,
      parent_id: '1',
      attachments: [] } ] ]
[2016-09-10 15:57:52.777] [ INFO] console - [ 70, 1190, {}, [ 'unittest2@domain.ru' ] ]
[2016-09-10 15:57:52.785] [DEBUG] Server - #pingPong() [ 1, 2, 3 ] { x: 1, y: 2, z: 3 }
[2016-09-10 15:57:52.790] [ INFO] console - [ 70, 1191, {}, [ 1, 2, 3 ], { x: 1, y: 2, z: 3 } ]
[2016-09-10 15:57:52.799] [ INFO] console - Executing (default): select 'КОПА' as result
[2016-09-10 15:57:52.803] [ INFO] console - [ 70, 1192, {}, [ 'КОПА' ] ]
[2016-09-10 15:57:52.809] [DEBUG] Server - #error() [ 'sadkljfaskldjfs;af' ] {}
[2016-09-10 15:57:52.810] [ERROR] Server - [Error: sadkljfaskldjfs;af]
Error: sadkljfaskldjfs;af
    at MySuperError (Server.js:339:9)
    at fn.constructor.error.Error (Server.js:344:19)
    at new wrappedPromise (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/async-listener/index.js:372:16)
    at Server.error (Server.js:343:16)
    at Object.<anonymous> (Server.js:415:43)
    at [object Generator].next (native)
    at step (/home/alexey2baranov/htdocs/kp-sequelizejs/src/Server.js:1:253)
    at /home/alexey2baranov/htdocs/kp-sequelizejs/src/Server.js:1:513
    at new wrappedPromise (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/async-listener/index.js:372:16)
    at Object.<anonymous> (/home/alexey2baranov/htdocs/kp-sequelizejs/src/Server.js:1:161)
    at Object.<anonymous> (Server.js:412:28)
    at tryCatchResolve (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/apply.js:46:23)
    at callAndResolve (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/apply.js:30:12)
    at callAndResolveNext (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/apply.js:40:4)
    at tryCatchReject3 (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/makePromise.js:856:7)
    at runContinuation3 (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/makePromise.js:814:4)
[2016-09-10 15:57:52.815] [ INFO] console - [ 8,
  68,
  1193,
  {},
  'MySuperError',
  [ 'sadkljfaskldjfs;af' ],
  { stack: 
     [ 'Error: sadkljfaskldjfs;af',
       '    at MySuperError (Server.js:339:9)',
       '    at fn.constructor.error.Error (Server.js:344:19)',
       '    at new wrappedPromise (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/async-listener/index.js:372:16)',
       '    at Server.error (Server.js:343:16)',
       '    at Object.<anonymous> (Server.js:415:43)',
       '    at [object Generator].next (native)',
       '    at step (/home/alexey2baranov/htdocs/kp-sequelizejs/src/Server.js:1:253)',
       '    at /home/alexey2baranov/htdocs/kp-sequelizejs/src/Server.js:1:513',
       '    at new wrappedPromise (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/async-listener/index.js:372:16)',
       '    at Object.<anonymous> (/home/alexey2baranov/htdocs/kp-sequelizejs/src/Server.js:1:161)',
       '    at Object.<anonymous> (Server.js:412:28)',
       '    at tryCatchResolve (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/apply.js:46:23)',
       '    at callAndResolve (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/apply.js:30:12)',
       '    at callAndResolveNext (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/apply.js:40:4)',
       '    at tryCatchReject3 (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/makePromise.js:856:7)',
       '    at runContinuation3 (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/makePromise.js:814:4)' ] } ]
[2016-09-10 15:57:52.830] [ INFO] console - [ 70, 1194, {}, [ undefined ] ]
[2016-09-10 15:57:52.831] [ INFO] console - Executing (default): delete from "Slovo"
                where
                    place_id<5
                    and value like '%temp'
[2016-09-10 15:57:52.838] [ INFO] console - Executing (default): delete from "Kopnik"
                where
                    name like '%temp'
[2016-09-10 15:57:52.840] [ INFO] console - Executing (default): update "Kopnik"
                set 
                    "voiskoSize"= case when id=2 then 1 ELSE 0 END
                where
                    id>1 
                    and id<=5
[2016-09-10 15:57:52.877] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopa', id: 3 }
[2016-09-10 15:57:52.881] [ INFO] console - Executing (f37546e2-27b6-40f0-afce-9e7a8c53c980): START TRANSACTION;
[2016-09-10 15:57:52.882] [ INFO] console - Executing (f37546e2-27b6-40f0-afce-9e7a8c53c980): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:57:52.892] [ INFO] console - Executing (default): SELECT "Kopa"."id", "Kopa"."question", "Kopa"."planned", "Kopa"."started", "Kopa"."closed", "Kopa"."isOpen", "Kopa"."note", "Kopa"."created_at", "Kopa"."updated_at", "Kopa"."deleted_at", "Kopa"."place_id", "Kopa"."inviter_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopa" AS "Kopa" LEFT OUTER JOIN "File" AS "attachments" ON "Kopa"."id" = "attachments"."kopa_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopa"."deleted_at" IS NULL AND "Kopa"."id" = 3);
[2016-09-10 15:57:52.897] [ INFO] console - Executing (f37546e2-27b6-40f0-afce-9e7a8c53c980): COMMIT;
[2016-09-10 15:57:52.899] [ INFO] console - [ 70,
  1196,
  {},
  [ { id: '3',
      question: 'CHE',
      planned: Thu Sep 01 2016 00:00:00 GMT+0500 (YEKT),
      started: Thu Sep 01 2016 00:00:00 GMT+0500 (YEKT),
      closed: null,
      isOpen: false,
      note: null,
      created_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      deleted_at: null,
      place_id: '2',
      inviter_id: '2',
      attachments: [] } ] ]
[2016-09-10 15:57:52.912] [ INFO] console - Executing (6c46a671-4d01-4350-a900-4e8e41737332): START TRANSACTION;
[2016-09-10 15:57:52.913] [ INFO] console - Executing (6c46a671-4d01-4350-a900-4e8e41737332): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:57:52.918] [ INFO] console - Executing (default): INSERT INTO "Golos" ("id","value","created_at","updated_at","for_id","owner_id") VALUES (DEFAULT,1,'2016-09-10 10:57:52.914 +00:00','2016-09-10 10:57:52.914 +00:00',1,2) RETURNING *;
[2016-09-10 15:57:52.921] [ INFO] console - Executing (6c46a671-4d01-4350-a900-4e8e41737332): COMMIT;
[2016-09-10 15:57:52.922] [ INFO] console - [ 70, 1197, {}, [ '50' ] ]
[2016-09-10 15:57:52.924] [ INFO] console - [ 16,
  8975241422307328,
  { acknowledge: true },
  'ru.kopa.model.Predlozhenie.id1.golosAdd',
  [ '50' ] ]
[2016-09-10 15:57:53.021] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopa', id: 3 }
[2016-09-10 15:57:53.024] [ INFO] console - Executing (6ff4ad70-978b-4f65-ab5c-548c742e09ae): START TRANSACTION;
[2016-09-10 15:57:53.025] [ INFO] console - Executing (6ff4ad70-978b-4f65-ab5c-548c742e09ae): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:57:53.044] [ INFO] console - Executing (default): SELECT "Kopa"."id", "Kopa"."question", "Kopa"."planned", "Kopa"."started", "Kopa"."closed", "Kopa"."isOpen", "Kopa"."note", "Kopa"."created_at", "Kopa"."updated_at", "Kopa"."deleted_at", "Kopa"."place_id", "Kopa"."inviter_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopa" AS "Kopa" LEFT OUTER JOIN "File" AS "attachments" ON "Kopa"."id" = "attachments"."kopa_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopa"."deleted_at" IS NULL AND "Kopa"."id" = 3);
[2016-09-10 15:57:53.049] [ INFO] console - Executing (6ff4ad70-978b-4f65-ab5c-548c742e09ae): COMMIT;
[2016-09-10 15:57:53.050] [ INFO] console - [ 70,
  1199,
  {},
  [ { id: '3',
      question: 'CHE',
      planned: Thu Sep 01 2016 00:00:00 GMT+0500 (YEKT),
      started: Thu Sep 01 2016 00:00:00 GMT+0500 (YEKT),
      closed: null,
      isOpen: false,
      note: null,
      created_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      deleted_at: null,
      place_id: '2',
      inviter_id: '2',
      attachments: [] } ] ]
[2016-09-10 15:57:53.063] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 2 }
[2016-09-10 15:57:53.066] [ INFO] console - Executing (be6a1e31-be8b-48e1-b9f1-4140654e1685): START TRANSACTION;
[2016-09-10 15:57:53.067] [ INFO] console - Executing (be6a1e31-be8b-48e1-b9f1-4140654e1685): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:57:53.076] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 2);
[2016-09-10 15:57:53.080] [ INFO] console - Executing (be6a1e31-be8b-48e1-b9f1-4140654e1685): COMMIT;
[2016-09-10 15:57:53.081] [ INFO] console - [ 70,
  1200,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/2/',
      starshina: [Object],
      id: '2',
      email: 'unittest2@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '1',
      voiskoSize: 1,
      birth: 1983,
      path: '/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: null,
      attachments: [] } ] ]
[2016-09-10 15:57:53.092] [ INFO] console - Executing (5255f385-58e1-4f3f-9e3c-e9826bc6add1): START TRANSACTION;
[2016-09-10 15:57:53.094] [ INFO] console - Executing (5255f385-58e1-4f3f-9e3c-e9826bc6add1): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:57:53.102] [ INFO] console - Executing (default): INSERT INTO "Slovo" ("id","value","created_at","updated_at","owner_id","place_id") VALUES (DEFAULT,'some Slovo temp 1473505073089','2016-09-10 10:57:53.095 +00:00','2016-09-10 10:57:53.095 +00:00',2,3) RETURNING *;
[2016-09-10 15:57:53.105] [ INFO] console - Executing (5255f385-58e1-4f3f-9e3c-e9826bc6add1): COMMIT;
[2016-09-10 15:57:53.106] [ INFO] console - [ 70, 1201, {}, [ '93' ] ]
[2016-09-10 15:57:53.109] [ INFO] console - [ 16,
  7231431474413568,
  { acknowledge: true },
  'ru.kopa.model.Kopa.id3.slovoAdd',
  [ '93' ] ]
[2016-09-10 15:57:53.118] [ INFO] console - Executing (8abd2d58-dd95-4145-b553-3812e446ee47): START TRANSACTION;
[2016-09-10 15:57:53.121] [ INFO] console - Executing (8abd2d58-dd95-4145-b553-3812e446ee47): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:57:53.128] [ INFO] console - Executing (default): INSERT INTO "Predlozhenie" ("id","value","created_at","updated_at","initiator_id","place_id") VALUES (DEFAULT,'some Predlozhenie temp 1473505073114','2016-09-10 10:57:53.123 +00:00','2016-09-10 10:57:53.123 +00:00',2,3) RETURNING *;
[2016-09-10 15:57:53.131] [ INFO] console - Executing (8abd2d58-dd95-4145-b553-3812e446ee47): COMMIT;
[2016-09-10 15:57:53.132] [ INFO] console - [ 70, 1202, {}, [ '50' ] ]
[2016-09-10 15:57:53.135] [ INFO] console - [ 16,
  6203019743985664,
  { acknowledge: true },
  'ru.kopa.model.Kopa.id3.predlozhenieAdd',
  [ '50' ] ]
[2016-09-10 15:57:53.168] [ INFO] console - [ 70, 1204, {}, [ undefined ] ]
[2016-09-10 15:57:53.170] [ INFO] console - Executing (default): delete from "Kopnik"
                where
                    name like '%temp'
[2016-09-10 15:57:53.173] [ INFO] console - Executing (default): update "Kopnik"
                set 
                    "voiskoSize"= case when id=2 then 1 ELSE 0 END
                where
                    id>1 
                    and id<=5
[2016-09-10 15:57:53.174] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 2 }
[2016-09-10 15:57:53.179] [ INFO] console - Executing (864e5335-fd08-432b-896f-771b92c8bb62): START TRANSACTION;
[2016-09-10 15:57:53.180] [ INFO] console - Executing (864e5335-fd08-432b-896f-771b92c8bb62): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:57:53.186] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 2);
[2016-09-10 15:57:53.190] [ INFO] console - Executing (864e5335-fd08-432b-896f-771b92c8bb62): COMMIT;
[2016-09-10 15:57:53.191] [ INFO] console - [ 70,
  1205,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/2/',
      starshina: [Object],
      id: '2',
      email: 'unittest2@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '1',
      voiskoSize: 1,
      birth: 1983,
      path: '/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: null,
      attachments: [] } ] ]
[2016-09-10 15:57:53.203] [ INFO] console - Executing (f2ec3108-90ea-41db-ac39-b9082725f3b2): START TRANSACTION;
[2016-09-10 15:57:53.204] [ INFO] console - Executing (f2ec3108-90ea-41db-ac39-b9082725f3b2): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:57:53.212] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 2);
[2016-09-10 15:57:53.215] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"+1
                                where
                                    '/2/' like path||id||'/%'
[2016-09-10 15:57:53.221] [ INFO] console - Executing (default): INSERT INTO "Kopnik" ("id","name","surname","patronymic","voiskoSize","birth","path","created_at","updated_at","rodina_id","starshina_id") VALUES (DEFAULT,'temp','temp','temp',0,1900,'/2/','2016-09-10 10:57:53.205 +00:00','2016-09-10 10:57:53.205 +00:00',NULL,2) RETURNING *;
[2016-09-10 15:57:53.230] [ INFO] console - Executing (f2ec3108-90ea-41db-ac39-b9082725f3b2): COMMIT;
[2016-09-10 15:57:53.231] [ INFO] console - [ 70, 1206, {}, [ '165' ] ]
[2016-09-10 15:57:53.239] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Zemla', id: 2 }
[2016-09-10 15:57:53.243] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/' like k.path||k.id||'/%'
[2016-09-10 15:57:53.244] [ INFO] console - Executing (adb32949-5150-475c-bda9-f6f19be99211): START TRANSACTION;
[2016-09-10 15:57:53.244] [ INFO] console - Executing (10aa1e54-d67b-4dc0-9c6a-510212b9bd7e): START TRANSACTION;
[2016-09-10 15:57:53.247] [ INFO] console - Executing (adb32949-5150-475c-bda9-f6f19be99211): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:57:53.248] [ INFO] console - Executing (10aa1e54-d67b-4dc0-9c6a-510212b9bd7e): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:57:53.253] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 15:57:53.264] [ INFO] console - Executing (default): SELECT "Zemla"."id", "Zemla"."path", "Zemla"."name", "Zemla"."intensity", "Zemla"."note", "Zemla"."created_at", "Zemla"."updated_at", "Zemla"."deleted_at", "Zemla"."parent_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Zemla" AS "Zemla" LEFT OUTER JOIN "File" AS "attachments" ON "Zemla"."id" = "attachments"."zemla_id" AND "attachments"."deleted_at" IS NULL WHERE ("Zemla"."deleted_at" IS NULL AND "Zemla"."id" = 2);
[2016-09-10 15:57:53.268] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 165);
[2016-09-10 15:57:53.269] [ INFO] console - [ 16,
  2197492047282176,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id2.voiskoChange',
  [],
  { voiskoSize: 2 } ]
[2016-09-10 15:57:53.284] [ INFO] console - Executing (adb32949-5150-475c-bda9-f6f19be99211): COMMIT;
[2016-09-10 15:57:53.285] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"+1
                                where
                                    '/2/165/' like path||id||'/%'
[2016-09-10 15:57:53.286] [ INFO] console - [ 70,
  1207,
  {},
  [ { fullPath: 'null2/',
      id: '2',
      path: null,
      name: 'UnitTest2',
      intensity: 1000,
      note: 'unit test 1473505061871',
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Sat Sep 10 2016 15:57:43 GMT+0500 (YEKT),
      deleted_at: null,
      parent_id: '1',
      attachments: [] } ] ]
[2016-09-10 15:57:53.299] [ INFO] console - Executing (default): INSERT INTO "Kopnik" ("id","name","surname","patronymic","voiskoSize","birth","path","created_at","updated_at","rodina_id","starshina_id") VALUES (DEFAULT,'temp','temp','temp',0,1900,'/2/165/','2016-09-10 10:57:53.255 +00:00','2016-09-10 10:57:53.255 +00:00',NULL,165) RETURNING *;
[2016-09-10 15:57:53.302] [ INFO] console - Executing (10aa1e54-d67b-4dc0-9c6a-510212b9bd7e): COMMIT;
[2016-09-10 15:57:53.305] [ INFO] console - [ 70, 1208, {}, [ '166' ] ]
[2016-09-10 15:57:53.318] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/165/' like k.path||k.id||'/%'
[2016-09-10 15:57:53.329] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2', '165')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 15:57:53.361] [ INFO] console - [ 16,
  1550219579752448,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id165.voiskoChange',
  [],
  { voiskoSize: 1 } ]
[2016-09-10 15:57:53.367] [ INFO] console - [ 16,
  8722325685927936,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id2.voiskoChange',
  [],
  { voiskoSize: 3 } ]
[2016-09-10 15:57:53.375] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 4 }
[2016-09-10 15:57:53.379] [ INFO] console - Executing (e5b45bf1-33b9-41b8-8832-f4a646312169): START TRANSACTION;
[2016-09-10 15:57:53.381] [ INFO] console - Executing (e5b45bf1-33b9-41b8-8832-f4a646312169): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:57:53.389] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 4);
[2016-09-10 15:57:53.393] [ INFO] console - Executing (e5b45bf1-33b9-41b8-8832-f4a646312169): COMMIT;
[2016-09-10 15:57:53.394] [ INFO] console - [ 70,
  1209,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/4/',
      starshina: [Object],
      id: '4',
      email: 'unittest4@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '4',
      voiskoSize: 0,
      birth: 1983,
      path: '/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: null,
      attachments: [] } ] ]
[2016-09-10 15:57:53.408] [ INFO] console - Executing (ccde4b44-a391-436b-be70-69446a5823d1): START TRANSACTION;
[2016-09-10 15:57:53.409] [ INFO] console - Executing (ccde4b44-a391-436b-be70-69446a5823d1): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:57:53.413] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 165);
[2016-09-10 15:57:53.418] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 4);
[2016-09-10 15:57:53.421] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/' like k.path||k.id||'/%'
[2016-09-10 15:57:53.425] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 15:57:53.428] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"-2
                                where
                                    '/2/' like path||id||'/%'
[2016-09-10 15:57:53.436] [ INFO] console - Executing (default): UPDATE "Kopnik" SET "path"='/4/',"starshina_id"='4',"updated_at"='2016-09-10 10:57:53.430 +00:00' WHERE "id" = '165'
[2016-09-10 15:57:53.438] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"+2
                                where
                                    '/4/' like path||id||'/%'
[2016-09-10 15:57:53.442] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."starshina_id" = '165');
[2016-09-10 15:57:53.449] [ INFO] console - Executing (default): UPDATE "Kopnik" SET "path"='/4/165/',"updated_at"='2016-09-10 10:57:53.445 +00:00' WHERE "id" = '166'
[2016-09-10 15:57:53.454] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/4/' like k.path||k.id||'/%'
[2016-09-10 15:57:53.460] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('4')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 15:57:53.463] [ INFO] console - Executing (ccde4b44-a391-436b-be70-69446a5823d1): COMMIT;
[2016-09-10 15:57:53.464] [ INFO] console - [ 70, 1210, {}, [ undefined ] ]
[2016-09-10 15:57:53.468] [ INFO] console - [ 16,
  8232118394028032,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id2.voiskoChange',
  [],
  { voiskoSize: 1 } ]
[2016-09-10 15:57:53.472] [ INFO] console - [ 16,
  2994600954298368,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id4.voiskoChange',
  [],
  { voiskoSize: 2 } ]
[2016-09-10 15:57:53.502] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopa', id: 3 }
[2016-09-10 15:57:53.505] [ INFO] console - Executing (5fd8431b-12d8-4129-ada9-e70b59f09a8d): START TRANSACTION;
[2016-09-10 15:57:53.512] [ INFO] console - Executing (5fd8431b-12d8-4129-ada9-e70b59f09a8d): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:57:53.523] [ INFO] console - Executing (default): SELECT "Kopa"."id", "Kopa"."question", "Kopa"."planned", "Kopa"."started", "Kopa"."closed", "Kopa"."isOpen", "Kopa"."note", "Kopa"."created_at", "Kopa"."updated_at", "Kopa"."deleted_at", "Kopa"."place_id", "Kopa"."inviter_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopa" AS "Kopa" LEFT OUTER JOIN "File" AS "attachments" ON "Kopa"."id" = "attachments"."kopa_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopa"."deleted_at" IS NULL AND "Kopa"."id" = 3);
[2016-09-10 15:57:53.527] [ INFO] console - Executing (5fd8431b-12d8-4129-ada9-e70b59f09a8d): COMMIT;
[2016-09-10 15:57:53.528] [ INFO] console - [ 70,
  1212,
  {},
  [ { id: '3',
      question: 'CHE',
      planned: Thu Sep 01 2016 00:00:00 GMT+0500 (YEKT),
      started: Thu Sep 01 2016 00:00:00 GMT+0500 (YEKT),
      closed: null,
      isOpen: false,
      note: null,
      created_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      deleted_at: null,
      place_id: '2',
      inviter_id: '2',
      attachments: [] } ] ]
[2016-09-10 15:57:53.540] [ INFO] console - Executing (1aba1b7a-f7ff-4fed-998e-0a3d858d4676): START TRANSACTION;
[2016-09-10 15:57:53.541] [ INFO] console - Executing (1aba1b7a-f7ff-4fed-998e-0a3d858d4676): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:57:53.546] [ INFO] console - Executing (default): INSERT INTO "Predlozhenie" ("id","value","created_at","updated_at","initiator_id","place_id") VALUES (DEFAULT,'some Predlozhenie temp 1473505072537','2016-09-10 10:57:53.543 +00:00','2016-09-10 10:57:53.543 +00:00',2,3) RETURNING *;
[2016-09-10 15:57:53.549] [ INFO] console - Executing (1aba1b7a-f7ff-4fed-998e-0a3d858d4676): COMMIT;
[2016-09-10 15:57:53.550] [ INFO] console - [ 70, 1213, {}, [ '51' ] ]
[2016-09-10 15:57:53.555] [ INFO] console - [ 16,
  1358817164001280,
  { acknowledge: true },
  'ru.kopa.model.Kopa.id3.predlozhenieAdd',
  [ '51' ] ]
[2016-09-10 15:57:53.568] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Predlozhenie', id: 1 }
[2016-09-10 15:57:53.570] [ INFO] console - Executing (2053f6ee-2a8a-4ce9-91b7-db905f9afd11): START TRANSACTION;
[2016-09-10 15:57:53.572] [ INFO] console - Executing (2053f6ee-2a8a-4ce9-91b7-db905f9afd11): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:57:53.586] [ INFO] console - Executing (default): SELECT "Predlozhenie"."id", "Predlozhenie"."value", "Predlozhenie"."note", "Predlozhenie"."created_at", "Predlozhenie"."updated_at", "Predlozhenie"."deleted_at", "Predlozhenie"."initiator_id", "Predlozhenie"."place_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Predlozhenie" AS "Predlozhenie" LEFT OUTER JOIN "File" AS "attachments" ON "Predlozhenie"."id" = "attachments"."predlozhenie_id" AND "attachments"."deleted_at" IS NULL WHERE ("Predlozhenie"."deleted_at" IS NULL AND "Predlozhenie"."id" = 1);
[2016-09-10 15:57:53.591] [ INFO] console - Executing (2053f6ee-2a8a-4ce9-91b7-db905f9afd11): COMMIT;
[2016-09-10 15:57:53.592] [ INFO] console - [ 70,
  1214,
  {},
  [ { id: '1',
      value: 'Будет ...',
      note: null,
      created_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      deleted_at: null,
      initiator_id: '2',
      place_id: '3',
      attachments: [] } ] ]
[2016-09-10 15:57:53.604] [ INFO] console - Executing (474556a7-605a-430d-9e3f-f68cb70a9c60): START TRANSACTION;
[2016-09-10 15:57:53.606] [ INFO] console - Executing (474556a7-605a-430d-9e3f-f68cb70a9c60): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:57:53.611] [ INFO] console - Executing (default): INSERT INTO "Golos" ("id","value","created_at","updated_at","for_id","owner_id") VALUES (DEFAULT,1,'2016-09-10 10:57:53.608 +00:00','2016-09-10 10:57:53.608 +00:00',1,2) RETURNING *;
[2016-09-10 15:57:53.614] [ INFO] console - Executing (474556a7-605a-430d-9e3f-f68cb70a9c60): COMMIT;
[2016-09-10 15:57:53.615] [ INFO] console - [ 70, 1215, {}, [ '51' ] ]
[2016-09-10 15:57:53.620] [ INFO] console - [ 16,
  8861941699182592,
  { acknowledge: true },
  'ru.kopa.model.Predlozhenie.id1.golosAdd',
  [ '51' ] ]
[2016-09-10 15:57:53.769] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 2 }
[2016-09-10 15:57:53.781] [ INFO] console - Executing (2cef67a2-e0d2-42c9-b965-b471728e9788): START TRANSACTION;
[2016-09-10 15:57:53.783] [ INFO] console - Executing (2cef67a2-e0d2-42c9-b965-b471728e9788): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:57:53.790] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 2);
[2016-09-10 15:57:53.795] [ INFO] console - Executing (2cef67a2-e0d2-42c9-b965-b471728e9788): COMMIT;
[2016-09-10 15:57:53.799] [ INFO] console - [ 70,
  1217,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/2/',
      starshina: [Object],
      id: '2',
      email: 'unittest2@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '1',
      voiskoSize: 1,
      birth: 1983,
      path: '/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: null,
      attachments: [] } ] ]
[2016-09-10 15:57:53.816] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 3 }
[2016-09-10 15:57:53.819] [ INFO] console - Executing (cd3beb30-2338-49a3-85e2-3921b8fa570e): START TRANSACTION;
[2016-09-10 15:57:53.820] [ INFO] console - Executing (cd3beb30-2338-49a3-85e2-3921b8fa570e): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:57:53.825] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 3);
[2016-09-10 15:57:53.828] [ INFO] console - Executing (cd3beb30-2338-49a3-85e2-3921b8fa570e): COMMIT;
[2016-09-10 15:57:53.829] [ INFO] console - [ 70,
  1218,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/2/3/',
      starshina: [Object],
      id: '3',
      email: 'unittest3@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '3',
      voiskoSize: 0,
      birth: 1983,
      path: '/2/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: '2',
      attachments: [] } ] ]
[2016-09-10 15:57:53.844] [ INFO] console - Executing (3f677d6d-24ad-4bd7-89ae-59c952cd8d64): START TRANSACTION;
[2016-09-10 15:57:53.845] [ INFO] console - Executing (3f677d6d-24ad-4bd7-89ae-59c952cd8d64): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:57:53.851] [ INFO] console - Executing (default): INSERT INTO "Slovo" ("id","value","note","created_at","updated_at","owner_id","place_id") VALUES (DEFAULT,'123 temp','456','2016-09-10 10:57:53.846 +00:00','2016-09-10 10:57:53.846 +00:00',2,3) RETURNING *;
[2016-09-10 15:57:53.862] [ INFO] console - Executing (3f677d6d-24ad-4bd7-89ae-59c952cd8d64): COMMIT;
[2016-09-10 15:57:53.865] [ INFO] console - [ 70, 1219, {}, [ '94' ] ]
[2016-09-10 15:57:53.867] [ INFO] console - [ 16,
  511510908502016,
  { acknowledge: true },
  'ru.kopa.model.Kopa.id3.slovoAdd',
  [ '94' ] ]
[2016-09-10 15:57:53.874] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Slovo', id: 94 }
[2016-09-10 15:57:53.877] [ INFO] console - Executing (e55bf237-6c23-418e-ae4d-2529ea122563): START TRANSACTION;
[2016-09-10 15:57:53.878] [ INFO] console - Executing (e55bf237-6c23-418e-ae4d-2529ea122563): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:57:53.886] [ INFO] console - Executing (default): SELECT "Slovo"."id", "Slovo"."value", "Slovo"."note", "Slovo"."created_at", "Slovo"."updated_at", "Slovo"."deleted_at", "Slovo"."owner_id", "Slovo"."place_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Slovo" AS "Slovo" LEFT OUTER JOIN "File" AS "attachments" ON "Slovo"."id" = "attachments"."slovo_id" AND "attachments"."deleted_at" IS NULL WHERE ("Slovo"."deleted_at" IS NULL AND "Slovo"."id" = 94);
[2016-09-10 15:57:53.889] [ INFO] console - Executing (e55bf237-6c23-418e-ae4d-2529ea122563): COMMIT;
[2016-09-10 15:57:53.891] [ INFO] console - [ 70,
  1220,
  {},
  [ { id: '94',
      value: '123 temp',
      note: '456',
      created_at: Sat Sep 10 2016 15:57:53 GMT+0500 (YEKT),
      updated_at: Sat Sep 10 2016 15:57:53 GMT+0500 (YEKT),
      deleted_at: null,
      owner_id: '2',
      place_id: '3',
      attachments: [] } ] ]
[2016-09-10 15:57:53.903] [ INFO] console - Executing (f83a28e2-b6af-420e-a548-bfe655d8532d): START TRANSACTION;
[2016-09-10 15:57:53.904] [ INFO] console - Executing (f83a28e2-b6af-420e-a548-bfe655d8532d): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:57:53.908] [ INFO] console - Executing (default): INSERT INTO "Slovo" ("id","value","created_at","updated_at","owner_id","place_id") VALUES (DEFAULT,'some value temp 1473505073899','2016-09-10 10:57:53.905 +00:00','2016-09-10 10:57:53.905 +00:00',2,3) RETURNING *;
[2016-09-10 15:57:53.912] [ INFO] console - Executing (f83a28e2-b6af-420e-a548-bfe655d8532d): COMMIT;
[2016-09-10 15:57:53.914] [ INFO] console - [ 70, 1221, {}, [ '95' ] ]
[2016-09-10 15:57:53.925] [ INFO] console - [ 16,
  8110282362585088,
  { acknowledge: true },
  'ru.kopa.model.Kopa.id3.slovoAdd',
  [ '95' ] ]
[2016-09-10 15:57:53.932] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Zemla', id: 2 }
[2016-09-10 15:57:53.935] [ INFO] console - Executing (a468a1dc-06de-4f13-80c7-5ad68974e72e): START TRANSACTION;
[2016-09-10 15:57:53.936] [ INFO] console - Executing (a468a1dc-06de-4f13-80c7-5ad68974e72e): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:57:53.950] [ INFO] console - Executing (default): SELECT "Zemla"."id", "Zemla"."path", "Zemla"."name", "Zemla"."intensity", "Zemla"."note", "Zemla"."created_at", "Zemla"."updated_at", "Zemla"."deleted_at", "Zemla"."parent_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Zemla" AS "Zemla" LEFT OUTER JOIN "File" AS "attachments" ON "Zemla"."id" = "attachments"."zemla_id" AND "attachments"."deleted_at" IS NULL WHERE ("Zemla"."deleted_at" IS NULL AND "Zemla"."id" = 2);
[2016-09-10 15:57:53.955] [ INFO] console - Executing (a468a1dc-06de-4f13-80c7-5ad68974e72e): COMMIT;
[2016-09-10 15:57:53.958] [ INFO] console - [ 70,
  1222,
  {},
  [ { fullPath: 'null2/',
      id: '2',
      path: null,
      name: 'UnitTest2',
      intensity: 1000,
      note: 'unit test 1473505061871',
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Sat Sep 10 2016 15:57:43 GMT+0500 (YEKT),
      deleted_at: null,
      parent_id: '1',
      attachments: [] } ] ]
[2016-09-10 15:57:53.973] [ INFO] console - Executing (87a7eb8f-dabe-45e9-9e6b-7059591ff833): START TRANSACTION;
[2016-09-10 15:57:53.974] [ INFO] console - Executing (87a7eb8f-dabe-45e9-9e6b-7059591ff833): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:57:53.978] [ INFO] console - Executing (default): SELECT "id", "path", "name", "intensity", "note", "created_at", "updated_at", "deleted_at", "parent_id" FROM "Zemla" AS "Zemla" WHERE ("Zemla"."deleted_at" IS NULL AND "Zemla"."id" = 2);
[2016-09-10 15:57:53.994] [ INFO] console - Executing (default): UPDATE "Zemla" SET "parent_id"=1,"note"='unit test 1473505072582',"updated_at"='2016-09-10 10:57:53.989 +00:00' WHERE "id" = '2'
[2016-09-10 15:57:53.999] [ INFO] console - Executing (87a7eb8f-dabe-45e9-9e6b-7059591ff833): COMMIT;
[2016-09-10 15:57:54.001] [ INFO] console - [ 16,
  6034418445582336,
  { acknowledge: true },
  'ru.kopa.model.Zemla.id2.change' ]
[2016-09-10 15:57:54.009] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Zemla', id: 2 }
[2016-09-10 15:57:54.011] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Zemla', id: 2 }
[2016-09-10 15:57:54.013] [ INFO] console - [ 70, 1223, {}, [ undefined ] ]
[2016-09-10 15:57:54.018] [ INFO] console - Executing (873371a0-4515-4d80-a3ee-db87277bb857): START TRANSACTION;
[2016-09-10 15:57:54.019] [ INFO] console - Executing (20c2bb0f-6bc6-481d-91b8-7c4a3d684555): START TRANSACTION;
[2016-09-10 15:57:54.020] [ INFO] console - Executing (873371a0-4515-4d80-a3ee-db87277bb857): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:57:54.021] [ INFO] console - Executing (20c2bb0f-6bc6-481d-91b8-7c4a3d684555): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:57:54.035] [ INFO] console - Executing (default): SELECT "Zemla"."id", "Zemla"."path", "Zemla"."name", "Zemla"."intensity", "Zemla"."note", "Zemla"."created_at", "Zemla"."updated_at", "Zemla"."deleted_at", "Zemla"."parent_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Zemla" AS "Zemla" LEFT OUTER JOIN "File" AS "attachments" ON "Zemla"."id" = "attachments"."zemla_id" AND "attachments"."deleted_at" IS NULL WHERE ("Zemla"."deleted_at" IS NULL AND "Zemla"."id" = 2);
[2016-09-10 15:57:54.037] [ INFO] console - Executing (default): SELECT "Zemla"."id", "Zemla"."path", "Zemla"."name", "Zemla"."intensity", "Zemla"."note", "Zemla"."created_at", "Zemla"."updated_at", "Zemla"."deleted_at", "Zemla"."parent_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Zemla" AS "Zemla" LEFT OUTER JOIN "File" AS "attachments" ON "Zemla"."id" = "attachments"."zemla_id" AND "attachments"."deleted_at" IS NULL WHERE ("Zemla"."deleted_at" IS NULL AND "Zemla"."id" = 2);
[2016-09-10 15:57:54.045] [ INFO] console - Executing (873371a0-4515-4d80-a3ee-db87277bb857): COMMIT;
[2016-09-10 15:57:54.046] [ INFO] console - Executing (20c2bb0f-6bc6-481d-91b8-7c4a3d684555): COMMIT;
[2016-09-10 15:57:54.047] [ INFO] console - [ 70,
  1224,
  {},
  [ { fullPath: 'null2/',
      id: '2',
      path: null,
      name: 'UnitTest2',
      intensity: 1000,
      note: 'unit test 1473505072582',
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Sat Sep 10 2016 15:57:53 GMT+0500 (YEKT),
      deleted_at: null,
      parent_id: '1',
      attachments: [] } ] ]
[2016-09-10 15:57:54.053] [ INFO] console - [ 70,
  1225,
  {},
  [ { fullPath: 'null2/',
      id: '2',
      path: null,
      name: 'UnitTest2',
      intensity: 1000,
      note: 'unit test 1473505072582',
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Sat Sep 10 2016 15:57:53 GMT+0500 (YEKT),
      deleted_at: null,
      parent_id: '1',
      attachments: [] } ] ]
[2016-09-10 15:58:01.592] [ INFO] console - [ 70, 1227, {}, [ 'unittest2@domain.ru' ] ]
[2016-09-10 15:58:01.601] [DEBUG] Server - #pingPong() [ 1, 2, 3 ] { x: 1, y: 2, z: 3 }
[2016-09-10 15:58:01.603] [ INFO] console - [ 70, 1228, {}, [ 1, 2, 3 ], { x: 1, y: 2, z: 3 } ]
[2016-09-10 15:58:01.609] [ INFO] console - Executing (default): select 'КОПА' as result
[2016-09-10 15:58:01.611] [ INFO] console - [ 70, 1229, {}, [ 'КОПА' ] ]
[2016-09-10 15:58:01.616] [DEBUG] Server - #error() [ 'sadkljfaskldjfs;af' ] {}
[2016-09-10 15:58:01.617] [ERROR] Server - [Error: sadkljfaskldjfs;af]
Error: sadkljfaskldjfs;af
    at MySuperError (Server.js:339:9)
    at fn.constructor.error.Error (Server.js:344:19)
    at new wrappedPromise (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/async-listener/index.js:372:16)
    at Server.error (Server.js:343:16)
    at Object.<anonymous> (Server.js:415:43)
    at [object Generator].next (native)
    at step (/home/alexey2baranov/htdocs/kp-sequelizejs/src/Server.js:1:253)
    at /home/alexey2baranov/htdocs/kp-sequelizejs/src/Server.js:1:513
    at new wrappedPromise (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/async-listener/index.js:372:16)
    at Object.<anonymous> (/home/alexey2baranov/htdocs/kp-sequelizejs/src/Server.js:1:161)
    at Object.<anonymous> (Server.js:412:28)
    at tryCatchResolve (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/apply.js:46:23)
    at callAndResolve (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/apply.js:30:12)
    at callAndResolveNext (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/apply.js:40:4)
    at tryCatchReject3 (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/makePromise.js:856:7)
    at runContinuation3 (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/makePromise.js:814:4)
[2016-09-10 15:58:01.623] [ INFO] console - [ 8,
  68,
  1230,
  {},
  'MySuperError',
  [ 'sadkljfaskldjfs;af' ],
  { stack: 
     [ 'Error: sadkljfaskldjfs;af',
       '    at MySuperError (Server.js:339:9)',
       '    at fn.constructor.error.Error (Server.js:344:19)',
       '    at new wrappedPromise (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/async-listener/index.js:372:16)',
       '    at Server.error (Server.js:343:16)',
       '    at Object.<anonymous> (Server.js:415:43)',
       '    at [object Generator].next (native)',
       '    at step (/home/alexey2baranov/htdocs/kp-sequelizejs/src/Server.js:1:253)',
       '    at /home/alexey2baranov/htdocs/kp-sequelizejs/src/Server.js:1:513',
       '    at new wrappedPromise (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/async-listener/index.js:372:16)',
       '    at Object.<anonymous> (/home/alexey2baranov/htdocs/kp-sequelizejs/src/Server.js:1:161)',
       '    at Object.<anonymous> (Server.js:412:28)',
       '    at tryCatchResolve (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/apply.js:46:23)',
       '    at callAndResolve (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/apply.js:30:12)',
       '    at callAndResolveNext (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/apply.js:40:4)',
       '    at tryCatchReject3 (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/makePromise.js:856:7)',
       '    at runContinuation3 (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/makePromise.js:814:4)' ] } ]
[2016-09-10 15:58:01.632] [ INFO] console - [ 70, 1231, {}, [ undefined ] ]
[2016-09-10 15:58:01.634] [ INFO] console - Executing (default): delete from "Slovo"
                where
                    place_id<5
                    and value like '%temp'
[2016-09-10 15:58:01.644] [ INFO] console - Executing (default): delete from "Kopnik"
                where
                    name like '%temp'
[2016-09-10 15:58:01.653] [ INFO] console - Executing (default): update "Kopnik"
                set 
                    "voiskoSize"= case when id=2 then 1 ELSE 0 END
                where
                    id>1 
                    and id<=5
[2016-09-10 15:58:01.676] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopa', id: 3 }
[2016-09-10 15:58:01.681] [ INFO] console - Executing (9c6ddf8d-8c1c-4a0f-834b-dd1df0d310e8): START TRANSACTION;
[2016-09-10 15:58:01.685] [ INFO] console - Executing (9c6ddf8d-8c1c-4a0f-834b-dd1df0d310e8): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:58:01.692] [ INFO] console - Executing (default): SELECT "Kopa"."id", "Kopa"."question", "Kopa"."planned", "Kopa"."started", "Kopa"."closed", "Kopa"."isOpen", "Kopa"."note", "Kopa"."created_at", "Kopa"."updated_at", "Kopa"."deleted_at", "Kopa"."place_id", "Kopa"."inviter_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopa" AS "Kopa" LEFT OUTER JOIN "File" AS "attachments" ON "Kopa"."id" = "attachments"."kopa_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopa"."deleted_at" IS NULL AND "Kopa"."id" = 3);
[2016-09-10 15:58:01.696] [ INFO] console - Executing (9c6ddf8d-8c1c-4a0f-834b-dd1df0d310e8): COMMIT;
[2016-09-10 15:58:01.698] [ INFO] console - [ 70,
  1233,
  {},
  [ { id: '3',
      question: 'CHE',
      planned: Thu Sep 01 2016 00:00:00 GMT+0500 (YEKT),
      started: Thu Sep 01 2016 00:00:00 GMT+0500 (YEKT),
      closed: null,
      isOpen: false,
      note: null,
      created_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      deleted_at: null,
      place_id: '2',
      inviter_id: '2',
      attachments: [] } ] ]
[2016-09-10 15:58:01.710] [ INFO] console - Executing (9e7c4ca7-e5a6-4c86-bc0f-0a9cf41d68db): START TRANSACTION;
[2016-09-10 15:58:01.712] [ INFO] console - Executing (9e7c4ca7-e5a6-4c86-bc0f-0a9cf41d68db): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:58:01.718] [ INFO] console - Executing (default): INSERT INTO "Golos" ("id","value","created_at","updated_at","for_id","owner_id") VALUES (DEFAULT,1,'2016-09-10 10:58:01.714 +00:00','2016-09-10 10:58:01.714 +00:00',1,2) RETURNING *;
[2016-09-10 15:58:01.720] [ INFO] console - Executing (9e7c4ca7-e5a6-4c86-bc0f-0a9cf41d68db): COMMIT;
[2016-09-10 15:58:01.721] [ INFO] console - [ 70, 1234, {}, [ '52' ] ]
[2016-09-10 15:58:01.723] [ INFO] console - [ 16,
  5274187457363968,
  { acknowledge: true },
  'ru.kopa.model.Predlozhenie.id1.golosAdd',
  [ '52' ] ]
[2016-09-10 15:58:01.758] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopa', id: 3 }
[2016-09-10 15:58:01.762] [ INFO] console - Executing (a91f8bb8-010b-4782-a1cd-d092404b9caf): START TRANSACTION;
[2016-09-10 15:58:01.763] [ INFO] console - Executing (a91f8bb8-010b-4782-a1cd-d092404b9caf): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:58:01.769] [ INFO] console - Executing (default): SELECT "Kopa"."id", "Kopa"."question", "Kopa"."planned", "Kopa"."started", "Kopa"."closed", "Kopa"."isOpen", "Kopa"."note", "Kopa"."created_at", "Kopa"."updated_at", "Kopa"."deleted_at", "Kopa"."place_id", "Kopa"."inviter_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopa" AS "Kopa" LEFT OUTER JOIN "File" AS "attachments" ON "Kopa"."id" = "attachments"."kopa_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopa"."deleted_at" IS NULL AND "Kopa"."id" = 3);
[2016-09-10 15:58:01.775] [ INFO] console - Executing (a91f8bb8-010b-4782-a1cd-d092404b9caf): COMMIT;
[2016-09-10 15:58:01.776] [ INFO] console - [ 70,
  1236,
  {},
  [ { id: '3',
      question: 'CHE',
      planned: Thu Sep 01 2016 00:00:00 GMT+0500 (YEKT),
      started: Thu Sep 01 2016 00:00:00 GMT+0500 (YEKT),
      closed: null,
      isOpen: false,
      note: null,
      created_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      deleted_at: null,
      place_id: '2',
      inviter_id: '2',
      attachments: [] } ] ]
[2016-09-10 15:58:01.786] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 2 }
[2016-09-10 15:58:01.790] [ INFO] console - Executing (5882a4a9-19c7-4675-8c1a-44db873dfb55): START TRANSACTION;
[2016-09-10 15:58:01.792] [ INFO] console - Executing (5882a4a9-19c7-4675-8c1a-44db873dfb55): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:58:01.820] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 2);
[2016-09-10 15:58:01.825] [ INFO] console - Executing (5882a4a9-19c7-4675-8c1a-44db873dfb55): COMMIT;
[2016-09-10 15:58:01.826] [ INFO] console - [ 70,
  1237,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/2/',
      starshina: [Object],
      id: '2',
      email: 'unittest2@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '1',
      voiskoSize: 1,
      birth: 1983,
      path: '/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: null,
      attachments: [] } ] ]
[2016-09-10 15:58:01.841] [ INFO] console - Executing (999dd2f2-897b-429d-8efb-672d688f3297): START TRANSACTION;
[2016-09-10 15:58:01.843] [ INFO] console - Executing (999dd2f2-897b-429d-8efb-672d688f3297): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:58:01.849] [ INFO] console - Executing (default): INSERT INTO "Slovo" ("id","value","created_at","updated_at","owner_id","place_id") VALUES (DEFAULT,'some Slovo temp 1473505081838','2016-09-10 10:58:01.844 +00:00','2016-09-10 10:58:01.844 +00:00',2,3) RETURNING *;
[2016-09-10 15:58:01.852] [ INFO] console - Executing (999dd2f2-897b-429d-8efb-672d688f3297): COMMIT;
[2016-09-10 15:58:01.854] [ INFO] console - [ 70, 1238, {}, [ '96' ] ]
[2016-09-10 15:58:01.857] [ INFO] console - [ 16,
  4125271462510592,
  { acknowledge: true },
  'ru.kopa.model.Kopa.id3.slovoAdd',
  [ '96' ] ]
[2016-09-10 15:58:01.866] [ INFO] console - Executing (b259c390-6a46-443a-afd7-232d5196f27d): START TRANSACTION;
[2016-09-10 15:58:01.870] [ INFO] console - Executing (b259c390-6a46-443a-afd7-232d5196f27d): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:58:01.874] [ INFO] console - Executing (default): INSERT INTO "Predlozhenie" ("id","value","created_at","updated_at","initiator_id","place_id") VALUES (DEFAULT,'some Predlozhenie temp 1473505081863','2016-09-10 10:58:01.871 +00:00','2016-09-10 10:58:01.871 +00:00',2,3) RETURNING *;
[2016-09-10 15:58:01.878] [ INFO] console - Executing (b259c390-6a46-443a-afd7-232d5196f27d): COMMIT;
[2016-09-10 15:58:01.882] [ INFO] console - [ 70, 1239, {}, [ '52' ] ]
[2016-09-10 15:58:01.884] [ INFO] console - [ 16,
  4008741141741568,
  { acknowledge: true },
  'ru.kopa.model.Kopa.id3.predlozhenieAdd',
  [ '52' ] ]
[2016-09-10 15:58:01.912] [ INFO] console - [ 70, 1241, {}, [ undefined ] ]
[2016-09-10 15:58:01.914] [ INFO] console - Executing (default): delete from "Kopnik"
                where
                    name like '%temp'
[2016-09-10 15:58:01.916] [ INFO] console - Executing (default): update "Kopnik"
                set 
                    "voiskoSize"= case when id=2 then 1 ELSE 0 END
                where
                    id>1 
                    and id<=5
[2016-09-10 15:58:01.918] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 2 }
[2016-09-10 15:58:01.922] [ INFO] console - Executing (a02e30e8-4e94-43bc-b5ab-1c90ddd12e40): START TRANSACTION;
[2016-09-10 15:58:01.923] [ INFO] console - Executing (a02e30e8-4e94-43bc-b5ab-1c90ddd12e40): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:58:01.929] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 2);
[2016-09-10 15:58:01.938] [ INFO] console - Executing (a02e30e8-4e94-43bc-b5ab-1c90ddd12e40): COMMIT;
[2016-09-10 15:58:01.939] [ INFO] console - [ 70,
  1242,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/2/',
      starshina: [Object],
      id: '2',
      email: 'unittest2@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '1',
      voiskoSize: 1,
      birth: 1983,
      path: '/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: null,
      attachments: [] } ] ]
[2016-09-10 15:58:01.949] [ INFO] console - Executing (0c3951d6-3e92-42e6-b30f-70ce69348837): START TRANSACTION;
[2016-09-10 15:58:01.950] [ INFO] console - Executing (0c3951d6-3e92-42e6-b30f-70ce69348837): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:58:01.961] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 2);
[2016-09-10 15:58:01.973] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"+1
                                where
                                    '/2/' like path||id||'/%'
[2016-09-10 15:58:01.979] [ INFO] console - Executing (default): INSERT INTO "Kopnik" ("id","name","surname","patronymic","voiskoSize","birth","path","created_at","updated_at","rodina_id","starshina_id") VALUES (DEFAULT,'temp','temp','temp',0,1900,'/2/','2016-09-10 10:58:01.952 +00:00','2016-09-10 10:58:01.952 +00:00',NULL,2) RETURNING *;
[2016-09-10 15:58:01.983] [ INFO] console - Executing (0c3951d6-3e92-42e6-b30f-70ce69348837): COMMIT;
[2016-09-10 15:58:01.985] [ INFO] console - [ 70, 1243, {}, [ '167' ] ]
[2016-09-10 15:58:01.990] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/' like k.path||k.id||'/%'
[2016-09-10 15:58:01.999] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 15:58:02.000] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Zemla', id: 2 }
[2016-09-10 15:58:02.006] [ INFO] console - Executing (23ee3775-4a60-494a-9a81-5a5fcf4a0ec7): START TRANSACTION;
[2016-09-10 15:58:02.006] [ INFO] console - [ 16,
  7478454618423296,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id2.voiskoChange',
  [],
  { voiskoSize: 2 } ]
[2016-09-10 15:58:02.010] [ INFO] console - Executing (23ee3775-4a60-494a-9a81-5a5fcf4a0ec7): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:58:02.022] [ INFO] console - Executing (default): SELECT "Zemla"."id", "Zemla"."path", "Zemla"."name", "Zemla"."intensity", "Zemla"."note", "Zemla"."created_at", "Zemla"."updated_at", "Zemla"."deleted_at", "Zemla"."parent_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Zemla" AS "Zemla" LEFT OUTER JOIN "File" AS "attachments" ON "Zemla"."id" = "attachments"."zemla_id" AND "attachments"."deleted_at" IS NULL WHERE ("Zemla"."deleted_at" IS NULL AND "Zemla"."id" = 2);
[2016-09-10 15:58:02.045] [ INFO] console - Executing (23ee3775-4a60-494a-9a81-5a5fcf4a0ec7): COMMIT;
[2016-09-10 15:58:02.046] [ INFO] console - [ 70,
  1244,
  {},
  [ { fullPath: 'null2/',
      id: '2',
      path: null,
      name: 'UnitTest2',
      intensity: 1000,
      note: 'unit test 1473505072582',
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Sat Sep 10 2016 15:57:53 GMT+0500 (YEKT),
      deleted_at: null,
      parent_id: '1',
      attachments: [] } ] ]
[2016-09-10 15:58:02.533] [ INFO] console - Executing (6e495e40-9981-4b05-ac7d-d54a5e702b09): START TRANSACTION;
[2016-09-10 15:58:02.534] [ INFO] console - Executing (6e495e40-9981-4b05-ac7d-d54a5e702b09): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:58:02.544] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 167);
[2016-09-10 15:58:02.548] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"+1
                                where
                                    '/2/167/' like path||id||'/%'
[2016-09-10 15:58:02.550] [ INFO] console - Executing (default): INSERT INTO "Kopnik" ("id","name","surname","patronymic","voiskoSize","birth","path","created_at","updated_at","rodina_id","starshina_id") VALUES (DEFAULT,'temp','temp','temp',0,1900,'/2/167/','2016-09-10 10:58:02.536 +00:00','2016-09-10 10:58:02.536 +00:00',NULL,167) RETURNING *;
[2016-09-10 15:58:02.553] [ INFO] console - Executing (6e495e40-9981-4b05-ac7d-d54a5e702b09): COMMIT;
[2016-09-10 15:58:02.554] [ INFO] console - [ 70, 1245, {}, [ '168' ] ]
[2016-09-10 15:58:02.558] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/167/' like k.path||k.id||'/%'
[2016-09-10 15:58:02.568] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2', '167')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 15:58:02.571] [ INFO] console - [ 16,
  4651893116633088,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id167.voiskoChange',
  [],
  { voiskoSize: 1 } ]
[2016-09-10 15:58:02.618] [ INFO] console - [ 16,
  7393709100367872,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id2.voiskoChange',
  [],
  { voiskoSize: 3 } ]
[2016-09-10 15:58:03.084] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 4 }
[2016-09-10 15:58:03.086] [ INFO] console - Executing (eeb2a014-046a-48f0-92bc-71c66d57e1ab): START TRANSACTION;
[2016-09-10 15:58:03.087] [ INFO] console - Executing (eeb2a014-046a-48f0-92bc-71c66d57e1ab): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:58:03.093] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 4);
[2016-09-10 15:58:03.097] [ INFO] console - Executing (eeb2a014-046a-48f0-92bc-71c66d57e1ab): COMMIT;
[2016-09-10 15:58:03.098] [ INFO] console - [ 70,
  1246,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/4/',
      starshina: [Object],
      id: '4',
      email: 'unittest4@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '4',
      voiskoSize: 0,
      birth: 1983,
      path: '/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: null,
      attachments: [] } ] ]
[2016-09-10 15:58:03.112] [ INFO] console - Executing (98a6b72f-dad3-46a2-8211-da9a994e8dcf): START TRANSACTION;
[2016-09-10 15:58:03.113] [ INFO] console - Executing (98a6b72f-dad3-46a2-8211-da9a994e8dcf): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:58:03.117] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 167);
[2016-09-10 15:58:03.121] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 4);
[2016-09-10 15:58:03.124] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/' like k.path||k.id||'/%'
[2016-09-10 15:58:03.129] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 15:58:03.132] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"-2
                                where
                                    '/2/' like path||id||'/%'
[2016-09-10 15:58:03.138] [ INFO] console - Executing (default): UPDATE "Kopnik" SET "path"='/4/',"starshina_id"='4',"updated_at"='2016-09-10 10:58:03.134 +00:00' WHERE "id" = '167'
[2016-09-10 15:58:03.141] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"+2
                                where
                                    '/4/' like path||id||'/%'
[2016-09-10 15:58:03.145] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."starshina_id" = '167');
[2016-09-10 15:58:03.152] [ INFO] console - Executing (default): UPDATE "Kopnik" SET "path"='/4/167/',"updated_at"='2016-09-10 10:58:03.148 +00:00' WHERE "id" = '168'
[2016-09-10 15:58:03.154] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/4/' like k.path||k.id||'/%'
[2016-09-10 15:58:03.160] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('4')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 15:58:03.164] [ INFO] console - Executing (98a6b72f-dad3-46a2-8211-da9a994e8dcf): COMMIT;
[2016-09-10 15:58:03.165] [ INFO] console - [ 70, 1247, {}, [ undefined ] ]
[2016-09-10 15:58:03.168] [ INFO] console - [ 16,
  2980483851878400,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id2.voiskoChange',
  [],
  { voiskoSize: 1 } ]
[2016-09-10 15:58:03.173] [ INFO] console - [ 16,
  1332300532940800,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id4.voiskoChange',
  [],
  { voiskoSize: 2 } ]
[2016-09-10 15:58:03.210] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopa', id: 3 }
[2016-09-10 15:58:03.213] [ INFO] console - Executing (ac0276b3-24f7-4008-a401-adfeacabba52): START TRANSACTION;
[2016-09-10 15:58:03.216] [ INFO] console - Executing (ac0276b3-24f7-4008-a401-adfeacabba52): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:58:03.222] [ INFO] console - Executing (default): SELECT "Kopa"."id", "Kopa"."question", "Kopa"."planned", "Kopa"."started", "Kopa"."closed", "Kopa"."isOpen", "Kopa"."note", "Kopa"."created_at", "Kopa"."updated_at", "Kopa"."deleted_at", "Kopa"."place_id", "Kopa"."inviter_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopa" AS "Kopa" LEFT OUTER JOIN "File" AS "attachments" ON "Kopa"."id" = "attachments"."kopa_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopa"."deleted_at" IS NULL AND "Kopa"."id" = 3);
[2016-09-10 15:58:03.229] [ INFO] console - Executing (ac0276b3-24f7-4008-a401-adfeacabba52): COMMIT;
[2016-09-10 15:58:03.238] [ INFO] console - [ 70,
  1249,
  {},
  [ { id: '3',
      question: 'CHE',
      planned: Thu Sep 01 2016 00:00:00 GMT+0500 (YEKT),
      started: Thu Sep 01 2016 00:00:00 GMT+0500 (YEKT),
      closed: null,
      isOpen: false,
      note: null,
      created_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      deleted_at: null,
      place_id: '2',
      inviter_id: '2',
      attachments: [] } ] ]
[2016-09-10 15:58:03.249] [ INFO] console - Executing (53a5392f-3032-463a-8cb0-6c7b924a8354): START TRANSACTION;
[2016-09-10 15:58:03.251] [ INFO] console - Executing (53a5392f-3032-463a-8cb0-6c7b924a8354): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:58:03.256] [ INFO] console - Executing (default): INSERT INTO "Predlozhenie" ("id","value","created_at","updated_at","initiator_id","place_id") VALUES (DEFAULT,'some Predlozhenie temp 1473505081365','2016-09-10 10:58:03.252 +00:00','2016-09-10 10:58:03.252 +00:00',2,3) RETURNING *;
[2016-09-10 15:58:03.260] [ INFO] console - Executing (53a5392f-3032-463a-8cb0-6c7b924a8354): COMMIT;
[2016-09-10 15:58:03.262] [ INFO] console - [ 70, 1250, {}, [ '53' ] ]
[2016-09-10 15:58:03.263] [ INFO] console - [ 16,
  2091786140909568,
  { acknowledge: true },
  'ru.kopa.model.Kopa.id3.predlozhenieAdd',
  [ '53' ] ]
[2016-09-10 15:58:03.273] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Predlozhenie', id: 1 }
[2016-09-10 15:58:03.276] [ INFO] console - Executing (2a09544c-ce7d-4461-9a36-ccd585e76400): START TRANSACTION;
[2016-09-10 15:58:03.278] [ INFO] console - Executing (2a09544c-ce7d-4461-9a36-ccd585e76400): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:58:03.283] [ INFO] console - Executing (default): SELECT "Predlozhenie"."id", "Predlozhenie"."value", "Predlozhenie"."note", "Predlozhenie"."created_at", "Predlozhenie"."updated_at", "Predlozhenie"."deleted_at", "Predlozhenie"."initiator_id", "Predlozhenie"."place_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Predlozhenie" AS "Predlozhenie" LEFT OUTER JOIN "File" AS "attachments" ON "Predlozhenie"."id" = "attachments"."predlozhenie_id" AND "attachments"."deleted_at" IS NULL WHERE ("Predlozhenie"."deleted_at" IS NULL AND "Predlozhenie"."id" = 1);
[2016-09-10 15:58:03.296] [ INFO] console - Executing (2a09544c-ce7d-4461-9a36-ccd585e76400): COMMIT;
[2016-09-10 15:58:03.297] [ INFO] console - [ 70,
  1251,
  {},
  [ { id: '1',
      value: 'Будет ...',
      note: null,
      created_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      deleted_at: null,
      initiator_id: '2',
      place_id: '3',
      attachments: [] } ] ]
[2016-09-10 15:58:03.306] [ INFO] console - Executing (30ca1082-0d4c-4808-956b-046e5cb037af): START TRANSACTION;
[2016-09-10 15:58:03.309] [ INFO] console - Executing (30ca1082-0d4c-4808-956b-046e5cb037af): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:58:03.313] [ INFO] console - Executing (default): INSERT INTO "Golos" ("id","value","created_at","updated_at","for_id","owner_id") VALUES (DEFAULT,1,'2016-09-10 10:58:03.310 +00:00','2016-09-10 10:58:03.310 +00:00',1,2) RETURNING *;
[2016-09-10 15:58:03.316] [ INFO] console - Executing (30ca1082-0d4c-4808-956b-046e5cb037af): COMMIT;
[2016-09-10 15:58:03.318] [ INFO] console - [ 70, 1252, {}, [ '53' ] ]
[2016-09-10 15:58:03.323] [ INFO] console - [ 16,
  6979403321966592,
  { acknowledge: true },
  'ru.kopa.model.Predlozhenie.id1.golosAdd',
  [ '53' ] ]
[2016-09-10 15:58:03.378] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 2 }
[2016-09-10 15:58:03.382] [ INFO] console - Executing (7e15abf9-d4b3-476f-a495-265afffd478f): START TRANSACTION;
[2016-09-10 15:58:03.383] [ INFO] console - Executing (7e15abf9-d4b3-476f-a495-265afffd478f): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:58:03.389] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 2);
[2016-09-10 15:58:03.393] [ INFO] console - Executing (7e15abf9-d4b3-476f-a495-265afffd478f): COMMIT;
[2016-09-10 15:58:03.394] [ INFO] console - [ 70,
  1254,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/2/',
      starshina: [Object],
      id: '2',
      email: 'unittest2@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '1',
      voiskoSize: 1,
      birth: 1983,
      path: '/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: null,
      attachments: [] } ] ]
[2016-09-10 15:58:03.444] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 3 }
[2016-09-10 15:58:03.446] [ INFO] console - Executing (4fdb1aee-49b7-4206-82e1-2477e567d56b): START TRANSACTION;
[2016-09-10 15:58:03.447] [ INFO] console - Executing (4fdb1aee-49b7-4206-82e1-2477e567d56b): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:58:03.452] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 3);
[2016-09-10 15:58:03.458] [ INFO] console - Executing (4fdb1aee-49b7-4206-82e1-2477e567d56b): COMMIT;
[2016-09-10 15:58:03.459] [ INFO] console - [ 70,
  1255,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/2/3/',
      starshina: [Object],
      id: '3',
      email: 'unittest3@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '3',
      voiskoSize: 0,
      birth: 1983,
      path: '/2/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: '2',
      attachments: [] } ] ]
[2016-09-10 15:58:03.519] [ INFO] console - Executing (d06eff78-08a4-4a19-97de-631802ca22fe): START TRANSACTION;
[2016-09-10 15:58:03.521] [ INFO] console - Executing (d06eff78-08a4-4a19-97de-631802ca22fe): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:58:03.528] [ INFO] console - Executing (default): INSERT INTO "Slovo" ("id","value","note","created_at","updated_at","owner_id","place_id") VALUES (DEFAULT,'123 temp','456','2016-09-10 10:58:03.523 +00:00','2016-09-10 10:58:03.523 +00:00',2,3) RETURNING *;
[2016-09-10 15:58:03.531] [ INFO] console - Executing (d06eff78-08a4-4a19-97de-631802ca22fe): COMMIT;
[2016-09-10 15:58:03.532] [ INFO] console - [ 70, 1256, {}, [ '97' ] ]
[2016-09-10 15:58:03.535] [ INFO] console - [ 16,
  2752187509768192,
  { acknowledge: true },
  'ru.kopa.model.Kopa.id3.slovoAdd',
  [ '97' ] ]
[2016-09-10 15:58:03.540] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Slovo', id: 97 }
[2016-09-10 15:58:03.542] [ INFO] console - Executing (294d7b71-f3b4-4557-9600-91d6c9434493): START TRANSACTION;
[2016-09-10 15:58:03.544] [ INFO] console - Executing (294d7b71-f3b4-4557-9600-91d6c9434493): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:58:03.549] [ INFO] console - Executing (default): SELECT "Slovo"."id", "Slovo"."value", "Slovo"."note", "Slovo"."created_at", "Slovo"."updated_at", "Slovo"."deleted_at", "Slovo"."owner_id", "Slovo"."place_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Slovo" AS "Slovo" LEFT OUTER JOIN "File" AS "attachments" ON "Slovo"."id" = "attachments"."slovo_id" AND "attachments"."deleted_at" IS NULL WHERE ("Slovo"."deleted_at" IS NULL AND "Slovo"."id" = 97);
[2016-09-10 15:58:03.554] [ INFO] console - Executing (294d7b71-f3b4-4557-9600-91d6c9434493): COMMIT;
[2016-09-10 15:58:03.555] [ INFO] console - [ 70,
  1257,
  {},
  [ { id: '97',
      value: '123 temp',
      note: '456',
      created_at: Sat Sep 10 2016 15:58:03 GMT+0500 (YEKT),
      updated_at: Sat Sep 10 2016 15:58:03 GMT+0500 (YEKT),
      deleted_at: null,
      owner_id: '2',
      place_id: '3',
      attachments: [] } ] ]
[2016-09-10 15:58:03.571] [ INFO] console - Executing (42645cf6-837f-49dd-9378-aed2a26b3a75): START TRANSACTION;
[2016-09-10 15:58:03.573] [ INFO] console - Executing (42645cf6-837f-49dd-9378-aed2a26b3a75): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:58:03.590] [ INFO] console - Executing (default): INSERT INTO "Slovo" ("id","value","created_at","updated_at","owner_id","place_id") VALUES (DEFAULT,'some value temp 1473505083566','2016-09-10 10:58:03.576 +00:00','2016-09-10 10:58:03.576 +00:00',2,3) RETURNING *;
[2016-09-10 15:58:03.596] [ INFO] console - Executing (42645cf6-837f-49dd-9378-aed2a26b3a75): COMMIT;
[2016-09-10 15:58:03.598] [ INFO] console - [ 70, 1258, {}, [ '98' ] ]
[2016-09-10 15:58:03.599] [ INFO] console - [ 16,
  6803987791609856,
  { acknowledge: true },
  'ru.kopa.model.Kopa.id3.slovoAdd',
  [ '98' ] ]
[2016-09-10 15:58:03.605] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Zemla', id: 2 }
[2016-09-10 15:58:03.609] [ INFO] console - Executing (07203190-1643-4348-92d5-1287b248400c): START TRANSACTION;
[2016-09-10 15:58:03.611] [ INFO] console - Executing (07203190-1643-4348-92d5-1287b248400c): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:58:03.616] [ INFO] console - Executing (default): SELECT "Zemla"."id", "Zemla"."path", "Zemla"."name", "Zemla"."intensity", "Zemla"."note", "Zemla"."created_at", "Zemla"."updated_at", "Zemla"."deleted_at", "Zemla"."parent_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Zemla" AS "Zemla" LEFT OUTER JOIN "File" AS "attachments" ON "Zemla"."id" = "attachments"."zemla_id" AND "attachments"."deleted_at" IS NULL WHERE ("Zemla"."deleted_at" IS NULL AND "Zemla"."id" = 2);
[2016-09-10 15:58:03.623] [ INFO] console - Executing (07203190-1643-4348-92d5-1287b248400c): COMMIT;
[2016-09-10 15:58:03.624] [ INFO] console - [ 70,
  1259,
  {},
  [ { fullPath: 'null2/',
      id: '2',
      path: null,
      name: 'UnitTest2',
      intensity: 1000,
      note: 'unit test 1473505072582',
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Sat Sep 10 2016 15:57:53 GMT+0500 (YEKT),
      deleted_at: null,
      parent_id: '1',
      attachments: [] } ] ]
[2016-09-10 15:58:03.635] [ INFO] console - Executing (b5d244c1-00d7-4366-b144-7606c21586ad): START TRANSACTION;
[2016-09-10 15:58:03.636] [ INFO] console - Executing (b5d244c1-00d7-4366-b144-7606c21586ad): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:58:03.642] [ INFO] console - Executing (default): SELECT "id", "path", "name", "intensity", "note", "created_at", "updated_at", "deleted_at", "parent_id" FROM "Zemla" AS "Zemla" WHERE ("Zemla"."deleted_at" IS NULL AND "Zemla"."id" = 2);
[2016-09-10 15:58:03.650] [ INFO] console - Executing (default): UPDATE "Zemla" SET "parent_id"=1,"note"='unit test 1473505081405',"updated_at"='2016-09-10 10:58:03.644 +00:00' WHERE "id" = '2'
[2016-09-10 15:58:03.653] [ INFO] console - Executing (b5d244c1-00d7-4366-b144-7606c21586ad): COMMIT;
[2016-09-10 15:58:03.654] [ INFO] console - [ 16,
  5890609363550208,
  { acknowledge: true },
  'ru.kopa.model.Zemla.id2.change' ]
[2016-09-10 15:58:03.658] [ INFO] console - [ 70, 1260, {}, [ undefined ] ]
[2016-09-10 15:58:03.660] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Zemla', id: 2 }
[2016-09-10 15:58:03.663] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Zemla', id: 2 }
[2016-09-10 15:58:03.666] [ INFO] console - Executing (93795eb5-796b-49c9-b9f2-e0c8c4f3cd63): START TRANSACTION;
[2016-09-10 15:58:03.666] [ INFO] console - Executing (94a168ba-a574-4882-b137-9f1e2fb5c8b4): START TRANSACTION;
[2016-09-10 15:58:03.669] [ INFO] console - Executing (93795eb5-796b-49c9-b9f2-e0c8c4f3cd63): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:58:03.669] [ INFO] console - Executing (94a168ba-a574-4882-b137-9f1e2fb5c8b4): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:58:03.680] [ INFO] console - Executing (default): SELECT "Zemla"."id", "Zemla"."path", "Zemla"."name", "Zemla"."intensity", "Zemla"."note", "Zemla"."created_at", "Zemla"."updated_at", "Zemla"."deleted_at", "Zemla"."parent_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Zemla" AS "Zemla" LEFT OUTER JOIN "File" AS "attachments" ON "Zemla"."id" = "attachments"."zemla_id" AND "attachments"."deleted_at" IS NULL WHERE ("Zemla"."deleted_at" IS NULL AND "Zemla"."id" = 2);
[2016-09-10 15:58:03.681] [ INFO] console - Executing (default): SELECT "Zemla"."id", "Zemla"."path", "Zemla"."name", "Zemla"."intensity", "Zemla"."note", "Zemla"."created_at", "Zemla"."updated_at", "Zemla"."deleted_at", "Zemla"."parent_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Zemla" AS "Zemla" LEFT OUTER JOIN "File" AS "attachments" ON "Zemla"."id" = "attachments"."zemla_id" AND "attachments"."deleted_at" IS NULL WHERE ("Zemla"."deleted_at" IS NULL AND "Zemla"."id" = 2);
[2016-09-10 15:58:03.688] [ INFO] console - Executing (93795eb5-796b-49c9-b9f2-e0c8c4f3cd63): COMMIT;
[2016-09-10 15:58:03.692] [ INFO] console - Executing (94a168ba-a574-4882-b137-9f1e2fb5c8b4): COMMIT;
[2016-09-10 15:58:03.694] [ INFO] console - [ 70,
  1261,
  {},
  [ { fullPath: 'null2/',
      id: '2',
      path: null,
      name: 'UnitTest2',
      intensity: 1000,
      note: 'unit test 1473505081405',
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Sat Sep 10 2016 15:58:03 GMT+0500 (YEKT),
      deleted_at: null,
      parent_id: '1',
      attachments: [] } ] ]
[2016-09-10 15:58:03.698] [ INFO] console - [ 70,
  1262,
  {},
  [ { fullPath: 'null2/',
      id: '2',
      path: null,
      name: 'UnitTest2',
      intensity: 1000,
      note: 'unit test 1473505081405',
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Sat Sep 10 2016 15:58:03 GMT+0500 (YEKT),
      deleted_at: null,
      parent_id: '1',
      attachments: [] } ] ]
[2016-09-10 15:58:31.782] [ INFO] console - [ 70, 1264, {}, [ 'unittest2@domain.ru' ] ]
[2016-09-10 15:58:31.790] [DEBUG] Server - #pingPong() [ 1, 2, 3 ] { x: 1, y: 2, z: 3 }
[2016-09-10 15:58:31.792] [ INFO] console - [ 70, 1265, {}, [ 1, 2, 3 ], { x: 1, y: 2, z: 3 } ]
[2016-09-10 15:58:31.810] [ INFO] console - Executing (default): select 'КОПА' as result
[2016-09-10 15:58:31.813] [ INFO] console - [ 70, 1266, {}, [ 'КОПА' ] ]
[2016-09-10 15:58:31.818] [DEBUG] Server - #error() [ 'sadkljfaskldjfs;af' ] {}
[2016-09-10 15:58:31.820] [ERROR] Server - [Error: sadkljfaskldjfs;af]
Error: sadkljfaskldjfs;af
    at MySuperError (Server.js:339:9)
    at fn.constructor.error.Error (Server.js:344:19)
    at new wrappedPromise (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/async-listener/index.js:372:16)
    at Server.error (Server.js:343:16)
    at Object.<anonymous> (Server.js:415:43)
    at [object Generator].next (native)
    at step (/home/alexey2baranov/htdocs/kp-sequelizejs/src/Server.js:1:253)
    at /home/alexey2baranov/htdocs/kp-sequelizejs/src/Server.js:1:513
    at new wrappedPromise (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/async-listener/index.js:372:16)
    at Object.<anonymous> (/home/alexey2baranov/htdocs/kp-sequelizejs/src/Server.js:1:161)
    at Object.<anonymous> (Server.js:412:28)
    at tryCatchResolve (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/apply.js:46:23)
    at callAndResolve (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/apply.js:30:12)
    at callAndResolveNext (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/apply.js:40:4)
    at tryCatchReject3 (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/makePromise.js:856:7)
    at runContinuation3 (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/makePromise.js:814:4)
[2016-09-10 15:58:31.822] [ INFO] console - [ 8,
  68,
  1267,
  {},
  'MySuperError',
  [ 'sadkljfaskldjfs;af' ],
  { stack: 
     [ 'Error: sadkljfaskldjfs;af',
       '    at MySuperError (Server.js:339:9)',
       '    at fn.constructor.error.Error (Server.js:344:19)',
       '    at new wrappedPromise (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/async-listener/index.js:372:16)',
       '    at Server.error (Server.js:343:16)',
       '    at Object.<anonymous> (Server.js:415:43)',
       '    at [object Generator].next (native)',
       '    at step (/home/alexey2baranov/htdocs/kp-sequelizejs/src/Server.js:1:253)',
       '    at /home/alexey2baranov/htdocs/kp-sequelizejs/src/Server.js:1:513',
       '    at new wrappedPromise (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/async-listener/index.js:372:16)',
       '    at Object.<anonymous> (/home/alexey2baranov/htdocs/kp-sequelizejs/src/Server.js:1:161)',
       '    at Object.<anonymous> (Server.js:412:28)',
       '    at tryCatchResolve (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/apply.js:46:23)',
       '    at callAndResolve (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/apply.js:30:12)',
       '    at callAndResolveNext (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/apply.js:40:4)',
       '    at tryCatchReject3 (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/makePromise.js:856:7)',
       '    at runContinuation3 (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/makePromise.js:814:4)' ] } ]
[2016-09-10 15:58:31.833] [ INFO] console - [ 70, 1268, {}, [ undefined ] ]
[2016-09-10 15:58:31.845] [ INFO] console - Executing (default): delete from "Slovo"
                where
                    place_id<5
                    and value like '%temp'
[2016-09-10 15:58:31.853] [ INFO] console - Executing (default): delete from "Kopnik"
                where
                    name like '%temp'
[2016-09-10 15:58:31.860] [ INFO] console - Executing (default): update "Kopnik"
                set 
                    "voiskoSize"= case when id=2 then 1 ELSE 0 END
                where
                    id>1 
                    and id<=5
[2016-09-10 15:58:31.881] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopa', id: 3 }
[2016-09-10 15:58:31.885] [ INFO] console - Executing (5fba53ff-57f7-4712-ac84-2b3dd5b7ed39): START TRANSACTION;
[2016-09-10 15:58:31.887] [ INFO] console - Executing (5fba53ff-57f7-4712-ac84-2b3dd5b7ed39): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:58:31.903] [ INFO] console - Executing (default): SELECT "Kopa"."id", "Kopa"."question", "Kopa"."planned", "Kopa"."started", "Kopa"."closed", "Kopa"."isOpen", "Kopa"."note", "Kopa"."created_at", "Kopa"."updated_at", "Kopa"."deleted_at", "Kopa"."place_id", "Kopa"."inviter_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopa" AS "Kopa" LEFT OUTER JOIN "File" AS "attachments" ON "Kopa"."id" = "attachments"."kopa_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopa"."deleted_at" IS NULL AND "Kopa"."id" = 3);
[2016-09-10 15:58:31.908] [ INFO] console - Executing (5fba53ff-57f7-4712-ac84-2b3dd5b7ed39): COMMIT;
[2016-09-10 15:58:31.910] [ INFO] console - [ 70,
  1270,
  {},
  [ { id: '3',
      question: 'CHE',
      planned: Thu Sep 01 2016 00:00:00 GMT+0500 (YEKT),
      started: Thu Sep 01 2016 00:00:00 GMT+0500 (YEKT),
      closed: null,
      isOpen: false,
      note: null,
      created_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      deleted_at: null,
      place_id: '2',
      inviter_id: '2',
      attachments: [] } ] ]
[2016-09-10 15:58:31.928] [ INFO] console - Executing (a29162c0-6ba4-42a0-9b61-0382a8beeff6): START TRANSACTION;
[2016-09-10 15:58:31.930] [ INFO] console - Executing (a29162c0-6ba4-42a0-9b61-0382a8beeff6): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:58:31.935] [ INFO] console - Executing (default): INSERT INTO "Golos" ("id","value","created_at","updated_at","for_id","owner_id") VALUES (DEFAULT,1,'2016-09-10 10:58:31.932 +00:00','2016-09-10 10:58:31.932 +00:00',1,2) RETURNING *;
[2016-09-10 15:58:31.942] [ INFO] console - Executing (a29162c0-6ba4-42a0-9b61-0382a8beeff6): COMMIT;
[2016-09-10 15:58:31.943] [ INFO] console - [ 70, 1271, {}, [ '54' ] ]
[2016-09-10 15:58:31.948] [ INFO] console - [ 16,
  659892668989440,
  { acknowledge: true },
  'ru.kopa.model.Predlozhenie.id1.golosAdd',
  [ '54' ] ]
[2016-09-10 15:58:31.990] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopa', id: 3 }
[2016-09-10 15:58:31.996] [ INFO] console - Executing (10a33c1d-9091-43c6-a3ee-f0e070658b26): START TRANSACTION;
[2016-09-10 15:58:31.999] [ INFO] console - Executing (10a33c1d-9091-43c6-a3ee-f0e070658b26): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:58:32.012] [ INFO] console - Executing (default): SELECT "Kopa"."id", "Kopa"."question", "Kopa"."planned", "Kopa"."started", "Kopa"."closed", "Kopa"."isOpen", "Kopa"."note", "Kopa"."created_at", "Kopa"."updated_at", "Kopa"."deleted_at", "Kopa"."place_id", "Kopa"."inviter_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopa" AS "Kopa" LEFT OUTER JOIN "File" AS "attachments" ON "Kopa"."id" = "attachments"."kopa_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopa"."deleted_at" IS NULL AND "Kopa"."id" = 3);
[2016-09-10 15:58:32.018] [ INFO] console - Executing (10a33c1d-9091-43c6-a3ee-f0e070658b26): COMMIT;
[2016-09-10 15:58:32.019] [ INFO] console - [ 70,
  1273,
  {},
  [ { id: '3',
      question: 'CHE',
      planned: Thu Sep 01 2016 00:00:00 GMT+0500 (YEKT),
      started: Thu Sep 01 2016 00:00:00 GMT+0500 (YEKT),
      closed: null,
      isOpen: false,
      note: null,
      created_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      deleted_at: null,
      place_id: '2',
      inviter_id: '2',
      attachments: [] } ] ]
[2016-09-10 15:58:32.034] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 2 }
[2016-09-10 15:58:32.037] [ INFO] console - Executing (9f38b65c-b588-48d1-a8c5-34378e9ce749): START TRANSACTION;
[2016-09-10 15:58:32.038] [ INFO] console - Executing (9f38b65c-b588-48d1-a8c5-34378e9ce749): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:58:32.047] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 2);
[2016-09-10 15:58:32.054] [ INFO] console - Executing (9f38b65c-b588-48d1-a8c5-34378e9ce749): COMMIT;
[2016-09-10 15:58:32.058] [ INFO] console - [ 70,
  1274,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/2/',
      starshina: [Object],
      id: '2',
      email: 'unittest2@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '1',
      voiskoSize: 1,
      birth: 1983,
      path: '/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: null,
      attachments: [] } ] ]
[2016-09-10 15:58:32.071] [ INFO] console - Executing (aa06028b-12e2-456d-8f4c-609700b5a493): START TRANSACTION;
[2016-09-10 15:58:32.072] [ INFO] console - Executing (aa06028b-12e2-456d-8f4c-609700b5a493): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:58:32.076] [ INFO] console - Executing (default): INSERT INTO "Slovo" ("id","value","created_at","updated_at","owner_id","place_id") VALUES (DEFAULT,'some Slovo temp 1473505112068','2016-09-10 10:58:32.073 +00:00','2016-09-10 10:58:32.073 +00:00',2,3) RETURNING *;
[2016-09-10 15:58:32.081] [ INFO] console - Executing (aa06028b-12e2-456d-8f4c-609700b5a493): COMMIT;
[2016-09-10 15:58:32.082] [ INFO] console - [ 70, 1275, {}, [ '99' ] ]
[2016-09-10 15:58:32.085] [ INFO] console - [ 16,
  8278999249715200,
  { acknowledge: true },
  'ru.kopa.model.Kopa.id3.slovoAdd',
  [ '99' ] ]
[2016-09-10 15:58:32.102] [ INFO] console - Executing (d92c128a-7ebc-44aa-bab8-a479da836b2a): START TRANSACTION;
[2016-09-10 15:58:32.104] [ INFO] console - Executing (d92c128a-7ebc-44aa-bab8-a479da836b2a): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:58:32.109] [ INFO] console - Executing (default): INSERT INTO "Predlozhenie" ("id","value","created_at","updated_at","initiator_id","place_id") VALUES (DEFAULT,'some Predlozhenie temp 1473505112095','2016-09-10 10:58:32.106 +00:00','2016-09-10 10:58:32.106 +00:00',2,3) RETURNING *;
[2016-09-10 15:58:32.115] [ INFO] console - Executing (d92c128a-7ebc-44aa-bab8-a479da836b2a): COMMIT;
[2016-09-10 15:58:32.117] [ INFO] console - [ 70, 1276, {}, [ '54' ] ]
[2016-09-10 15:58:32.120] [ INFO] console - [ 16,
  2262327468490752,
  { acknowledge: true },
  'ru.kopa.model.Kopa.id3.predlozhenieAdd',
  [ '54' ] ]
[2016-09-10 15:58:32.146] [ INFO] console - [ 70, 1278, {}, [ undefined ] ]
[2016-09-10 15:58:32.148] [ INFO] console - Executing (default): delete from "Kopnik"
                where
                    name like '%temp'
[2016-09-10 15:58:32.151] [ INFO] console - Executing (default): update "Kopnik"
                set 
                    "voiskoSize"= case when id=2 then 1 ELSE 0 END
                where
                    id>1 
                    and id<=5
[2016-09-10 15:58:32.160] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 2 }
[2016-09-10 15:58:32.163] [ INFO] console - Executing (6d20b417-bffc-4a39-a7c4-5728fffc4976): START TRANSACTION;
[2016-09-10 15:58:32.164] [ INFO] console - Executing (6d20b417-bffc-4a39-a7c4-5728fffc4976): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:58:32.170] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 2);
[2016-09-10 15:58:32.175] [ INFO] console - Executing (6d20b417-bffc-4a39-a7c4-5728fffc4976): COMMIT;
[2016-09-10 15:58:32.177] [ INFO] console - [ 70,
  1279,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/2/',
      starshina: [Object],
      id: '2',
      email: 'unittest2@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '1',
      voiskoSize: 1,
      birth: 1983,
      path: '/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: null,
      attachments: [] } ] ]
[2016-09-10 15:58:32.189] [ INFO] console - Executing (5a3ccff1-ef06-4f76-b224-993282b45615): START TRANSACTION;
[2016-09-10 15:58:32.192] [ INFO] console - Executing (5a3ccff1-ef06-4f76-b224-993282b45615): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:58:32.198] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 2);
[2016-09-10 15:58:32.206] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"+1
                                where
                                    '/2/' like path||id||'/%'
[2016-09-10 15:58:32.216] [ INFO] console - Executing (default): INSERT INTO "Kopnik" ("id","name","surname","patronymic","voiskoSize","birth","path","created_at","updated_at","rodina_id","starshina_id") VALUES (DEFAULT,'temp','temp','temp',0,1900,'/2/','2016-09-10 10:58:32.193 +00:00','2016-09-10 10:58:32.193 +00:00',NULL,2) RETURNING *;
[2016-09-10 15:58:32.219] [ INFO] console - Executing (5a3ccff1-ef06-4f76-b224-993282b45615): COMMIT;
[2016-09-10 15:58:32.220] [ INFO] console - [ 70, 1280, {}, [ '169' ] ]
[2016-09-10 15:58:32.228] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Zemla', id: 2 }
[2016-09-10 15:58:32.233] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/' like k.path||k.id||'/%'
[2016-09-10 15:58:32.234] [ INFO] console - Executing (db0c08b1-c0fe-40a5-b21e-2d9c4c27ca52): START TRANSACTION;
[2016-09-10 15:58:32.239] [ INFO] console - Executing (5f4cd97f-abaa-43b9-bc9a-596786ad193d): START TRANSACTION;
[2016-09-10 15:58:32.240] [ INFO] console - Executing (db0c08b1-c0fe-40a5-b21e-2d9c4c27ca52): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:58:32.244] [ INFO] console - Executing (5f4cd97f-abaa-43b9-bc9a-596786ad193d): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:58:32.276] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 15:58:32.281] [ INFO] console - Executing (default): SELECT "Zemla"."id", "Zemla"."path", "Zemla"."name", "Zemla"."intensity", "Zemla"."note", "Zemla"."created_at", "Zemla"."updated_at", "Zemla"."deleted_at", "Zemla"."parent_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Zemla" AS "Zemla" LEFT OUTER JOIN "File" AS "attachments" ON "Zemla"."id" = "attachments"."zemla_id" AND "attachments"."deleted_at" IS NULL WHERE ("Zemla"."deleted_at" IS NULL AND "Zemla"."id" = 2);
[2016-09-10 15:58:32.288] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 169);
[2016-09-10 15:58:32.290] [ INFO] console - [ 16,
  3032569750749184,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id2.voiskoChange',
  [],
  { voiskoSize: 2 } ]
[2016-09-10 15:58:32.294] [ INFO] console - Executing (db0c08b1-c0fe-40a5-b21e-2d9c4c27ca52): COMMIT;
[2016-09-10 15:58:32.297] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"+1
                                where
                                    '/2/169/' like path||id||'/%'
[2016-09-10 15:58:32.298] [ INFO] console - [ 70,
  1281,
  {},
  [ { fullPath: 'null2/',
      id: '2',
      path: null,
      name: 'UnitTest2',
      intensity: 1000,
      note: 'unit test 1473505081405',
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Sat Sep 10 2016 15:58:03 GMT+0500 (YEKT),
      deleted_at: null,
      parent_id: '1',
      attachments: [] } ] ]
[2016-09-10 15:58:32.307] [ INFO] console - Executing (default): INSERT INTO "Kopnik" ("id","name","surname","patronymic","voiskoSize","birth","path","created_at","updated_at","rodina_id","starshina_id") VALUES (DEFAULT,'temp','temp','temp',0,1900,'/2/169/','2016-09-10 10:58:32.257 +00:00','2016-09-10 10:58:32.257 +00:00',NULL,169) RETURNING *;
[2016-09-10 15:58:32.312] [ INFO] console - Executing (5f4cd97f-abaa-43b9-bc9a-596786ad193d): COMMIT;
[2016-09-10 15:58:32.315] [ INFO] console - [ 70, 1282, {}, [ '170' ] ]
[2016-09-10 15:58:32.321] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/169/' like k.path||k.id||'/%'
[2016-09-10 15:58:32.335] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2', '169')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 15:58:32.339] [ INFO] console - [ 16,
  7641347045457920,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id169.voiskoChange',
  [],
  { voiskoSize: 1 } ]
[2016-09-10 15:58:32.345] [ INFO] console - [ 16,
  2779166606884864,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id2.voiskoChange',
  [],
  { voiskoSize: 3 } ]
[2016-09-10 15:59:55.637] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 4 }
[2016-09-10 15:59:55.647] [ INFO] console - Executing (18449b6d-c1f0-4b9c-a526-67c031fd53c0): START TRANSACTION;
[2016-09-10 15:59:55.648] [ INFO] console - Executing (18449b6d-c1f0-4b9c-a526-67c031fd53c0): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:59:55.660] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 4);
[2016-09-10 15:59:55.666] [ INFO] console - Executing (18449b6d-c1f0-4b9c-a526-67c031fd53c0): COMMIT;
[2016-09-10 15:59:55.667] [ INFO] console - [ 70,
  1283,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/4/',
      starshina: [Object],
      id: '4',
      email: 'unittest4@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '4',
      voiskoSize: 0,
      birth: 1983,
      path: '/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: null,
      attachments: [] } ] ]
[2016-09-10 15:59:55.678] [ INFO] console - Executing (217a579c-6643-4883-a082-ff539b9ed245): START TRANSACTION;
[2016-09-10 15:59:55.679] [ INFO] console - Executing (217a579c-6643-4883-a082-ff539b9ed245): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:59:55.684] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 169);
[2016-09-10 15:59:55.690] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 4);
[2016-09-10 15:59:55.694] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/' like k.path||k.id||'/%'
[2016-09-10 15:59:55.704] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 15:59:55.708] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"-2
                                where
                                    '/2/' like path||id||'/%'
[2016-09-10 15:59:55.715] [ INFO] console - Executing (default): UPDATE "Kopnik" SET "path"='/4/',"starshina_id"='4',"updated_at"='2016-09-10 10:59:55.709 +00:00' WHERE "id" = '169'
[2016-09-10 15:59:55.717] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"+2
                                where
                                    '/4/' like path||id||'/%'
[2016-09-10 15:59:55.721] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."starshina_id" = '169');
[2016-09-10 15:59:55.728] [ INFO] console - Executing (default): UPDATE "Kopnik" SET "path"='/4/169/',"updated_at"='2016-09-10 10:59:55.724 +00:00' WHERE "id" = '170'
[2016-09-10 15:59:55.730] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/4/' like k.path||k.id||'/%'
[2016-09-10 15:59:55.735] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('4')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 15:59:55.737] [ INFO] console - Executing (217a579c-6643-4883-a082-ff539b9ed245): COMMIT;
[2016-09-10 15:59:55.740] [ INFO] console - [ 70, 1284, {}, [ undefined ] ]
[2016-09-10 15:59:55.742] [ INFO] console - [ 16,
  4909020473196544,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id2.voiskoChange',
  [],
  { voiskoSize: 1 } ]
[2016-09-10 15:59:55.746] [ INFO] console - [ 16,
  8473892137992192,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id4.voiskoChange',
  [],
  { voiskoSize: 2 } ]
[2016-09-10 15:59:55.772] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopa', id: 3 }
[2016-09-10 15:59:55.775] [ INFO] console - Executing (759dbf3f-053e-42da-8130-bf961b9a8109): START TRANSACTION;
[2016-09-10 15:59:55.776] [ INFO] console - Executing (759dbf3f-053e-42da-8130-bf961b9a8109): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:59:55.782] [ INFO] console - Executing (default): SELECT "Kopa"."id", "Kopa"."question", "Kopa"."planned", "Kopa"."started", "Kopa"."closed", "Kopa"."isOpen", "Kopa"."note", "Kopa"."created_at", "Kopa"."updated_at", "Kopa"."deleted_at", "Kopa"."place_id", "Kopa"."inviter_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopa" AS "Kopa" LEFT OUTER JOIN "File" AS "attachments" ON "Kopa"."id" = "attachments"."kopa_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopa"."deleted_at" IS NULL AND "Kopa"."id" = 3);
[2016-09-10 15:59:55.786] [ INFO] console - Executing (759dbf3f-053e-42da-8130-bf961b9a8109): COMMIT;
[2016-09-10 15:59:55.788] [ INFO] console - [ 70,
  1286,
  {},
  [ { id: '3',
      question: 'CHE',
      planned: Thu Sep 01 2016 00:00:00 GMT+0500 (YEKT),
      started: Thu Sep 01 2016 00:00:00 GMT+0500 (YEKT),
      closed: null,
      isOpen: false,
      note: null,
      created_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      deleted_at: null,
      place_id: '2',
      inviter_id: '2',
      attachments: [] } ] ]
[2016-09-10 15:59:55.799] [ INFO] console - Executing (958ed4ea-cc2b-41b6-b259-ce2bfa209bf9): START TRANSACTION;
[2016-09-10 15:59:55.801] [ INFO] console - Executing (958ed4ea-cc2b-41b6-b259-ce2bfa209bf9): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:59:55.807] [ INFO] console - Executing (default): INSERT INTO "Predlozhenie" ("id","value","created_at","updated_at","initiator_id","place_id") VALUES (DEFAULT,'some Predlozhenie temp 1473505111525','2016-09-10 10:59:55.802 +00:00','2016-09-10 10:59:55.802 +00:00',2,3) RETURNING *;
[2016-09-10 15:59:55.810] [ INFO] console - Executing (958ed4ea-cc2b-41b6-b259-ce2bfa209bf9): COMMIT;
[2016-09-10 15:59:55.811] [ INFO] console - [ 70, 1287, {}, [ '55' ] ]
[2016-09-10 15:59:55.814] [ INFO] console - [ 16,
  3492389895274496,
  { acknowledge: true },
  'ru.kopa.model.Kopa.id3.predlozhenieAdd',
  [ '55' ] ]
[2016-09-10 15:59:55.820] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Predlozhenie', id: 1 }
[2016-09-10 15:59:55.823] [ INFO] console - Executing (cbb5640a-2d8b-4eee-ab44-2acf517b93ff): START TRANSACTION;
[2016-09-10 15:59:55.825] [ INFO] console - Executing (cbb5640a-2d8b-4eee-ab44-2acf517b93ff): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:59:55.830] [ INFO] console - Executing (default): SELECT "Predlozhenie"."id", "Predlozhenie"."value", "Predlozhenie"."note", "Predlozhenie"."created_at", "Predlozhenie"."updated_at", "Predlozhenie"."deleted_at", "Predlozhenie"."initiator_id", "Predlozhenie"."place_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Predlozhenie" AS "Predlozhenie" LEFT OUTER JOIN "File" AS "attachments" ON "Predlozhenie"."id" = "attachments"."predlozhenie_id" AND "attachments"."deleted_at" IS NULL WHERE ("Predlozhenie"."deleted_at" IS NULL AND "Predlozhenie"."id" = 1);
[2016-09-10 15:59:55.834] [ INFO] console - Executing (cbb5640a-2d8b-4eee-ab44-2acf517b93ff): COMMIT;
[2016-09-10 15:59:55.835] [ INFO] console - [ 70,
  1288,
  {},
  [ { id: '1',
      value: 'Будет ...',
      note: null,
      created_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      deleted_at: null,
      initiator_id: '2',
      place_id: '3',
      attachments: [] } ] ]
[2016-09-10 15:59:55.856] [ INFO] console - Executing (5f279d5a-05e7-476d-8609-bc096deadd16): START TRANSACTION;
[2016-09-10 15:59:55.858] [ INFO] console - Executing (5f279d5a-05e7-476d-8609-bc096deadd16): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:59:55.864] [ INFO] console - Executing (default): INSERT INTO "Golos" ("id","value","created_at","updated_at","for_id","owner_id") VALUES (DEFAULT,1,'2016-09-10 10:59:55.859 +00:00','2016-09-10 10:59:55.859 +00:00',1,2) RETURNING *;
[2016-09-10 15:59:55.872] [ INFO] console - Executing (5f279d5a-05e7-476d-8609-bc096deadd16): COMMIT;
[2016-09-10 15:59:55.873] [ INFO] console - [ 70, 1289, {}, [ '55' ] ]
[2016-09-10 15:59:55.876] [ INFO] console - [ 16,
  281444851122176,
  { acknowledge: true },
  'ru.kopa.model.Predlozhenie.id1.golosAdd',
  [ '55' ] ]
[2016-09-10 15:59:55.910] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 2 }
[2016-09-10 15:59:55.913] [ INFO] console - Executing (eb186367-576e-4459-a0c0-20d0482f2d16): START TRANSACTION;
[2016-09-10 15:59:55.914] [ INFO] console - Executing (eb186367-576e-4459-a0c0-20d0482f2d16): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:59:55.920] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 2);
[2016-09-10 15:59:55.925] [ INFO] console - Executing (eb186367-576e-4459-a0c0-20d0482f2d16): COMMIT;
[2016-09-10 15:59:55.926] [ INFO] console - [ 70,
  1291,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/2/',
      starshina: [Object],
      id: '2',
      email: 'unittest2@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '1',
      voiskoSize: 1,
      birth: 1983,
      path: '/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: null,
      attachments: [] } ] ]
[2016-09-10 15:59:55.939] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 3 }
[2016-09-10 15:59:55.942] [ INFO] console - Executing (437d852b-1bb1-40be-8791-892f99c94261): START TRANSACTION;
[2016-09-10 15:59:55.943] [ INFO] console - Executing (437d852b-1bb1-40be-8791-892f99c94261): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:59:55.949] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 3);
[2016-09-10 15:59:55.954] [ INFO] console - Executing (437d852b-1bb1-40be-8791-892f99c94261): COMMIT;
[2016-09-10 15:59:55.955] [ INFO] console - [ 70,
  1292,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/2/3/',
      starshina: [Object],
      id: '3',
      email: 'unittest3@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '3',
      voiskoSize: 0,
      birth: 1983,
      path: '/2/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: '2',
      attachments: [] } ] ]
[2016-09-10 15:59:55.968] [ INFO] console - Executing (59aff63f-79ac-4809-9e33-d4440ace695f): START TRANSACTION;
[2016-09-10 15:59:55.969] [ INFO] console - Executing (59aff63f-79ac-4809-9e33-d4440ace695f): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:59:55.974] [ INFO] console - Executing (default): INSERT INTO "Slovo" ("id","value","note","created_at","updated_at","owner_id","place_id") VALUES (DEFAULT,'123 temp','456','2016-09-10 10:59:55.971 +00:00','2016-09-10 10:59:55.971 +00:00',2,3) RETURNING *;
[2016-09-10 15:59:55.978] [ INFO] console - Executing (59aff63f-79ac-4809-9e33-d4440ace695f): COMMIT;
[2016-09-10 15:59:55.979] [ INFO] console - [ 70, 1293, {}, [ '100' ] ]
[2016-09-10 15:59:55.982] [ INFO] console - [ 16,
  829078064070656,
  { acknowledge: true },
  'ru.kopa.model.Kopa.id3.slovoAdd',
  [ '100' ] ]
[2016-09-10 15:59:55.988] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Slovo', id: 100 }
[2016-09-10 15:59:55.990] [ INFO] console - Executing (a8f353f6-9205-4f84-9c6e-2507262d6f19): START TRANSACTION;
[2016-09-10 15:59:55.991] [ INFO] console - Executing (a8f353f6-9205-4f84-9c6e-2507262d6f19): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:59:55.998] [ INFO] console - Executing (default): SELECT "Slovo"."id", "Slovo"."value", "Slovo"."note", "Slovo"."created_at", "Slovo"."updated_at", "Slovo"."deleted_at", "Slovo"."owner_id", "Slovo"."place_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Slovo" AS "Slovo" LEFT OUTER JOIN "File" AS "attachments" ON "Slovo"."id" = "attachments"."slovo_id" AND "attachments"."deleted_at" IS NULL WHERE ("Slovo"."deleted_at" IS NULL AND "Slovo"."id" = 100);
[2016-09-10 15:59:56.002] [ INFO] console - Executing (a8f353f6-9205-4f84-9c6e-2507262d6f19): COMMIT;
[2016-09-10 15:59:56.003] [ INFO] console - [ 70,
  1294,
  {},
  [ { id: '100',
      value: '123 temp',
      note: '456',
      created_at: Sat Sep 10 2016 15:59:55 GMT+0500 (YEKT),
      updated_at: Sat Sep 10 2016 15:59:55 GMT+0500 (YEKT),
      deleted_at: null,
      owner_id: '2',
      place_id: '3',
      attachments: [] } ] ]
[2016-09-10 15:59:56.015] [ INFO] console - Executing (6787c04c-a54d-4659-bed8-f0e6af7aa0c3): START TRANSACTION;
[2016-09-10 15:59:56.017] [ INFO] console - Executing (6787c04c-a54d-4659-bed8-f0e6af7aa0c3): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:59:56.023] [ INFO] console - Executing (default): INSERT INTO "Slovo" ("id","value","created_at","updated_at","owner_id","place_id") VALUES (DEFAULT,'some value temp 1473505196009','2016-09-10 10:59:56.018 +00:00','2016-09-10 10:59:56.018 +00:00',2,3) RETURNING *;
[2016-09-10 15:59:56.026] [ INFO] console - Executing (6787c04c-a54d-4659-bed8-f0e6af7aa0c3): COMMIT;
[2016-09-10 15:59:56.027] [ INFO] console - [ 70, 1295, {}, [ '101' ] ]
[2016-09-10 15:59:56.030] [ INFO] console - [ 16,
  6448500483031040,
  { acknowledge: true },
  'ru.kopa.model.Kopa.id3.slovoAdd',
  [ '101' ] ]
[2016-09-10 15:59:56.040] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Zemla', id: 2 }
[2016-09-10 15:59:56.054] [ INFO] console - Executing (6dbb3f44-ac1a-4117-9ac8-9546254d0873): START TRANSACTION;
[2016-09-10 15:59:56.055] [ INFO] console - Executing (6dbb3f44-ac1a-4117-9ac8-9546254d0873): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:59:56.072] [ INFO] console - Executing (default): SELECT "Zemla"."id", "Zemla"."path", "Zemla"."name", "Zemla"."intensity", "Zemla"."note", "Zemla"."created_at", "Zemla"."updated_at", "Zemla"."deleted_at", "Zemla"."parent_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Zemla" AS "Zemla" LEFT OUTER JOIN "File" AS "attachments" ON "Zemla"."id" = "attachments"."zemla_id" AND "attachments"."deleted_at" IS NULL WHERE ("Zemla"."deleted_at" IS NULL AND "Zemla"."id" = 2);
[2016-09-10 15:59:56.079] [ INFO] console - Executing (6dbb3f44-ac1a-4117-9ac8-9546254d0873): COMMIT;
[2016-09-10 15:59:56.082] [ INFO] console - [ 70,
  1296,
  {},
  [ { fullPath: 'null2/',
      id: '2',
      path: null,
      name: 'UnitTest2',
      intensity: 1000,
      note: 'unit test 1473505081405',
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Sat Sep 10 2016 15:58:03 GMT+0500 (YEKT),
      deleted_at: null,
      parent_id: '1',
      attachments: [] } ] ]
[2016-09-10 15:59:56.098] [ INFO] console - Executing (e93d3e27-1207-4dc0-89bf-e4d64e40281f): START TRANSACTION;
[2016-09-10 15:59:56.106] [ INFO] console - Executing (e93d3e27-1207-4dc0-89bf-e4d64e40281f): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:59:56.112] [ INFO] console - Executing (default): SELECT "id", "path", "name", "intensity", "note", "created_at", "updated_at", "deleted_at", "parent_id" FROM "Zemla" AS "Zemla" WHERE ("Zemla"."deleted_at" IS NULL AND "Zemla"."id" = 2);
[2016-09-10 15:59:56.120] [ INFO] console - Executing (default): UPDATE "Zemla" SET "parent_id"=1,"note"='unit test 1473505111569',"updated_at"='2016-09-10 10:59:56.115 +00:00' WHERE "id" = '2'
[2016-09-10 15:59:56.128] [ INFO] console - Executing (e93d3e27-1207-4dc0-89bf-e4d64e40281f): COMMIT;
[2016-09-10 15:59:56.129] [ INFO] console - [ 16,
  764802108489728,
  { acknowledge: true },
  'ru.kopa.model.Zemla.id2.change' ]
[2016-09-10 15:59:56.135] [ INFO] console - [ 70, 1297, {}, [ undefined ] ]
[2016-09-10 15:59:56.140] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Zemla', id: 2 }
[2016-09-10 15:59:56.143] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Zemla', id: 2 }
[2016-09-10 15:59:56.148] [ INFO] console - Executing (f49d5942-7656-48b3-af34-95833d7da4c2): START TRANSACTION;
[2016-09-10 15:59:56.149] [ INFO] console - Executing (fd6297ed-0122-4ef2-969b-c5b59a64e39f): START TRANSACTION;
[2016-09-10 15:59:56.151] [ INFO] console - Executing (f49d5942-7656-48b3-af34-95833d7da4c2): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:59:56.153] [ INFO] console - Executing (fd6297ed-0122-4ef2-969b-c5b59a64e39f): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 15:59:56.175] [ INFO] console - Executing (default): SELECT "Zemla"."id", "Zemla"."path", "Zemla"."name", "Zemla"."intensity", "Zemla"."note", "Zemla"."created_at", "Zemla"."updated_at", "Zemla"."deleted_at", "Zemla"."parent_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Zemla" AS "Zemla" LEFT OUTER JOIN "File" AS "attachments" ON "Zemla"."id" = "attachments"."zemla_id" AND "attachments"."deleted_at" IS NULL WHERE ("Zemla"."deleted_at" IS NULL AND "Zemla"."id" = 2);
[2016-09-10 15:59:56.176] [ INFO] console - Executing (default): SELECT "Zemla"."id", "Zemla"."path", "Zemla"."name", "Zemla"."intensity", "Zemla"."note", "Zemla"."created_at", "Zemla"."updated_at", "Zemla"."deleted_at", "Zemla"."parent_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Zemla" AS "Zemla" LEFT OUTER JOIN "File" AS "attachments" ON "Zemla"."id" = "attachments"."zemla_id" AND "attachments"."deleted_at" IS NULL WHERE ("Zemla"."deleted_at" IS NULL AND "Zemla"."id" = 2);
[2016-09-10 15:59:56.186] [ INFO] console - Executing (fd6297ed-0122-4ef2-969b-c5b59a64e39f): COMMIT;
[2016-09-10 15:59:56.188] [ INFO] console - Executing (f49d5942-7656-48b3-af34-95833d7da4c2): COMMIT;
[2016-09-10 15:59:56.189] [ INFO] console - [ 70,
  1299,
  {},
  [ { fullPath: 'null2/',
      id: '2',
      path: null,
      name: 'UnitTest2',
      intensity: 1000,
      note: 'unit test 1473505111569',
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Sat Sep 10 2016 15:59:56 GMT+0500 (YEKT),
      deleted_at: null,
      parent_id: '1',
      attachments: [] } ] ]
[2016-09-10 15:59:56.195] [ INFO] console - [ 70,
  1298,
  {},
  [ { fullPath: 'null2/',
      id: '2',
      path: null,
      name: 'UnitTest2',
      intensity: 1000,
      note: 'unit test 1473505111569',
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Sat Sep 10 2016 15:59:56 GMT+0500 (YEKT),
      deleted_at: null,
      parent_id: '1',
      attachments: [] } ] ]
[2016-09-10 16:00:01.259] [ INFO] console - [ 70, 1301, {}, [ 'unittest2@domain.ru' ] ]
[2016-09-10 16:00:01.266] [DEBUG] Server - #pingPong() [ 1, 2, 3 ] { x: 1, y: 2, z: 3 }
[2016-09-10 16:00:01.268] [ INFO] console - [ 70, 1302, {}, [ 1, 2, 3 ], { x: 1, y: 2, z: 3 } ]
[2016-09-10 16:00:01.278] [ INFO] console - Executing (default): select 'КОПА' as result
[2016-09-10 16:00:01.284] [ INFO] console - [ 70, 1303, {}, [ 'КОПА' ] ]
[2016-09-10 16:00:01.291] [DEBUG] Server - #error() [ 'sadkljfaskldjfs;af' ] {}
[2016-09-10 16:00:01.301] [ERROR] Server - [Error: sadkljfaskldjfs;af]
Error: sadkljfaskldjfs;af
    at MySuperError (Server.js:339:9)
    at fn.constructor.error.Error (Server.js:344:19)
    at new wrappedPromise (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/async-listener/index.js:372:16)
    at Server.error (Server.js:343:16)
    at Object.<anonymous> (Server.js:415:43)
    at [object Generator].next (native)
    at step (/home/alexey2baranov/htdocs/kp-sequelizejs/src/Server.js:1:253)
    at /home/alexey2baranov/htdocs/kp-sequelizejs/src/Server.js:1:513
    at new wrappedPromise (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/async-listener/index.js:372:16)
    at Object.<anonymous> (/home/alexey2baranov/htdocs/kp-sequelizejs/src/Server.js:1:161)
    at Object.<anonymous> (Server.js:412:28)
    at tryCatchResolve (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/apply.js:46:23)
    at callAndResolve (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/apply.js:30:12)
    at callAndResolveNext (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/apply.js:40:4)
    at tryCatchReject3 (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/makePromise.js:856:7)
    at runContinuation3 (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/makePromise.js:814:4)
[2016-09-10 16:00:01.305] [ INFO] console - [ 8,
  68,
  1304,
  {},
  'MySuperError',
  [ 'sadkljfaskldjfs;af' ],
  { stack: 
     [ 'Error: sadkljfaskldjfs;af',
       '    at MySuperError (Server.js:339:9)',
       '    at fn.constructor.error.Error (Server.js:344:19)',
       '    at new wrappedPromise (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/async-listener/index.js:372:16)',
       '    at Server.error (Server.js:343:16)',
       '    at Object.<anonymous> (Server.js:415:43)',
       '    at [object Generator].next (native)',
       '    at step (/home/alexey2baranov/htdocs/kp-sequelizejs/src/Server.js:1:253)',
       '    at /home/alexey2baranov/htdocs/kp-sequelizejs/src/Server.js:1:513',
       '    at new wrappedPromise (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/async-listener/index.js:372:16)',
       '    at Object.<anonymous> (/home/alexey2baranov/htdocs/kp-sequelizejs/src/Server.js:1:161)',
       '    at Object.<anonymous> (Server.js:412:28)',
       '    at tryCatchResolve (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/apply.js:46:23)',
       '    at callAndResolve (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/apply.js:30:12)',
       '    at callAndResolveNext (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/apply.js:40:4)',
       '    at tryCatchReject3 (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/makePromise.js:856:7)',
       '    at runContinuation3 (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/makePromise.js:814:4)' ] } ]
[2016-09-10 16:00:01.315] [ INFO] console - [ 70, 1305, {}, [ undefined ] ]
[2016-09-10 16:00:01.319] [ INFO] console - Executing (default): delete from "Slovo"
                where
                    place_id<5
                    and value like '%temp'
[2016-09-10 16:00:01.324] [ INFO] console - Executing (default): delete from "Kopnik"
                where
                    name like '%temp'
[2016-09-10 16:00:01.328] [ INFO] console - Executing (default): update "Kopnik"
                set 
                    "voiskoSize"= case when id=2 then 1 ELSE 0 END
                where
                    id>1 
                    and id<=5
[2016-09-10 16:00:01.366] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopa', id: 3 }
[2016-09-10 16:00:01.370] [ INFO] console - Executing (49e74642-8593-44ba-8e2e-8a5f50e149e4): START TRANSACTION;
[2016-09-10 16:00:01.372] [ INFO] console - Executing (49e74642-8593-44ba-8e2e-8a5f50e149e4): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 16:00:01.380] [ INFO] console - Executing (default): SELECT "Kopa"."id", "Kopa"."question", "Kopa"."planned", "Kopa"."started", "Kopa"."closed", "Kopa"."isOpen", "Kopa"."note", "Kopa"."created_at", "Kopa"."updated_at", "Kopa"."deleted_at", "Kopa"."place_id", "Kopa"."inviter_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopa" AS "Kopa" LEFT OUTER JOIN "File" AS "attachments" ON "Kopa"."id" = "attachments"."kopa_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopa"."deleted_at" IS NULL AND "Kopa"."id" = 3);
[2016-09-10 16:00:01.385] [ INFO] console - Executing (49e74642-8593-44ba-8e2e-8a5f50e149e4): COMMIT;
[2016-09-10 16:00:01.387] [ INFO] console - [ 70,
  1307,
  {},
  [ { id: '3',
      question: 'CHE',
      planned: Thu Sep 01 2016 00:00:00 GMT+0500 (YEKT),
      started: Thu Sep 01 2016 00:00:00 GMT+0500 (YEKT),
      closed: null,
      isOpen: false,
      note: null,
      created_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      deleted_at: null,
      place_id: '2',
      inviter_id: '2',
      attachments: [] } ] ]
[2016-09-10 16:00:01.399] [ INFO] console - Executing (63dceab3-22c7-439c-8be6-7426a091c9e5): START TRANSACTION;
[2016-09-10 16:00:01.401] [ INFO] console - Executing (63dceab3-22c7-439c-8be6-7426a091c9e5): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 16:00:01.407] [ INFO] console - Executing (default): INSERT INTO "Golos" ("id","value","created_at","updated_at","for_id","owner_id") VALUES (DEFAULT,1,'2016-09-10 11:00:01.404 +00:00','2016-09-10 11:00:01.404 +00:00',1,2) RETURNING *;
[2016-09-10 16:00:01.411] [ INFO] console - Executing (63dceab3-22c7-439c-8be6-7426a091c9e5): COMMIT;
[2016-09-10 16:00:01.412] [ INFO] console - [ 70, 1308, {}, [ '56' ] ]
[2016-09-10 16:00:01.415] [ INFO] console - [ 16,
  4542131471384576,
  { acknowledge: true },
  'ru.kopa.model.Predlozhenie.id1.golosAdd',
  [ '56' ] ]
[2016-09-10 16:00:01.465] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopa', id: 3 }
[2016-09-10 16:00:01.469] [ INFO] console - Executing (924bb77e-5668-45ea-99cf-4dcc09a3f7a7): START TRANSACTION;
[2016-09-10 16:00:01.470] [ INFO] console - Executing (924bb77e-5668-45ea-99cf-4dcc09a3f7a7): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 16:00:01.480] [ INFO] console - Executing (default): SELECT "Kopa"."id", "Kopa"."question", "Kopa"."planned", "Kopa"."started", "Kopa"."closed", "Kopa"."isOpen", "Kopa"."note", "Kopa"."created_at", "Kopa"."updated_at", "Kopa"."deleted_at", "Kopa"."place_id", "Kopa"."inviter_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopa" AS "Kopa" LEFT OUTER JOIN "File" AS "attachments" ON "Kopa"."id" = "attachments"."kopa_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopa"."deleted_at" IS NULL AND "Kopa"."id" = 3);
[2016-09-10 16:00:01.489] [ INFO] console - Executing (924bb77e-5668-45ea-99cf-4dcc09a3f7a7): COMMIT;
[2016-09-10 16:00:01.492] [ INFO] console - [ 70,
  1310,
  {},
  [ { id: '3',
      question: 'CHE',
      planned: Thu Sep 01 2016 00:00:00 GMT+0500 (YEKT),
      started: Thu Sep 01 2016 00:00:00 GMT+0500 (YEKT),
      closed: null,
      isOpen: false,
      note: null,
      created_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      deleted_at: null,
      place_id: '2',
      inviter_id: '2',
      attachments: [] } ] ]
[2016-09-10 16:00:01.504] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 2 }
[2016-09-10 16:00:01.511] [ INFO] console - Executing (6b047ff4-0331-4e4b-a1f4-7affb59b6ea8): START TRANSACTION;
[2016-09-10 16:00:01.512] [ INFO] console - Executing (6b047ff4-0331-4e4b-a1f4-7affb59b6ea8): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 16:00:01.522] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 2);
[2016-09-10 16:00:01.527] [ INFO] console - Executing (6b047ff4-0331-4e4b-a1f4-7affb59b6ea8): COMMIT;
[2016-09-10 16:00:01.529] [ INFO] console - [ 70,
  1311,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/2/',
      starshina: [Object],
      id: '2',
      email: 'unittest2@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '1',
      voiskoSize: 1,
      birth: 1983,
      path: '/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: null,
      attachments: [] } ] ]
[2016-09-10 16:00:01.541] [ INFO] console - Executing (13d959f2-99a3-4322-95e6-0dfaa87cab91): START TRANSACTION;
[2016-09-10 16:00:01.543] [ INFO] console - Executing (13d959f2-99a3-4322-95e6-0dfaa87cab91): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 16:00:01.551] [ INFO] console - Executing (default): INSERT INTO "Slovo" ("id","value","created_at","updated_at","owner_id","place_id") VALUES (DEFAULT,'some Slovo temp 1473505201538','2016-09-10 11:00:01.546 +00:00','2016-09-10 11:00:01.546 +00:00',2,3) RETURNING *;
[2016-09-10 16:00:01.554] [ INFO] console - Executing (13d959f2-99a3-4322-95e6-0dfaa87cab91): COMMIT;
[2016-09-10 16:00:01.555] [ INFO] console - [ 70, 1312, {}, [ '102' ] ]
[2016-09-10 16:00:01.562] [ INFO] console - [ 16,
  8294139384823808,
  { acknowledge: true },
  'ru.kopa.model.Kopa.id3.slovoAdd',
  [ '102' ] ]
[2016-09-10 16:00:01.572] [ INFO] console - Executing (5ebc3bc7-9c21-4b81-82cf-199ce972c8fd): START TRANSACTION;
[2016-09-10 16:00:01.573] [ INFO] console - Executing (5ebc3bc7-9c21-4b81-82cf-199ce972c8fd): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 16:00:01.577] [ INFO] console - Executing (default): INSERT INTO "Predlozhenie" ("id","value","created_at","updated_at","initiator_id","place_id") VALUES (DEFAULT,'some Predlozhenie temp 1473505201568','2016-09-10 11:00:01.574 +00:00','2016-09-10 11:00:01.574 +00:00',2,3) RETURNING *;
[2016-09-10 16:00:01.580] [ INFO] console - Executing (5ebc3bc7-9c21-4b81-82cf-199ce972c8fd): COMMIT;
[2016-09-10 16:00:01.582] [ INFO] console - [ 70, 1313, {}, [ '56' ] ]
[2016-09-10 16:00:01.587] [ INFO] console - [ 16,
  8090933992095744,
  { acknowledge: true },
  'ru.kopa.model.Kopa.id3.predlozhenieAdd',
  [ '56' ] ]
[2016-09-10 16:00:01.609] [ INFO] console - [ 70, 1315, {}, [ undefined ] ]
[2016-09-10 16:00:01.613] [ INFO] console - Executing (default): delete from "Kopnik"
                where
                    name like '%temp'
[2016-09-10 16:00:01.619] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 2 }
[2016-09-10 16:00:01.625] [ INFO] console - Executing (default): update "Kopnik"
                set 
                    "voiskoSize"= case when id=2 then 1 ELSE 0 END
                where
                    id>1 
                    and id<=5
[2016-09-10 16:00:01.627] [ INFO] console - Executing (896ba1b0-cba8-4478-971d-6ed5c6eb8a3b): START TRANSACTION;
[2016-09-10 16:00:01.629] [ INFO] console - Executing (896ba1b0-cba8-4478-971d-6ed5c6eb8a3b): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 16:00:01.637] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 2);
[2016-09-10 16:00:01.641] [ INFO] console - Executing (896ba1b0-cba8-4478-971d-6ed5c6eb8a3b): COMMIT;
[2016-09-10 16:00:01.642] [ INFO] console - [ 70,
  1316,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/2/',
      starshina: [Object],
      id: '2',
      email: 'unittest2@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '1',
      voiskoSize: 1,
      birth: 1983,
      path: '/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: null,
      attachments: [] } ] ]
[2016-09-10 16:00:01.653] [ INFO] console - Executing (e247a7c4-3a33-4307-8ad6-dbb4aa95cf0e): START TRANSACTION;
[2016-09-10 16:00:01.655] [ INFO] console - Executing (e247a7c4-3a33-4307-8ad6-dbb4aa95cf0e): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 16:00:01.661] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 2);
[2016-09-10 16:00:01.665] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"+1
                                where
                                    '/2/' like path||id||'/%'
[2016-09-10 16:00:01.671] [ INFO] console - Executing (default): INSERT INTO "Kopnik" ("id","name","surname","patronymic","voiskoSize","birth","path","created_at","updated_at","rodina_id","starshina_id") VALUES (DEFAULT,'temp','temp','temp',0,1900,'/2/','2016-09-10 11:00:01.657 +00:00','2016-09-10 11:00:01.657 +00:00',NULL,2) RETURNING *;
[2016-09-10 16:00:01.675] [ INFO] console - Executing (e247a7c4-3a33-4307-8ad6-dbb4aa95cf0e): COMMIT;
[2016-09-10 16:00:01.677] [ INFO] console - [ 70, 1317, {}, [ '171' ] ]
[2016-09-10 16:00:01.686] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Zemla', id: 2 }
[2016-09-10 16:00:01.689] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/' like k.path||k.id||'/%'
[2016-09-10 16:00:01.690] [ INFO] console - Executing (eecee155-d67f-4f6a-b924-04675a3fbe47): START TRANSACTION;
[2016-09-10 16:00:01.691] [ INFO] console - Executing (e8f66b30-d16d-447c-b7ee-2cda41db0b8b): START TRANSACTION;
[2016-09-10 16:00:01.693] [ INFO] console - Executing (eecee155-d67f-4f6a-b924-04675a3fbe47): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 16:00:01.695] [ INFO] console - Executing (e8f66b30-d16d-447c-b7ee-2cda41db0b8b): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 16:00:01.708] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 16:00:01.709] [ INFO] console - Executing (default): SELECT "Zemla"."id", "Zemla"."path", "Zemla"."name", "Zemla"."intensity", "Zemla"."note", "Zemla"."created_at", "Zemla"."updated_at", "Zemla"."deleted_at", "Zemla"."parent_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Zemla" AS "Zemla" LEFT OUTER JOIN "File" AS "attachments" ON "Zemla"."id" = "attachments"."zemla_id" AND "attachments"."deleted_at" IS NULL WHERE ("Zemla"."deleted_at" IS NULL AND "Zemla"."id" = 2);
[2016-09-10 16:00:01.724] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 171);
[2016-09-10 16:00:01.729] [ INFO] console - [ 16,
  7368724755513344,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id2.voiskoChange',
  [],
  { voiskoSize: 2 } ]
[2016-09-10 16:00:01.739] [ INFO] console - Executing (eecee155-d67f-4f6a-b924-04675a3fbe47): COMMIT;
[2016-09-10 16:00:01.750] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"+1
                                where
                                    '/2/171/' like path||id||'/%'
[2016-09-10 16:00:01.751] [ INFO] console - [ 70,
  1318,
  {},
  [ { fullPath: 'null2/',
      id: '2',
      path: null,
      name: 'UnitTest2',
      intensity: 1000,
      note: 'unit test 1473505111569',
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Sat Sep 10 2016 15:59:56 GMT+0500 (YEKT),
      deleted_at: null,
      parent_id: '1',
      attachments: [] } ] ]
[2016-09-10 16:00:01.778] [ INFO] console - Executing (default): INSERT INTO "Kopnik" ("id","name","surname","patronymic","voiskoSize","birth","path","created_at","updated_at","rodina_id","starshina_id") VALUES (DEFAULT,'temp','temp','temp',0,1900,'/2/171/','2016-09-10 11:00:01.700 +00:00','2016-09-10 11:00:01.700 +00:00',NULL,171) RETURNING *;
[2016-09-10 16:00:01.783] [ INFO] console - Executing (e8f66b30-d16d-447c-b7ee-2cda41db0b8b): COMMIT;
[2016-09-10 16:00:01.785] [ INFO] console - [ 70, 1319, {}, [ '172' ] ]
[2016-09-10 16:00:01.797] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/171/' like k.path||k.id||'/%'
[2016-09-10 16:00:01.804] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2', '171')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 16:00:01.808] [ INFO] console - [ 16,
  6444119951933440,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id171.voiskoChange',
  [],
  { voiskoSize: 1 } ]
[2016-09-10 16:00:01.817] [ INFO] console - [ 16,
  7964208459153408,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id2.voiskoChange',
  [],
  { voiskoSize: 3 } ]
[2016-09-10 16:02:02.303] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 4 }
[2016-09-10 16:02:02.318] [ INFO] console - Executing (4712f968-1da3-432d-896a-c383f9e6b36d): START TRANSACTION;
[2016-09-10 16:02:02.324] [ INFO] console - Executing (4712f968-1da3-432d-896a-c383f9e6b36d): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 16:02:02.382] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 4);
[2016-09-10 16:02:02.400] [ INFO] console - Executing (4712f968-1da3-432d-896a-c383f9e6b36d): COMMIT;
[2016-09-10 16:02:02.402] [ INFO] console - [ 70,
  1320,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/4/',
      starshina: [Object],
      id: '4',
      email: 'unittest4@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '4',
      voiskoSize: 0,
      birth: 1983,
      path: '/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: null,
      attachments: [] } ] ]
[2016-09-10 16:02:06.412] [ INFO] console - [ 70, 1322, {}, [ 'unittest2@domain.ru' ] ]
[2016-09-10 16:02:06.429] [DEBUG] Server - #pingPong() [ 1, 2, 3 ] { x: 1, y: 2, z: 3 }
[2016-09-10 16:02:06.431] [ INFO] console - [ 70, 1323, {}, [ 1, 2, 3 ], { x: 1, y: 2, z: 3 } ]
[2016-09-10 16:02:06.449] [ INFO] console - Executing (default): select 'КОПА' as result
[2016-09-10 16:02:06.456] [ INFO] console - [ 70, 1324, {}, [ 'КОПА' ] ]
[2016-09-10 16:02:06.468] [DEBUG] Server - #error() [ 'sadkljfaskldjfs;af' ] {}
[2016-09-10 16:02:06.471] [ERROR] Server - [Error: sadkljfaskldjfs;af]
Error: sadkljfaskldjfs;af
    at MySuperError (Server.js:339:9)
    at fn.constructor.error.Error (Server.js:344:19)
    at new wrappedPromise (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/async-listener/index.js:372:16)
    at Server.error (Server.js:343:16)
    at Object.<anonymous> (Server.js:415:43)
    at [object Generator].next (native)
    at step (/home/alexey2baranov/htdocs/kp-sequelizejs/src/Server.js:1:253)
    at /home/alexey2baranov/htdocs/kp-sequelizejs/src/Server.js:1:513
    at new wrappedPromise (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/async-listener/index.js:372:16)
    at Object.<anonymous> (/home/alexey2baranov/htdocs/kp-sequelizejs/src/Server.js:1:161)
    at Object.<anonymous> (Server.js:412:28)
    at tryCatchResolve (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/apply.js:46:23)
    at callAndResolve (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/apply.js:30:12)
    at callAndResolveNext (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/apply.js:40:4)
    at tryCatchReject3 (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/makePromise.js:856:7)
    at runContinuation3 (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/makePromise.js:814:4)
[2016-09-10 16:02:06.488] [ INFO] console - [ 8,
  68,
  1325,
  {},
  'MySuperError',
  [ 'sadkljfaskldjfs;af' ],
  { stack: 
     [ 'Error: sadkljfaskldjfs;af',
       '    at MySuperError (Server.js:339:9)',
       '    at fn.constructor.error.Error (Server.js:344:19)',
       '    at new wrappedPromise (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/async-listener/index.js:372:16)',
       '    at Server.error (Server.js:343:16)',
       '    at Object.<anonymous> (Server.js:415:43)',
       '    at [object Generator].next (native)',
       '    at step (/home/alexey2baranov/htdocs/kp-sequelizejs/src/Server.js:1:253)',
       '    at /home/alexey2baranov/htdocs/kp-sequelizejs/src/Server.js:1:513',
       '    at new wrappedPromise (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/async-listener/index.js:372:16)',
       '    at Object.<anonymous> (/home/alexey2baranov/htdocs/kp-sequelizejs/src/Server.js:1:161)',
       '    at Object.<anonymous> (Server.js:412:28)',
       '    at tryCatchResolve (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/apply.js:46:23)',
       '    at callAndResolve (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/apply.js:30:12)',
       '    at callAndResolveNext (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/apply.js:40:4)',
       '    at tryCatchReject3 (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/makePromise.js:856:7)',
       '    at runContinuation3 (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/makePromise.js:814:4)' ] } ]
[2016-09-10 16:02:06.507] [ INFO] console - [ 70, 1326, {}, [ undefined ] ]
[2016-09-10 16:02:06.523] [ INFO] console - Executing (default): delete from "Slovo"
                where
                    place_id<5
                    and value like '%temp'
[2016-09-10 16:02:06.535] [ INFO] console - Executing (default): delete from "Kopnik"
                where
                    name like '%temp'
[2016-09-10 16:02:06.542] [ INFO] console - Executing (default): update "Kopnik"
                set 
                    "voiskoSize"= case when id=2 then 1 ELSE 0 END
                where
                    id>1 
                    and id<=5
[2016-09-10 16:02:06.565] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopa', id: 3 }
[2016-09-10 16:02:06.568] [ INFO] console - Executing (1f310358-f101-4254-9f59-d3e4018fb9d6): START TRANSACTION;
[2016-09-10 16:02:06.570] [ INFO] console - Executing (1f310358-f101-4254-9f59-d3e4018fb9d6): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 16:02:06.577] [ INFO] console - Executing (default): SELECT "Kopa"."id", "Kopa"."question", "Kopa"."planned", "Kopa"."started", "Kopa"."closed", "Kopa"."isOpen", "Kopa"."note", "Kopa"."created_at", "Kopa"."updated_at", "Kopa"."deleted_at", "Kopa"."place_id", "Kopa"."inviter_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopa" AS "Kopa" LEFT OUTER JOIN "File" AS "attachments" ON "Kopa"."id" = "attachments"."kopa_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopa"."deleted_at" IS NULL AND "Kopa"."id" = 3);
[2016-09-10 16:02:06.583] [ INFO] console - Executing (1f310358-f101-4254-9f59-d3e4018fb9d6): COMMIT;
[2016-09-10 16:02:06.585] [ INFO] console - [ 70,
  1328,
  {},
  [ { id: '3',
      question: 'CHE',
      planned: Thu Sep 01 2016 00:00:00 GMT+0500 (YEKT),
      started: Thu Sep 01 2016 00:00:00 GMT+0500 (YEKT),
      closed: null,
      isOpen: false,
      note: null,
      created_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      deleted_at: null,
      place_id: '2',
      inviter_id: '2',
      attachments: [] } ] ]
[2016-09-10 16:02:06.599] [ INFO] console - Executing (55d6d14a-f22d-4c5d-b090-ee1972fe24f7): START TRANSACTION;
[2016-09-10 16:02:06.600] [ INFO] console - Executing (55d6d14a-f22d-4c5d-b090-ee1972fe24f7): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 16:02:06.608] [ INFO] console - Executing (default): INSERT INTO "Golos" ("id","value","created_at","updated_at","for_id","owner_id") VALUES (DEFAULT,1,'2016-09-10 11:02:06.601 +00:00','2016-09-10 11:02:06.601 +00:00',1,2) RETURNING *;
[2016-09-10 16:02:06.613] [ INFO] console - Executing (55d6d14a-f22d-4c5d-b090-ee1972fe24f7): COMMIT;
[2016-09-10 16:02:06.616] [ INFO] console - [ 70, 1329, {}, [ '57' ] ]
[2016-09-10 16:02:06.630] [ INFO] console - [ 16,
  8282409189507072,
  { acknowledge: true },
  'ru.kopa.model.Predlozhenie.id1.golosAdd',
  [ '57' ] ]
[2016-09-10 16:02:06.659] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopa', id: 3 }
[2016-09-10 16:02:06.664] [ INFO] console - Executing (de318f39-727d-4b80-9027-cf299fa8db75): START TRANSACTION;
[2016-09-10 16:02:06.666] [ INFO] console - Executing (de318f39-727d-4b80-9027-cf299fa8db75): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 16:02:06.671] [ INFO] console - Executing (default): SELECT "Kopa"."id", "Kopa"."question", "Kopa"."planned", "Kopa"."started", "Kopa"."closed", "Kopa"."isOpen", "Kopa"."note", "Kopa"."created_at", "Kopa"."updated_at", "Kopa"."deleted_at", "Kopa"."place_id", "Kopa"."inviter_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopa" AS "Kopa" LEFT OUTER JOIN "File" AS "attachments" ON "Kopa"."id" = "attachments"."kopa_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopa"."deleted_at" IS NULL AND "Kopa"."id" = 3);
[2016-09-10 16:02:06.676] [ INFO] console - Executing (de318f39-727d-4b80-9027-cf299fa8db75): COMMIT;
[2016-09-10 16:02:06.677] [ INFO] console - [ 70,
  1331,
  {},
  [ { id: '3',
      question: 'CHE',
      planned: Thu Sep 01 2016 00:00:00 GMT+0500 (YEKT),
      started: Thu Sep 01 2016 00:00:00 GMT+0500 (YEKT),
      closed: null,
      isOpen: false,
      note: null,
      created_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      deleted_at: null,
      place_id: '2',
      inviter_id: '2',
      attachments: [] } ] ]
[2016-09-10 16:02:06.688] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 2 }
[2016-09-10 16:02:06.691] [ INFO] console - Executing (25fba92e-6dba-4551-93a8-eed782b0601c): START TRANSACTION;
[2016-09-10 16:02:06.692] [ INFO] console - Executing (25fba92e-6dba-4551-93a8-eed782b0601c): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 16:02:06.713] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 2);
[2016-09-10 16:02:06.718] [ INFO] console - Executing (25fba92e-6dba-4551-93a8-eed782b0601c): COMMIT;
[2016-09-10 16:02:06.720] [ INFO] console - [ 70,
  1332,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/2/',
      starshina: [Object],
      id: '2',
      email: 'unittest2@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '1',
      voiskoSize: 1,
      birth: 1983,
      path: '/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: null,
      attachments: [] } ] ]
[2016-09-10 16:02:06.731] [ INFO] console - Executing (e23f542c-423f-4de1-9f90-39a193dddeb0): START TRANSACTION;
[2016-09-10 16:02:06.734] [ INFO] console - Executing (e23f542c-423f-4de1-9f90-39a193dddeb0): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 16:02:06.739] [ INFO] console - Executing (default): INSERT INTO "Slovo" ("id","value","created_at","updated_at","owner_id","place_id") VALUES (DEFAULT,'some Slovo temp 1473505326728','2016-09-10 11:02:06.736 +00:00','2016-09-10 11:02:06.736 +00:00',2,3) RETURNING *;
[2016-09-10 16:02:06.748] [ INFO] console - Executing (e23f542c-423f-4de1-9f90-39a193dddeb0): COMMIT;
[2016-09-10 16:02:06.750] [ INFO] console - [ 70, 1333, {}, [ '103' ] ]
[2016-09-10 16:02:06.752] [ INFO] console - [ 16,
  5303506468601856,
  { acknowledge: true },
  'ru.kopa.model.Kopa.id3.slovoAdd',
  [ '103' ] ]
[2016-09-10 16:02:06.768] [ INFO] console - Executing (306efb2e-91fa-4e9a-8700-a2d8a3da60a7): START TRANSACTION;
[2016-09-10 16:02:06.770] [ INFO] console - Executing (306efb2e-91fa-4e9a-8700-a2d8a3da60a7): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 16:02:06.778] [ INFO] console - Executing (default): INSERT INTO "Predlozhenie" ("id","value","created_at","updated_at","initiator_id","place_id") VALUES (DEFAULT,'some Predlozhenie temp 1473505326760','2016-09-10 11:02:06.771 +00:00','2016-09-10 11:02:06.771 +00:00',2,3) RETURNING *;
[2016-09-10 16:02:06.782] [ INFO] console - Executing (306efb2e-91fa-4e9a-8700-a2d8a3da60a7): COMMIT;
[2016-09-10 16:02:06.783] [ INFO] console - [ 70, 1334, {}, [ '57' ] ]
[2016-09-10 16:02:06.785] [ INFO] console - [ 16,
  7492209251188736,
  { acknowledge: true },
  'ru.kopa.model.Kopa.id3.predlozhenieAdd',
  [ '57' ] ]
[2016-09-10 16:02:06.818] [ INFO] console - [ 70, 1336, {}, [ undefined ] ]
[2016-09-10 16:02:06.821] [ INFO] console - Executing (default): delete from "Kopnik"
                where
                    name like '%temp'
[2016-09-10 16:02:06.832] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 2 }
[2016-09-10 16:02:06.857] [ INFO] console - Executing (default): update "Kopnik"
                set 
                    "voiskoSize"= case when id=2 then 1 ELSE 0 END
                where
                    id>1 
                    and id<=5
[2016-09-10 16:02:06.859] [ INFO] console - Executing (b136d026-545a-41d3-a1b5-4e494a9c5f64): START TRANSACTION;
[2016-09-10 16:02:06.862] [ INFO] console - Executing (b136d026-545a-41d3-a1b5-4e494a9c5f64): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 16:02:06.886] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 2);
[2016-09-10 16:02:06.894] [ INFO] console - Executing (b136d026-545a-41d3-a1b5-4e494a9c5f64): COMMIT;
[2016-09-10 16:02:06.896] [ INFO] console - [ 70,
  1337,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/2/',
      starshina: [Object],
      id: '2',
      email: 'unittest2@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '1',
      voiskoSize: 1,
      birth: 1983,
      path: '/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: null,
      attachments: [] } ] ]
[2016-09-10 16:02:06.909] [ INFO] console - Executing (7af7f8a9-f0c5-40fe-95ae-c8d058ae0428): START TRANSACTION;
[2016-09-10 16:02:06.912] [ INFO] console - Executing (7af7f8a9-f0c5-40fe-95ae-c8d058ae0428): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 16:02:06.925] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 2);
[2016-09-10 16:02:06.934] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"+1
                                where
                                    '/2/' like path||id||'/%'
[2016-09-10 16:02:06.940] [ INFO] console - Executing (default): INSERT INTO "Kopnik" ("id","name","surname","patronymic","voiskoSize","birth","path","created_at","updated_at","rodina_id","starshina_id") VALUES (DEFAULT,'temp','temp','temp',0,1900,'/2/','2016-09-10 11:02:06.915 +00:00','2016-09-10 11:02:06.915 +00:00',NULL,2) RETURNING *;
[2016-09-10 16:02:06.950] [ INFO] console - Executing (7af7f8a9-f0c5-40fe-95ae-c8d058ae0428): COMMIT;
[2016-09-10 16:02:06.952] [ INFO] console - [ 70, 1338, {}, [ '173' ] ]
[2016-09-10 16:02:06.955] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/' like k.path||k.id||'/%'
[2016-09-10 16:02:06.961] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 16:02:06.963] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Zemla', id: 2 }
[2016-09-10 16:02:06.981] [ INFO] console - Executing (e360f6e1-2547-4f0b-8336-429374068dfb): START TRANSACTION;
[2016-09-10 16:02:06.982] [ INFO] console - Executing (3282b222-b271-40e6-8b72-3a6cb8fcb8e7): START TRANSACTION;
[2016-09-10 16:02:06.983] [ INFO] console - [ 16,
  580693587394560,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id2.voiskoChange',
  [],
  { voiskoSize: 2 } ]
[2016-09-10 16:02:06.990] [ INFO] console - Executing (3282b222-b271-40e6-8b72-3a6cb8fcb8e7): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 16:02:06.991] [ INFO] console - Executing (e360f6e1-2547-4f0b-8336-429374068dfb): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 16:02:07.046] [ INFO] console - Executing (default): SELECT "Zemla"."id", "Zemla"."path", "Zemla"."name", "Zemla"."intensity", "Zemla"."note", "Zemla"."created_at", "Zemla"."updated_at", "Zemla"."deleted_at", "Zemla"."parent_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Zemla" AS "Zemla" LEFT OUTER JOIN "File" AS "attachments" ON "Zemla"."id" = "attachments"."zemla_id" AND "attachments"."deleted_at" IS NULL WHERE ("Zemla"."deleted_at" IS NULL AND "Zemla"."id" = 2);
[2016-09-10 16:02:07.054] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 173);
[2016-09-10 16:02:07.067] [ INFO] console - Executing (e360f6e1-2547-4f0b-8336-429374068dfb): COMMIT;
[2016-09-10 16:02:07.075] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"+1
                                where
                                    '/2/173/' like path||id||'/%'
[2016-09-10 16:02:07.080] [ INFO] console - [ 70,
  1339,
  {},
  [ { fullPath: 'null2/',
      id: '2',
      path: null,
      name: 'UnitTest2',
      intensity: 1000,
      note: 'unit test 1473505111569',
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Sat Sep 10 2016 15:59:56 GMT+0500 (YEKT),
      deleted_at: null,
      parent_id: '1',
      attachments: [] } ] ]
[2016-09-10 16:02:07.097] [ INFO] console - Executing (default): INSERT INTO "Kopnik" ("id","name","surname","patronymic","voiskoSize","birth","path","created_at","updated_at","rodina_id","starshina_id") VALUES (DEFAULT,'temp','temp','temp',0,1900,'/2/173/','2016-09-10 11:02:07.010 +00:00','2016-09-10 11:02:07.010 +00:00',NULL,173) RETURNING *;
[2016-09-10 16:02:07.108] [ INFO] console - Executing (3282b222-b271-40e6-8b72-3a6cb8fcb8e7): COMMIT;
[2016-09-10 16:02:07.109] [ INFO] console - [ 70, 1340, {}, [ '174' ] ]
[2016-09-10 16:02:07.119] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/173/' like k.path||k.id||'/%'
[2016-09-10 16:02:07.128] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2', '173')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 16:02:07.137] [ INFO] console - [ 16,
  4846577885642752,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id173.voiskoChange',
  [],
  { voiskoSize: 1 } ]
[2016-09-10 16:02:07.143] [ INFO] console - [ 16,
  981335002841088,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id2.voiskoChange',
  [],
  { voiskoSize: 3 } ]
[2016-09-10 16:02:17.396] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 4 }
[2016-09-10 16:02:17.399] [ INFO] console - Executing (8271946c-8226-4ba5-bac1-a176e0813a67): START TRANSACTION;
[2016-09-10 16:02:17.400] [ INFO] console - Executing (8271946c-8226-4ba5-bac1-a176e0813a67): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 16:02:17.407] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 4);
[2016-09-10 16:02:17.415] [ INFO] console - Executing (8271946c-8226-4ba5-bac1-a176e0813a67): COMMIT;
[2016-09-10 16:02:17.416] [ INFO] console - [ 70,
  1341,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/4/',
      starshina: [Object],
      id: '4',
      email: 'unittest4@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '4',
      voiskoSize: 0,
      birth: 1983,
      path: '/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: null,
      attachments: [] } ] ]
[2016-09-10 16:02:17.426] [ INFO] console - Executing (a75435e3-ef3f-4630-b6fc-6a2fcc35e089): START TRANSACTION;
[2016-09-10 16:02:17.428] [ INFO] console - Executing (a75435e3-ef3f-4630-b6fc-6a2fcc35e089): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 16:02:17.434] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 173);
[2016-09-10 16:02:17.439] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 4);
[2016-09-10 16:02:17.442] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/' like k.path||k.id||'/%'
[2016-09-10 16:02:17.446] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 16:02:17.450] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"-2
                                where
                                    '/2/' like path||id||'/%'
[2016-09-10 16:02:17.456] [ INFO] console - Executing (default): UPDATE "Kopnik" SET "path"='/4/',"starshina_id"='4',"updated_at"='2016-09-10 11:02:17.451 +00:00' WHERE "id" = '173'
[2016-09-10 16:02:17.458] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"+2
                                where
                                    '/4/' like path||id||'/%'
[2016-09-10 16:02:17.462] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."starshina_id" = '173');
[2016-09-10 16:02:17.469] [ INFO] console - Executing (default): UPDATE "Kopnik" SET "path"='/4/173/',"updated_at"='2016-09-10 11:02:17.465 +00:00' WHERE "id" = '174'
[2016-09-10 16:02:17.471] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/4/' like k.path||k.id||'/%'
[2016-09-10 16:02:17.476] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('4')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 16:02:17.479] [ INFO] console - Executing (a75435e3-ef3f-4630-b6fc-6a2fcc35e089): COMMIT;
[2016-09-10 16:02:17.481] [ INFO] console - [ 70, 1342, {}, [ undefined ] ]
[2016-09-10 16:02:17.484] [ INFO] console - [ 16,
  4320784134701056,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id2.voiskoChange',
  [],
  { voiskoSize: 1 } ]
[2016-09-10 16:02:17.490] [ INFO] console - [ 16,
  3793170798215168,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id4.voiskoChange',
  [],
  { voiskoSize: 2 } ]
[2016-09-10 16:02:21.204] [ INFO] console - [ 70, 1344, {}, [ 'unittest2@domain.ru' ] ]
[2016-09-10 16:02:21.212] [DEBUG] Server - #pingPong() [ 1, 2, 3 ] { x: 1, y: 2, z: 3 }
[2016-09-10 16:02:21.214] [ INFO] console - [ 70, 1345, {}, [ 1, 2, 3 ], { x: 1, y: 2, z: 3 } ]
[2016-09-10 16:02:21.225] [ INFO] console - Executing (default): select 'КОПА' as result
[2016-09-10 16:02:21.231] [ INFO] console - [ 70, 1346, {}, [ 'КОПА' ] ]
[2016-09-10 16:02:21.242] [DEBUG] Server - #error() [ 'sadkljfaskldjfs;af' ] {}
[2016-09-10 16:02:21.244] [ERROR] Server - [Error: sadkljfaskldjfs;af]
Error: sadkljfaskldjfs;af
    at MySuperError (Server.js:339:9)
    at fn.constructor.error.Error (Server.js:344:19)
    at new wrappedPromise (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/async-listener/index.js:372:16)
    at Server.error (Server.js:343:16)
    at Object.<anonymous> (Server.js:415:43)
    at [object Generator].next (native)
    at step (/home/alexey2baranov/htdocs/kp-sequelizejs/src/Server.js:1:253)
    at /home/alexey2baranov/htdocs/kp-sequelizejs/src/Server.js:1:513
    at new wrappedPromise (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/async-listener/index.js:372:16)
    at Object.<anonymous> (/home/alexey2baranov/htdocs/kp-sequelizejs/src/Server.js:1:161)
    at Object.<anonymous> (Server.js:412:28)
    at tryCatchResolve (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/apply.js:46:23)
    at callAndResolve (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/apply.js:30:12)
    at callAndResolveNext (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/apply.js:40:4)
    at tryCatchReject3 (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/makePromise.js:856:7)
    at runContinuation3 (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/makePromise.js:814:4)
[2016-09-10 16:02:21.249] [ INFO] console - [ 8,
  68,
  1347,
  {},
  'MySuperError',
  [ 'sadkljfaskldjfs;af' ],
  { stack: 
     [ 'Error: sadkljfaskldjfs;af',
       '    at MySuperError (Server.js:339:9)',
       '    at fn.constructor.error.Error (Server.js:344:19)',
       '    at new wrappedPromise (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/async-listener/index.js:372:16)',
       '    at Server.error (Server.js:343:16)',
       '    at Object.<anonymous> (Server.js:415:43)',
       '    at [object Generator].next (native)',
       '    at step (/home/alexey2baranov/htdocs/kp-sequelizejs/src/Server.js:1:253)',
       '    at /home/alexey2baranov/htdocs/kp-sequelizejs/src/Server.js:1:513',
       '    at new wrappedPromise (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/async-listener/index.js:372:16)',
       '    at Object.<anonymous> (/home/alexey2baranov/htdocs/kp-sequelizejs/src/Server.js:1:161)',
       '    at Object.<anonymous> (Server.js:412:28)',
       '    at tryCatchResolve (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/apply.js:46:23)',
       '    at callAndResolve (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/apply.js:30:12)',
       '    at callAndResolveNext (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/apply.js:40:4)',
       '    at tryCatchReject3 (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/makePromise.js:856:7)',
       '    at runContinuation3 (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/makePromise.js:814:4)' ] } ]
[2016-09-10 16:02:21.260] [ INFO] console - [ 70, 1348, {}, [ undefined ] ]
[2016-09-10 16:02:21.262] [ INFO] console - Executing (default): delete from "Slovo"
                where
                    place_id<5
                    and value like '%temp'
[2016-09-10 16:02:21.267] [ INFO] console - Executing (default): delete from "Kopnik"
                where
                    name like '%temp'
[2016-09-10 16:02:21.273] [ INFO] console - Executing (default): update "Kopnik"
                set 
                    "voiskoSize"= case when id=2 then 1 ELSE 0 END
                where
                    id>1 
                    and id<=5
[2016-09-10 16:02:21.304] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopa', id: 3 }
[2016-09-10 16:02:21.307] [ INFO] console - Executing (794f35aa-f7e9-4a54-8fdd-c41466f34343): START TRANSACTION;
[2016-09-10 16:02:21.309] [ INFO] console - Executing (794f35aa-f7e9-4a54-8fdd-c41466f34343): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 16:02:21.316] [ INFO] console - Executing (default): SELECT "Kopa"."id", "Kopa"."question", "Kopa"."planned", "Kopa"."started", "Kopa"."closed", "Kopa"."isOpen", "Kopa"."note", "Kopa"."created_at", "Kopa"."updated_at", "Kopa"."deleted_at", "Kopa"."place_id", "Kopa"."inviter_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopa" AS "Kopa" LEFT OUTER JOIN "File" AS "attachments" ON "Kopa"."id" = "attachments"."kopa_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopa"."deleted_at" IS NULL AND "Kopa"."id" = 3);
[2016-09-10 16:02:21.321] [ INFO] console - Executing (794f35aa-f7e9-4a54-8fdd-c41466f34343): COMMIT;
[2016-09-10 16:02:21.324] [ INFO] console - [ 70,
  1350,
  {},
  [ { id: '3',
      question: 'CHE',
      planned: Thu Sep 01 2016 00:00:00 GMT+0500 (YEKT),
      started: Thu Sep 01 2016 00:00:00 GMT+0500 (YEKT),
      closed: null,
      isOpen: false,
      note: null,
      created_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      deleted_at: null,
      place_id: '2',
      inviter_id: '2',
      attachments: [] } ] ]
[2016-09-10 16:02:21.337] [ INFO] console - Executing (23d0189a-c6fc-4d57-9684-bd536c072455): START TRANSACTION;
[2016-09-10 16:02:21.339] [ INFO] console - Executing (23d0189a-c6fc-4d57-9684-bd536c072455): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 16:02:21.345] [ INFO] console - Executing (default): INSERT INTO "Golos" ("id","value","created_at","updated_at","for_id","owner_id") VALUES (DEFAULT,1,'2016-09-10 11:02:21.341 +00:00','2016-09-10 11:02:21.341 +00:00',1,2) RETURNING *;
[2016-09-10 16:02:21.349] [ INFO] console - Executing (23d0189a-c6fc-4d57-9684-bd536c072455): COMMIT;
[2016-09-10 16:02:21.350] [ INFO] console - [ 70, 1351, {}, [ '58' ] ]
[2016-09-10 16:02:21.355] [ INFO] console - [ 16,
  1541722037288960,
  { acknowledge: true },
  'ru.kopa.model.Predlozhenie.id1.golosAdd',
  [ '58' ] ]
[2016-09-10 16:02:21.376] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopa', id: 3 }
[2016-09-10 16:02:21.385] [ INFO] console - Executing (c4f35dbb-3fc2-432d-a3ac-4772cd898874): START TRANSACTION;
[2016-09-10 16:02:21.386] [ INFO] console - Executing (c4f35dbb-3fc2-432d-a3ac-4772cd898874): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 16:02:21.393] [ INFO] console - Executing (default): SELECT "Kopa"."id", "Kopa"."question", "Kopa"."planned", "Kopa"."started", "Kopa"."closed", "Kopa"."isOpen", "Kopa"."note", "Kopa"."created_at", "Kopa"."updated_at", "Kopa"."deleted_at", "Kopa"."place_id", "Kopa"."inviter_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopa" AS "Kopa" LEFT OUTER JOIN "File" AS "attachments" ON "Kopa"."id" = "attachments"."kopa_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopa"."deleted_at" IS NULL AND "Kopa"."id" = 3);
[2016-09-10 16:02:21.399] [ INFO] console - Executing (c4f35dbb-3fc2-432d-a3ac-4772cd898874): COMMIT;
[2016-09-10 16:02:21.401] [ INFO] console - [ 70,
  1353,
  {},
  [ { id: '3',
      question: 'CHE',
      planned: Thu Sep 01 2016 00:00:00 GMT+0500 (YEKT),
      started: Thu Sep 01 2016 00:00:00 GMT+0500 (YEKT),
      closed: null,
      isOpen: false,
      note: null,
      created_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      deleted_at: null,
      place_id: '2',
      inviter_id: '2',
      attachments: [] } ] ]
[2016-09-10 16:02:21.410] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 2 }
[2016-09-10 16:02:21.413] [ INFO] console - Executing (aa3fc4e5-889d-4468-962e-e5cc8c8ede61): START TRANSACTION;
[2016-09-10 16:02:21.414] [ INFO] console - Executing (aa3fc4e5-889d-4468-962e-e5cc8c8ede61): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 16:02:21.420] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 2);
[2016-09-10 16:02:21.429] [ INFO] console - Executing (aa3fc4e5-889d-4468-962e-e5cc8c8ede61): COMMIT;
[2016-09-10 16:02:21.431] [ INFO] console - [ 70,
  1354,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/2/',
      starshina: [Object],
      id: '2',
      email: 'unittest2@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '1',
      voiskoSize: 1,
      birth: 1983,
      path: '/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: null,
      attachments: [] } ] ]
[2016-09-10 16:02:21.450] [ INFO] console - Executing (3a71cd94-8f7d-42ce-9463-a297757e4440): START TRANSACTION;
[2016-09-10 16:02:21.457] [ INFO] console - Executing (3a71cd94-8f7d-42ce-9463-a297757e4440): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 16:02:21.464] [ INFO] console - Executing (default): INSERT INTO "Slovo" ("id","value","created_at","updated_at","owner_id","place_id") VALUES (DEFAULT,'some Slovo temp 1473505341443','2016-09-10 11:02:21.459 +00:00','2016-09-10 11:02:21.459 +00:00',2,3) RETURNING *;
[2016-09-10 16:02:21.470] [ INFO] console - Executing (3a71cd94-8f7d-42ce-9463-a297757e4440): COMMIT;
[2016-09-10 16:02:21.472] [ INFO] console - [ 70, 1355, {}, [ '104' ] ]
[2016-09-10 16:02:21.479] [ INFO] console - [ 16,
  6909001098854400,
  { acknowledge: true },
  'ru.kopa.model.Kopa.id3.slovoAdd',
  [ '104' ] ]
[2016-09-10 16:02:21.496] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Slovo', id: 104 }
[2016-09-10 16:02:21.499] [ INFO] console - Executing (1db0fc4b-e9e3-491b-a85e-79642f1fec8e): START TRANSACTION;
[2016-09-10 16:02:21.500] [ INFO] console - Executing (1db0fc4b-e9e3-491b-a85e-79642f1fec8e): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 16:02:21.507] [ INFO] console - Executing (default): SELECT "Slovo"."id", "Slovo"."value", "Slovo"."note", "Slovo"."created_at", "Slovo"."updated_at", "Slovo"."deleted_at", "Slovo"."owner_id", "Slovo"."place_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Slovo" AS "Slovo" LEFT OUTER JOIN "File" AS "attachments" ON "Slovo"."id" = "attachments"."slovo_id" AND "attachments"."deleted_at" IS NULL WHERE ("Slovo"."deleted_at" IS NULL AND "Slovo"."id" = 104);
[2016-09-10 16:02:21.511] [ INFO] console - Executing (1db0fc4b-e9e3-491b-a85e-79642f1fec8e): COMMIT;
[2016-09-10 16:02:21.512] [ INFO] console - [ 70,
  1356,
  {},
  [ { id: '104',
      value: 'some Slovo temp 1473505341443',
      note: null,
      created_at: Sat Sep 10 2016 16:02:21 GMT+0500 (YEKT),
      updated_at: Sat Sep 10 2016 16:02:21 GMT+0500 (YEKT),
      deleted_at: null,
      owner_id: '2',
      place_id: '3',
      attachments: [] } ] ]
[2016-09-10 16:02:21.528] [ INFO] console - Executing (2f5d6ed4-6303-4ec5-b08b-7c67e733d1af): START TRANSACTION;
[2016-09-10 16:02:21.533] [ INFO] console - Executing (2f5d6ed4-6303-4ec5-b08b-7c67e733d1af): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 16:02:21.539] [ INFO] console - Executing (default): INSERT INTO "Predlozhenie" ("id","value","created_at","updated_at","initiator_id","place_id") VALUES (DEFAULT,'some Predlozhenie temp 1473505341522','2016-09-10 11:02:21.535 +00:00','2016-09-10 11:02:21.535 +00:00',2,3) RETURNING *;
[2016-09-10 16:02:21.542] [ INFO] console - Executing (2f5d6ed4-6303-4ec5-b08b-7c67e733d1af): COMMIT;
[2016-09-10 16:02:21.543] [ INFO] console - [ 70, 1357, {}, [ '58' ] ]
[2016-09-10 16:02:21.549] [ INFO] console - [ 16,
  658096053551104,
  { acknowledge: true },
  'ru.kopa.model.Kopa.id3.predlozhenieAdd',
  [ '58' ] ]
[2016-09-10 16:02:21.576] [ INFO] console - [ 70, 1359, {}, [ undefined ] ]
[2016-09-10 16:02:21.581] [ INFO] console - Executing (default): delete from "Kopnik"
                where
                    name like '%temp'
[2016-09-10 16:02:21.583] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 2 }
[2016-09-10 16:02:21.588] [ INFO] console - Executing (d1caae4e-e69b-4e12-b1c2-179362b6fbb4): START TRANSACTION;
[2016-09-10 16:02:21.590] [ INFO] console - Executing (default): update "Kopnik"
                set 
                    "voiskoSize"= case when id=2 then 1 ELSE 0 END
                where
                    id>1 
                    and id<=5
[2016-09-10 16:02:21.591] [ INFO] console - Executing (d1caae4e-e69b-4e12-b1c2-179362b6fbb4): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 16:02:21.601] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 2);
[2016-09-10 16:02:21.605] [ INFO] console - Executing (d1caae4e-e69b-4e12-b1c2-179362b6fbb4): COMMIT;
[2016-09-10 16:02:21.607] [ INFO] console - [ 70,
  1360,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/2/',
      starshina: [Object],
      id: '2',
      email: 'unittest2@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '1',
      voiskoSize: 1,
      birth: 1983,
      path: '/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: null,
      attachments: [] } ] ]
[2016-09-10 16:02:21.618] [ INFO] console - Executing (97002491-d51e-4714-a81f-f494b43678cb): START TRANSACTION;
[2016-09-10 16:02:21.620] [ INFO] console - Executing (97002491-d51e-4714-a81f-f494b43678cb): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 16:02:21.630] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 2);
[2016-09-10 16:02:21.640] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"+1
                                where
                                    '/2/' like path||id||'/%'
[2016-09-10 16:02:21.649] [ INFO] console - Executing (default): INSERT INTO "Kopnik" ("id","name","surname","patronymic","voiskoSize","birth","path","created_at","updated_at","rodina_id","starshina_id") VALUES (DEFAULT,'temp','temp','temp',0,1900,'/2/','2016-09-10 11:02:21.621 +00:00','2016-09-10 11:02:21.621 +00:00',NULL,2) RETURNING *;
[2016-09-10 16:02:21.653] [ INFO] console - Executing (97002491-d51e-4714-a81f-f494b43678cb): COMMIT;
[2016-09-10 16:02:21.655] [ INFO] console - [ 70, 1361, {}, [ '175' ] ]
[2016-09-10 16:02:21.668] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Zemla', id: 2 }
[2016-09-10 16:02:21.673] [ INFO] console - Executing (56fadf44-9507-45df-8592-513bc9edac05): START TRANSACTION;
[2016-09-10 16:02:21.677] [ INFO] console - Executing (bae9af27-753a-4a90-bba8-64b142d63044): START TRANSACTION;
[2016-09-10 16:02:21.682] [ INFO] console - Executing (56fadf44-9507-45df-8592-513bc9edac05): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 16:02:21.683] [ INFO] console - Executing (bae9af27-753a-4a90-bba8-64b142d63044): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 16:02:21.707] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/' like k.path||k.id||'/%'
[2016-09-10 16:02:21.714] [ INFO] console - Executing (default): SELECT "Zemla"."id", "Zemla"."path", "Zemla"."name", "Zemla"."intensity", "Zemla"."note", "Zemla"."created_at", "Zemla"."updated_at", "Zemla"."deleted_at", "Zemla"."parent_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Zemla" AS "Zemla" LEFT OUTER JOIN "File" AS "attachments" ON "Zemla"."id" = "attachments"."zemla_id" AND "attachments"."deleted_at" IS NULL WHERE ("Zemla"."deleted_at" IS NULL AND "Zemla"."id" = 2);
[2016-09-10 16:02:21.728] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 175);
[2016-09-10 16:02:21.739] [ INFO] console - Executing (56fadf44-9507-45df-8592-513bc9edac05): COMMIT;
[2016-09-10 16:02:21.741] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 16:02:21.748] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"+1
                                where
                                    '/2/175/' like path||id||'/%'
[2016-09-10 16:02:21.750] [ INFO] console - [ 16,
  8288604780494848,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id2.voiskoChange',
  [],
  { voiskoSize: 2 } ]
[2016-09-10 16:02:21.757] [ INFO] console - [ 70,
  1362,
  {},
  [ { fullPath: 'null2/',
      id: '2',
      path: null,
      name: 'UnitTest2',
      intensity: 1000,
      note: 'unit test 1473505111569',
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Sat Sep 10 2016 15:59:56 GMT+0500 (YEKT),
      deleted_at: null,
      parent_id: '1',
      attachments: [] } ] ]
[2016-09-10 16:02:21.780] [ INFO] console - Executing (default): INSERT INTO "Kopnik" ("id","name","surname","patronymic","voiskoSize","birth","path","created_at","updated_at","rodina_id","starshina_id") VALUES (DEFAULT,'temp','temp','temp',0,1900,'/2/175/','2016-09-10 11:02:21.688 +00:00','2016-09-10 11:02:21.688 +00:00',NULL,175) RETURNING *;
[2016-09-10 16:02:21.788] [ INFO] console - Executing (bae9af27-753a-4a90-bba8-64b142d63044): COMMIT;
[2016-09-10 16:02:21.794] [ INFO] console - [ 70, 1363, {}, [ '176' ] ]
[2016-09-10 16:02:21.808] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/175/' like k.path||k.id||'/%'
[2016-09-10 16:02:21.827] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2', '175')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 16:02:21.837] [ INFO] console - [ 16,
  8066697856548864,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id175.voiskoChange',
  [],
  { voiskoSize: 1 } ]
[2016-09-10 16:02:21.860] [ INFO] console - [ 16,
  4515894587817984,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id2.voiskoChange',
  [],
  { voiskoSize: 3 } ]
[2016-09-10 16:02:53.706] [ INFO] console - [ 70, 1365, {}, [ 'unittest2@domain.ru' ] ]
[2016-09-10 16:02:53.712] [DEBUG] Server - #pingPong() [ 1, 2, 3 ] { x: 1, y: 2, z: 3 }
[2016-09-10 16:02:53.714] [ INFO] console - [ 70, 1366, {}, [ 1, 2, 3 ], { x: 1, y: 2, z: 3 } ]
[2016-09-10 16:02:53.738] [ INFO] console - Executing (default): select 'КОПА' as result
[2016-09-10 16:02:53.739] [ INFO] console - [ 70, 1367, {}, [ 'КОПА' ] ]
[2016-09-10 16:02:53.744] [DEBUG] Server - #error() [ 'sadkljfaskldjfs;af' ] {}
[2016-09-10 16:02:53.745] [ERROR] Server - [Error: sadkljfaskldjfs;af]
Error: sadkljfaskldjfs;af
    at MySuperError (Server.js:339:9)
    at fn.constructor.error.Error (Server.js:344:19)
    at new wrappedPromise (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/async-listener/index.js:372:16)
    at Server.error (Server.js:343:16)
    at Object.<anonymous> (Server.js:415:43)
    at [object Generator].next (native)
    at step (/home/alexey2baranov/htdocs/kp-sequelizejs/src/Server.js:1:253)
    at /home/alexey2baranov/htdocs/kp-sequelizejs/src/Server.js:1:513
    at new wrappedPromise (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/async-listener/index.js:372:16)
    at Object.<anonymous> (/home/alexey2baranov/htdocs/kp-sequelizejs/src/Server.js:1:161)
    at Object.<anonymous> (Server.js:412:28)
    at tryCatchResolve (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/apply.js:46:23)
    at callAndResolve (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/apply.js:30:12)
    at callAndResolveNext (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/apply.js:40:4)
    at tryCatchReject3 (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/makePromise.js:856:7)
    at runContinuation3 (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/makePromise.js:814:4)
[2016-09-10 16:02:53.751] [ INFO] console - [ 8,
  68,
  1368,
  {},
  'MySuperError',
  [ 'sadkljfaskldjfs;af' ],
  { stack: 
     [ 'Error: sadkljfaskldjfs;af',
       '    at MySuperError (Server.js:339:9)',
       '    at fn.constructor.error.Error (Server.js:344:19)',
       '    at new wrappedPromise (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/async-listener/index.js:372:16)',
       '    at Server.error (Server.js:343:16)',
       '    at Object.<anonymous> (Server.js:415:43)',
       '    at [object Generator].next (native)',
       '    at step (/home/alexey2baranov/htdocs/kp-sequelizejs/src/Server.js:1:253)',
       '    at /home/alexey2baranov/htdocs/kp-sequelizejs/src/Server.js:1:513',
       '    at new wrappedPromise (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/async-listener/index.js:372:16)',
       '    at Object.<anonymous> (/home/alexey2baranov/htdocs/kp-sequelizejs/src/Server.js:1:161)',
       '    at Object.<anonymous> (Server.js:412:28)',
       '    at tryCatchResolve (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/apply.js:46:23)',
       '    at callAndResolve (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/apply.js:30:12)',
       '    at callAndResolveNext (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/apply.js:40:4)',
       '    at tryCatchReject3 (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/makePromise.js:856:7)',
       '    at runContinuation3 (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/makePromise.js:814:4)' ] } ]
[2016-09-10 16:02:53.767] [ INFO] console - [ 70, 1369, {}, [ undefined ] ]
[2016-09-10 16:02:53.785] [ INFO] console - Executing (default): delete from "Slovo"
                where
                    place_id<5
                    and value like '%temp'
[2016-09-10 16:02:53.798] [ INFO] console - Executing (default): delete from "Kopnik"
                where
                    name like '%temp'
[2016-09-10 16:02:53.813] [ INFO] console - Executing (default): update "Kopnik"
                set 
                    "voiskoSize"= case when id=2 then 1 ELSE 0 END
                where
                    id>1 
                    and id<=5
[2016-09-10 16:02:53.815] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopa', id: 3 }
[2016-09-10 16:02:53.818] [ INFO] console - Executing (b2be31f6-6435-4c60-a004-523ac8fae0fc): START TRANSACTION;
[2016-09-10 16:02:53.820] [ INFO] console - Executing (b2be31f6-6435-4c60-a004-523ac8fae0fc): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 16:02:53.827] [ INFO] console - Executing (default): SELECT "Kopa"."id", "Kopa"."question", "Kopa"."planned", "Kopa"."started", "Kopa"."closed", "Kopa"."isOpen", "Kopa"."note", "Kopa"."created_at", "Kopa"."updated_at", "Kopa"."deleted_at", "Kopa"."place_id", "Kopa"."inviter_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopa" AS "Kopa" LEFT OUTER JOIN "File" AS "attachments" ON "Kopa"."id" = "attachments"."kopa_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopa"."deleted_at" IS NULL AND "Kopa"."id" = 3);
[2016-09-10 16:02:53.838] [ INFO] console - Executing (b2be31f6-6435-4c60-a004-523ac8fae0fc): COMMIT;
[2016-09-10 16:02:53.840] [ INFO] console - [ 70,
  1371,
  {},
  [ { id: '3',
      question: 'CHE',
      planned: Thu Sep 01 2016 00:00:00 GMT+0500 (YEKT),
      started: Thu Sep 01 2016 00:00:00 GMT+0500 (YEKT),
      closed: null,
      isOpen: false,
      note: null,
      created_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      deleted_at: null,
      place_id: '2',
      inviter_id: '2',
      attachments: [] } ] ]
[2016-09-10 16:02:53.854] [ INFO] console - Executing (537365d9-32de-40a4-bd62-4dfc55fabd52): START TRANSACTION;
[2016-09-10 16:02:53.855] [ INFO] console - Executing (537365d9-32de-40a4-bd62-4dfc55fabd52): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 16:02:53.860] [ INFO] console - Executing (default): INSERT INTO "Golos" ("id","value","created_at","updated_at","for_id","owner_id") VALUES (DEFAULT,1,'2016-09-10 11:02:53.856 +00:00','2016-09-10 11:02:53.856 +00:00',1,2) RETURNING *;
[2016-09-10 16:02:53.864] [ INFO] console - Executing (537365d9-32de-40a4-bd62-4dfc55fabd52): COMMIT;
[2016-09-10 16:02:53.865] [ INFO] console - [ 70, 1372, {}, [ '59' ] ]
[2016-09-10 16:02:53.867] [ INFO] console - [ 16,
  5878801934319616,
  { acknowledge: true },
  'ru.kopa.model.Predlozhenie.id1.golosAdd',
  [ '59' ] ]
[2016-09-10 16:02:53.911] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopa', id: 3 }
[2016-09-10 16:02:53.934] [ INFO] console - Executing (54c4acd4-3aeb-4f86-941a-7a4e6513c7e5): START TRANSACTION;
[2016-09-10 16:02:53.941] [ INFO] console - Executing (54c4acd4-3aeb-4f86-941a-7a4e6513c7e5): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 16:02:53.958] [ INFO] console - Executing (default): SELECT "Kopa"."id", "Kopa"."question", "Kopa"."planned", "Kopa"."started", "Kopa"."closed", "Kopa"."isOpen", "Kopa"."note", "Kopa"."created_at", "Kopa"."updated_at", "Kopa"."deleted_at", "Kopa"."place_id", "Kopa"."inviter_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopa" AS "Kopa" LEFT OUTER JOIN "File" AS "attachments" ON "Kopa"."id" = "attachments"."kopa_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopa"."deleted_at" IS NULL AND "Kopa"."id" = 3);
[2016-09-10 16:02:53.967] [ INFO] console - Executing (54c4acd4-3aeb-4f86-941a-7a4e6513c7e5): COMMIT;
[2016-09-10 16:02:53.968] [ INFO] console - [ 70,
  1374,
  {},
  [ { id: '3',
      question: 'CHE',
      planned: Thu Sep 01 2016 00:00:00 GMT+0500 (YEKT),
      started: Thu Sep 01 2016 00:00:00 GMT+0500 (YEKT),
      closed: null,
      isOpen: false,
      note: null,
      created_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      deleted_at: null,
      place_id: '2',
      inviter_id: '2',
      attachments: [] } ] ]
[2016-09-10 16:02:53.981] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 2 }
[2016-09-10 16:02:53.987] [ INFO] console - Executing (28c8c29f-97a3-4542-a741-847f718c9c39): START TRANSACTION;
[2016-09-10 16:02:53.990] [ INFO] console - Executing (28c8c29f-97a3-4542-a741-847f718c9c39): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 16:02:53.996] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 2);
[2016-09-10 16:02:54.001] [ INFO] console - Executing (28c8c29f-97a3-4542-a741-847f718c9c39): COMMIT;
[2016-09-10 16:02:54.002] [ INFO] console - [ 70,
  1375,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/2/',
      starshina: [Object],
      id: '2',
      email: 'unittest2@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '1',
      voiskoSize: 1,
      birth: 1983,
      path: '/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: null,
      attachments: [] } ] ]
[2016-09-10 16:02:54.015] [ INFO] console - Executing (20d11a41-ac14-4ee8-8c56-5eeb973bbe6a): START TRANSACTION;
[2016-09-10 16:02:54.016] [ INFO] console - Executing (20d11a41-ac14-4ee8-8c56-5eeb973bbe6a): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 16:02:54.021] [ INFO] console - Executing (default): INSERT INTO "Slovo" ("id","value","created_at","updated_at","owner_id","place_id") VALUES (DEFAULT,'some Slovo temp 1473505374012','2016-09-10 11:02:54.018 +00:00','2016-09-10 11:02:54.018 +00:00',2,3) RETURNING *;
[2016-09-10 16:02:54.025] [ INFO] console - Executing (20d11a41-ac14-4ee8-8c56-5eeb973bbe6a): COMMIT;
[2016-09-10 16:02:54.026] [ INFO] console - [ 70, 1376, {}, [ '105' ] ]
[2016-09-10 16:02:54.028] [ INFO] console - [ 16,
  7875657707028480,
  { acknowledge: true },
  'ru.kopa.model.Kopa.id3.slovoAdd',
  [ '105' ] ]
[2016-09-10 16:02:54.041] [ INFO] console - Executing (10448069-58e2-4ce5-a3b7-953212aba4f2): START TRANSACTION;
[2016-09-10 16:02:54.046] [ INFO] console - Executing (10448069-58e2-4ce5-a3b7-953212aba4f2): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 16:02:54.056] [ INFO] console - Executing (default): INSERT INTO "Predlozhenie" ("id","value","created_at","updated_at","initiator_id","place_id") VALUES (DEFAULT,'some Predlozhenie temp 1473505374034','2016-09-10 11:02:54.048 +00:00','2016-09-10 11:02:54.048 +00:00',2,3) RETURNING *;
[2016-09-10 16:02:54.059] [ INFO] console - Executing (10448069-58e2-4ce5-a3b7-953212aba4f2): COMMIT;
[2016-09-10 16:02:54.061] [ INFO] console - [ 70, 1377, {}, [ '59' ] ]
[2016-09-10 16:02:54.067] [ INFO] console - [ 16,
  7848077092192256,
  { acknowledge: true },
  'ru.kopa.model.Kopa.id3.predlozhenieAdd',
  [ '59' ] ]
[2016-09-10 16:02:54.173] [ INFO] console - [ 70, 1379, {}, [ undefined ] ]
[2016-09-10 16:02:54.180] [ INFO] console - Executing (default): delete from "Kopnik"
                where
                    name like '%temp'
[2016-09-10 16:02:54.181] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 2 }
[2016-09-10 16:02:54.186] [ INFO] console - Executing (d9bf9067-e5d2-459e-849c-f6c2a9618cb7): START TRANSACTION;
[2016-09-10 16:02:54.190] [ INFO] console - Executing (default): update "Kopnik"
                set 
                    "voiskoSize"= case when id=2 then 1 ELSE 0 END
                where
                    id>1 
                    and id<=5
[2016-09-10 16:02:54.191] [ INFO] console - Executing (d9bf9067-e5d2-459e-849c-f6c2a9618cb7): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 16:02:54.203] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 2);
[2016-09-10 16:02:54.208] [ INFO] console - Executing (d9bf9067-e5d2-459e-849c-f6c2a9618cb7): COMMIT;
[2016-09-10 16:02:54.211] [ INFO] console - [ 70,
  1380,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/2/',
      starshina: [Object],
      id: '2',
      email: 'unittest2@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '1',
      voiskoSize: 1,
      birth: 1983,
      path: '/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: null,
      attachments: [] } ] ]
[2016-09-10 16:02:54.224] [ INFO] console - Executing (9266c7ef-1b13-4b73-902f-f2b053df40b4): START TRANSACTION;
[2016-09-10 16:02:54.225] [ INFO] console - Executing (9266c7ef-1b13-4b73-902f-f2b053df40b4): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 16:02:54.233] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 2);
[2016-09-10 16:02:54.239] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"+1
                                where
                                    '/2/' like path||id||'/%'
[2016-09-10 16:02:54.245] [ INFO] console - Executing (default): INSERT INTO "Kopnik" ("id","name","surname","patronymic","voiskoSize","birth","path","created_at","updated_at","rodina_id","starshina_id") VALUES (DEFAULT,'temp','temp','temp',0,1900,'/2/','2016-09-10 11:02:54.227 +00:00','2016-09-10 11:02:54.227 +00:00',NULL,2) RETURNING *;
[2016-09-10 16:02:54.249] [ INFO] console - Executing (9266c7ef-1b13-4b73-902f-f2b053df40b4): COMMIT;
[2016-09-10 16:02:54.253] [ INFO] console - [ 70, 1381, {}, [ '177' ] ]
[2016-09-10 16:02:54.256] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/' like k.path||k.id||'/%'
[2016-09-10 16:02:54.263] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 16:02:54.265] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Zemla', id: 2 }
[2016-09-10 16:02:54.272] [ INFO] console - Executing (721ac830-5315-4742-aebc-1fc6e064d8e1): START TRANSACTION;
[2016-09-10 16:02:54.273] [ INFO] console - Executing (f7617c43-a777-4387-983f-c0009c639a76): START TRANSACTION;
[2016-09-10 16:02:54.273] [ INFO] console - [ 16,
  6521495419355136,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id2.voiskoChange',
  [],
  { voiskoSize: 2 } ]
[2016-09-10 16:02:54.279] [ INFO] console - Executing (721ac830-5315-4742-aebc-1fc6e064d8e1): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 16:02:54.280] [ INFO] console - Executing (f7617c43-a777-4387-983f-c0009c639a76): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 16:02:54.293] [ INFO] console - Executing (default): SELECT "Zemla"."id", "Zemla"."path", "Zemla"."name", "Zemla"."intensity", "Zemla"."note", "Zemla"."created_at", "Zemla"."updated_at", "Zemla"."deleted_at", "Zemla"."parent_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Zemla" AS "Zemla" LEFT OUTER JOIN "File" AS "attachments" ON "Zemla"."id" = "attachments"."zemla_id" AND "attachments"."deleted_at" IS NULL WHERE ("Zemla"."deleted_at" IS NULL AND "Zemla"."id" = 2);
[2016-09-10 16:02:54.303] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 177);
[2016-09-10 16:02:54.307] [ INFO] console - Executing (721ac830-5315-4742-aebc-1fc6e064d8e1): COMMIT;
[2016-09-10 16:02:54.312] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"+1
                                where
                                    '/2/177/' like path||id||'/%'
[2016-09-10 16:02:54.313] [ INFO] console - [ 70,
  1382,
  {},
  [ { fullPath: 'null2/',
      id: '2',
      path: null,
      name: 'UnitTest2',
      intensity: 1000,
      note: 'unit test 1473505111569',
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Sat Sep 10 2016 15:59:56 GMT+0500 (YEKT),
      deleted_at: null,
      parent_id: '1',
      attachments: [] } ] ]
[2016-09-10 16:02:54.322] [ INFO] console - Executing (default): INSERT INTO "Kopnik" ("id","name","surname","patronymic","voiskoSize","birth","path","created_at","updated_at","rodina_id","starshina_id") VALUES (DEFAULT,'temp','temp','temp',0,1900,'/2/177/','2016-09-10 11:02:54.294 +00:00','2016-09-10 11:02:54.294 +00:00',NULL,177) RETURNING *;
[2016-09-10 16:02:54.328] [ INFO] console - Executing (f7617c43-a777-4387-983f-c0009c639a76): COMMIT;
[2016-09-10 16:02:54.330] [ INFO] console - [ 70, 1383, {}, [ '178' ] ]
[2016-09-10 16:02:54.335] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/177/' like k.path||k.id||'/%'
[2016-09-10 16:02:54.341] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2', '177')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 16:02:54.347] [ INFO] console - [ 16,
  2718206806458368,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id177.voiskoChange',
  [],
  { voiskoSize: 1 } ]
[2016-09-10 16:02:54.352] [ INFO] console - [ 16,
  1345345231519744,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id2.voiskoChange',
  [],
  { voiskoSize: 3 } ]
[2016-09-10 16:04:31.419] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 4 }
[2016-09-10 16:04:31.429] [ INFO] console - Executing (a3a9b1c5-b539-4f96-ac4a-001629c0966e): START TRANSACTION;
[2016-09-10 16:04:31.430] [ INFO] console - Executing (a3a9b1c5-b539-4f96-ac4a-001629c0966e): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 16:04:31.453] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 4);
[2016-09-10 16:04:31.458] [ INFO] console - Executing (a3a9b1c5-b539-4f96-ac4a-001629c0966e): COMMIT;
[2016-09-10 16:04:31.459] [ INFO] console - [ 70,
  1384,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/4/',
      starshina: [Object],
      id: '4',
      email: 'unittest4@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '4',
      voiskoSize: 0,
      birth: 1983,
      path: '/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: null,
      attachments: [] } ] ]
[2016-09-10 16:04:31.470] [ INFO] console - Executing (e8d98795-18ec-4aaa-add1-a4d3985e8540): START TRANSACTION;
[2016-09-10 16:04:31.472] [ INFO] console - Executing (e8d98795-18ec-4aaa-add1-a4d3985e8540): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 16:04:31.477] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 177);
[2016-09-10 16:04:31.492] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 4);
[2016-09-10 16:04:31.497] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/' like k.path||k.id||'/%'
[2016-09-10 16:04:31.502] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 16:04:31.509] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"-2
                                where
                                    '/2/' like path||id||'/%'
[2016-09-10 16:04:31.517] [ INFO] console - Executing (default): UPDATE "Kopnik" SET "path"='/4/',"starshina_id"='4',"updated_at"='2016-09-10 11:04:31.511 +00:00' WHERE "id" = '177'
[2016-09-10 16:04:31.520] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"+2
                                where
                                    '/4/' like path||id||'/%'
[2016-09-10 16:04:31.526] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."starshina_id" = '177');
[2016-09-10 16:04:31.538] [ INFO] console - Executing (default): UPDATE "Kopnik" SET "path"='/4/177/',"updated_at"='2016-09-10 11:04:31.530 +00:00' WHERE "id" = '178'
[2016-09-10 16:04:31.540] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/4/' like k.path||k.id||'/%'
[2016-09-10 16:04:31.546] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('4')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 16:04:31.549] [ INFO] console - Executing (e8d98795-18ec-4aaa-add1-a4d3985e8540): COMMIT;
[2016-09-10 16:04:31.551] [ INFO] console - [ 70, 1385, {}, [ undefined ] ]
[2016-09-10 16:04:31.554] [ INFO] console - [ 16,
  948042276536320,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id2.voiskoChange',
  [],
  { voiskoSize: 1 } ]
[2016-09-10 16:04:31.558] [ INFO] console - [ 16,
  190779419000832,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id4.voiskoChange',
  [],
  { voiskoSize: 2 } ]
[2016-09-10 16:04:35.636] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopa', id: 3 }
[2016-09-10 16:04:35.639] [ INFO] console - Executing (3b3bfd0c-b5d5-4a0b-adbc-7bdfbf67e48b): START TRANSACTION;
[2016-09-10 16:04:35.641] [ INFO] console - Executing (3b3bfd0c-b5d5-4a0b-adbc-7bdfbf67e48b): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 16:04:35.653] [ INFO] console - Executing (default): SELECT "Kopa"."id", "Kopa"."question", "Kopa"."planned", "Kopa"."started", "Kopa"."closed", "Kopa"."isOpen", "Kopa"."note", "Kopa"."created_at", "Kopa"."updated_at", "Kopa"."deleted_at", "Kopa"."place_id", "Kopa"."inviter_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopa" AS "Kopa" LEFT OUTER JOIN "File" AS "attachments" ON "Kopa"."id" = "attachments"."kopa_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopa"."deleted_at" IS NULL AND "Kopa"."id" = 3);
[2016-09-10 16:04:35.660] [ INFO] console - Executing (3b3bfd0c-b5d5-4a0b-adbc-7bdfbf67e48b): COMMIT;
[2016-09-10 16:04:35.663] [ INFO] console - [ 70,
  1387,
  {},
  [ { id: '3',
      question: 'CHE',
      planned: Thu Sep 01 2016 00:00:00 GMT+0500 (YEKT),
      started: Thu Sep 01 2016 00:00:00 GMT+0500 (YEKT),
      closed: null,
      isOpen: false,
      note: null,
      created_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      deleted_at: null,
      place_id: '2',
      inviter_id: '2',
      attachments: [] } ] ]
[2016-09-10 16:04:35.689] [ INFO] console - Executing (e05b649e-c79b-47f2-af85-144fe09309dd): START TRANSACTION;
[2016-09-10 16:04:35.691] [ INFO] console - Executing (e05b649e-c79b-47f2-af85-144fe09309dd): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 16:04:35.698] [ INFO] console - Executing (default): INSERT INTO "Predlozhenie" ("id","value","created_at","updated_at","initiator_id","place_id") VALUES (DEFAULT,'some Predlozhenie temp 1473505373441','2016-09-10 11:04:35.692 +00:00','2016-09-10 11:04:35.692 +00:00',2,3) RETURNING *;
[2016-09-10 16:04:35.701] [ INFO] console - Executing (e05b649e-c79b-47f2-af85-144fe09309dd): COMMIT;
[2016-09-10 16:04:35.703] [ INFO] console - [ 70, 1388, {}, [ '60' ] ]
[2016-09-10 16:04:35.705] [ INFO] console - [ 16,
  4463743830327296,
  { acknowledge: true },
  'ru.kopa.model.Kopa.id3.predlozhenieAdd',
  [ '60' ] ]
[2016-09-10 16:04:35.711] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Predlozhenie', id: 1 }
[2016-09-10 16:04:35.716] [ INFO] console - Executing (da7788a7-337e-4524-a1d3-dff5f9df9bc2): START TRANSACTION;
[2016-09-10 16:04:35.717] [ INFO] console - Executing (da7788a7-337e-4524-a1d3-dff5f9df9bc2): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 16:04:35.722] [ INFO] console - Executing (default): SELECT "Predlozhenie"."id", "Predlozhenie"."value", "Predlozhenie"."note", "Predlozhenie"."created_at", "Predlozhenie"."updated_at", "Predlozhenie"."deleted_at", "Predlozhenie"."initiator_id", "Predlozhenie"."place_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Predlozhenie" AS "Predlozhenie" LEFT OUTER JOIN "File" AS "attachments" ON "Predlozhenie"."id" = "attachments"."predlozhenie_id" AND "attachments"."deleted_at" IS NULL WHERE ("Predlozhenie"."deleted_at" IS NULL AND "Predlozhenie"."id" = 1);
[2016-09-10 16:04:35.726] [ INFO] console - Executing (da7788a7-337e-4524-a1d3-dff5f9df9bc2): COMMIT;
[2016-09-10 16:04:35.728] [ INFO] console - [ 70,
  1389,
  {},
  [ { id: '1',
      value: 'Будет ...',
      note: null,
      created_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      deleted_at: null,
      initiator_id: '2',
      place_id: '3',
      attachments: [] } ] ]
[2016-09-10 16:04:35.737] [ INFO] console - Executing (6b62dd1a-8027-4855-9a5b-0310e3ba6b16): START TRANSACTION;
[2016-09-10 16:04:35.739] [ INFO] console - Executing (6b62dd1a-8027-4855-9a5b-0310e3ba6b16): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 16:04:35.746] [ INFO] console - Executing (default): INSERT INTO "Golos" ("id","value","created_at","updated_at","for_id","owner_id") VALUES (DEFAULT,1,'2016-09-10 11:04:35.742 +00:00','2016-09-10 11:04:35.742 +00:00',1,2) RETURNING *;
[2016-09-10 16:04:35.750] [ INFO] console - Executing (6b62dd1a-8027-4855-9a5b-0310e3ba6b16): COMMIT;
[2016-09-10 16:04:35.751] [ INFO] console - [ 70, 1390, {}, [ '60' ] ]
[2016-09-10 16:04:35.753] [ INFO] console - [ 16,
  4101200351854592,
  { acknowledge: true },
  'ru.kopa.model.Predlozhenie.id1.golosAdd',
  [ '60' ] ]
[2016-09-10 16:04:35.848] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 2 }
[2016-09-10 16:04:35.851] [ INFO] console - Executing (f7fcfada-053b-4dab-85c0-9dab9e2d8820): START TRANSACTION;
[2016-09-10 16:04:35.859] [ INFO] console - Executing (f7fcfada-053b-4dab-85c0-9dab9e2d8820): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 16:04:35.866] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 2);
[2016-09-10 16:04:35.872] [ INFO] console - Executing (f7fcfada-053b-4dab-85c0-9dab9e2d8820): COMMIT;
[2016-09-10 16:04:35.874] [ INFO] console - [ 70,
  1392,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/2/',
      starshina: [Object],
      id: '2',
      email: 'unittest2@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '1',
      voiskoSize: 1,
      birth: 1983,
      path: '/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: null,
      attachments: [] } ] ]
[2016-09-10 16:04:35.886] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 3 }
[2016-09-10 16:04:35.893] [ INFO] console - Executing (ce62da68-0ae9-4792-ba2a-95a96b5f556e): START TRANSACTION;
[2016-09-10 16:04:35.895] [ INFO] console - Executing (ce62da68-0ae9-4792-ba2a-95a96b5f556e): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 16:04:35.901] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 3);
[2016-09-10 16:04:35.905] [ INFO] console - Executing (ce62da68-0ae9-4792-ba2a-95a96b5f556e): COMMIT;
[2016-09-10 16:04:35.907] [ INFO] console - [ 70,
  1393,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/2/3/',
      starshina: [Object],
      id: '3',
      email: 'unittest3@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '3',
      voiskoSize: 0,
      birth: 1983,
      path: '/2/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: '2',
      attachments: [] } ] ]
[2016-09-10 16:04:35.919] [ INFO] console - Executing (2fc3b003-ddaf-4ec8-b844-f349a30c7bf7): START TRANSACTION;
[2016-09-10 16:04:35.922] [ INFO] console - Executing (2fc3b003-ddaf-4ec8-b844-f349a30c7bf7): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 16:04:35.927] [ INFO] console - Executing (default): INSERT INTO "Slovo" ("id","value","note","created_at","updated_at","owner_id","place_id") VALUES (DEFAULT,'123 temp','456','2016-09-10 11:04:35.923 +00:00','2016-09-10 11:04:35.923 +00:00',2,3) RETURNING *;
[2016-09-10 16:04:35.931] [ INFO] console - Executing (2fc3b003-ddaf-4ec8-b844-f349a30c7bf7): COMMIT;
[2016-09-10 16:04:35.934] [ INFO] console - [ 70, 1394, {}, [ '106' ] ]
[2016-09-10 16:04:35.935] [ INFO] console - [ 16,
  8163251743358976,
  { acknowledge: true },
  'ru.kopa.model.Kopa.id3.slovoAdd',
  [ '106' ] ]
[2016-09-10 16:04:35.940] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Slovo', id: 106 }
[2016-09-10 16:04:35.944] [ INFO] console - Executing (4cdb5205-5319-4358-9eb8-e568e73581ba): START TRANSACTION;
[2016-09-10 16:04:35.947] [ INFO] console - Executing (4cdb5205-5319-4358-9eb8-e568e73581ba): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 16:04:35.956] [ INFO] console - Executing (default): SELECT "Slovo"."id", "Slovo"."value", "Slovo"."note", "Slovo"."created_at", "Slovo"."updated_at", "Slovo"."deleted_at", "Slovo"."owner_id", "Slovo"."place_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Slovo" AS "Slovo" LEFT OUTER JOIN "File" AS "attachments" ON "Slovo"."id" = "attachments"."slovo_id" AND "attachments"."deleted_at" IS NULL WHERE ("Slovo"."deleted_at" IS NULL AND "Slovo"."id" = 106);
[2016-09-10 16:04:35.961] [ INFO] console - Executing (4cdb5205-5319-4358-9eb8-e568e73581ba): COMMIT;
[2016-09-10 16:04:35.962] [ INFO] console - [ 70,
  1395,
  {},
  [ { id: '106',
      value: '123 temp',
      note: '456',
      created_at: Sat Sep 10 2016 16:04:35 GMT+0500 (YEKT),
      updated_at: Sat Sep 10 2016 16:04:35 GMT+0500 (YEKT),
      deleted_at: null,
      owner_id: '2',
      place_id: '3',
      attachments: [] } ] ]
[2016-09-10 16:04:35.971] [ INFO] console - Executing (de3ee71a-399e-4baa-bd75-aada7c7e62e1): START TRANSACTION;
[2016-09-10 16:04:35.972] [ INFO] console - Executing (de3ee71a-399e-4baa-bd75-aada7c7e62e1): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 16:04:35.978] [ INFO] console - Executing (default): INSERT INTO "Slovo" ("id","value","created_at","updated_at","owner_id","place_id") VALUES (DEFAULT,'some value temp 1473505475969','2016-09-10 11:04:35.975 +00:00','2016-09-10 11:04:35.975 +00:00',2,3) RETURNING *;
[2016-09-10 16:04:35.983] [ INFO] console - Executing (de3ee71a-399e-4baa-bd75-aada7c7e62e1): COMMIT;
[2016-09-10 16:04:35.984] [ INFO] console - [ 70, 1396, {}, [ '107' ] ]
[2016-09-10 16:04:35.986] [ INFO] console - [ 16,
  813962207690752,
  { acknowledge: true },
  'ru.kopa.model.Kopa.id3.slovoAdd',
  [ '107' ] ]
[2016-09-10 16:04:35.992] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Zemla', id: 2 }
[2016-09-10 16:04:35.995] [ INFO] console - Executing (5da3dd65-8525-4a61-af2f-7e10423bd30d): START TRANSACTION;
[2016-09-10 16:04:35.996] [ INFO] console - Executing (5da3dd65-8525-4a61-af2f-7e10423bd30d): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 16:04:36.005] [ INFO] console - Executing (default): SELECT "Zemla"."id", "Zemla"."path", "Zemla"."name", "Zemla"."intensity", "Zemla"."note", "Zemla"."created_at", "Zemla"."updated_at", "Zemla"."deleted_at", "Zemla"."parent_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Zemla" AS "Zemla" LEFT OUTER JOIN "File" AS "attachments" ON "Zemla"."id" = "attachments"."zemla_id" AND "attachments"."deleted_at" IS NULL WHERE ("Zemla"."deleted_at" IS NULL AND "Zemla"."id" = 2);
[2016-09-10 16:04:36.011] [ INFO] console - Executing (5da3dd65-8525-4a61-af2f-7e10423bd30d): COMMIT;
[2016-09-10 16:04:36.012] [ INFO] console - [ 70,
  1397,
  {},
  [ { fullPath: 'null2/',
      id: '2',
      path: null,
      name: 'UnitTest2',
      intensity: 1000,
      note: 'unit test 1473505111569',
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Sat Sep 10 2016 15:59:56 GMT+0500 (YEKT),
      deleted_at: null,
      parent_id: '1',
      attachments: [] } ] ]
[2016-09-10 16:04:36.024] [ INFO] console - Executing (86fb3a69-7fad-4b49-a9cd-8bcfb3621e37): START TRANSACTION;
[2016-09-10 16:04:36.025] [ INFO] console - Executing (86fb3a69-7fad-4b49-a9cd-8bcfb3621e37): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 16:04:36.029] [ INFO] console - Executing (default): SELECT "id", "path", "name", "intensity", "note", "created_at", "updated_at", "deleted_at", "parent_id" FROM "Zemla" AS "Zemla" WHERE ("Zemla"."deleted_at" IS NULL AND "Zemla"."id" = 2);
[2016-09-10 16:04:36.037] [ INFO] console - Executing (default): UPDATE "Zemla" SET "parent_id"=1,"note"='unit test 1473505373481',"updated_at"='2016-09-10 11:04:36.032 +00:00' WHERE "id" = '2'
[2016-09-10 16:04:36.040] [ INFO] console - Executing (86fb3a69-7fad-4b49-a9cd-8bcfb3621e37): COMMIT;
[2016-09-10 16:04:36.041] [ INFO] console - [ 16,
  5255226665730048,
  { acknowledge: true },
  'ru.kopa.model.Zemla.id2.change' ]
[2016-09-10 16:04:36.044] [ INFO] console - [ 70, 1398, {}, [ undefined ] ]
[2016-09-10 16:04:36.047] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Zemla', id: 2 }
[2016-09-10 16:04:36.050] [ INFO] console - Executing (c0eb48ad-bfd6-4f11-a781-d4f9e72eb247): START TRANSACTION;
[2016-09-10 16:04:36.051] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Zemla', id: 2 }
[2016-09-10 16:04:36.055] [ INFO] console - Executing (c6d79fd7-d985-4f29-aa4b-8cbe18366076): START TRANSACTION;
[2016-09-10 16:04:36.055] [ INFO] console - Executing (c0eb48ad-bfd6-4f11-a781-d4f9e72eb247): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 16:04:36.057] [ INFO] console - Executing (c6d79fd7-d985-4f29-aa4b-8cbe18366076): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 16:04:36.077] [ INFO] console - Executing (default): SELECT "Zemla"."id", "Zemla"."path", "Zemla"."name", "Zemla"."intensity", "Zemla"."note", "Zemla"."created_at", "Zemla"."updated_at", "Zemla"."deleted_at", "Zemla"."parent_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Zemla" AS "Zemla" LEFT OUTER JOIN "File" AS "attachments" ON "Zemla"."id" = "attachments"."zemla_id" AND "attachments"."deleted_at" IS NULL WHERE ("Zemla"."deleted_at" IS NULL AND "Zemla"."id" = 2);
[2016-09-10 16:04:36.080] [ INFO] console - Executing (default): SELECT "Zemla"."id", "Zemla"."path", "Zemla"."name", "Zemla"."intensity", "Zemla"."note", "Zemla"."created_at", "Zemla"."updated_at", "Zemla"."deleted_at", "Zemla"."parent_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Zemla" AS "Zemla" LEFT OUTER JOIN "File" AS "attachments" ON "Zemla"."id" = "attachments"."zemla_id" AND "attachments"."deleted_at" IS NULL WHERE ("Zemla"."deleted_at" IS NULL AND "Zemla"."id" = 2);
[2016-09-10 16:04:36.086] [ INFO] console - Executing (c0eb48ad-bfd6-4f11-a781-d4f9e72eb247): COMMIT;
[2016-09-10 16:04:36.089] [ INFO] console - Executing (c6d79fd7-d985-4f29-aa4b-8cbe18366076): COMMIT;
[2016-09-10 16:04:36.090] [ INFO] console - [ 70,
  1399,
  {},
  [ { fullPath: 'null2/',
      id: '2',
      path: null,
      name: 'UnitTest2',
      intensity: 1000,
      note: 'unit test 1473505373481',
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Sat Sep 10 2016 16:04:36 GMT+0500 (YEKT),
      deleted_at: null,
      parent_id: '1',
      attachments: [] } ] ]
[2016-09-10 16:04:36.095] [ INFO] console - [ 70,
  1400,
  {},
  [ { fullPath: 'null2/',
      id: '2',
      path: null,
      name: 'UnitTest2',
      intensity: 1000,
      note: 'unit test 1473505373481',
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Sat Sep 10 2016 16:04:36 GMT+0500 (YEKT),
      deleted_at: null,
      parent_id: '1',
      attachments: [] } ] ]
[2016-09-10 16:04:40.608] [ INFO] console - [ 70, 1402, {}, [ 'unittest2@domain.ru' ] ]
[2016-09-10 16:04:40.622] [DEBUG] Server - #pingPong() [ 1, 2, 3 ] { x: 1, y: 2, z: 3 }
[2016-09-10 16:04:40.625] [ INFO] console - [ 70, 1403, {}, [ 1, 2, 3 ], { x: 1, y: 2, z: 3 } ]
[2016-09-10 16:04:40.647] [ INFO] console - Executing (default): select 'КОПА' as result
[2016-09-10 16:04:40.650] [ INFO] console - [ 70, 1404, {}, [ 'КОПА' ] ]
[2016-09-10 16:04:40.660] [DEBUG] Server - #error() [ 'sadkljfaskldjfs;af' ] {}
[2016-09-10 16:04:40.663] [ERROR] Server - [Error: sadkljfaskldjfs;af]
Error: sadkljfaskldjfs;af
    at MySuperError (Server.js:339:9)
    at fn.constructor.error.Error (Server.js:344:19)
    at new wrappedPromise (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/async-listener/index.js:372:16)
    at Server.error (Server.js:343:16)
    at Object.<anonymous> (Server.js:415:43)
    at [object Generator].next (native)
    at step (/home/alexey2baranov/htdocs/kp-sequelizejs/src/Server.js:1:253)
    at /home/alexey2baranov/htdocs/kp-sequelizejs/src/Server.js:1:513
    at new wrappedPromise (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/async-listener/index.js:372:16)
    at Object.<anonymous> (/home/alexey2baranov/htdocs/kp-sequelizejs/src/Server.js:1:161)
    at Object.<anonymous> (Server.js:412:28)
    at tryCatchResolve (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/apply.js:46:23)
    at callAndResolve (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/apply.js:30:12)
    at callAndResolveNext (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/apply.js:40:4)
    at tryCatchReject3 (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/makePromise.js:856:7)
    at runContinuation3 (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/makePromise.js:814:4)
[2016-09-10 16:04:40.686] [ INFO] console - [ 8,
  68,
  1405,
  {},
  'MySuperError',
  [ 'sadkljfaskldjfs;af' ],
  { stack: 
     [ 'Error: sadkljfaskldjfs;af',
       '    at MySuperError (Server.js:339:9)',
       '    at fn.constructor.error.Error (Server.js:344:19)',
       '    at new wrappedPromise (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/async-listener/index.js:372:16)',
       '    at Server.error (Server.js:343:16)',
       '    at Object.<anonymous> (Server.js:415:43)',
       '    at [object Generator].next (native)',
       '    at step (/home/alexey2baranov/htdocs/kp-sequelizejs/src/Server.js:1:253)',
       '    at /home/alexey2baranov/htdocs/kp-sequelizejs/src/Server.js:1:513',
       '    at new wrappedPromise (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/async-listener/index.js:372:16)',
       '    at Object.<anonymous> (/home/alexey2baranov/htdocs/kp-sequelizejs/src/Server.js:1:161)',
       '    at Object.<anonymous> (Server.js:412:28)',
       '    at tryCatchResolve (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/apply.js:46:23)',
       '    at callAndResolve (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/apply.js:30:12)',
       '    at callAndResolveNext (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/apply.js:40:4)',
       '    at tryCatchReject3 (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/makePromise.js:856:7)',
       '    at runContinuation3 (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/makePromise.js:814:4)' ] } ]
[2016-09-10 16:04:40.695] [ INFO] console - [ 70, 1406, {}, [ undefined ] ]
[2016-09-10 16:04:40.700] [ INFO] console - Executing (default): delete from "Slovo"
                where
                    place_id<5
                    and value like '%temp'
[2016-09-10 16:04:40.711] [ INFO] console - Executing (default): delete from "Kopnik"
                where
                    name like '%temp'
[2016-09-10 16:04:40.714] [ INFO] console - Executing (default): update "Kopnik"
                set 
                    "voiskoSize"= case when id=2 then 1 ELSE 0 END
                where
                    id>1 
                    and id<=5
[2016-09-10 16:04:40.744] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopa', id: 3 }
[2016-09-10 16:04:40.747] [ INFO] console - Executing (856bfffc-8934-412d-9167-f9632cc7d145): START TRANSACTION;
[2016-09-10 16:04:40.748] [ INFO] console - Executing (856bfffc-8934-412d-9167-f9632cc7d145): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 16:04:40.755] [ INFO] console - Executing (default): SELECT "Kopa"."id", "Kopa"."question", "Kopa"."planned", "Kopa"."started", "Kopa"."closed", "Kopa"."isOpen", "Kopa"."note", "Kopa"."created_at", "Kopa"."updated_at", "Kopa"."deleted_at", "Kopa"."place_id", "Kopa"."inviter_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopa" AS "Kopa" LEFT OUTER JOIN "File" AS "attachments" ON "Kopa"."id" = "attachments"."kopa_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopa"."deleted_at" IS NULL AND "Kopa"."id" = 3);
[2016-09-10 16:04:40.761] [ INFO] console - Executing (856bfffc-8934-412d-9167-f9632cc7d145): COMMIT;
[2016-09-10 16:04:40.762] [ INFO] console - [ 70,
  1408,
  {},
  [ { id: '3',
      question: 'CHE',
      planned: Thu Sep 01 2016 00:00:00 GMT+0500 (YEKT),
      started: Thu Sep 01 2016 00:00:00 GMT+0500 (YEKT),
      closed: null,
      isOpen: false,
      note: null,
      created_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      deleted_at: null,
      place_id: '2',
      inviter_id: '2',
      attachments: [] } ] ]
[2016-09-10 16:04:40.774] [ INFO] console - Executing (84fd6b46-c0cd-465e-baae-c728e3ab50b5): START TRANSACTION;
[2016-09-10 16:04:40.776] [ INFO] console - Executing (84fd6b46-c0cd-465e-baae-c728e3ab50b5): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 16:04:40.783] [ INFO] console - Executing (default): INSERT INTO "Golos" ("id","value","created_at","updated_at","for_id","owner_id") VALUES (DEFAULT,1,'2016-09-10 11:04:40.779 +00:00','2016-09-10 11:04:40.779 +00:00',1,2) RETURNING *;
[2016-09-10 16:04:40.785] [ INFO] console - Executing (84fd6b46-c0cd-465e-baae-c728e3ab50b5): COMMIT;
[2016-09-10 16:04:40.786] [ INFO] console - [ 70, 1409, {}, [ '61' ] ]
[2016-09-10 16:04:40.792] [ INFO] console - [ 16,
  1263681516077056,
  { acknowledge: true },
  'ru.kopa.model.Predlozhenie.id1.golosAdd',
  [ '61' ] ]
[2016-09-10 16:04:40.830] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopa', id: 3 }
[2016-09-10 16:04:40.833] [ INFO] console - Executing (2c551f82-63ed-4779-a78f-fdab5c4e2fb5): START TRANSACTION;
[2016-09-10 16:04:40.835] [ INFO] console - Executing (2c551f82-63ed-4779-a78f-fdab5c4e2fb5): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 16:04:40.845] [ INFO] console - Executing (default): SELECT "Kopa"."id", "Kopa"."question", "Kopa"."planned", "Kopa"."started", "Kopa"."closed", "Kopa"."isOpen", "Kopa"."note", "Kopa"."created_at", "Kopa"."updated_at", "Kopa"."deleted_at", "Kopa"."place_id", "Kopa"."inviter_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopa" AS "Kopa" LEFT OUTER JOIN "File" AS "attachments" ON "Kopa"."id" = "attachments"."kopa_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopa"."deleted_at" IS NULL AND "Kopa"."id" = 3);
[2016-09-10 16:04:40.855] [ INFO] console - Executing (2c551f82-63ed-4779-a78f-fdab5c4e2fb5): COMMIT;
[2016-09-10 16:04:40.856] [ INFO] console - [ 70,
  1411,
  {},
  [ { id: '3',
      question: 'CHE',
      planned: Thu Sep 01 2016 00:00:00 GMT+0500 (YEKT),
      started: Thu Sep 01 2016 00:00:00 GMT+0500 (YEKT),
      closed: null,
      isOpen: false,
      note: null,
      created_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      deleted_at: null,
      place_id: '2',
      inviter_id: '2',
      attachments: [] } ] ]
[2016-09-10 16:04:40.865] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 2 }
[2016-09-10 16:04:40.868] [ INFO] console - Executing (85d4f3aa-078b-4f8a-84fb-b966f30d5850): START TRANSACTION;
[2016-09-10 16:04:40.871] [ INFO] console - Executing (85d4f3aa-078b-4f8a-84fb-b966f30d5850): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 16:04:40.879] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 2);
[2016-09-10 16:04:40.883] [ INFO] console - Executing (85d4f3aa-078b-4f8a-84fb-b966f30d5850): COMMIT;
[2016-09-10 16:04:40.884] [ INFO] console - [ 70,
  1412,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/2/',
      starshina: [Object],
      id: '2',
      email: 'unittest2@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '1',
      voiskoSize: 1,
      birth: 1983,
      path: '/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: null,
      attachments: [] } ] ]
[2016-09-10 16:04:40.898] [ INFO] console - Executing (bdf5ee1d-1622-4bf5-b903-d1627037360b): START TRANSACTION;
[2016-09-10 16:04:40.899] [ INFO] console - Executing (bdf5ee1d-1622-4bf5-b903-d1627037360b): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 16:04:40.905] [ INFO] console - Executing (default): INSERT INTO "Slovo" ("id","value","created_at","updated_at","owner_id","place_id") VALUES (DEFAULT,'some Slovo temp 1473505480895','2016-09-10 11:04:40.901 +00:00','2016-09-10 11:04:40.901 +00:00',2,3) RETURNING *;
[2016-09-10 16:04:40.908] [ INFO] console - Executing (bdf5ee1d-1622-4bf5-b903-d1627037360b): COMMIT;
[2016-09-10 16:04:40.909] [ INFO] console - [ 70, 1413, {}, [ '108' ] ]
[2016-09-10 16:04:40.916] [ INFO] console - [ 16,
  3964499679772672,
  { acknowledge: true },
  'ru.kopa.model.Kopa.id3.slovoAdd',
  [ '108' ] ]
[2016-09-10 16:04:40.923] [ INFO] console - Executing (e291da62-63a6-4bc4-abe3-bfa49e3d8f2f): START TRANSACTION;
[2016-09-10 16:04:40.925] [ INFO] console - Executing (e291da62-63a6-4bc4-abe3-bfa49e3d8f2f): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 16:04:40.929] [ INFO] console - Executing (default): INSERT INTO "Predlozhenie" ("id","value","created_at","updated_at","initiator_id","place_id") VALUES (DEFAULT,'some Predlozhenie temp 1473505480920','2016-09-10 11:04:40.927 +00:00','2016-09-10 11:04:40.927 +00:00',2,3) RETURNING *;
[2016-09-10 16:04:40.932] [ INFO] console - Executing (e291da62-63a6-4bc4-abe3-bfa49e3d8f2f): COMMIT;
[2016-09-10 16:04:40.934] [ INFO] console - [ 70, 1414, {}, [ '61' ] ]
[2016-09-10 16:04:40.939] [ INFO] console - [ 16,
  2440173121961984,
  { acknowledge: true },
  'ru.kopa.model.Kopa.id3.predlozhenieAdd',
  [ '61' ] ]
[2016-09-10 16:04:40.972] [ INFO] console - [ 70, 1416, {}, [ undefined ] ]
[2016-09-10 16:04:40.975] [ INFO] console - Executing (default): delete from "Kopnik"
                where
                    name like '%temp'
[2016-09-10 16:04:40.983] [ INFO] console - Executing (default): update "Kopnik"
                set 
                    "voiskoSize"= case when id=2 then 1 ELSE 0 END
                where
                    id>1 
                    and id<=5
[2016-09-10 16:04:40.985] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 2 }
[2016-09-10 16:04:40.990] [ INFO] console - Executing (420c7616-2cf9-4ab3-b0cd-26ec4712d7b5): START TRANSACTION;
[2016-09-10 16:04:40.991] [ INFO] console - Executing (420c7616-2cf9-4ab3-b0cd-26ec4712d7b5): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 16:04:40.997] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 2);
[2016-09-10 16:04:41.001] [ INFO] console - Executing (420c7616-2cf9-4ab3-b0cd-26ec4712d7b5): COMMIT;
[2016-09-10 16:04:41.002] [ INFO] console - [ 70,
  1417,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/2/',
      starshina: [Object],
      id: '2',
      email: 'unittest2@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '1',
      voiskoSize: 1,
      birth: 1983,
      path: '/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: null,
      attachments: [] } ] ]
[2016-09-10 16:04:41.017] [ INFO] console - Executing (1ae048a6-f8da-47b7-856e-5fd5f9e93d31): START TRANSACTION;
[2016-09-10 16:04:41.019] [ INFO] console - Executing (1ae048a6-f8da-47b7-856e-5fd5f9e93d31): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 16:04:41.024] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 2);
[2016-09-10 16:04:41.028] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"+1
                                where
                                    '/2/' like path||id||'/%'
[2016-09-10 16:04:41.033] [ INFO] console - Executing (default): INSERT INTO "Kopnik" ("id","name","surname","patronymic","voiskoSize","birth","path","created_at","updated_at","rodina_id","starshina_id") VALUES (DEFAULT,'temp','temp','temp',0,1900,'/2/','2016-09-10 11:04:41.021 +00:00','2016-09-10 11:04:41.021 +00:00',NULL,2) RETURNING *;
[2016-09-10 16:04:41.037] [ INFO] console - Executing (1ae048a6-f8da-47b7-856e-5fd5f9e93d31): COMMIT;
[2016-09-10 16:04:41.039] [ INFO] console - [ 70, 1418, {}, [ '179' ] ]
[2016-09-10 16:04:41.046] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/' like k.path||k.id||'/%'
[2016-09-10 16:04:41.047] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Zemla', id: 2 }
[2016-09-10 16:04:41.055] [ INFO] console - Executing (c3041f70-e9dc-4d94-8bd3-e1fdfca40ddd): START TRANSACTION;
[2016-09-10 16:04:41.055] [ INFO] console - Executing (4ce9d8bb-40b0-4cbd-93df-3b72819bff17): START TRANSACTION;
[2016-09-10 16:04:41.058] [ INFO] console - Executing (c3041f70-e9dc-4d94-8bd3-e1fdfca40ddd): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 16:04:41.058] [ INFO] console - Executing (4ce9d8bb-40b0-4cbd-93df-3b72819bff17): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 16:04:41.068] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 16:04:41.073] [ INFO] console - [ 16,
  205373042589696,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id2.voiskoChange',
  [],
  { voiskoSize: 2 } ]
[2016-09-10 16:04:41.083] [ INFO] console - Executing (default): SELECT "Zemla"."id", "Zemla"."path", "Zemla"."name", "Zemla"."intensity", "Zemla"."note", "Zemla"."created_at", "Zemla"."updated_at", "Zemla"."deleted_at", "Zemla"."parent_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Zemla" AS "Zemla" LEFT OUTER JOIN "File" AS "attachments" ON "Zemla"."id" = "attachments"."zemla_id" AND "attachments"."deleted_at" IS NULL WHERE ("Zemla"."deleted_at" IS NULL AND "Zemla"."id" = 2);
[2016-09-10 16:04:41.087] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 179);
[2016-09-10 16:04:41.095] [ INFO] console - Executing (c3041f70-e9dc-4d94-8bd3-e1fdfca40ddd): COMMIT;
[2016-09-10 16:04:41.095] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"+1
                                where
                                    '/2/179/' like path||id||'/%'
[2016-09-10 16:04:41.097] [ INFO] console - [ 70,
  1419,
  {},
  [ { fullPath: 'null2/',
      id: '2',
      path: null,
      name: 'UnitTest2',
      intensity: 1000,
      note: 'unit test 1473505373481',
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Sat Sep 10 2016 16:04:36 GMT+0500 (YEKT),
      deleted_at: null,
      parent_id: '1',
      attachments: [] } ] ]
[2016-09-10 16:04:41.105] [ INFO] console - Executing (default): INSERT INTO "Kopnik" ("id","name","surname","patronymic","voiskoSize","birth","path","created_at","updated_at","rodina_id","starshina_id") VALUES (DEFAULT,'temp','temp','temp',0,1900,'/2/179/','2016-09-10 11:04:41.072 +00:00','2016-09-10 11:04:41.072 +00:00',NULL,179) RETURNING *;
[2016-09-10 16:04:41.109] [ INFO] console - Executing (4ce9d8bb-40b0-4cbd-93df-3b72819bff17): COMMIT;
[2016-09-10 16:04:41.110] [ INFO] console - [ 70, 1420, {}, [ '180' ] ]
[2016-09-10 16:04:41.114] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/179/' like k.path||k.id||'/%'
[2016-09-10 16:04:41.120] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2', '179')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 16:04:41.124] [ INFO] console - [ 16,
  861416135327744,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id179.voiskoChange',
  [],
  { voiskoSize: 1 } ]
[2016-09-10 16:04:41.130] [ INFO] console - [ 16,
  4925245439868928,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id2.voiskoChange',
  [],
  { voiskoSize: 3 } ]
[2016-09-10 16:04:59.321] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 4 }
[2016-09-10 16:04:59.331] [ INFO] console - Executing (58ef4061-de4a-4d7b-8055-d880c221908c): START TRANSACTION;
[2016-09-10 16:04:59.332] [ INFO] console - Executing (58ef4061-de4a-4d7b-8055-d880c221908c): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 16:04:59.352] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 4);
[2016-09-10 16:04:59.365] [ INFO] console - Executing (58ef4061-de4a-4d7b-8055-d880c221908c): COMMIT;
[2016-09-10 16:04:59.367] [ INFO] console - [ 70,
  1421,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/4/',
      starshina: [Object],
      id: '4',
      email: 'unittest4@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '4',
      voiskoSize: 0,
      birth: 1983,
      path: '/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: null,
      attachments: [] } ] ]
[2016-09-10 16:05:02.727] [ INFO] console - [ 70, 1423, {}, [ 'unittest2@domain.ru' ] ]
[2016-09-10 16:05:02.733] [DEBUG] Server - #pingPong() [ 1, 2, 3 ] { x: 1, y: 2, z: 3 }
[2016-09-10 16:05:02.736] [ INFO] console - [ 70, 1424, {}, [ 1, 2, 3 ], { x: 1, y: 2, z: 3 } ]
[2016-09-10 16:05:02.743] [ INFO] console - Executing (default): select 'КОПА' as result
[2016-09-10 16:05:02.751] [ INFO] console - [ 70, 1425, {}, [ 'КОПА' ] ]
[2016-09-10 16:05:02.757] [DEBUG] Server - #error() [ 'sadkljfaskldjfs;af' ] {}
[2016-09-10 16:05:02.761] [ERROR] Server - [Error: sadkljfaskldjfs;af]
Error: sadkljfaskldjfs;af
    at MySuperError (Server.js:339:9)
    at fn.constructor.error.Error (Server.js:344:19)
    at new wrappedPromise (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/async-listener/index.js:372:16)
    at Server.error (Server.js:343:16)
    at Object.<anonymous> (Server.js:415:43)
    at [object Generator].next (native)
    at step (/home/alexey2baranov/htdocs/kp-sequelizejs/src/Server.js:1:253)
    at /home/alexey2baranov/htdocs/kp-sequelizejs/src/Server.js:1:513
    at new wrappedPromise (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/async-listener/index.js:372:16)
    at Object.<anonymous> (/home/alexey2baranov/htdocs/kp-sequelizejs/src/Server.js:1:161)
    at Object.<anonymous> (Server.js:412:28)
    at tryCatchResolve (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/apply.js:46:23)
    at callAndResolve (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/apply.js:30:12)
    at callAndResolveNext (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/apply.js:40:4)
    at tryCatchReject3 (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/makePromise.js:856:7)
    at runContinuation3 (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/makePromise.js:814:4)
[2016-09-10 16:05:02.767] [ INFO] console - [ 8,
  68,
  1426,
  {},
  'MySuperError',
  [ 'sadkljfaskldjfs;af' ],
  { stack: 
     [ 'Error: sadkljfaskldjfs;af',
       '    at MySuperError (Server.js:339:9)',
       '    at fn.constructor.error.Error (Server.js:344:19)',
       '    at new wrappedPromise (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/async-listener/index.js:372:16)',
       '    at Server.error (Server.js:343:16)',
       '    at Object.<anonymous> (Server.js:415:43)',
       '    at [object Generator].next (native)',
       '    at step (/home/alexey2baranov/htdocs/kp-sequelizejs/src/Server.js:1:253)',
       '    at /home/alexey2baranov/htdocs/kp-sequelizejs/src/Server.js:1:513',
       '    at new wrappedPromise (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/async-listener/index.js:372:16)',
       '    at Object.<anonymous> (/home/alexey2baranov/htdocs/kp-sequelizejs/src/Server.js:1:161)',
       '    at Object.<anonymous> (Server.js:412:28)',
       '    at tryCatchResolve (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/apply.js:46:23)',
       '    at callAndResolve (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/apply.js:30:12)',
       '    at callAndResolveNext (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/apply.js:40:4)',
       '    at tryCatchReject3 (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/makePromise.js:856:7)',
       '    at runContinuation3 (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/makePromise.js:814:4)' ] } ]
[2016-09-10 16:05:02.780] [ INFO] console - [ 70, 1427, {}, [ undefined ] ]
[2016-09-10 16:05:02.782] [ INFO] console - Executing (default): delete from "Slovo"
                where
                    place_id<5
                    and value like '%temp'
[2016-09-10 16:05:02.789] [ INFO] console - Executing (default): delete from "Kopnik"
                where
                    name like '%temp'
[2016-09-10 16:05:02.791] [ INFO] console - Executing (default): update "Kopnik"
                set 
                    "voiskoSize"= case when id=2 then 1 ELSE 0 END
                where
                    id>1 
                    and id<=5
[2016-09-10 16:05:02.839] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopa', id: 3 }
[2016-09-10 16:05:02.842] [ INFO] console - Executing (de3ea5cf-b0bf-4a62-b93e-662caff039cb): START TRANSACTION;
[2016-09-10 16:05:02.843] [ INFO] console - Executing (de3ea5cf-b0bf-4a62-b93e-662caff039cb): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 16:05:02.850] [ INFO] console - Executing (default): SELECT "Kopa"."id", "Kopa"."question", "Kopa"."planned", "Kopa"."started", "Kopa"."closed", "Kopa"."isOpen", "Kopa"."note", "Kopa"."created_at", "Kopa"."updated_at", "Kopa"."deleted_at", "Kopa"."place_id", "Kopa"."inviter_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopa" AS "Kopa" LEFT OUTER JOIN "File" AS "attachments" ON "Kopa"."id" = "attachments"."kopa_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopa"."deleted_at" IS NULL AND "Kopa"."id" = 3);
[2016-09-10 16:05:02.859] [ INFO] console - Executing (de3ea5cf-b0bf-4a62-b93e-662caff039cb): COMMIT;
[2016-09-10 16:05:02.861] [ INFO] console - [ 70,
  1429,
  {},
  [ { id: '3',
      question: 'CHE',
      planned: Thu Sep 01 2016 00:00:00 GMT+0500 (YEKT),
      started: Thu Sep 01 2016 00:00:00 GMT+0500 (YEKT),
      closed: null,
      isOpen: false,
      note: null,
      created_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      deleted_at: null,
      place_id: '2',
      inviter_id: '2',
      attachments: [] } ] ]
[2016-09-10 16:05:02.872] [ INFO] console - Executing (948d393c-0e05-44fb-9575-ddf4cb50d176): START TRANSACTION;
[2016-09-10 16:05:02.875] [ INFO] console - Executing (948d393c-0e05-44fb-9575-ddf4cb50d176): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 16:05:02.880] [ INFO] console - Executing (default): INSERT INTO "Golos" ("id","value","created_at","updated_at","for_id","owner_id") VALUES (DEFAULT,1,'2016-09-10 11:05:02.877 +00:00','2016-09-10 11:05:02.877 +00:00',1,2) RETURNING *;
[2016-09-10 16:05:02.884] [ INFO] console - Executing (948d393c-0e05-44fb-9575-ddf4cb50d176): COMMIT;
[2016-09-10 16:05:02.885] [ INFO] console - [ 70, 1430, {}, [ '62' ] ]
[2016-09-10 16:05:02.887] [ INFO] console - [ 16,
  7305301030076416,
  { acknowledge: true },
  'ru.kopa.model.Predlozhenie.id1.golosAdd',
  [ '62' ] ]
[2016-09-10 16:05:02.937] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopa', id: 3 }
[2016-09-10 16:05:02.940] [ INFO] console - Executing (c94dc72a-2abd-49ed-86d2-2f5d9d3b0342): START TRANSACTION;
[2016-09-10 16:05:02.942] [ INFO] console - Executing (c94dc72a-2abd-49ed-86d2-2f5d9d3b0342): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 16:05:02.947] [ INFO] console - Executing (default): SELECT "Kopa"."id", "Kopa"."question", "Kopa"."planned", "Kopa"."started", "Kopa"."closed", "Kopa"."isOpen", "Kopa"."note", "Kopa"."created_at", "Kopa"."updated_at", "Kopa"."deleted_at", "Kopa"."place_id", "Kopa"."inviter_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopa" AS "Kopa" LEFT OUTER JOIN "File" AS "attachments" ON "Kopa"."id" = "attachments"."kopa_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopa"."deleted_at" IS NULL AND "Kopa"."id" = 3);
[2016-09-10 16:05:02.953] [ INFO] console - Executing (c94dc72a-2abd-49ed-86d2-2f5d9d3b0342): COMMIT;
[2016-09-10 16:05:02.955] [ INFO] console - [ 70,
  1432,
  {},
  [ { id: '3',
      question: 'CHE',
      planned: Thu Sep 01 2016 00:00:00 GMT+0500 (YEKT),
      started: Thu Sep 01 2016 00:00:00 GMT+0500 (YEKT),
      closed: null,
      isOpen: false,
      note: null,
      created_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      deleted_at: null,
      place_id: '2',
      inviter_id: '2',
      attachments: [] } ] ]
[2016-09-10 16:05:02.964] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 2 }
[2016-09-10 16:05:02.967] [ INFO] console - Executing (60bc884e-625a-4e33-8973-65a518de10b3): START TRANSACTION;
[2016-09-10 16:05:02.969] [ INFO] console - Executing (60bc884e-625a-4e33-8973-65a518de10b3): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 16:05:02.979] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 2);
[2016-09-10 16:05:02.983] [ INFO] console - Executing (60bc884e-625a-4e33-8973-65a518de10b3): COMMIT;
[2016-09-10 16:05:02.985] [ INFO] console - [ 70,
  1433,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/2/',
      starshina: [Object],
      id: '2',
      email: 'unittest2@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '1',
      voiskoSize: 1,
      birth: 1983,
      path: '/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: null,
      attachments: [] } ] ]
[2016-09-10 16:05:02.997] [ INFO] console - Executing (c51ab60f-02ff-4a5a-ac20-95f2b590bb85): START TRANSACTION;
[2016-09-10 16:05:02.999] [ INFO] console - Executing (c51ab60f-02ff-4a5a-ac20-95f2b590bb85): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 16:05:03.003] [ INFO] console - Executing (default): INSERT INTO "Slovo" ("id","value","created_at","updated_at","owner_id","place_id") VALUES (DEFAULT,'some Slovo temp 1473505502994','2016-09-10 11:05:03.000 +00:00','2016-09-10 11:05:03.000 +00:00',2,3) RETURNING *;
[2016-09-10 16:05:03.007] [ INFO] console - Executing (c51ab60f-02ff-4a5a-ac20-95f2b590bb85): COMMIT;
[2016-09-10 16:05:03.009] [ INFO] console - [ 70, 1434, {}, [ '109' ] ]
[2016-09-10 16:05:03.013] [ INFO] console - [ 16,
  395744873807872,
  { acknowledge: true },
  'ru.kopa.model.Kopa.id3.slovoAdd',
  [ '109' ] ]
[2016-09-10 16:05:03.022] [ INFO] console - Executing (1be5ee25-85f2-4721-8d92-19cb5369450d): START TRANSACTION;
[2016-09-10 16:05:03.024] [ INFO] console - Executing (1be5ee25-85f2-4721-8d92-19cb5369450d): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 16:05:03.030] [ INFO] console - Executing (default): INSERT INTO "Predlozhenie" ("id","value","created_at","updated_at","initiator_id","place_id") VALUES (DEFAULT,'some Predlozhenie temp 1473505503019','2016-09-10 11:05:03.025 +00:00','2016-09-10 11:05:03.025 +00:00',2,3) RETURNING *;
[2016-09-10 16:05:03.035] [ INFO] console - Executing (1be5ee25-85f2-4721-8d92-19cb5369450d): COMMIT;
[2016-09-10 16:05:03.036] [ INFO] console - [ 70, 1435, {}, [ '62' ] ]
[2016-09-10 16:05:03.042] [ INFO] console - [ 16,
  7207621668896768,
  { acknowledge: true },
  'ru.kopa.model.Kopa.id3.predlozhenieAdd',
  [ '62' ] ]
[2016-09-10 16:05:03.067] [ INFO] console - [ 70, 1437, {}, [ undefined ] ]
[2016-09-10 16:05:03.073] [ INFO] console - Executing (default): delete from "Kopnik"
                where
                    name like '%temp'
[2016-09-10 16:05:03.077] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 2 }
[2016-09-10 16:05:03.084] [ INFO] console - Executing (9084dc36-25a5-434d-bf17-121ac52b8a4e): START TRANSACTION;
[2016-09-10 16:05:03.089] [ INFO] console - Executing (default): update "Kopnik"
                set 
                    "voiskoSize"= case when id=2 then 1 ELSE 0 END
                where
                    id>1 
                    and id<=5
[2016-09-10 16:05:03.091] [ INFO] console - Executing (9084dc36-25a5-434d-bf17-121ac52b8a4e): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 16:05:03.101] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 2);
[2016-09-10 16:05:03.106] [ INFO] console - Executing (9084dc36-25a5-434d-bf17-121ac52b8a4e): COMMIT;
[2016-09-10 16:05:03.108] [ INFO] console - [ 70,
  1438,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/2/',
      starshina: [Object],
      id: '2',
      email: 'unittest2@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '1',
      voiskoSize: 1,
      birth: 1983,
      path: '/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: null,
      attachments: [] } ] ]
[2016-09-10 16:05:03.126] [ INFO] console - Executing (cff12281-ce15-48e3-bde1-010b90b0c910): START TRANSACTION;
[2016-09-10 16:05:03.138] [ INFO] console - Executing (cff12281-ce15-48e3-bde1-010b90b0c910): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 16:05:03.153] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 2);
[2016-09-10 16:05:03.157] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"+1
                                where
                                    '/2/' like path||id||'/%'
[2016-09-10 16:05:03.168] [ INFO] console - Executing (default): INSERT INTO "Kopnik" ("id","name","surname","patronymic","voiskoSize","birth","path","created_at","updated_at","rodina_id","starshina_id") VALUES (DEFAULT,'temp','temp','temp',0,1900,'/2/','2016-09-10 11:05:03.141 +00:00','2016-09-10 11:05:03.141 +00:00',NULL,2) RETURNING *;
[2016-09-10 16:05:03.172] [ INFO] console - Executing (cff12281-ce15-48e3-bde1-010b90b0c910): COMMIT;
[2016-09-10 16:05:03.174] [ INFO] console - [ 70, 1439, {}, [ '181' ] ]
[2016-09-10 16:05:03.178] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/' like k.path||k.id||'/%'
[2016-09-10 16:05:03.183] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Zemla', id: 2 }
[2016-09-10 16:05:03.190] [ INFO] console - Executing (d43848f3-101c-4fd8-865d-00673b9d642e): START TRANSACTION;
[2016-09-10 16:05:03.190] [ INFO] console - Executing (f6af9e22-2094-4aa2-9956-4fd94bb5f266): START TRANSACTION;
[2016-09-10 16:05:03.204] [ INFO] console - Executing (d43848f3-101c-4fd8-865d-00673b9d642e): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 16:05:03.205] [ INFO] console - Executing (f6af9e22-2094-4aa2-9956-4fd94bb5f266): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 16:05:03.231] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 16:05:03.248] [ INFO] console - Executing (default): SELECT "Zemla"."id", "Zemla"."path", "Zemla"."name", "Zemla"."intensity", "Zemla"."note", "Zemla"."created_at", "Zemla"."updated_at", "Zemla"."deleted_at", "Zemla"."parent_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Zemla" AS "Zemla" LEFT OUTER JOIN "File" AS "attachments" ON "Zemla"."id" = "attachments"."zemla_id" AND "attachments"."deleted_at" IS NULL WHERE ("Zemla"."deleted_at" IS NULL AND "Zemla"."id" = 2);
[2016-09-10 16:05:03.252] [ INFO] console - [ 16,
  2848056879874048,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id2.voiskoChange',
  [],
  { voiskoSize: 2 } ]
[2016-09-10 16:05:03.268] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 181);
[2016-09-10 16:05:03.276] [ INFO] console - Executing (d43848f3-101c-4fd8-865d-00673b9d642e): COMMIT;
[2016-09-10 16:05:03.280] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"+1
                                where
                                    '/2/181/' like path||id||'/%'
[2016-09-10 16:05:03.281] [ INFO] console - [ 70,
  1440,
  {},
  [ { fullPath: 'null2/',
      id: '2',
      path: null,
      name: 'UnitTest2',
      intensity: 1000,
      note: 'unit test 1473505373481',
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Sat Sep 10 2016 16:04:36 GMT+0500 (YEKT),
      deleted_at: null,
      parent_id: '1',
      attachments: [] } ] ]
[2016-09-10 16:05:03.292] [ INFO] console - Executing (default): INSERT INTO "Kopnik" ("id","name","surname","patronymic","voiskoSize","birth","path","created_at","updated_at","rodina_id","starshina_id") VALUES (DEFAULT,'temp','temp','temp',0,1900,'/2/181/','2016-09-10 11:05:03.214 +00:00','2016-09-10 11:05:03.214 +00:00',NULL,181) RETURNING *;
[2016-09-10 16:05:03.297] [ INFO] console - Executing (f6af9e22-2094-4aa2-9956-4fd94bb5f266): COMMIT;
[2016-09-10 16:05:03.304] [ INFO] console - [ 70, 1441, {}, [ '182' ] ]
[2016-09-10 16:05:03.309] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/181/' like k.path||k.id||'/%'
[2016-09-10 16:05:03.320] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2', '181')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 16:05:03.324] [ INFO] console - [ 16,
  7453659797389312,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id181.voiskoChange',
  [],
  { voiskoSize: 1 } ]
[2016-09-10 16:05:03.328] [ INFO] console - [ 16,
  4606675765952512,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id2.voiskoChange',
  [],
  { voiskoSize: 3 } ]
[2016-09-10 16:09:58.207] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 2 }
[2016-09-10 16:09:58.257] [ INFO] console - Executing (3832fb4d-5aa8-46ec-9852-1dcceab12766): START TRANSACTION;
[2016-09-10 16:09:58.259] [ INFO] console - Executing (3832fb4d-5aa8-46ec-9852-1dcceab12766): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 16:09:58.273] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 2);
[2016-09-10 16:09:58.281] [ INFO] console - Executing (3832fb4d-5aa8-46ec-9852-1dcceab12766): COMMIT;
[2016-09-10 16:09:58.283] [ INFO] console - [ 70,
  1443,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/2/',
      starshina: [Object],
      id: '2',
      email: 'unittest2@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '1',
      voiskoSize: 3,
      birth: 1983,
      path: '/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: null,
      attachments: [] } ] ]
[2016-09-10 16:09:58.299] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 3 }
[2016-09-10 16:09:58.302] [ INFO] console - Executing (80c240c8-a7e2-4d3d-b284-e4fe2ca5691f): START TRANSACTION;
[2016-09-10 16:09:58.303] [ INFO] console - Executing (80c240c8-a7e2-4d3d-b284-e4fe2ca5691f): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 16:09:58.312] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 3);
[2016-09-10 16:09:58.320] [ INFO] console - Executing (80c240c8-a7e2-4d3d-b284-e4fe2ca5691f): COMMIT;
[2016-09-10 16:09:58.321] [ INFO] console - [ 70,
  1444,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/2/3/',
      starshina: [Object],
      id: '3',
      email: 'unittest3@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '3',
      voiskoSize: 0,
      birth: 1983,
      path: '/2/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: '2',
      attachments: [] } ] ]
[2016-09-10 16:09:58.342] [ INFO] console - Executing (a655650c-37ac-476b-b227-3b497f9fa989): START TRANSACTION;
[2016-09-10 16:09:58.344] [ INFO] console - Executing (a655650c-37ac-476b-b227-3b497f9fa989): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 16:09:58.354] [ INFO] console - Executing (default): INSERT INTO "Slovo" ("id","value","note","created_at","updated_at","owner_id","place_id") VALUES (DEFAULT,'123 temp','456','2016-09-10 11:09:58.346 +00:00','2016-09-10 11:09:58.346 +00:00',2,3) RETURNING *;
[2016-09-10 16:09:58.369] [ INFO] console - Executing (a655650c-37ac-476b-b227-3b497f9fa989): COMMIT;
[2016-09-10 16:09:58.371] [ INFO] console - [ 70, 1445, {}, [ '110' ] ]
[2016-09-10 16:09:58.373] [ INFO] console - [ 16,
  6574100954742784,
  { acknowledge: true },
  'ru.kopa.model.Kopa.id3.slovoAdd',
  [ '110' ] ]
[2016-09-10 16:09:58.378] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Slovo', id: 110 }
[2016-09-10 16:09:58.384] [ INFO] console - Executing (fbe64f67-becc-44e6-865c-240a161abc3c): START TRANSACTION;
[2016-09-10 16:09:58.387] [ INFO] console - Executing (fbe64f67-becc-44e6-865c-240a161abc3c): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 16:09:58.397] [ INFO] console - Executing (default): SELECT "Slovo"."id", "Slovo"."value", "Slovo"."note", "Slovo"."created_at", "Slovo"."updated_at", "Slovo"."deleted_at", "Slovo"."owner_id", "Slovo"."place_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Slovo" AS "Slovo" LEFT OUTER JOIN "File" AS "attachments" ON "Slovo"."id" = "attachments"."slovo_id" AND "attachments"."deleted_at" IS NULL WHERE ("Slovo"."deleted_at" IS NULL AND "Slovo"."id" = 110);
[2016-09-10 16:09:58.402] [ INFO] console - Executing (fbe64f67-becc-44e6-865c-240a161abc3c): COMMIT;
[2016-09-10 16:09:58.403] [ INFO] console - [ 70,
  1446,
  {},
  [ { id: '110',
      value: '123 temp',
      note: '456',
      created_at: Sat Sep 10 2016 16:09:58 GMT+0500 (YEKT),
      updated_at: Sat Sep 10 2016 16:09:58 GMT+0500 (YEKT),
      deleted_at: null,
      owner_id: '2',
      place_id: '3',
      attachments: [] } ] ]
[2016-09-10 16:09:58.417] [ INFO] console - Executing (3a8ac4f8-e485-4511-8095-6bd2d60ab9e3): START TRANSACTION;
[2016-09-10 16:09:58.421] [ INFO] console - Executing (3a8ac4f8-e485-4511-8095-6bd2d60ab9e3): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 16:09:58.429] [ INFO] console - Executing (default): INSERT INTO "Slovo" ("id","value","created_at","updated_at","owner_id","place_id") VALUES (DEFAULT,'some value temp 1473505798414','2016-09-10 11:09:58.424 +00:00','2016-09-10 11:09:58.424 +00:00',2,3) RETURNING *;
[2016-09-10 16:09:58.434] [ INFO] console - Executing (3a8ac4f8-e485-4511-8095-6bd2d60ab9e3): COMMIT;
[2016-09-10 16:09:58.435] [ INFO] console - [ 70, 1447, {}, [ '111' ] ]
[2016-09-10 16:09:58.438] [ INFO] console - [ 16,
  1880349344792576,
  { acknowledge: true },
  'ru.kopa.model.Kopa.id3.slovoAdd',
  [ '111' ] ]
[2016-09-10 16:09:58.449] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Zemla', id: 2 }
[2016-09-10 16:09:58.454] [ INFO] console - Executing (69c41e32-5409-4d08-9663-ddec7b19782a): START TRANSACTION;
[2016-09-10 16:09:58.456] [ INFO] console - Executing (69c41e32-5409-4d08-9663-ddec7b19782a): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 16:09:58.468] [ INFO] console - Executing (default): SELECT "Zemla"."id", "Zemla"."path", "Zemla"."name", "Zemla"."intensity", "Zemla"."note", "Zemla"."created_at", "Zemla"."updated_at", "Zemla"."deleted_at", "Zemla"."parent_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Zemla" AS "Zemla" LEFT OUTER JOIN "File" AS "attachments" ON "Zemla"."id" = "attachments"."zemla_id" AND "attachments"."deleted_at" IS NULL WHERE ("Zemla"."deleted_at" IS NULL AND "Zemla"."id" = 2);
[2016-09-10 16:09:58.472] [ INFO] console - Executing (69c41e32-5409-4d08-9663-ddec7b19782a): COMMIT;
[2016-09-10 16:09:58.474] [ INFO] console - [ 70,
  1448,
  {},
  [ { fullPath: 'null2/',
      id: '2',
      path: null,
      name: 'UnitTest2',
      intensity: 1000,
      note: 'unit test 1473505373481',
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Sat Sep 10 2016 16:04:36 GMT+0500 (YEKT),
      deleted_at: null,
      parent_id: '1',
      attachments: [] } ] ]
[2016-09-10 16:09:58.486] [ INFO] console - Executing (ee898f34-09b0-4520-bff1-b2211b069d45): START TRANSACTION;
[2016-09-10 16:09:58.488] [ INFO] console - Executing (ee898f34-09b0-4520-bff1-b2211b069d45): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 16:09:58.491] [ INFO] console - Executing (default): SELECT "id", "path", "name", "intensity", "note", "created_at", "updated_at", "deleted_at", "parent_id" FROM "Zemla" AS "Zemla" WHERE ("Zemla"."deleted_at" IS NULL AND "Zemla"."id" = 2);
[2016-09-10 16:09:58.500] [ INFO] console - Executing (default): UPDATE "Zemla" SET "parent_id"=1,"note"='unit test 1473505797881',"updated_at"='2016-09-10 11:09:58.495 +00:00' WHERE "id" = '2'
[2016-09-10 16:09:58.503] [ INFO] console - Executing (ee898f34-09b0-4520-bff1-b2211b069d45): COMMIT;
[2016-09-10 16:09:58.504] [ INFO] console - [ 16,
  1008083350323200,
  { acknowledge: true },
  'ru.kopa.model.Zemla.id2.change' ]
[2016-09-10 16:09:58.513] [ INFO] console - [ 70, 1449, {}, [ undefined ] ]
[2016-09-10 16:09:58.523] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Zemla', id: 2 }
[2016-09-10 16:09:58.526] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Zemla', id: 2 }
[2016-09-10 16:09:58.529] [ INFO] console - Executing (60968924-b62d-42fb-8f1f-cb61749da2ad): START TRANSACTION;
[2016-09-10 16:09:58.529] [ INFO] console - Executing (842dd5cc-31d4-4aa5-8607-75aec999e140): START TRANSACTION;
[2016-09-10 16:09:58.531] [ INFO] console - Executing (60968924-b62d-42fb-8f1f-cb61749da2ad): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 16:09:58.532] [ INFO] console - Executing (842dd5cc-31d4-4aa5-8607-75aec999e140): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 16:09:58.562] [ INFO] console - Executing (default): SELECT "Zemla"."id", "Zemla"."path", "Zemla"."name", "Zemla"."intensity", "Zemla"."note", "Zemla"."created_at", "Zemla"."updated_at", "Zemla"."deleted_at", "Zemla"."parent_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Zemla" AS "Zemla" LEFT OUTER JOIN "File" AS "attachments" ON "Zemla"."id" = "attachments"."zemla_id" AND "attachments"."deleted_at" IS NULL WHERE ("Zemla"."deleted_at" IS NULL AND "Zemla"."id" = 2);
[2016-09-10 16:09:58.568] [ INFO] console - Executing (default): SELECT "Zemla"."id", "Zemla"."path", "Zemla"."name", "Zemla"."intensity", "Zemla"."note", "Zemla"."created_at", "Zemla"."updated_at", "Zemla"."deleted_at", "Zemla"."parent_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Zemla" AS "Zemla" LEFT OUTER JOIN "File" AS "attachments" ON "Zemla"."id" = "attachments"."zemla_id" AND "attachments"."deleted_at" IS NULL WHERE ("Zemla"."deleted_at" IS NULL AND "Zemla"."id" = 2);
[2016-09-10 16:09:58.572] [ INFO] console - Executing (60968924-b62d-42fb-8f1f-cb61749da2ad): COMMIT;
[2016-09-10 16:09:58.578] [ INFO] console - Executing (842dd5cc-31d4-4aa5-8607-75aec999e140): COMMIT;
[2016-09-10 16:09:58.579] [ INFO] console - [ 70,
  1450,
  {},
  [ { fullPath: 'null2/',
      id: '2',
      path: null,
      name: 'UnitTest2',
      intensity: 1000,
      note: 'unit test 1473505797881',
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Sat Sep 10 2016 16:09:58 GMT+0500 (YEKT),
      deleted_at: null,
      parent_id: '1',
      attachments: [] } ] ]
[2016-09-10 16:09:58.587] [ INFO] console - [ 70,
  1451,
  {},
  [ { fullPath: 'null2/',
      id: '2',
      path: null,
      name: 'UnitTest2',
      intensity: 1000,
      note: 'unit test 1473505797881',
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Sat Sep 10 2016 16:09:58 GMT+0500 (YEKT),
      deleted_at: null,
      parent_id: '1',
      attachments: [] } ] ]
[2016-09-10 16:10:08.183] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 2 }
[2016-09-10 16:10:08.188] [ INFO] console - Executing (3955483b-7a2b-43c8-895f-52b08ef4d841): START TRANSACTION;
[2016-09-10 16:10:08.189] [ INFO] console - Executing (3955483b-7a2b-43c8-895f-52b08ef4d841): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 16:10:08.203] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 2);
[2016-09-10 16:10:08.220] [ INFO] console - Executing (3955483b-7a2b-43c8-895f-52b08ef4d841): COMMIT;
[2016-09-10 16:10:08.222] [ INFO] console - [ 70,
  1453,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/2/',
      starshina: [Object],
      id: '2',
      email: 'unittest2@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '1',
      voiskoSize: 3,
      birth: 1983,
      path: '/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: null,
      attachments: [] } ] ]
[2016-09-10 16:10:08.258] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 3 }
[2016-09-10 16:10:08.261] [ INFO] console - Executing (1abe5137-3f34-4a95-bcd0-714cb9a48040): START TRANSACTION;
[2016-09-10 16:10:08.264] [ INFO] console - Executing (1abe5137-3f34-4a95-bcd0-714cb9a48040): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 16:10:08.283] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 3);
[2016-09-10 16:10:08.304] [ INFO] console - Executing (1abe5137-3f34-4a95-bcd0-714cb9a48040): COMMIT;
[2016-09-10 16:10:08.307] [ INFO] console - [ 70,
  1454,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/2/3/',
      starshina: [Object],
      id: '3',
      email: 'unittest3@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '3',
      voiskoSize: 0,
      birth: 1983,
      path: '/2/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: '2',
      attachments: [] } ] ]
[2016-09-10 16:10:08.320] [ INFO] console - Executing (0300a755-bc11-4bac-acac-3bcb68f71aa1): START TRANSACTION;
[2016-09-10 16:10:08.322] [ INFO] console - Executing (0300a755-bc11-4bac-acac-3bcb68f71aa1): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 16:10:08.328] [ INFO] console - Executing (default): INSERT INTO "Slovo" ("id","value","note","created_at","updated_at","owner_id","place_id") VALUES (DEFAULT,'123 temp','456','2016-09-10 11:10:08.324 +00:00','2016-09-10 11:10:08.324 +00:00',2,3) RETURNING *;
[2016-09-10 16:10:08.335] [ INFO] console - Executing (0300a755-bc11-4bac-acac-3bcb68f71aa1): COMMIT;
[2016-09-10 16:10:08.337] [ INFO] console - [ 70, 1455, {}, [ '112' ] ]
[2016-09-10 16:10:08.354] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Slovo', id: 112 }
[2016-09-10 16:10:08.364] [ INFO] console - [ 16,
  5211070528487424,
  { acknowledge: true },
  'ru.kopa.model.Kopa.id3.slovoAdd',
  [ '112' ] ]
[2016-09-10 16:10:08.375] [ INFO] console - Executing (675e79f5-d4dc-4079-be74-ce6e6d347006): START TRANSACTION;
[2016-09-10 16:10:08.388] [ INFO] console - Executing (675e79f5-d4dc-4079-be74-ce6e6d347006): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 16:10:08.403] [ INFO] console - Executing (default): SELECT "Slovo"."id", "Slovo"."value", "Slovo"."note", "Slovo"."created_at", "Slovo"."updated_at", "Slovo"."deleted_at", "Slovo"."owner_id", "Slovo"."place_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Slovo" AS "Slovo" LEFT OUTER JOIN "File" AS "attachments" ON "Slovo"."id" = "attachments"."slovo_id" AND "attachments"."deleted_at" IS NULL WHERE ("Slovo"."deleted_at" IS NULL AND "Slovo"."id" = 112);
[2016-09-10 16:10:08.414] [ INFO] console - Executing (675e79f5-d4dc-4079-be74-ce6e6d347006): COMMIT;
[2016-09-10 16:10:08.415] [ INFO] console - [ 70,
  1456,
  {},
  [ { id: '112',
      value: '123 temp',
      note: '456',
      created_at: Sat Sep 10 2016 16:10:08 GMT+0500 (YEKT),
      updated_at: Sat Sep 10 2016 16:10:08 GMT+0500 (YEKT),
      deleted_at: null,
      owner_id: '2',
      place_id: '3',
      attachments: [] } ] ]
[2016-09-10 16:10:08.432] [ INFO] console - Executing (63522ba9-ae17-43ca-8c96-8d744613e190): START TRANSACTION;
[2016-09-10 16:10:08.434] [ INFO] console - Executing (63522ba9-ae17-43ca-8c96-8d744613e190): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 16:10:08.450] [ INFO] console - Executing (default): INSERT INTO "Slovo" ("id","value","created_at","updated_at","owner_id","place_id") VALUES (DEFAULT,'some value temp 1473505808429','2016-09-10 11:10:08.438 +00:00','2016-09-10 11:10:08.438 +00:00',2,3) RETURNING *;
[2016-09-10 16:10:08.469] [ INFO] console - Executing (63522ba9-ae17-43ca-8c96-8d744613e190): COMMIT;
[2016-09-10 16:10:08.471] [ INFO] console - [ 70, 1457, {}, [ '113' ] ]
[2016-09-10 16:10:08.475] [ INFO] console - [ 16,
  5708337572216832,
  { acknowledge: true },
  'ru.kopa.model.Kopa.id3.slovoAdd',
  [ '113' ] ]
[2016-09-10 16:10:08.489] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Zemla', id: 2 }
[2016-09-10 16:10:08.493] [ INFO] console - Executing (65326299-c604-4be9-b8ca-9c9a1acfcf02): START TRANSACTION;
[2016-09-10 16:10:08.495] [ INFO] console - Executing (65326299-c604-4be9-b8ca-9c9a1acfcf02): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 16:10:08.503] [ INFO] console - Executing (default): SELECT "Zemla"."id", "Zemla"."path", "Zemla"."name", "Zemla"."intensity", "Zemla"."note", "Zemla"."created_at", "Zemla"."updated_at", "Zemla"."deleted_at", "Zemla"."parent_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Zemla" AS "Zemla" LEFT OUTER JOIN "File" AS "attachments" ON "Zemla"."id" = "attachments"."zemla_id" AND "attachments"."deleted_at" IS NULL WHERE ("Zemla"."deleted_at" IS NULL AND "Zemla"."id" = 2);
[2016-09-10 16:10:08.511] [ INFO] console - Executing (65326299-c604-4be9-b8ca-9c9a1acfcf02): COMMIT;
[2016-09-10 16:10:08.512] [ INFO] console - [ 70,
  1458,
  {},
  [ { fullPath: 'null2/',
      id: '2',
      path: null,
      name: 'UnitTest2',
      intensity: 1000,
      note: 'unit test 1473505797881',
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Sat Sep 10 2016 16:09:58 GMT+0500 (YEKT),
      deleted_at: null,
      parent_id: '1',
      attachments: [] } ] ]
[2016-09-10 16:10:08.540] [ INFO] console - Executing (23dfde8e-0b9d-4862-8091-2af00341528c): START TRANSACTION;
[2016-09-10 16:10:08.542] [ INFO] console - Executing (23dfde8e-0b9d-4862-8091-2af00341528c): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 16:10:08.553] [ INFO] console - Executing (default): SELECT "id", "path", "name", "intensity", "note", "created_at", "updated_at", "deleted_at", "parent_id" FROM "Zemla" AS "Zemla" WHERE ("Zemla"."deleted_at" IS NULL AND "Zemla"."id" = 2);
[2016-09-10 16:10:08.607] [ INFO] console - Executing (default): UPDATE "Zemla" SET "parent_id"=1,"note"='unit test 1473505807871',"updated_at"='2016-09-10 11:10:08.582 +00:00' WHERE "id" = '2'
[2016-09-10 16:10:08.614] [ INFO] console - Executing (23dfde8e-0b9d-4862-8091-2af00341528c): COMMIT;
[2016-09-10 16:10:08.615] [ INFO] console - [ 16,
  3439925624045568,
  { acknowledge: true },
  'ru.kopa.model.Zemla.id2.change' ]
[2016-09-10 16:10:08.623] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Zemla', id: 2 }
[2016-09-10 16:10:08.631] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Zemla', id: 2 }
[2016-09-10 16:10:08.642] [ INFO] console - [ 70, 1459, {}, [ undefined ] ]
[2016-09-10 16:10:08.648] [ INFO] console - Executing (1aad7ec8-c80f-4b77-af2a-52371c43dc0f): START TRANSACTION;
[2016-09-10 16:10:08.650] [ INFO] console - Executing (f44409c0-4682-43f3-aa82-caeaae770c19): START TRANSACTION;
[2016-09-10 16:10:08.652] [ INFO] console - Executing (1aad7ec8-c80f-4b77-af2a-52371c43dc0f): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 16:10:08.653] [ INFO] console - Executing (f44409c0-4682-43f3-aa82-caeaae770c19): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 16:10:08.671] [ INFO] console - Executing (default): SELECT "Zemla"."id", "Zemla"."path", "Zemla"."name", "Zemla"."intensity", "Zemla"."note", "Zemla"."created_at", "Zemla"."updated_at", "Zemla"."deleted_at", "Zemla"."parent_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Zemla" AS "Zemla" LEFT OUTER JOIN "File" AS "attachments" ON "Zemla"."id" = "attachments"."zemla_id" AND "attachments"."deleted_at" IS NULL WHERE ("Zemla"."deleted_at" IS NULL AND "Zemla"."id" = 2);
[2016-09-10 16:10:08.672] [ INFO] console - Executing (default): SELECT "Zemla"."id", "Zemla"."path", "Zemla"."name", "Zemla"."intensity", "Zemla"."note", "Zemla"."created_at", "Zemla"."updated_at", "Zemla"."deleted_at", "Zemla"."parent_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Zemla" AS "Zemla" LEFT OUTER JOIN "File" AS "attachments" ON "Zemla"."id" = "attachments"."zemla_id" AND "attachments"."deleted_at" IS NULL WHERE ("Zemla"."deleted_at" IS NULL AND "Zemla"."id" = 2);
[2016-09-10 16:10:08.683] [ INFO] console - Executing (1aad7ec8-c80f-4b77-af2a-52371c43dc0f): COMMIT;
[2016-09-10 16:10:08.685] [ INFO] console - Executing (f44409c0-4682-43f3-aa82-caeaae770c19): COMMIT;
[2016-09-10 16:10:08.688] [ INFO] console - [ 70,
  1460,
  {},
  [ { fullPath: 'null2/',
      id: '2',
      path: null,
      name: 'UnitTest2',
      intensity: 1000,
      note: 'unit test 1473505807871',
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Sat Sep 10 2016 16:10:08 GMT+0500 (YEKT),
      deleted_at: null,
      parent_id: '1',
      attachments: [] } ] ]
[2016-09-10 16:10:08.700] [ INFO] console - [ 70,
  1461,
  {},
  [ { fullPath: 'null2/',
      id: '2',
      path: null,
      name: 'UnitTest2',
      intensity: 1000,
      note: 'unit test 1473505807871',
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Sat Sep 10 2016 16:10:08 GMT+0500 (YEKT),
      deleted_at: null,
      parent_id: '1',
      attachments: [] } ] ]
[2016-09-10 16:10:15.358] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 4 }
[2016-09-10 16:10:15.362] [ INFO] console - Executing (0c3b0c1a-9068-4b9b-80d0-63047d34c2a2): START TRANSACTION;
[2016-09-10 16:10:15.363] [ INFO] console - Executing (0c3b0c1a-9068-4b9b-80d0-63047d34c2a2): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 16:10:15.376] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 4);
[2016-09-10 16:10:15.381] [ INFO] console - Executing (0c3b0c1a-9068-4b9b-80d0-63047d34c2a2): COMMIT;
[2016-09-10 16:10:15.382] [ INFO] console - [ 70,
  1462,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/4/',
      starshina: [Object],
      id: '4',
      email: 'unittest4@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '4',
      voiskoSize: 0,
      birth: 1983,
      path: '/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: null,
      attachments: [] } ] ]
[2016-09-10 16:10:15.393] [ INFO] console - Executing (8d2478ff-86dc-4fe5-9c2a-e84c555015df): START TRANSACTION;
[2016-09-10 16:10:15.394] [ INFO] console - Executing (8d2478ff-86dc-4fe5-9c2a-e84c555015df): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 16:10:15.398] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 181);
[2016-09-10 16:10:15.403] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 4);
[2016-09-10 16:10:15.408] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/' like k.path||k.id||'/%'
[2016-09-10 16:10:15.412] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 16:10:15.416] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"-2
                                where
                                    '/2/' like path||id||'/%'
[2016-09-10 16:10:15.427] [ INFO] console - Executing (default): UPDATE "Kopnik" SET "path"='/4/',"starshina_id"='4',"updated_at"='2016-09-10 11:10:15.418 +00:00' WHERE "id" = '181'
[2016-09-10 16:10:15.429] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"+2
                                where
                                    '/4/' like path||id||'/%'
[2016-09-10 16:10:15.434] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."starshina_id" = '181');
[2016-09-10 16:10:15.441] [ INFO] console - Executing (default): UPDATE "Kopnik" SET "path"='/4/181/',"updated_at"='2016-09-10 11:10:15.437 +00:00' WHERE "id" = '182'
[2016-09-10 16:10:15.443] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/4/' like k.path||k.id||'/%'
[2016-09-10 16:10:15.450] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('4')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 16:10:15.453] [ INFO] console - Executing (8d2478ff-86dc-4fe5-9c2a-e84c555015df): COMMIT;
[2016-09-10 16:10:15.455] [ INFO] console - [ 70, 1463, {}, [ undefined ] ]
[2016-09-10 16:10:15.457] [ INFO] console - [ 16,
  7727636614742016,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id2.voiskoChange',
  [],
  { voiskoSize: 1 } ]
[2016-09-10 16:10:15.462] [ INFO] console - [ 16,
  1745122989441024,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id4.voiskoChange',
  [],
  { voiskoSize: 2 } ]
[2016-09-10 16:10:20.284] [ INFO] console - [ 70, 1465, {}, [ 'unittest2@domain.ru' ] ]
[2016-09-10 16:10:20.291] [DEBUG] Server - #pingPong() [ 1, 2, 3 ] { x: 1, y: 2, z: 3 }
[2016-09-10 16:10:20.294] [ INFO] console - [ 70, 1466, {}, [ 1, 2, 3 ], { x: 1, y: 2, z: 3 } ]
[2016-09-10 16:10:20.309] [ INFO] console - Executing (default): select 'КОПА' as result
[2016-09-10 16:10:20.311] [ INFO] console - [ 70, 1467, {}, [ 'КОПА' ] ]
[2016-09-10 16:10:20.319] [DEBUG] Server - #error() [ 'sadkljfaskldjfs;af' ] {}
[2016-09-10 16:10:20.327] [ERROR] Server - [Error: sadkljfaskldjfs;af]
Error: sadkljfaskldjfs;af
    at MySuperError (Server.js:339:9)
    at fn.constructor.error.Error (Server.js:344:19)
    at new wrappedPromise (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/async-listener/index.js:372:16)
    at Server.error (Server.js:343:16)
    at Object.<anonymous> (Server.js:415:43)
    at [object Generator].next (native)
    at step (/home/alexey2baranov/htdocs/kp-sequelizejs/src/Server.js:1:253)
    at /home/alexey2baranov/htdocs/kp-sequelizejs/src/Server.js:1:513
    at new wrappedPromise (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/async-listener/index.js:372:16)
    at Object.<anonymous> (/home/alexey2baranov/htdocs/kp-sequelizejs/src/Server.js:1:161)
    at Object.<anonymous> (Server.js:412:28)
    at tryCatchResolve (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/apply.js:46:23)
    at callAndResolve (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/apply.js:30:12)
    at callAndResolveNext (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/apply.js:40:4)
    at tryCatchReject3 (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/makePromise.js:856:7)
    at runContinuation3 (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/makePromise.js:814:4)
[2016-09-10 16:10:20.330] [ INFO] console - [ 8,
  68,
  1468,
  {},
  'MySuperError',
  [ 'sadkljfaskldjfs;af' ],
  { stack: 
     [ 'Error: sadkljfaskldjfs;af',
       '    at MySuperError (Server.js:339:9)',
       '    at fn.constructor.error.Error (Server.js:344:19)',
       '    at new wrappedPromise (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/async-listener/index.js:372:16)',
       '    at Server.error (Server.js:343:16)',
       '    at Object.<anonymous> (Server.js:415:43)',
       '    at [object Generator].next (native)',
       '    at step (/home/alexey2baranov/htdocs/kp-sequelizejs/src/Server.js:1:253)',
       '    at /home/alexey2baranov/htdocs/kp-sequelizejs/src/Server.js:1:513',
       '    at new wrappedPromise (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/async-listener/index.js:372:16)',
       '    at Object.<anonymous> (/home/alexey2baranov/htdocs/kp-sequelizejs/src/Server.js:1:161)',
       '    at Object.<anonymous> (Server.js:412:28)',
       '    at tryCatchResolve (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/apply.js:46:23)',
       '    at callAndResolve (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/apply.js:30:12)',
       '    at callAndResolveNext (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/apply.js:40:4)',
       '    at tryCatchReject3 (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/makePromise.js:856:7)',
       '    at runContinuation3 (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/makePromise.js:814:4)' ] } ]
[2016-09-10 16:10:20.340] [ INFO] console - [ 70, 1469, {}, [ undefined ] ]
[2016-09-10 16:10:20.351] [ INFO] console - Executing (default): delete from "Slovo"
                where
                    place_id<5
                    and value like '%temp'
[2016-09-10 16:10:20.354] [ INFO] console - Executing (default): delete from "Kopnik"
                where
                    name like '%temp'
[2016-09-10 16:10:20.360] [ INFO] console - Executing (default): update "Kopnik"
                set 
                    "voiskoSize"= case when id=2 then 1 ELSE 0 END
                where
                    id>1 
                    and id<=5
[2016-09-10 16:10:20.387] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopa', id: 3 }
[2016-09-10 16:10:20.390] [ INFO] console - Executing (17a270df-9751-4cdc-9a18-ffe0d784f7ca): START TRANSACTION;
[2016-09-10 16:10:20.391] [ INFO] console - Executing (17a270df-9751-4cdc-9a18-ffe0d784f7ca): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 16:10:20.400] [ INFO] console - Executing (default): SELECT "Kopa"."id", "Kopa"."question", "Kopa"."planned", "Kopa"."started", "Kopa"."closed", "Kopa"."isOpen", "Kopa"."note", "Kopa"."created_at", "Kopa"."updated_at", "Kopa"."deleted_at", "Kopa"."place_id", "Kopa"."inviter_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopa" AS "Kopa" LEFT OUTER JOIN "File" AS "attachments" ON "Kopa"."id" = "attachments"."kopa_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopa"."deleted_at" IS NULL AND "Kopa"."id" = 3);
[2016-09-10 16:10:20.410] [ INFO] console - Executing (17a270df-9751-4cdc-9a18-ffe0d784f7ca): COMMIT;
[2016-09-10 16:10:20.412] [ INFO] console - [ 70,
  1471,
  {},
  [ { id: '3',
      question: 'CHE',
      planned: Thu Sep 01 2016 00:00:00 GMT+0500 (YEKT),
      started: Thu Sep 01 2016 00:00:00 GMT+0500 (YEKT),
      closed: null,
      isOpen: false,
      note: null,
      created_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      deleted_at: null,
      place_id: '2',
      inviter_id: '2',
      attachments: [] } ] ]
[2016-09-10 16:10:20.426] [ INFO] console - Executing (ecfa95c5-ad1d-4744-860e-8e672cfa9dd7): START TRANSACTION;
[2016-09-10 16:10:20.429] [ INFO] console - Executing (ecfa95c5-ad1d-4744-860e-8e672cfa9dd7): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 16:10:20.440] [ INFO] console - Executing (default): INSERT INTO "Golos" ("id","value","created_at","updated_at","for_id","owner_id") VALUES (DEFAULT,1,'2016-09-10 11:10:20.435 +00:00','2016-09-10 11:10:20.435 +00:00',1,2) RETURNING *;
[2016-09-10 16:10:20.447] [ INFO] console - Executing (ecfa95c5-ad1d-4744-860e-8e672cfa9dd7): COMMIT;
[2016-09-10 16:10:20.449] [ INFO] console - [ 70, 1472, {}, [ '63' ] ]
[2016-09-10 16:10:20.458] [ INFO] console - [ 16,
  5301379845324800,
  { acknowledge: true },
  'ru.kopa.model.Predlozhenie.id1.golosAdd',
  [ '63' ] ]
[2016-09-10 16:10:20.497] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopa', id: 3 }
[2016-09-10 16:10:20.501] [ INFO] console - Executing (f1390557-c5e3-4290-86e1-42e01561a68b): START TRANSACTION;
[2016-09-10 16:10:20.503] [ INFO] console - Executing (f1390557-c5e3-4290-86e1-42e01561a68b): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 16:10:20.511] [ INFO] console - Executing (default): SELECT "Kopa"."id", "Kopa"."question", "Kopa"."planned", "Kopa"."started", "Kopa"."closed", "Kopa"."isOpen", "Kopa"."note", "Kopa"."created_at", "Kopa"."updated_at", "Kopa"."deleted_at", "Kopa"."place_id", "Kopa"."inviter_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopa" AS "Kopa" LEFT OUTER JOIN "File" AS "attachments" ON "Kopa"."id" = "attachments"."kopa_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopa"."deleted_at" IS NULL AND "Kopa"."id" = 3);
[2016-09-10 16:10:20.522] [ INFO] console - Executing (f1390557-c5e3-4290-86e1-42e01561a68b): COMMIT;
[2016-09-10 16:10:20.523] [ INFO] console - [ 70,
  1474,
  {},
  [ { id: '3',
      question: 'CHE',
      planned: Thu Sep 01 2016 00:00:00 GMT+0500 (YEKT),
      started: Thu Sep 01 2016 00:00:00 GMT+0500 (YEKT),
      closed: null,
      isOpen: false,
      note: null,
      created_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      deleted_at: null,
      place_id: '2',
      inviter_id: '2',
      attachments: [] } ] ]
[2016-09-10 16:10:20.541] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 2 }
[2016-09-10 16:10:20.549] [ INFO] console - Executing (3ccdbb3b-cad7-424a-8d5b-73094cf8fea5): START TRANSACTION;
[2016-09-10 16:10:20.550] [ INFO] console - Executing (3ccdbb3b-cad7-424a-8d5b-73094cf8fea5): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 16:10:20.562] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 2);
[2016-09-10 16:10:20.571] [ INFO] console - Executing (3ccdbb3b-cad7-424a-8d5b-73094cf8fea5): COMMIT;
[2016-09-10 16:10:20.572] [ INFO] console - [ 70,
  1475,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/2/',
      starshina: [Object],
      id: '2',
      email: 'unittest2@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '1',
      voiskoSize: 1,
      birth: 1983,
      path: '/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: null,
      attachments: [] } ] ]
[2016-09-10 16:10:20.593] [ INFO] console - Executing (2092ed3a-58fb-4671-a901-855063900488): START TRANSACTION;
[2016-09-10 16:10:20.594] [ INFO] console - Executing (2092ed3a-58fb-4671-a901-855063900488): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 16:10:20.605] [ INFO] console - Executing (default): INSERT INTO "Slovo" ("id","value","created_at","updated_at","owner_id","place_id") VALUES (DEFAULT,'some Slovo temp 1473505820582','2016-09-10 11:10:20.595 +00:00','2016-09-10 11:10:20.595 +00:00',2,3) RETURNING *;
[2016-09-10 16:10:20.608] [ INFO] console - Executing (2092ed3a-58fb-4671-a901-855063900488): COMMIT;
[2016-09-10 16:10:20.610] [ INFO] console - [ 70, 1476, {}, [ '114' ] ]
[2016-09-10 16:10:20.613] [ INFO] console - [ 16,
  6434148243734528,
  { acknowledge: true },
  'ru.kopa.model.Kopa.id3.slovoAdd',
  [ '114' ] ]
[2016-09-10 16:10:20.622] [ INFO] console - Executing (50238940-bd04-471e-997a-14108cab983e): START TRANSACTION;
[2016-09-10 16:10:20.624] [ INFO] console - Executing (50238940-bd04-471e-997a-14108cab983e): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 16:10:20.630] [ INFO] console - Executing (default): INSERT INTO "Predlozhenie" ("id","value","created_at","updated_at","initiator_id","place_id") VALUES (DEFAULT,'some Predlozhenie temp 1473505820619','2016-09-10 11:10:20.628 +00:00','2016-09-10 11:10:20.628 +00:00',2,3) RETURNING *;
[2016-09-10 16:10:20.637] [ INFO] console - Executing (50238940-bd04-471e-997a-14108cab983e): COMMIT;
[2016-09-10 16:10:20.640] [ INFO] console - [ 70, 1477, {}, [ '63' ] ]
[2016-09-10 16:10:20.642] [ INFO] console - [ 16,
  6039599283437568,
  { acknowledge: true },
  'ru.kopa.model.Kopa.id3.predlozhenieAdd',
  [ '63' ] ]
[2016-09-10 16:10:20.682] [ INFO] console - [ 70, 1479, {}, [ undefined ] ]
[2016-09-10 16:10:20.684] [ INFO] console - Executing (default): delete from "Kopnik"
                where
                    name like '%temp'
[2016-09-10 16:10:20.686] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 2 }
[2016-09-10 16:10:20.691] [ INFO] console - Executing (default): update "Kopnik"
                set 
                    "voiskoSize"= case when id=2 then 1 ELSE 0 END
                where
                    id>1 
                    and id<=5
[2016-09-10 16:10:20.692] [ INFO] console - Executing (07bb99ce-1aa4-4893-b25a-b76717810202): START TRANSACTION;
[2016-09-10 16:10:20.694] [ INFO] console - Executing (07bb99ce-1aa4-4893-b25a-b76717810202): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 16:10:20.720] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 2);
[2016-09-10 16:10:20.725] [ INFO] console - Executing (07bb99ce-1aa4-4893-b25a-b76717810202): COMMIT;
[2016-09-10 16:10:20.726] [ INFO] console - [ 70,
  1480,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/2/',
      starshina: [Object],
      id: '2',
      email: 'unittest2@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '1',
      voiskoSize: 1,
      birth: 1983,
      path: '/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: null,
      attachments: [] } ] ]
[2016-09-10 16:10:20.740] [ INFO] console - Executing (6d03fadb-bd22-4354-9922-45e33f6687a9): START TRANSACTION;
[2016-09-10 16:10:20.742] [ INFO] console - Executing (6d03fadb-bd22-4354-9922-45e33f6687a9): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 16:10:20.749] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 2);
[2016-09-10 16:10:20.753] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"+1
                                where
                                    '/2/' like path||id||'/%'
[2016-09-10 16:10:20.758] [ INFO] console - Executing (default): INSERT INTO "Kopnik" ("id","name","surname","patronymic","voiskoSize","birth","path","created_at","updated_at","rodina_id","starshina_id") VALUES (DEFAULT,'temp','temp','temp',0,1900,'/2/','2016-09-10 11:10:20.743 +00:00','2016-09-10 11:10:20.743 +00:00',NULL,2) RETURNING *;
[2016-09-10 16:10:20.763] [ INFO] console - Executing (6d03fadb-bd22-4354-9922-45e33f6687a9): COMMIT;
[2016-09-10 16:10:20.765] [ INFO] console - [ 70, 1481, {}, [ '183' ] ]
[2016-09-10 16:10:20.778] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/' like k.path||k.id||'/%'
[2016-09-10 16:10:20.780] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Zemla', id: 2 }
[2016-09-10 16:10:20.786] [ INFO] console - Executing (693f141c-5498-483f-9458-f41914ec4fb8): START TRANSACTION;
[2016-09-10 16:10:20.787] [ INFO] console - Executing (c279c5e9-49a0-4833-ab6c-29e8d4500652): START TRANSACTION;
[2016-09-10 16:10:20.789] [ INFO] console - Executing (693f141c-5498-483f-9458-f41914ec4fb8): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 16:10:20.790] [ INFO] console - Executing (c279c5e9-49a0-4833-ab6c-29e8d4500652): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 16:10:20.792] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 16:10:20.798] [ INFO] console - [ 16,
  5010643782467584,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id2.voiskoChange',
  [],
  { voiskoSize: 2 } ]
[2016-09-10 16:10:20.813] [ INFO] console - Executing (default): SELECT "Zemla"."id", "Zemla"."path", "Zemla"."name", "Zemla"."intensity", "Zemla"."note", "Zemla"."created_at", "Zemla"."updated_at", "Zemla"."deleted_at", "Zemla"."parent_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Zemla" AS "Zemla" LEFT OUTER JOIN "File" AS "attachments" ON "Zemla"."id" = "attachments"."zemla_id" AND "attachments"."deleted_at" IS NULL WHERE ("Zemla"."deleted_at" IS NULL AND "Zemla"."id" = 2);
[2016-09-10 16:10:20.821] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 183);
[2016-09-10 16:10:20.830] [ INFO] console - Executing (693f141c-5498-483f-9458-f41914ec4fb8): COMMIT;
[2016-09-10 16:10:20.831] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"+1
                                where
                                    '/2/183/' like path||id||'/%'
[2016-09-10 16:10:20.835] [ INFO] console - [ 70,
  1482,
  {},
  [ { fullPath: 'null2/',
      id: '2',
      path: null,
      name: 'UnitTest2',
      intensity: 1000,
      note: 'unit test 1473505807871',
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Sat Sep 10 2016 16:10:08 GMT+0500 (YEKT),
      deleted_at: null,
      parent_id: '1',
      attachments: [] } ] ]
[2016-09-10 16:10:20.840] [ INFO] console - Executing (default): INSERT INTO "Kopnik" ("id","name","surname","patronymic","voiskoSize","birth","path","created_at","updated_at","rodina_id","starshina_id") VALUES (DEFAULT,'temp','temp','temp',0,1900,'/2/183/','2016-09-10 11:10:20.797 +00:00','2016-09-10 11:10:20.797 +00:00',NULL,183) RETURNING *;
[2016-09-10 16:10:20.845] [ INFO] console - Executing (c279c5e9-49a0-4833-ab6c-29e8d4500652): COMMIT;
[2016-09-10 16:10:20.848] [ INFO] console - [ 70, 1483, {}, [ '184' ] ]
[2016-09-10 16:10:20.852] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/183/' like k.path||k.id||'/%'
[2016-09-10 16:10:20.861] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2', '183')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 16:10:20.867] [ INFO] console - [ 16,
  239611276165120,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id183.voiskoChange',
  [],
  { voiskoSize: 1 } ]
[2016-09-10 16:10:20.872] [ INFO] console - [ 16,
  2953591876747264,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id2.voiskoChange',
  [],
  { voiskoSize: 3 } ]
[2016-09-10 16:10:25.944] [ INFO] console - [ 70, 1485, {}, [ undefined ] ]
[2016-09-10 16:10:25.949] [ INFO] console - Executing (default): delete from "Kopnik"
                where
                    name like '%temp'
[2016-09-10 16:10:25.951] [ INFO] console - Executing (default): update "Kopnik"
                set 
                    "voiskoSize"= case when id=2 then 1 ELSE 0 END
                where
                    id>1 
                    and id<=5
[2016-09-10 16:10:25.956] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 2 }
[2016-09-10 16:10:25.960] [ INFO] console - Executing (bbe70886-ba90-464c-9364-1d39c9908b9a): START TRANSACTION;
[2016-09-10 16:10:25.961] [ INFO] console - Executing (bbe70886-ba90-464c-9364-1d39c9908b9a): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 16:10:25.968] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 2);
[2016-09-10 16:10:25.983] [ INFO] console - Executing (bbe70886-ba90-464c-9364-1d39c9908b9a): COMMIT;
[2016-09-10 16:10:25.985] [ INFO] console - [ 70,
  1486,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/2/',
      starshina: [Object],
      id: '2',
      email: 'unittest2@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '1',
      voiskoSize: 1,
      birth: 1983,
      path: '/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: null,
      attachments: [] } ] ]
[2016-09-10 16:10:26.002] [ INFO] console - Executing (249084b5-dff0-461d-9470-1cb14515ffe3): START TRANSACTION;
[2016-09-10 16:10:26.004] [ INFO] console - Executing (249084b5-dff0-461d-9470-1cb14515ffe3): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 16:10:26.013] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 2);
[2016-09-10 16:10:26.020] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"+1
                                where
                                    '/2/' like path||id||'/%'
[2016-09-10 16:10:26.023] [ INFO] console - Executing (default): INSERT INTO "Kopnik" ("id","name","surname","patronymic","voiskoSize","birth","path","created_at","updated_at","rodina_id","starshina_id") VALUES (DEFAULT,'temp','temp','temp',0,1900,'/2/','2016-09-10 11:10:26.008 +00:00','2016-09-10 11:10:26.008 +00:00',NULL,2) RETURNING *;
[2016-09-10 16:10:26.027] [ INFO] console - Executing (249084b5-dff0-461d-9470-1cb14515ffe3): COMMIT;
[2016-09-10 16:10:26.028] [ INFO] console - [ 70, 1487, {}, [ '185' ] ]
[2016-09-10 16:10:26.033] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/' like k.path||k.id||'/%'
[2016-09-10 16:10:26.036] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Zemla', id: 2 }
[2016-09-10 16:10:26.040] [ INFO] console - Executing (49a06c90-ed5e-42c1-a593-bfd8b8923b7e): START TRANSACTION;
[2016-09-10 16:10:26.041] [ INFO] console - Executing (574d2ab8-fb88-4c91-a847-f3f965a88d39): START TRANSACTION;
[2016-09-10 16:10:26.043] [ INFO] console - Executing (49a06c90-ed5e-42c1-a593-bfd8b8923b7e): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 16:10:26.044] [ INFO] console - Executing (574d2ab8-fb88-4c91-a847-f3f965a88d39): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 16:10:26.047] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 16:10:26.051] [ INFO] console - [ 16,
  2137250798239744,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id2.voiskoChange',
  [],
  { voiskoSize: 2 } ]
[2016-09-10 16:10:26.062] [ INFO] console - Executing (default): SELECT "Zemla"."id", "Zemla"."path", "Zemla"."name", "Zemla"."intensity", "Zemla"."note", "Zemla"."created_at", "Zemla"."updated_at", "Zemla"."deleted_at", "Zemla"."parent_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Zemla" AS "Zemla" LEFT OUTER JOIN "File" AS "attachments" ON "Zemla"."id" = "attachments"."zemla_id" AND "attachments"."deleted_at" IS NULL WHERE ("Zemla"."deleted_at" IS NULL AND "Zemla"."id" = 2);
[2016-09-10 16:10:26.066] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 185);
[2016-09-10 16:10:26.075] [ INFO] console - Executing (49a06c90-ed5e-42c1-a593-bfd8b8923b7e): COMMIT;
[2016-09-10 16:10:26.077] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"+1
                                where
                                    '/2/185/' like path||id||'/%'
[2016-09-10 16:10:26.079] [ INFO] console - [ 70,
  1488,
  {},
  [ { fullPath: 'null2/',
      id: '2',
      path: null,
      name: 'UnitTest2',
      intensity: 1000,
      note: 'unit test 1473505807871',
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Sat Sep 10 2016 16:10:08 GMT+0500 (YEKT),
      deleted_at: null,
      parent_id: '1',
      attachments: [] } ] ]
[2016-09-10 16:10:26.088] [ INFO] console - Executing (default): INSERT INTO "Kopnik" ("id","name","surname","patronymic","voiskoSize","birth","path","created_at","updated_at","rodina_id","starshina_id") VALUES (DEFAULT,'temp','temp','temp',0,1900,'/2/185/','2016-09-10 11:10:26.051 +00:00','2016-09-10 11:10:26.051 +00:00',NULL,185) RETURNING *;
[2016-09-10 16:10:26.092] [ INFO] console - Executing (574d2ab8-fb88-4c91-a847-f3f965a88d39): COMMIT;
[2016-09-10 16:10:26.095] [ INFO] console - [ 70, 1489, {}, [ '186' ] ]
[2016-09-10 16:10:26.098] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/185/' like k.path||k.id||'/%'
[2016-09-10 16:10:26.103] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2', '185')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 16:10:26.106] [ INFO] console - [ 16,
  7846415908732928,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id185.voiskoChange',
  [],
  { voiskoSize: 1 } ]
[2016-09-10 16:10:26.113] [ INFO] console - [ 16,
  7700504519901184,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id2.voiskoChange',
  [],
  { voiskoSize: 3 } ]
[2016-09-10 16:10:37.402] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 4 }
[2016-09-10 16:10:37.418] [ INFO] console - Executing (21cf18a2-ffe2-418d-baf6-f0909af2eb4d): START TRANSACTION;
[2016-09-10 16:10:37.419] [ INFO] console - Executing (21cf18a2-ffe2-418d-baf6-f0909af2eb4d): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 16:10:37.432] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 4);
[2016-09-10 16:10:37.437] [ INFO] console - Executing (21cf18a2-ffe2-418d-baf6-f0909af2eb4d): COMMIT;
[2016-09-10 16:10:37.439] [ INFO] console - [ 70,
  1490,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/4/',
      starshina: [Object],
      id: '4',
      email: 'unittest4@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '4',
      voiskoSize: 0,
      birth: 1983,
      path: '/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: null,
      attachments: [] } ] ]
[2016-09-10 16:10:37.453] [ INFO] console - Executing (349edc53-7031-41ec-a896-2e92e5da0bb8): START TRANSACTION;
[2016-09-10 16:10:37.454] [ INFO] console - Executing (349edc53-7031-41ec-a896-2e92e5da0bb8): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 16:10:37.459] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 185);
[2016-09-10 16:10:37.464] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 4);
[2016-09-10 16:10:37.469] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/' like k.path||k.id||'/%'
[2016-09-10 16:10:37.476] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 16:10:37.479] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"-2
                                where
                                    '/2/' like path||id||'/%'
[2016-09-10 16:10:37.486] [ INFO] console - Executing (default): UPDATE "Kopnik" SET "path"='/4/',"starshina_id"='4',"updated_at"='2016-09-10 11:10:37.481 +00:00' WHERE "id" = '185'
[2016-09-10 16:10:37.490] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"+2
                                where
                                    '/4/' like path||id||'/%'
[2016-09-10 16:10:37.493] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."starshina_id" = '185');
[2016-09-10 16:10:37.501] [ INFO] console - Executing (default): UPDATE "Kopnik" SET "path"='/4/185/',"updated_at"='2016-09-10 11:10:37.497 +00:00' WHERE "id" = '186'
[2016-09-10 16:10:37.509] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/4/' like k.path||k.id||'/%'
[2016-09-10 16:10:37.514] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('4')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 16:10:37.517] [ INFO] console - Executing (349edc53-7031-41ec-a896-2e92e5da0bb8): COMMIT;
[2016-09-10 16:10:37.519] [ INFO] console - [ 70, 1491, {}, [ undefined ] ]
[2016-09-10 16:10:37.521] [ INFO] console - [ 16,
  1403742865850368,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id2.voiskoChange',
  [],
  { voiskoSize: 1 } ]
[2016-09-10 16:10:37.526] [ INFO] console - [ 16,
  3607181276479488,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id4.voiskoChange',
  [],
  { voiskoSize: 2 } ]
[2016-09-10 16:10:44.252] [ INFO] console - [ 70, 1493, {}, [ undefined ] ]
[2016-09-10 16:10:44.261] [ INFO] console - Executing (default): delete from "Kopnik"
                where
                    name like '%temp'
[2016-09-10 16:10:44.264] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 2 }
[2016-09-10 16:10:44.269] [ INFO] console - Executing (6111ee95-f978-4e47-871b-e5ee673a7064): START TRANSACTION;
[2016-09-10 16:10:44.270] [ INFO] console - Executing (default): update "Kopnik"
                set 
                    "voiskoSize"= case when id=2 then 1 ELSE 0 END
                where
                    id>1 
                    and id<=5
[2016-09-10 16:10:44.271] [ INFO] console - Executing (6111ee95-f978-4e47-871b-e5ee673a7064): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 16:10:44.282] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 2);
[2016-09-10 16:10:44.287] [ INFO] console - Executing (6111ee95-f978-4e47-871b-e5ee673a7064): COMMIT;
[2016-09-10 16:10:44.289] [ INFO] console - [ 70,
  1494,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/2/',
      starshina: [Object],
      id: '2',
      email: 'unittest2@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '1',
      voiskoSize: 1,
      birth: 1983,
      path: '/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: null,
      attachments: [] } ] ]
[2016-09-10 16:10:44.303] [ INFO] console - Executing (afcb84c7-f961-41ab-9b2d-88eb70fd866a): START TRANSACTION;
[2016-09-10 16:10:44.304] [ INFO] console - Executing (afcb84c7-f961-41ab-9b2d-88eb70fd866a): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 16:10:44.311] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 2);
[2016-09-10 16:10:44.314] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"+1
                                where
                                    '/2/' like path||id||'/%'
[2016-09-10 16:10:44.321] [ INFO] console - Executing (default): INSERT INTO "Kopnik" ("id","name","surname","patronymic","voiskoSize","birth","path","created_at","updated_at","rodina_id","starshina_id") VALUES (DEFAULT,'temp','temp','temp',0,1900,'/2/','2016-09-10 11:10:44.306 +00:00','2016-09-10 11:10:44.306 +00:00',NULL,2) RETURNING *;
[2016-09-10 16:10:44.325] [ INFO] console - Executing (afcb84c7-f961-41ab-9b2d-88eb70fd866a): COMMIT;
[2016-09-10 16:10:44.326] [ INFO] console - [ 70, 1495, {}, [ '187' ] ]
[2016-09-10 16:10:44.332] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/' like k.path||k.id||'/%'
[2016-09-10 16:10:44.337] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Zemla', id: 2 }
[2016-09-10 16:10:44.348] [ INFO] console - Executing (82bbb4cd-4c6c-492b-9461-9707008fedaf): START TRANSACTION;
[2016-09-10 16:10:44.349] [ INFO] console - Executing (bda74158-eb72-43fa-b0d8-362a728a4e00): START TRANSACTION;
[2016-09-10 16:10:44.359] [ INFO] console - Executing (82bbb4cd-4c6c-492b-9461-9707008fedaf): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 16:10:44.360] [ INFO] console - Executing (bda74158-eb72-43fa-b0d8-362a728a4e00): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 16:10:44.385] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 16:10:44.395] [ INFO] console - Executing (default): SELECT "Zemla"."id", "Zemla"."path", "Zemla"."name", "Zemla"."intensity", "Zemla"."note", "Zemla"."created_at", "Zemla"."updated_at", "Zemla"."deleted_at", "Zemla"."parent_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Zemla" AS "Zemla" LEFT OUTER JOIN "File" AS "attachments" ON "Zemla"."id" = "attachments"."zemla_id" AND "attachments"."deleted_at" IS NULL WHERE ("Zemla"."deleted_at" IS NULL AND "Zemla"."id" = 2);
[2016-09-10 16:10:44.397] [ INFO] console - [ 16,
  776950406709248,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id2.voiskoChange',
  [],
  { voiskoSize: 2 } ]
[2016-09-10 16:10:44.411] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 187);
[2016-09-10 16:10:44.418] [ INFO] console - Executing (82bbb4cd-4c6c-492b-9461-9707008fedaf): COMMIT;
[2016-09-10 16:10:44.422] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"+1
                                where
                                    '/2/187/' like path||id||'/%'
[2016-09-10 16:10:44.423] [ INFO] console - [ 70,
  1496,
  {},
  [ { fullPath: 'null2/',
      id: '2',
      path: null,
      name: 'UnitTest2',
      intensity: 1000,
      note: 'unit test 1473505807871',
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Sat Sep 10 2016 16:10:08 GMT+0500 (YEKT),
      deleted_at: null,
      parent_id: '1',
      attachments: [] } ] ]
[2016-09-10 16:10:44.437] [ INFO] console - Executing (default): INSERT INTO "Kopnik" ("id","name","surname","patronymic","voiskoSize","birth","path","created_at","updated_at","rodina_id","starshina_id") VALUES (DEFAULT,'temp','temp','temp',0,1900,'/2/187/','2016-09-10 11:10:44.364 +00:00','2016-09-10 11:10:44.364 +00:00',NULL,187) RETURNING *;
[2016-09-10 16:10:44.451] [ INFO] console - Executing (bda74158-eb72-43fa-b0d8-362a728a4e00): COMMIT;
[2016-09-10 16:10:44.460] [ INFO] console - [ 70, 1497, {}, [ '188' ] ]
[2016-09-10 16:10:44.468] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/187/' like k.path||k.id||'/%'
[2016-09-10 16:10:44.481] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2', '187')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 16:10:44.495] [ INFO] console - [ 16,
  951002920386560,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id187.voiskoChange',
  [],
  { voiskoSize: 1 } ]
[2016-09-10 16:10:44.503] [ INFO] console - [ 16,
  5638734286422016,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id2.voiskoChange',
  [],
  { voiskoSize: 3 } ]
[2016-09-10 16:10:51.671] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 4 }
[2016-09-10 16:10:51.677] [ INFO] console - Executing (c8966dff-7d09-4711-80dd-4bc5f08ee199): START TRANSACTION;
[2016-09-10 16:10:51.679] [ INFO] console - Executing (c8966dff-7d09-4711-80dd-4bc5f08ee199): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 16:10:51.687] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 4);
[2016-09-10 16:10:51.698] [ INFO] console - Executing (c8966dff-7d09-4711-80dd-4bc5f08ee199): COMMIT;
[2016-09-10 16:10:51.708] [ INFO] console - [ 70,
  1498,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/4/',
      starshina: [Object],
      id: '4',
      email: 'unittest4@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '4',
      voiskoSize: 0,
      birth: 1983,
      path: '/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: null,
      attachments: [] } ] ]
[2016-09-10 16:10:51.740] [ INFO] console - Executing (76faa04a-7432-4ed6-a341-2ef316a63e27): START TRANSACTION;
[2016-09-10 16:10:51.746] [ INFO] console - Executing (76faa04a-7432-4ed6-a341-2ef316a63e27): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 16:10:51.759] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 187);
[2016-09-10 16:10:51.780] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 4);
[2016-09-10 16:10:51.784] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/' like k.path||k.id||'/%'
[2016-09-10 16:10:51.796] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 16:10:51.801] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"-2
                                where
                                    '/2/' like path||id||'/%'
[2016-09-10 16:10:51.818] [ INFO] console - Executing (default): UPDATE "Kopnik" SET "path"='/4/',"starshina_id"='4',"updated_at"='2016-09-10 11:10:51.803 +00:00' WHERE "id" = '187'
[2016-09-10 16:10:51.827] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"+2
                                where
                                    '/4/' like path||id||'/%'
[2016-09-10 16:10:51.832] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."starshina_id" = '187');
[2016-09-10 16:10:51.841] [ INFO] console - Executing (default): UPDATE "Kopnik" SET "path"='/4/187/',"updated_at"='2016-09-10 11:10:51.836 +00:00' WHERE "id" = '188'
[2016-09-10 16:10:51.844] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/4/' like k.path||k.id||'/%'
[2016-09-10 16:10:51.851] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('4')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 16:10:51.854] [ INFO] console - Executing (76faa04a-7432-4ed6-a341-2ef316a63e27): COMMIT;
[2016-09-10 16:10:51.856] [ INFO] console - [ 70, 1499, {}, [ undefined ] ]
[2016-09-10 16:10:51.858] [ INFO] console - [ 16,
  3313988930633728,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id2.voiskoChange',
  [],
  { voiskoSize: 1 } ]
[2016-09-10 16:10:51.864] [ INFO] console - [ 16,
  167234840297472,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id4.voiskoChange',
  [],
  { voiskoSize: 2 } ]
[2016-09-10 16:12:21.512] [ INFO] console - [ 70, 1501, {}, [ undefined ] ]
[2016-09-10 16:12:21.535] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 2 }
[2016-09-10 16:12:21.538] [ INFO] console - Executing (default): delete from "Kopnik"
                where
                    name like '%temp'
[2016-09-10 16:12:21.548] [ INFO] console - Executing (b812987e-7542-4cde-b39c-1b07a8fe45f9): START TRANSACTION;
[2016-09-10 16:12:21.551] [ INFO] console - Executing (default): update "Kopnik"
                set 
                    "voiskoSize"= case when id=2 then 1 ELSE 0 END
                where
                    id>1 
                    and id<=5
[2016-09-10 16:12:21.553] [ INFO] console - Executing (b812987e-7542-4cde-b39c-1b07a8fe45f9): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 16:12:21.563] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 2);
[2016-09-10 16:12:21.569] [ INFO] console - Executing (b812987e-7542-4cde-b39c-1b07a8fe45f9): COMMIT;
[2016-09-10 16:12:21.571] [ INFO] console - [ 70,
  1502,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/2/',
      starshina: [Object],
      id: '2',
      email: 'unittest2@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '1',
      voiskoSize: 1,
      birth: 1983,
      path: '/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: null,
      attachments: [] } ] ]
[2016-09-10 16:12:21.605] [ INFO] console - Executing (d1cb5582-46a6-4aeb-a56a-bba614afdd75): START TRANSACTION;
[2016-09-10 16:12:21.606] [ INFO] console - Executing (d1cb5582-46a6-4aeb-a56a-bba614afdd75): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 16:12:21.614] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 2);
[2016-09-10 16:12:21.618] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"+1
                                where
                                    '/2/' like path||id||'/%'
[2016-09-10 16:12:21.624] [ INFO] console - Executing (default): INSERT INTO "Kopnik" ("id","name","surname","patronymic","voiskoSize","birth","path","created_at","updated_at","rodina_id","starshina_id") VALUES (DEFAULT,'temp','temp','temp',0,1900,'/2/','2016-09-10 11:12:21.608 +00:00','2016-09-10 11:12:21.608 +00:00',NULL,2) RETURNING *;
[2016-09-10 16:12:21.628] [ INFO] console - Executing (d1cb5582-46a6-4aeb-a56a-bba614afdd75): COMMIT;
[2016-09-10 16:12:21.629] [ INFO] console - [ 70, 1503, {}, [ '189' ] ]
[2016-09-10 16:12:21.635] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/' like k.path||k.id||'/%'
[2016-09-10 16:12:21.640] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 16:12:21.641] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Zemla', id: 2 }
[2016-09-10 16:12:21.645] [ INFO] console - Executing (6568476c-8554-45a5-9d64-cf7a5536ff59): START TRANSACTION;
[2016-09-10 16:12:21.649] [ INFO] console - Executing (2fc222d4-6988-420a-9ddc-2dac94c1f912): START TRANSACTION;
[2016-09-10 16:12:21.650] [ INFO] console - Executing (6568476c-8554-45a5-9d64-cf7a5536ff59): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 16:12:21.651] [ INFO] console - [ 16,
  6946452735524864,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id2.voiskoChange',
  [],
  { voiskoSize: 2 } ]
[2016-09-10 16:12:21.656] [ INFO] console - Executing (2fc222d4-6988-420a-9ddc-2dac94c1f912): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 16:12:21.670] [ INFO] console - Executing (default): SELECT "Zemla"."id", "Zemla"."path", "Zemla"."name", "Zemla"."intensity", "Zemla"."note", "Zemla"."created_at", "Zemla"."updated_at", "Zemla"."deleted_at", "Zemla"."parent_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Zemla" AS "Zemla" LEFT OUTER JOIN "File" AS "attachments" ON "Zemla"."id" = "attachments"."zemla_id" AND "attachments"."deleted_at" IS NULL WHERE ("Zemla"."deleted_at" IS NULL AND "Zemla"."id" = 2);
[2016-09-10 16:12:21.676] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 189);
[2016-09-10 16:12:21.682] [ INFO] console - Executing (6568476c-8554-45a5-9d64-cf7a5536ff59): COMMIT;
[2016-09-10 16:12:21.684] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"+1
                                where
                                    '/2/189/' like path||id||'/%'
[2016-09-10 16:12:21.685] [ INFO] console - [ 70,
  1504,
  {},
  [ { fullPath: 'null2/',
      id: '2',
      path: null,
      name: 'UnitTest2',
      intensity: 1000,
      note: 'unit test 1473505807871',
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Sat Sep 10 2016 16:10:08 GMT+0500 (YEKT),
      deleted_at: null,
      parent_id: '1',
      attachments: [] } ] ]
[2016-09-10 16:12:21.697] [ INFO] console - Executing (default): INSERT INTO "Kopnik" ("id","name","surname","patronymic","voiskoSize","birth","path","created_at","updated_at","rodina_id","starshina_id") VALUES (DEFAULT,'temp','temp','temp',0,1900,'/2/189/','2016-09-10 11:12:21.663 +00:00','2016-09-10 11:12:21.663 +00:00',NULL,189) RETURNING *;
[2016-09-10 16:12:21.701] [ INFO] console - Executing (2fc222d4-6988-420a-9ddc-2dac94c1f912): COMMIT;
[2016-09-10 16:12:21.703] [ INFO] console - [ 70, 1505, {}, [ '190' ] ]
[2016-09-10 16:12:21.707] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/189/' like k.path||k.id||'/%'
[2016-09-10 16:12:21.713] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2', '189')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 16:12:21.717] [ INFO] console - [ 16,
  3134461818437632,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id189.voiskoChange',
  [],
  { voiskoSize: 1 } ]
[2016-09-10 16:12:21.721] [ INFO] console - [ 16,
  5284198671712256,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id2.voiskoChange',
  [],
  { voiskoSize: 3 } ]
[2016-09-10 16:14:23.124] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 4 }
[2016-09-10 16:14:23.219] [ INFO] console - Executing (366e3017-4dbf-46b6-8490-afb5dc36cae3): START TRANSACTION;
[2016-09-10 16:14:23.220] [ INFO] console - Executing (366e3017-4dbf-46b6-8490-afb5dc36cae3): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 16:14:23.243] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 4);
[2016-09-10 16:14:23.257] [ INFO] console - Executing (366e3017-4dbf-46b6-8490-afb5dc36cae3): COMMIT;
[2016-09-10 16:14:23.258] [ INFO] console - [ 70,
  1506,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/4/',
      starshina: [Object],
      id: '4',
      email: 'unittest4@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '4',
      voiskoSize: 0,
      birth: 1983,
      path: '/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: null,
      attachments: [] } ] ]
[2016-09-10 16:14:27.811] [ INFO] console - [ 70, 1508, {}, [ undefined ] ]
[2016-09-10 16:14:27.815] [ INFO] console - Executing (default): delete from "Kopnik"
                where
                    name like '%temp'
[2016-09-10 16:14:27.820] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 2 }
[2016-09-10 16:14:27.824] [ INFO] console - Executing (5f973cac-a880-4da2-bb32-90aa2b2472bb): START TRANSACTION;
[2016-09-10 16:14:27.826] [ INFO] console - Executing (5f973cac-a880-4da2-bb32-90aa2b2472bb): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 16:14:27.828] [ INFO] console - Executing (default): update "Kopnik"
                set 
                    "voiskoSize"= case when id=2 then 1 ELSE 0 END
                where
                    id>1 
                    and id<=5
[2016-09-10 16:14:27.833] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 2);
[2016-09-10 16:14:27.843] [ INFO] console - Executing (5f973cac-a880-4da2-bb32-90aa2b2472bb): COMMIT;
[2016-09-10 16:14:27.845] [ INFO] console - [ 70,
  1509,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/2/',
      starshina: [Object],
      id: '2',
      email: 'unittest2@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '1',
      voiskoSize: 1,
      birth: 1983,
      path: '/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: null,
      attachments: [] } ] ]
[2016-09-10 16:14:27.859] [ INFO] console - Executing (cb625a9a-0749-4319-ba3c-84d729d98880): START TRANSACTION;
[2016-09-10 16:14:27.861] [ INFO] console - Executing (cb625a9a-0749-4319-ba3c-84d729d98880): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 16:14:27.867] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 2);
[2016-09-10 16:14:27.871] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"+1
                                where
                                    '/2/' like path||id||'/%'
[2016-09-10 16:14:27.876] [ INFO] console - Executing (default): INSERT INTO "Kopnik" ("id","name","surname","patronymic","voiskoSize","birth","path","created_at","updated_at","rodina_id","starshina_id") VALUES (DEFAULT,'temp','temp','temp',0,1900,'/2/','2016-09-10 11:14:27.862 +00:00','2016-09-10 11:14:27.862 +00:00',NULL,2) RETURNING *;
[2016-09-10 16:14:27.885] [ INFO] console - Executing (cb625a9a-0749-4319-ba3c-84d729d98880): COMMIT;
[2016-09-10 16:14:27.886] [ INFO] console - [ 70, 1510, {}, [ '191' ] ]
[2016-09-10 16:14:27.893] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Zemla', id: 2 }
[2016-09-10 16:14:27.901] [ INFO] console - Executing (608d6a2e-7880-4a9f-b807-eecd40f940df): START TRANSACTION;
[2016-09-10 16:14:27.902] [ INFO] console - Executing (67e5cc90-dd26-4190-8722-907491c4c9d6): START TRANSACTION;
[2016-09-10 16:14:27.905] [ INFO] console - Executing (608d6a2e-7880-4a9f-b807-eecd40f940df): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 16:14:27.906] [ INFO] console - Executing (67e5cc90-dd26-4190-8722-907491c4c9d6): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 16:14:27.928] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/' like k.path||k.id||'/%'
[2016-09-10 16:14:27.938] [ INFO] console - Executing (default): SELECT "Zemla"."id", "Zemla"."path", "Zemla"."name", "Zemla"."intensity", "Zemla"."note", "Zemla"."created_at", "Zemla"."updated_at", "Zemla"."deleted_at", "Zemla"."parent_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Zemla" AS "Zemla" LEFT OUTER JOIN "File" AS "attachments" ON "Zemla"."id" = "attachments"."zemla_id" AND "attachments"."deleted_at" IS NULL WHERE ("Zemla"."deleted_at" IS NULL AND "Zemla"."id" = 2);
[2016-09-10 16:14:27.943] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 191);
[2016-09-10 16:14:27.946] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 16:14:27.950] [ INFO] console - Executing (608d6a2e-7880-4a9f-b807-eecd40f940df): COMMIT;
[2016-09-10 16:14:27.956] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"+1
                                where
                                    '/2/191/' like path||id||'/%'
[2016-09-10 16:14:27.960] [ INFO] console - [ 16,
  6623598978531328,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id2.voiskoChange',
  [],
  { voiskoSize: 2 } ]
[2016-09-10 16:14:27.967] [ INFO] console - [ 70,
  1511,
  {},
  [ { fullPath: 'null2/',
      id: '2',
      path: null,
      name: 'UnitTest2',
      intensity: 1000,
      note: 'unit test 1473505807871',
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Sat Sep 10 2016 16:10:08 GMT+0500 (YEKT),
      deleted_at: null,
      parent_id: '1',
      attachments: [] } ] ]
[2016-09-10 16:14:27.979] [ INFO] console - Executing (default): INSERT INTO "Kopnik" ("id","name","surname","patronymic","voiskoSize","birth","path","created_at","updated_at","rodina_id","starshina_id") VALUES (DEFAULT,'temp','temp','temp',0,1900,'/2/191/','2016-09-10 11:14:27.909 +00:00','2016-09-10 11:14:27.909 +00:00',NULL,191) RETURNING *;
[2016-09-10 16:14:27.983] [ INFO] console - Executing (67e5cc90-dd26-4190-8722-907491c4c9d6): COMMIT;
[2016-09-10 16:14:27.985] [ INFO] console - [ 70, 1512, {}, [ '192' ] ]
[2016-09-10 16:14:27.991] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/191/' like k.path||k.id||'/%'
[2016-09-10 16:14:27.997] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2', '191')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 16:14:28.000] [ INFO] console - [ 16,
  1209297377689600,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id191.voiskoChange',
  [],
  { voiskoSize: 1 } ]
[2016-09-10 16:14:28.017] [ INFO] console - [ 16,
  97610322935808,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id2.voiskoChange',
  [],
  { voiskoSize: 3 } ]
[2016-09-10 16:14:34.164] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 4 }
[2016-09-10 16:14:34.168] [ INFO] console - Executing (793cda8a-1302-402d-b3fb-21baba2897be): START TRANSACTION;
[2016-09-10 16:14:34.170] [ INFO] console - Executing (793cda8a-1302-402d-b3fb-21baba2897be): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 16:14:34.181] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 4);
[2016-09-10 16:14:34.187] [ INFO] console - Executing (793cda8a-1302-402d-b3fb-21baba2897be): COMMIT;
[2016-09-10 16:14:34.189] [ INFO] console - [ 70,
  1513,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/4/',
      starshina: [Object],
      id: '4',
      email: 'unittest4@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '4',
      voiskoSize: 0,
      birth: 1983,
      path: '/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: null,
      attachments: [] } ] ]
[2016-09-10 16:14:34.201] [ INFO] console - Executing (edd14dd6-f094-43f4-9e28-dc44aa83748d): START TRANSACTION;
[2016-09-10 16:14:34.203] [ INFO] console - Executing (edd14dd6-f094-43f4-9e28-dc44aa83748d): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 16:14:34.207] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 191);
[2016-09-10 16:14:34.213] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 4);
[2016-09-10 16:14:34.216] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/' like k.path||k.id||'/%'
[2016-09-10 16:14:34.227] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 16:14:34.230] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"-2
                                where
                                    '/2/' like path||id||'/%'
[2016-09-10 16:14:34.238] [ INFO] console - Executing (default): UPDATE "Kopnik" SET "path"='/4/',"starshina_id"='4',"updated_at"='2016-09-10 11:14:34.232 +00:00' WHERE "id" = '191'
[2016-09-10 16:14:34.240] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"+2
                                where
                                    '/4/' like path||id||'/%'
[2016-09-10 16:14:34.245] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."starshina_id" = '191');
[2016-09-10 16:14:34.253] [ INFO] console - Executing (default): UPDATE "Kopnik" SET "path"='/4/191/',"updated_at"='2016-09-10 11:14:34.249 +00:00' WHERE "id" = '192'
[2016-09-10 16:14:34.257] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/4/' like k.path||k.id||'/%'
[2016-09-10 16:14:34.265] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('4')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 16:14:34.268] [ INFO] console - Executing (edd14dd6-f094-43f4-9e28-dc44aa83748d): COMMIT;
[2016-09-10 16:14:34.270] [ INFO] console - [ 70, 1514, {}, [ undefined ] ]
[2016-09-10 16:14:34.274] [ INFO] console - [ 16,
  1509646642708480,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id2.voiskoChange',
  [],
  { voiskoSize: 1 } ]
[2016-09-10 16:14:34.370] [ INFO] console - [ 16,
  3111781543182336,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id4.voiskoChange',
  [],
  { voiskoSize: 2 } ]
[2016-09-10 16:14:46.428] [ INFO] console - [ 70, 1516, {}, [ undefined ] ]
[2016-09-10 16:14:46.444] [ INFO] console - Executing (default): delete from "Kopnik"
                where
                    name like '%temp'
[2016-09-10 16:14:46.447] [ INFO] console - Executing (default): update "Kopnik"
                set 
                    "voiskoSize"= case when id=2 then 1 ELSE 0 END
                where
                    id>1 
                    and id<=5
[2016-09-10 16:14:53.661] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 2 }
[2016-09-10 16:14:53.665] [ INFO] console - Executing (2a2d1de0-2f03-4fac-9ab5-fe9c965108c5): START TRANSACTION;
[2016-09-10 16:14:53.667] [ INFO] console - Executing (2a2d1de0-2f03-4fac-9ab5-fe9c965108c5): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 16:14:53.705] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 2);
[2016-09-10 16:14:53.715] [ INFO] console - Executing (2a2d1de0-2f03-4fac-9ab5-fe9c965108c5): COMMIT;
[2016-09-10 16:14:53.718] [ INFO] console - [ 70,
  1517,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/2/',
      starshina: [Object],
      id: '2',
      email: 'unittest2@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '1',
      voiskoSize: 1,
      birth: 1983,
      path: '/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: null,
      attachments: [] } ] ]
[2016-09-10 16:15:04.279] [ INFO] console - Executing (c6a939d1-265c-442b-a645-9b80ed110b68): START TRANSACTION;
[2016-09-10 16:15:04.282] [ INFO] console - Executing (c6a939d1-265c-442b-a645-9b80ed110b68): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 16:15:04.290] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 2);
[2016-09-10 16:15:04.294] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"+1
                                where
                                    '/2/' like path||id||'/%'
[2016-09-10 16:15:04.308] [ INFO] console - Executing (default): INSERT INTO "Kopnik" ("id","name","surname","patronymic","voiskoSize","birth","path","created_at","updated_at","rodina_id","starshina_id") VALUES (DEFAULT,'temp','temp','temp',0,1900,'/2/','2016-09-10 11:15:04.284 +00:00','2016-09-10 11:15:04.284 +00:00',NULL,2) RETURNING *;
[2016-09-10 16:15:04.312] [ INFO] console - Executing (c6a939d1-265c-442b-a645-9b80ed110b68): COMMIT;
[2016-09-10 16:15:04.314] [ INFO] console - [ 70, 1518, {}, [ '193' ] ]
[2016-09-10 16:15:04.325] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Zemla', id: 2 }
[2016-09-10 16:15:04.329] [ INFO] console - Executing (0d92eb55-0e27-4273-86f8-4dad4105bc9e): START TRANSACTION;
[2016-09-10 16:15:04.330] [ INFO] console - Executing (71d667e0-895d-45e3-b4a9-46f11a7f5c61): START TRANSACTION;
[2016-09-10 16:15:04.332] [ INFO] console - Executing (0d92eb55-0e27-4273-86f8-4dad4105bc9e): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 16:15:04.333] [ INFO] console - Executing (71d667e0-895d-45e3-b4a9-46f11a7f5c61): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 16:15:04.352] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/' like k.path||k.id||'/%'
[2016-09-10 16:15:04.361] [ INFO] console - Executing (default): SELECT "Zemla"."id", "Zemla"."path", "Zemla"."name", "Zemla"."intensity", "Zemla"."note", "Zemla"."created_at", "Zemla"."updated_at", "Zemla"."deleted_at", "Zemla"."parent_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Zemla" AS "Zemla" LEFT OUTER JOIN "File" AS "attachments" ON "Zemla"."id" = "attachments"."zemla_id" AND "attachments"."deleted_at" IS NULL WHERE ("Zemla"."deleted_at" IS NULL AND "Zemla"."id" = 2);
[2016-09-10 16:15:04.368] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 193);
[2016-09-10 16:15:04.374] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 16:15:04.380] [ INFO] console - Executing (0d92eb55-0e27-4273-86f8-4dad4105bc9e): COMMIT;
[2016-09-10 16:15:04.382] [ INFO] console - [ 16,
  8819392064258048,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id2.voiskoChange',
  [],
  { voiskoSize: 2 } ]
[2016-09-10 16:15:04.388] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"+1
                                where
                                    '/2/193/' like path||id||'/%'
[2016-09-10 16:15:04.389] [ INFO] console - [ 70,
  1519,
  {},
  [ { fullPath: 'null2/',
      id: '2',
      path: null,
      name: 'UnitTest2',
      intensity: 1000,
      note: 'unit test 1473505807871',
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Sat Sep 10 2016 16:10:08 GMT+0500 (YEKT),
      deleted_at: null,
      parent_id: '1',
      attachments: [] } ] ]
[2016-09-10 16:15:04.404] [ INFO] console - Executing (default): INSERT INTO "Kopnik" ("id","name","surname","patronymic","voiskoSize","birth","path","created_at","updated_at","rodina_id","starshina_id") VALUES (DEFAULT,'temp','temp','temp',0,1900,'/2/193/','2016-09-10 11:15:04.336 +00:00','2016-09-10 11:15:04.336 +00:00',NULL,193) RETURNING *;
[2016-09-10 16:15:04.410] [ INFO] console - Executing (71d667e0-895d-45e3-b4a9-46f11a7f5c61): COMMIT;
[2016-09-10 16:15:04.412] [ INFO] console - [ 70, 1520, {}, [ '194' ] ]
[2016-09-10 16:15:04.419] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/193/' like k.path||k.id||'/%'
[2016-09-10 16:15:04.427] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2', '193')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 16:15:04.430] [ INFO] console - [ 16,
  6393035719966720,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id193.voiskoChange',
  [],
  { voiskoSize: 1 } ]
[2016-09-10 16:15:04.443] [ INFO] console - [ 16,
  886138015318016,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id2.voiskoChange',
  [],
  { voiskoSize: 3 } ]
[2016-09-10 16:15:34.977] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 4 }
[2016-09-10 16:15:34.988] [ INFO] console - Executing (84838b72-ab9d-4e86-a255-daecf2ffc0bb): START TRANSACTION;
[2016-09-10 16:15:34.990] [ INFO] console - Executing (84838b72-ab9d-4e86-a255-daecf2ffc0bb): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 16:15:35.020] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 4);
[2016-09-10 16:15:35.024] [ INFO] console - Executing (84838b72-ab9d-4e86-a255-daecf2ffc0bb): COMMIT;
[2016-09-10 16:15:35.026] [ INFO] console - [ 70,
  1521,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/4/',
      starshina: [Object],
      id: '4',
      email: 'unittest4@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '4',
      voiskoSize: 0,
      birth: 1983,
      path: '/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: null,
      attachments: [] } ] ]
[2016-09-10 16:15:35.036] [ INFO] console - Executing (a2836958-cad5-4e05-af3b-24530e0b76ce): START TRANSACTION;
[2016-09-10 16:15:35.041] [ INFO] console - Executing (a2836958-cad5-4e05-af3b-24530e0b76ce): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 16:15:35.047] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 193);
[2016-09-10 16:15:35.052] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 4);
[2016-09-10 16:15:35.055] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/' like k.path||k.id||'/%'
[2016-09-10 16:15:35.063] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 16:15:35.067] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"-2
                                where
                                    '/2/' like path||id||'/%'
[2016-09-10 16:15:35.074] [ INFO] console - Executing (default): UPDATE "Kopnik" SET "path"='/4/',"starshina_id"='4',"updated_at"='2016-09-10 11:15:35.069 +00:00' WHERE "id" = '193'
[2016-09-10 16:15:35.077] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"+2
                                where
                                    '/4/' like path||id||'/%'
[2016-09-10 16:15:35.082] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."starshina_id" = '193');
[2016-09-10 16:15:35.092] [ INFO] console - Executing (default): UPDATE "Kopnik" SET "path"='/4/193/',"updated_at"='2016-09-10 11:15:35.088 +00:00' WHERE "id" = '194'
[2016-09-10 16:15:35.095] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/4/' like k.path||k.id||'/%'
[2016-09-10 16:15:35.100] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('4')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 16:15:35.103] [ INFO] console - Executing (a2836958-cad5-4e05-af3b-24530e0b76ce): COMMIT;
[2016-09-10 16:15:35.104] [ INFO] console - [ 70, 1522, {}, [ undefined ] ]
[2016-09-10 16:15:35.106] [ INFO] console - [ 16,
  1914582253699072,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id2.voiskoChange',
  [],
  { voiskoSize: 1 } ]
[2016-09-10 16:15:35.109] [ INFO] console - [ 16,
  5514458858258432,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id4.voiskoChange',
  [],
  { voiskoSize: 2 } ]
[2016-09-10 16:15:38.578] [ INFO] console - [ 70, 1524, {}, [ undefined ] ]
[2016-09-10 16:15:38.585] [ INFO] console - Executing (default): delete from "Kopnik"
                where
                    name like '%temp'
[2016-09-10 16:15:38.588] [ INFO] console - Executing (default): update "Kopnik"
                set 
                    "voiskoSize"= case when id=2 then 1 ELSE 0 END
                where
                    id>1 
                    and id<=5
[2016-09-10 16:15:38.591] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 2 }
[2016-09-10 16:15:38.593] [ INFO] console - Executing (bcfb7531-c411-4a6d-a114-2cecd76135e3): START TRANSACTION;
[2016-09-10 16:15:38.594] [ INFO] console - Executing (bcfb7531-c411-4a6d-a114-2cecd76135e3): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 16:15:38.601] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 2);
[2016-09-10 16:15:38.606] [ INFO] console - Executing (bcfb7531-c411-4a6d-a114-2cecd76135e3): COMMIT;
[2016-09-10 16:15:38.608] [ INFO] console - [ 70,
  1525,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/2/',
      starshina: [Object],
      id: '2',
      email: 'unittest2@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '1',
      voiskoSize: 1,
      birth: 1983,
      path: '/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: null,
      attachments: [] } ] ]
[2016-09-10 16:15:38.621] [ INFO] console - Executing (c3a66e29-5919-47cc-b4b6-068580273d0a): START TRANSACTION;
[2016-09-10 16:15:38.622] [ INFO] console - Executing (c3a66e29-5919-47cc-b4b6-068580273d0a): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 16:15:38.631] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 2);
[2016-09-10 16:15:38.636] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"+1
                                where
                                    '/2/' like path||id||'/%'
[2016-09-10 16:15:38.642] [ INFO] console - Executing (default): INSERT INTO "Kopnik" ("id","name","surname","patronymic","voiskoSize","birth","path","created_at","updated_at","rodina_id","starshina_id") VALUES (DEFAULT,'temp','temp','temp',0,1900,'/2/','2016-09-10 11:15:38.625 +00:00','2016-09-10 11:15:38.625 +00:00',NULL,2) RETURNING *;
[2016-09-10 16:15:38.645] [ INFO] console - Executing (c3a66e29-5919-47cc-b4b6-068580273d0a): COMMIT;
[2016-09-10 16:15:38.646] [ INFO] console - [ 70, 1526, {}, [ '195' ] ]
[2016-09-10 16:15:38.649] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/' like k.path||k.id||'/%'
[2016-09-10 16:15:38.655] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 16:15:38.656] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Zemla', id: 2 }
[2016-09-10 16:15:38.661] [ INFO] console - Executing (0d519d04-e502-414a-a54e-44d29cb54089): START TRANSACTION;
[2016-09-10 16:15:38.662] [ INFO] console - Executing (c2f27868-4932-407c-8774-5f27aed86aa2): START TRANSACTION;
[2016-09-10 16:15:38.663] [ INFO] console - [ 16,
  6087069185081344,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id2.voiskoChange',
  [],
  { voiskoSize: 2 } ]
[2016-09-10 16:15:38.667] [ INFO] console - Executing (c2f27868-4932-407c-8774-5f27aed86aa2): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 16:15:38.668] [ INFO] console - Executing (0d519d04-e502-414a-a54e-44d29cb54089): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 16:15:38.686] [ INFO] console - Executing (default): SELECT "Zemla"."id", "Zemla"."path", "Zemla"."name", "Zemla"."intensity", "Zemla"."note", "Zemla"."created_at", "Zemla"."updated_at", "Zemla"."deleted_at", "Zemla"."parent_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Zemla" AS "Zemla" LEFT OUTER JOIN "File" AS "attachments" ON "Zemla"."id" = "attachments"."zemla_id" AND "attachments"."deleted_at" IS NULL WHERE ("Zemla"."deleted_at" IS NULL AND "Zemla"."id" = 2);
[2016-09-10 16:15:38.697] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 195);
[2016-09-10 16:15:38.701] [ INFO] console - Executing (0d519d04-e502-414a-a54e-44d29cb54089): COMMIT;
[2016-09-10 16:15:38.704] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"+1
                                where
                                    '/2/195/' like path||id||'/%'
[2016-09-10 16:15:38.704] [ INFO] console - [ 70,
  1527,
  {},
  [ { fullPath: 'null2/',
      id: '2',
      path: null,
      name: 'UnitTest2',
      intensity: 1000,
      note: 'unit test 1473505807871',
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Sat Sep 10 2016 16:10:08 GMT+0500 (YEKT),
      deleted_at: null,
      parent_id: '1',
      attachments: [] } ] ]
[2016-09-10 16:15:38.720] [ INFO] console - Executing (default): INSERT INTO "Kopnik" ("id","name","surname","patronymic","voiskoSize","birth","path","created_at","updated_at","rodina_id","starshina_id") VALUES (DEFAULT,'temp','temp','temp',0,1900,'/2/195/','2016-09-10 11:15:38.670 +00:00','2016-09-10 11:15:38.670 +00:00',NULL,195) RETURNING *;
[2016-09-10 16:15:38.725] [ INFO] console - Executing (c2f27868-4932-407c-8774-5f27aed86aa2): COMMIT;
[2016-09-10 16:15:38.726] [ INFO] console - [ 70, 1528, {}, [ '196' ] ]
[2016-09-10 16:15:38.730] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/195/' like k.path||k.id||'/%'
[2016-09-10 16:15:38.737] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2', '195')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 16:15:38.743] [ INFO] console - [ 16,
  3837169040883712,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id195.voiskoChange',
  [],
  { voiskoSize: 1 } ]
[2016-09-10 16:15:38.747] [ INFO] console - [ 16,
  991306237083648,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id2.voiskoChange',
  [],
  { voiskoSize: 3 } ]
[2016-09-10 16:16:07.580] [ INFO] console - [ 70, 1530, {}, [ undefined ] ]
[2016-09-10 16:16:07.590] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 2 }
[2016-09-10 16:16:07.599] [ INFO] console - Executing (default): delete from "Kopnik"
                where
                    name like '%temp'
[2016-09-10 16:16:07.606] [ INFO] console - Executing (5fe767c2-da4c-4869-983d-3fc4cdf077cd): START TRANSACTION;
[2016-09-10 16:16:07.609] [ INFO] console - Executing (5fe767c2-da4c-4869-983d-3fc4cdf077cd): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 16:16:07.610] [ INFO] console - Executing (default): update "Kopnik"
                set 
                    "voiskoSize"= case when id=2 then 1 ELSE 0 END
                where
                    id>1 
                    and id<=5
[2016-09-10 16:16:07.616] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 2);
[2016-09-10 16:16:07.621] [ INFO] console - Executing (5fe767c2-da4c-4869-983d-3fc4cdf077cd): COMMIT;
[2016-09-10 16:16:07.622] [ INFO] console - [ 70,
  1531,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/2/',
      starshina: [Object],
      id: '2',
      email: 'unittest2@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '1',
      voiskoSize: 1,
      birth: 1983,
      path: '/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: null,
      attachments: [] } ] ]
[2016-09-10 16:16:07.636] [ INFO] console - Executing (d0532e7d-ee53-4f72-b9fa-45cb87e40b5c): START TRANSACTION;
[2016-09-10 16:16:07.637] [ INFO] console - Executing (d0532e7d-ee53-4f72-b9fa-45cb87e40b5c): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 16:16:07.645] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 2);
[2016-09-10 16:16:07.650] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"+1
                                where
                                    '/2/' like path||id||'/%'
[2016-09-10 16:16:07.655] [ INFO] console - Executing (default): INSERT INTO "Kopnik" ("id","name","surname","patronymic","voiskoSize","birth","path","created_at","updated_at","rodina_id","starshina_id") VALUES (DEFAULT,'temp','temp','temp',0,1900,'/2/','2016-09-10 11:16:07.639 +00:00','2016-09-10 11:16:07.639 +00:00',NULL,2) RETURNING *;
[2016-09-10 16:16:07.659] [ INFO] console - Executing (d0532e7d-ee53-4f72-b9fa-45cb87e40b5c): COMMIT;
[2016-09-10 16:16:07.660] [ INFO] console - [ 70, 1532, {}, [ '197' ] ]
[2016-09-10 16:16:07.667] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/' like k.path||k.id||'/%'
[2016-09-10 16:16:07.670] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Zemla', id: 2 }
[2016-09-10 16:16:07.673] [ INFO] console - Executing (906cc03f-39b4-4774-90c6-71cb85e0b930): START TRANSACTION;
[2016-09-10 16:16:07.679] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 16:16:07.684] [ INFO] console - Executing (5f27da04-8315-4bf6-a6d1-4ec8a06f63e0): START TRANSACTION;
[2016-09-10 16:16:07.685] [ INFO] console - Executing (906cc03f-39b4-4774-90c6-71cb85e0b930): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 16:16:07.685] [ INFO] console - [ 16,
  5846149393022976,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id2.voiskoChange',
  [],
  { voiskoSize: 2 } ]
[2016-09-10 16:16:07.689] [ INFO] console - Executing (5f27da04-8315-4bf6-a6d1-4ec8a06f63e0): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 16:16:07.704] [ INFO] console - Executing (default): SELECT "Zemla"."id", "Zemla"."path", "Zemla"."name", "Zemla"."intensity", "Zemla"."note", "Zemla"."created_at", "Zemla"."updated_at", "Zemla"."deleted_at", "Zemla"."parent_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Zemla" AS "Zemla" LEFT OUTER JOIN "File" AS "attachments" ON "Zemla"."id" = "attachments"."zemla_id" AND "attachments"."deleted_at" IS NULL WHERE ("Zemla"."deleted_at" IS NULL AND "Zemla"."id" = 2);
[2016-09-10 16:16:07.710] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 197);
[2016-09-10 16:16:07.716] [ INFO] console - Executing (906cc03f-39b4-4774-90c6-71cb85e0b930): COMMIT;
[2016-09-10 16:16:07.719] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"+1
                                where
                                    '/2/197/' like path||id||'/%'
[2016-09-10 16:16:07.720] [ INFO] console - [ 70,
  1533,
  {},
  [ { fullPath: 'null2/',
      id: '2',
      path: null,
      name: 'UnitTest2',
      intensity: 1000,
      note: 'unit test 1473505807871',
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Sat Sep 10 2016 16:10:08 GMT+0500 (YEKT),
      deleted_at: null,
      parent_id: '1',
      attachments: [] } ] ]
[2016-09-10 16:16:07.731] [ INFO] console - Executing (default): INSERT INTO "Kopnik" ("id","name","surname","patronymic","voiskoSize","birth","path","created_at","updated_at","rodina_id","starshina_id") VALUES (DEFAULT,'temp','temp','temp',0,1900,'/2/197/','2016-09-10 11:16:07.696 +00:00','2016-09-10 11:16:07.696 +00:00',NULL,197) RETURNING *;
[2016-09-10 16:16:07.736] [ INFO] console - Executing (5f27da04-8315-4bf6-a6d1-4ec8a06f63e0): COMMIT;
[2016-09-10 16:16:07.737] [ INFO] console - [ 70, 1534, {}, [ '198' ] ]
[2016-09-10 16:16:07.739] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/197/' like k.path||k.id||'/%'
[2016-09-10 16:16:07.746] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2', '197')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 16:16:07.750] [ INFO] console - [ 16,
  4414601118613504,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id197.voiskoChange',
  [],
  { voiskoSize: 1 } ]
[2016-09-10 16:16:07.755] [ INFO] console - [ 16,
  1312681655009280,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id2.voiskoChange',
  [],
  { voiskoSize: 3 } ]
[2016-09-10 16:16:17.960] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 4 }
[2016-09-10 16:16:17.966] [ INFO] console - Executing (fd53ef00-ec91-47e7-be9d-66024c34076a): START TRANSACTION;
[2016-09-10 16:16:17.967] [ INFO] console - Executing (fd53ef00-ec91-47e7-be9d-66024c34076a): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 16:16:17.982] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 4);
[2016-09-10 16:16:17.989] [ INFO] console - Executing (fd53ef00-ec91-47e7-be9d-66024c34076a): COMMIT;
[2016-09-10 16:16:17.991] [ INFO] console - [ 70,
  1535,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/4/',
      starshina: [Object],
      id: '4',
      email: 'unittest4@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '4',
      voiskoSize: 0,
      birth: 1983,
      path: '/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: null,
      attachments: [] } ] ]
[2016-09-10 16:16:21.419] [ INFO] console - [ 70, 1537, {}, [ undefined ] ]
[2016-09-10 16:16:21.422] [ INFO] console - Executing (default): delete from "Kopnik"
                where
                    name like '%temp'
[2016-09-10 16:16:21.426] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 2 }
[2016-09-10 16:16:21.431] [ INFO] console - Executing (default): update "Kopnik"
                set 
                    "voiskoSize"= case when id=2 then 1 ELSE 0 END
                where
                    id>1 
                    and id<=5
[2016-09-10 16:16:21.432] [ INFO] console - Executing (5bf33f86-5e24-4a5c-8061-9713fde65ee8): START TRANSACTION;
[2016-09-10 16:16:21.434] [ INFO] console - Executing (5bf33f86-5e24-4a5c-8061-9713fde65ee8): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 16:16:21.443] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 2);
[2016-09-10 16:16:21.447] [ INFO] console - Executing (5bf33f86-5e24-4a5c-8061-9713fde65ee8): COMMIT;
[2016-09-10 16:16:21.449] [ INFO] console - [ 70,
  1538,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/2/',
      starshina: [Object],
      id: '2',
      email: 'unittest2@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '1',
      voiskoSize: 1,
      birth: 1983,
      path: '/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: null,
      attachments: [] } ] ]
[2016-09-10 16:16:21.473] [ INFO] console - Executing (54a2553a-01a2-455e-b7ab-39e47d1777a6): START TRANSACTION;
[2016-09-10 16:16:21.476] [ INFO] console - Executing (54a2553a-01a2-455e-b7ab-39e47d1777a6): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 16:16:21.483] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 2);
[2016-09-10 16:16:21.488] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"+1
                                where
                                    '/2/' like path||id||'/%'
[2016-09-10 16:16:21.492] [ INFO] console - Executing (default): INSERT INTO "Kopnik" ("id","name","surname","patronymic","voiskoSize","birth","path","created_at","updated_at","rodina_id","starshina_id") VALUES (DEFAULT,'temp','temp','temp',0,1900,'/2/','2016-09-10 11:16:21.478 +00:00','2016-09-10 11:16:21.478 +00:00',NULL,2) RETURNING *;
[2016-09-10 16:16:21.496] [ INFO] console - Executing (54a2553a-01a2-455e-b7ab-39e47d1777a6): COMMIT;
[2016-09-10 16:16:21.497] [ INFO] console - [ 70, 1539, {}, [ '199' ] ]
[2016-09-10 16:16:21.500] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/' like k.path||k.id||'/%'
[2016-09-10 16:16:21.505] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 16:16:21.507] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Zemla', id: 2 }
[2016-09-10 16:16:21.509] [ INFO] console - Executing (44c782f6-37ad-4ad6-b81b-bed30938cd52): START TRANSACTION;
[2016-09-10 16:16:21.513] [ INFO] console - Executing (44c782f6-37ad-4ad6-b81b-bed30938cd52): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 16:16:21.513] [ INFO] console - [ 16,
  3003445191639040,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id2.voiskoChange',
  [],
  { voiskoSize: 2 } ]
[2016-09-10 16:16:21.521] [ INFO] console - Executing (1f4c325e-75e2-4ce1-a925-c3b16bc13a5b): START TRANSACTION;
[2016-09-10 16:16:21.528] [ INFO] console - Executing (1f4c325e-75e2-4ce1-a925-c3b16bc13a5b): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 16:16:21.558] [ INFO] console - Executing (default): SELECT "Zemla"."id", "Zemla"."path", "Zemla"."name", "Zemla"."intensity", "Zemla"."note", "Zemla"."created_at", "Zemla"."updated_at", "Zemla"."deleted_at", "Zemla"."parent_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Zemla" AS "Zemla" LEFT OUTER JOIN "File" AS "attachments" ON "Zemla"."id" = "attachments"."zemla_id" AND "attachments"."deleted_at" IS NULL WHERE ("Zemla"."deleted_at" IS NULL AND "Zemla"."id" = 2);
[2016-09-10 16:16:21.565] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 199);
[2016-09-10 16:16:21.569] [ INFO] console - Executing (44c782f6-37ad-4ad6-b81b-bed30938cd52): COMMIT;
[2016-09-10 16:16:21.573] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"+1
                                where
                                    '/2/199/' like path||id||'/%'
[2016-09-10 16:16:21.578] [ INFO] console - [ 70,
  1540,
  {},
  [ { fullPath: 'null2/',
      id: '2',
      path: null,
      name: 'UnitTest2',
      intensity: 1000,
      note: 'unit test 1473505807871',
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Sat Sep 10 2016 16:10:08 GMT+0500 (YEKT),
      deleted_at: null,
      parent_id: '1',
      attachments: [] } ] ]
[2016-09-10 16:16:21.591] [ INFO] console - Executing (default): INSERT INTO "Kopnik" ("id","name","surname","patronymic","voiskoSize","birth","path","created_at","updated_at","rodina_id","starshina_id") VALUES (DEFAULT,'temp','temp','temp',0,1900,'/2/199/','2016-09-10 11:16:21.540 +00:00','2016-09-10 11:16:21.540 +00:00',NULL,199) RETURNING *;
[2016-09-10 16:16:21.595] [ INFO] console - Executing (1f4c325e-75e2-4ce1-a925-c3b16bc13a5b): COMMIT;
[2016-09-10 16:16:21.597] [ INFO] console - [ 70, 1541, {}, [ '200' ] ]
[2016-09-10 16:16:21.600] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/199/' like k.path||k.id||'/%'
[2016-09-10 16:16:21.619] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2', '199')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 16:16:21.624] [ INFO] console - [ 16,
  4927544262393856,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id199.voiskoChange',
  [],
  { voiskoSize: 1 } ]
[2016-09-10 16:16:21.639] [ INFO] console - [ 16,
  837786145914880,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id2.voiskoChange',
  [],
  { voiskoSize: 3 } ]
[2016-09-10 16:17:06.930] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 4 }
[2016-09-10 16:17:06.942] [ INFO] console - Executing (057c74e3-a4ab-4e28-9599-5bc67c429dae): START TRANSACTION;
[2016-09-10 16:17:06.944] [ INFO] console - Executing (057c74e3-a4ab-4e28-9599-5bc67c429dae): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 16:17:06.961] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 4);
[2016-09-10 16:17:06.967] [ INFO] console - Executing (057c74e3-a4ab-4e28-9599-5bc67c429dae): COMMIT;
[2016-09-10 16:17:06.968] [ INFO] console - [ 70,
  1542,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/4/',
      starshina: [Object],
      id: '4',
      email: 'unittest4@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '4',
      voiskoSize: 0,
      birth: 1983,
      path: '/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: null,
      attachments: [] } ] ]
[2016-09-10 16:17:06.984] [ INFO] console - Executing (7f5b30d0-7d65-4f20-b199-eebdc623d6ca): START TRANSACTION;
[2016-09-10 16:17:06.987] [ INFO] console - Executing (7f5b30d0-7d65-4f20-b199-eebdc623d6ca): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 16:17:06.994] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 199);
[2016-09-10 16:17:07.006] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 4);
[2016-09-10 16:17:07.010] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/' like k.path||k.id||'/%'
[2016-09-10 16:17:07.018] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 16:17:07.022] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"-2
                                where
                                    '/2/' like path||id||'/%'
[2016-09-10 16:17:07.030] [ INFO] console - Executing (default): UPDATE "Kopnik" SET "path"='/4/',"starshina_id"='4',"updated_at"='2016-09-10 11:17:07.024 +00:00' WHERE "id" = '199'
[2016-09-10 16:17:07.032] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"+2
                                where
                                    '/4/' like path||id||'/%'
[2016-09-10 16:17:07.035] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."starshina_id" = '199');
[2016-09-10 16:17:07.044] [ INFO] console - Executing (default): UPDATE "Kopnik" SET "path"='/4/199/',"updated_at"='2016-09-10 11:17:07.039 +00:00' WHERE "id" = '200'
[2016-09-10 16:17:07.047] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/4/' like k.path||k.id||'/%'
[2016-09-10 16:17:07.052] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('4')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 16:17:07.055] [ INFO] console - Executing (7f5b30d0-7d65-4f20-b199-eebdc623d6ca): COMMIT;
[2016-09-10 16:17:07.057] [ INFO] console - [ 70, 1543, {}, [ undefined ] ]
[2016-09-10 16:17:07.061] [ INFO] console - [ 16,
  5767008673071104,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id2.voiskoChange',
  [],
  { voiskoSize: 1 } ]
[2016-09-10 16:17:07.068] [ INFO] console - [ 16,
  6171790086766592,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id4.voiskoChange',
  [],
  { voiskoSize: 2 } ]
[2016-09-10 16:17:10.627] [ INFO] console - [ 70, 1545, {}, [ undefined ] ]
[2016-09-10 16:17:10.630] [ INFO] console - Executing (default): delete from "Kopnik"
                where
                    name like '%temp'
[2016-09-10 16:17:10.633] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 2 }
[2016-09-10 16:17:10.639] [ INFO] console - Executing (3740cb7c-2103-4fa4-9204-160148d40657): START TRANSACTION;
[2016-09-10 16:17:10.641] [ INFO] console - Executing (3740cb7c-2103-4fa4-9204-160148d40657): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 16:17:10.642] [ INFO] console - Executing (default): update "Kopnik"
                set 
                    "voiskoSize"= case when id=2 then 1 ELSE 0 END
                where
                    id>1 
                    and id<=5
[2016-09-10 16:17:10.653] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 2);
[2016-09-10 16:17:10.659] [ INFO] console - Executing (3740cb7c-2103-4fa4-9204-160148d40657): COMMIT;
[2016-09-10 16:17:10.660] [ INFO] console - [ 70,
  1546,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/2/',
      starshina: [Object],
      id: '2',
      email: 'unittest2@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '1',
      voiskoSize: 1,
      birth: 1983,
      path: '/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: null,
      attachments: [] } ] ]
[2016-09-10 16:17:10.674] [ INFO] console - Executing (048f26a8-2c3c-4b4a-94ad-e563b977f8a6): START TRANSACTION;
[2016-09-10 16:17:10.675] [ INFO] console - Executing (048f26a8-2c3c-4b4a-94ad-e563b977f8a6): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 16:17:10.688] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 2);
[2016-09-10 16:17:10.693] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"+1
                                where
                                    '/2/' like path||id||'/%'
[2016-09-10 16:17:10.698] [ INFO] console - Executing (default): INSERT INTO "Kopnik" ("id","name","surname","patronymic","voiskoSize","birth","path","created_at","updated_at","rodina_id","starshina_id") VALUES (DEFAULT,'temp','temp','temp',0,1900,'/2/','2016-09-10 11:17:10.678 +00:00','2016-09-10 11:17:10.678 +00:00',NULL,2) RETURNING *;
[2016-09-10 16:17:10.701] [ INFO] console - Executing (048f26a8-2c3c-4b4a-94ad-e563b977f8a6): COMMIT;
[2016-09-10 16:17:10.703] [ INFO] console - [ 70, 1547, {}, [ '201' ] ]
[2016-09-10 16:17:10.712] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Zemla', id: 2 }
[2016-09-10 16:17:10.715] [ INFO] console - Executing (101c65dc-1e93-47fd-9b4f-7f22561cf87f): START TRANSACTION;
[2016-09-10 16:17:10.716] [ INFO] console - Executing (f9c085cf-1aa4-45f6-9b01-efcf518e4af8): START TRANSACTION;
[2016-09-10 16:17:10.719] [ INFO] console - Executing (101c65dc-1e93-47fd-9b4f-7f22561cf87f): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 16:17:10.719] [ INFO] console - Executing (f9c085cf-1aa4-45f6-9b01-efcf518e4af8): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 16:17:10.735] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/' like k.path||k.id||'/%'
[2016-09-10 16:17:10.742] [ INFO] console - Executing (default): SELECT "Zemla"."id", "Zemla"."path", "Zemla"."name", "Zemla"."intensity", "Zemla"."note", "Zemla"."created_at", "Zemla"."updated_at", "Zemla"."deleted_at", "Zemla"."parent_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Zemla" AS "Zemla" LEFT OUTER JOIN "File" AS "attachments" ON "Zemla"."id" = "attachments"."zemla_id" AND "attachments"."deleted_at" IS NULL WHERE ("Zemla"."deleted_at" IS NULL AND "Zemla"."id" = 2);
[2016-09-10 16:17:10.749] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 201);
[2016-09-10 16:17:10.754] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 16:17:10.759] [ INFO] console - Executing (101c65dc-1e93-47fd-9b4f-7f22561cf87f): COMMIT;
[2016-09-10 16:17:10.761] [ INFO] console - [ 16,
  8269014637740032,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id2.voiskoChange',
  [],
  { voiskoSize: 2 } ]
[2016-09-10 16:17:10.769] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"+1
                                where
                                    '/2/201/' like path||id||'/%'
[2016-09-10 16:17:10.770] [ INFO] console - [ 70,
  1548,
  {},
  [ { fullPath: 'null2/',
      id: '2',
      path: null,
      name: 'UnitTest2',
      intensity: 1000,
      note: 'unit test 1473505807871',
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Sat Sep 10 2016 16:10:08 GMT+0500 (YEKT),
      deleted_at: null,
      parent_id: '1',
      attachments: [] } ] ]
[2016-09-10 16:17:10.783] [ INFO] console - Executing (default): INSERT INTO "Kopnik" ("id","name","surname","patronymic","voiskoSize","birth","path","created_at","updated_at","rodina_id","starshina_id") VALUES (DEFAULT,'temp','temp','temp',0,1900,'/2/201/','2016-09-10 11:17:10.721 +00:00','2016-09-10 11:17:10.721 +00:00',NULL,201) RETURNING *;
[2016-09-10 16:17:10.787] [ INFO] console - Executing (f9c085cf-1aa4-45f6-9b01-efcf518e4af8): COMMIT;
[2016-09-10 16:17:10.788] [ INFO] console - [ 70, 1549, {}, [ '202' ] ]
[2016-09-10 16:17:10.795] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/201/' like k.path||k.id||'/%'
[2016-09-10 16:17:10.806] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2', '201')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 16:17:10.811] [ INFO] console - [ 16,
  5079511227957248,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id201.voiskoChange',
  [],
  { voiskoSize: 1 } ]
[2016-09-10 16:17:10.815] [ INFO] console - [ 16,
  6644836738269184,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id2.voiskoChange',
  [],
  { voiskoSize: 3 } ]
[2016-09-10 16:18:01.389] [ INFO] console - [ 70, 1551, {}, [ undefined ] ]
[2016-09-10 16:18:01.402] [ INFO] console - Executing (default): delete from "Kopnik"
                where
                    name like '%temp'
[2016-09-10 16:18:01.404] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 2 }
[2016-09-10 16:18:01.414] [ INFO] console - Executing (6fb08e47-1d84-4283-89f9-c91d21150c43): START TRANSACTION;
[2016-09-10 16:18:01.416] [ INFO] console - Executing (6fb08e47-1d84-4283-89f9-c91d21150c43): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 16:18:01.426] [ INFO] console - Executing (default): update "Kopnik"
                set 
                    "voiskoSize"= case when id=2 then 1 ELSE 0 END
                where
                    id>1 
                    and id<=5
[2016-09-10 16:18:01.431] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 2);
[2016-09-10 16:18:01.439] [ INFO] console - Executing (6fb08e47-1d84-4283-89f9-c91d21150c43): COMMIT;
[2016-09-10 16:18:01.441] [ INFO] console - [ 70,
  1552,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/2/',
      starshina: [Object],
      id: '2',
      email: 'unittest2@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '1',
      voiskoSize: 1,
      birth: 1983,
      path: '/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: null,
      attachments: [] } ] ]
[2016-09-10 16:18:01.459] [ INFO] console - Executing (cbc07c0a-f20e-4433-8e52-fad732cb6cc7): START TRANSACTION;
[2016-09-10 16:18:01.461] [ INFO] console - Executing (cbc07c0a-f20e-4433-8e52-fad732cb6cc7): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 16:18:01.470] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 2);
[2016-09-10 16:18:01.476] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"+1
                                where
                                    '/2/' like path||id||'/%'
[2016-09-10 16:18:01.481] [ INFO] console - Executing (default): INSERT INTO "Kopnik" ("id","name","surname","patronymic","voiskoSize","birth","path","created_at","updated_at","rodina_id","starshina_id") VALUES (DEFAULT,'temp','temp','temp',0,1900,'/2/','2016-09-10 11:18:01.462 +00:00','2016-09-10 11:18:01.462 +00:00',NULL,2) RETURNING *;
[2016-09-10 16:18:01.485] [ INFO] console - Executing (cbc07c0a-f20e-4433-8e52-fad732cb6cc7): COMMIT;
[2016-09-10 16:18:01.487] [ INFO] console - [ 70, 1553, {}, [ '203' ] ]
[2016-09-10 16:18:01.492] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/' like k.path||k.id||'/%'
[2016-09-10 16:18:01.499] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 16:18:01.500] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Zemla', id: 2 }
[2016-09-10 16:18:01.506] [ INFO] console - Executing (88565ef4-8bdc-4900-9ed0-7102959864c7): START TRANSACTION;
[2016-09-10 16:18:01.510] [ INFO] console - Executing (a521b4b0-e2bb-42c2-88b6-fc8f2547dfe6): START TRANSACTION;
[2016-09-10 16:18:01.511] [ INFO] console - [ 16,
  2354633664102400,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id2.voiskoChange',
  [],
  { voiskoSize: 2 } ]
[2016-09-10 16:18:01.519] [ INFO] console - Executing (88565ef4-8bdc-4900-9ed0-7102959864c7): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 16:18:01.521] [ INFO] console - Executing (a521b4b0-e2bb-42c2-88b6-fc8f2547dfe6): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 16:18:01.534] [ INFO] console - Executing (default): SELECT "Zemla"."id", "Zemla"."path", "Zemla"."name", "Zemla"."intensity", "Zemla"."note", "Zemla"."created_at", "Zemla"."updated_at", "Zemla"."deleted_at", "Zemla"."parent_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Zemla" AS "Zemla" LEFT OUTER JOIN "File" AS "attachments" ON "Zemla"."id" = "attachments"."zemla_id" AND "attachments"."deleted_at" IS NULL WHERE ("Zemla"."deleted_at" IS NULL AND "Zemla"."id" = 2);
[2016-09-10 16:18:01.537] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 203);
[2016-09-10 16:18:01.545] [ INFO] console - Executing (88565ef4-8bdc-4900-9ed0-7102959864c7): COMMIT;
[2016-09-10 16:18:01.547] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"+1
                                where
                                    '/2/203/' like path||id||'/%'
[2016-09-10 16:18:01.550] [ INFO] console - [ 70,
  1554,
  {},
  [ { fullPath: 'null2/',
      id: '2',
      path: null,
      name: 'UnitTest2',
      intensity: 1000,
      note: 'unit test 1473505807871',
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Sat Sep 10 2016 16:10:08 GMT+0500 (YEKT),
      deleted_at: null,
      parent_id: '1',
      attachments: [] } ] ]
[2016-09-10 16:18:01.562] [ INFO] console - Executing (default): INSERT INTO "Kopnik" ("id","name","surname","patronymic","voiskoSize","birth","path","created_at","updated_at","rodina_id","starshina_id") VALUES (DEFAULT,'temp','temp','temp',0,1900,'/2/203/','2016-09-10 11:18:01.524 +00:00','2016-09-10 11:18:01.524 +00:00',NULL,203) RETURNING *;
[2016-09-10 16:18:01.574] [ INFO] console - Executing (a521b4b0-e2bb-42c2-88b6-fc8f2547dfe6): COMMIT;
[2016-09-10 16:18:01.576] [ INFO] console - [ 70, 1555, {}, [ '204' ] ]
[2016-09-10 16:18:01.581] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/203/' like k.path||k.id||'/%'
[2016-09-10 16:18:01.588] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2', '203')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 16:18:01.599] [ INFO] console - [ 16,
  778688006193152,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id203.voiskoChange',
  [],
  { voiskoSize: 1 } ]
[2016-09-10 16:18:01.604] [ INFO] console - [ 16,
  6256559027912704,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id2.voiskoChange',
  [],
  { voiskoSize: 3 } ]
[2016-09-10 16:18:34.904] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 4 }
[2016-09-10 16:18:34.915] [ INFO] console - Executing (27d0add5-bae5-4937-9ce6-caeb37cc834c): START TRANSACTION;
[2016-09-10 16:18:34.916] [ INFO] console - Executing (27d0add5-bae5-4937-9ce6-caeb37cc834c): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 16:18:34.928] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 4);
[2016-09-10 16:18:34.933] [ INFO] console - Executing (27d0add5-bae5-4937-9ce6-caeb37cc834c): COMMIT;
[2016-09-10 16:18:34.935] [ INFO] console - [ 70,
  1556,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/4/',
      starshina: [Object],
      id: '4',
      email: 'unittest4@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '4',
      voiskoSize: 0,
      birth: 1983,
      path: '/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: null,
      attachments: [] } ] ]
[2016-09-10 16:18:37.967] [ INFO] console - Executing (f5480182-6bf1-49af-8ec9-41aba43baa9d): START TRANSACTION;
[2016-09-10 16:18:37.968] [ INFO] console - Executing (f5480182-6bf1-49af-8ec9-41aba43baa9d): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 16:18:37.972] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 203);
[2016-09-10 16:18:37.978] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 4);
[2016-09-10 16:18:37.981] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/' like k.path||k.id||'/%'
[2016-09-10 16:18:37.987] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 16:18:37.991] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"-2
                                where
                                    '/2/' like path||id||'/%'
[2016-09-10 16:18:38.005] [ INFO] console - Executing (default): UPDATE "Kopnik" SET "path"='/4/',"starshina_id"='4',"updated_at"='2016-09-10 11:18:38.001 +00:00' WHERE "id" = '203'
[2016-09-10 16:18:38.009] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"+2
                                where
                                    '/4/' like path||id||'/%'
[2016-09-10 16:18:38.014] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."starshina_id" = '203');
[2016-09-10 16:18:38.025] [ INFO] console - Executing (default): UPDATE "Kopnik" SET "path"='/4/203/',"updated_at"='2016-09-10 11:18:38.017 +00:00' WHERE "id" = '204'
[2016-09-10 16:18:38.031] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/4/' like k.path||k.id||'/%'
[2016-09-10 16:18:38.035] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('4')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 16:18:38.038] [ INFO] console - Executing (f5480182-6bf1-49af-8ec9-41aba43baa9d): COMMIT;
[2016-09-10 16:18:38.039] [ INFO] console - [ 70, 1557, {}, [ undefined ] ]
[2016-09-10 16:18:38.043] [ INFO] console - [ 16,
  7854357080965120,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id2.voiskoChange',
  [],
  { voiskoSize: 1 } ]
[2016-09-10 16:18:38.047] [ INFO] console - [ 16,
  6766959985164288,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id4.voiskoChange',
  [],
  { voiskoSize: 2 } ]
[2016-09-10 16:18:42.889] [ INFO] console - [ 70, 1559, {}, [ undefined ] ]
[2016-09-10 16:18:42.893] [ INFO] console - Executing (default): delete from "Kopnik"
                where
                    name like '%temp'
[2016-09-10 16:18:42.898] [ INFO] console - Executing (default): update "Kopnik"
                set 
                    "voiskoSize"= case when id=2 then 1 ELSE 0 END
                where
                    id>1 
                    and id<=5
[2016-09-10 16:18:42.903] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 2 }
[2016-09-10 16:18:42.906] [ INFO] console - Executing (9601b685-41c7-4b5a-91c7-f1a3395138f6): START TRANSACTION;
[2016-09-10 16:18:42.908] [ INFO] console - Executing (9601b685-41c7-4b5a-91c7-f1a3395138f6): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 16:18:42.916] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 2);
[2016-09-10 16:18:42.930] [ INFO] console - Executing (9601b685-41c7-4b5a-91c7-f1a3395138f6): COMMIT;
[2016-09-10 16:18:42.933] [ INFO] console - [ 70,
  1560,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/2/',
      starshina: [Object],
      id: '2',
      email: 'unittest2@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '1',
      voiskoSize: 1,
      birth: 1983,
      path: '/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: null,
      attachments: [] } ] ]
[2016-09-10 16:18:42.958] [ INFO] console - Executing (c6eb66b4-c506-4822-ab51-318e3375ad8f): START TRANSACTION;
[2016-09-10 16:18:42.960] [ INFO] console - Executing (c6eb66b4-c506-4822-ab51-318e3375ad8f): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 16:18:42.977] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 2);
[2016-09-10 16:18:42.982] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"+1
                                where
                                    '/2/' like path||id||'/%'
[2016-09-10 16:18:42.987] [ INFO] console - Executing (default): INSERT INTO "Kopnik" ("id","name","surname","patronymic","voiskoSize","birth","path","created_at","updated_at","rodina_id","starshina_id") VALUES (DEFAULT,'temp','temp','temp',0,1900,'/2/','2016-09-10 11:18:42.970 +00:00','2016-09-10 11:18:42.970 +00:00',NULL,2) RETURNING *;
[2016-09-10 16:18:42.991] [ INFO] console - Executing (c6eb66b4-c506-4822-ab51-318e3375ad8f): COMMIT;
[2016-09-10 16:18:42.993] [ INFO] console - [ 70, 1561, {}, [ '205' ] ]
[2016-09-10 16:18:42.998] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/' like k.path||k.id||'/%'
[2016-09-10 16:18:43.010] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 16:18:43.011] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Zemla', id: 2 }
[2016-09-10 16:18:43.016] [ INFO] console - Executing (03f91f02-428f-4c3f-a734-5eefa4acf79d): START TRANSACTION;
[2016-09-10 16:18:43.028] [ INFO] console - Executing (5221270e-2e30-4bb3-ace2-47b10b390f2d): START TRANSACTION;
[2016-09-10 16:18:43.029] [ INFO] console - Executing (03f91f02-428f-4c3f-a734-5eefa4acf79d): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 16:18:43.030] [ INFO] console - [ 16,
  2988077312114688,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id2.voiskoChange',
  [],
  { voiskoSize: 2 } ]
[2016-09-10 16:18:43.037] [ INFO] console - Executing (5221270e-2e30-4bb3-ace2-47b10b390f2d): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 16:18:43.052] [ INFO] console - Executing (default): SELECT "Zemla"."id", "Zemla"."path", "Zemla"."name", "Zemla"."intensity", "Zemla"."note", "Zemla"."created_at", "Zemla"."updated_at", "Zemla"."deleted_at", "Zemla"."parent_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Zemla" AS "Zemla" LEFT OUTER JOIN "File" AS "attachments" ON "Zemla"."id" = "attachments"."zemla_id" AND "attachments"."deleted_at" IS NULL WHERE ("Zemla"."deleted_at" IS NULL AND "Zemla"."id" = 2);
[2016-09-10 16:18:43.076] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 205);
[2016-09-10 16:18:43.084] [ INFO] console - Executing (03f91f02-428f-4c3f-a734-5eefa4acf79d): COMMIT;
[2016-09-10 16:18:43.094] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"+1
                                where
                                    '/2/205/' like path||id||'/%'
[2016-09-10 16:18:43.098] [ INFO] console - [ 70,
  1562,
  {},
  [ { fullPath: 'null2/',
      id: '2',
      path: null,
      name: 'UnitTest2',
      intensity: 1000,
      note: 'unit test 1473505807871',
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Sat Sep 10 2016 16:10:08 GMT+0500 (YEKT),
      deleted_at: null,
      parent_id: '1',
      attachments: [] } ] ]
[2016-09-10 16:18:43.126] [ INFO] console - Executing (default): INSERT INTO "Kopnik" ("id","name","surname","patronymic","voiskoSize","birth","path","created_at","updated_at","rodina_id","starshina_id") VALUES (DEFAULT,'temp','temp','temp',0,1900,'/2/205/','2016-09-10 11:18:43.046 +00:00','2016-09-10 11:18:43.046 +00:00',NULL,205) RETURNING *;
[2016-09-10 16:18:43.134] [ INFO] console - Executing (5221270e-2e30-4bb3-ace2-47b10b390f2d): COMMIT;
[2016-09-10 16:18:43.140] [ INFO] console - [ 70, 1563, {}, [ '206' ] ]
[2016-09-10 16:18:43.148] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/205/' like k.path||k.id||'/%'
[2016-09-10 16:18:43.159] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2', '205')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 16:18:43.163] [ INFO] console - [ 16,
  5829793356447744,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id205.voiskoChange',
  [],
  { voiskoSize: 1 } ]
[2016-09-10 16:18:43.172] [ INFO] console - [ 16,
  7133892202987520,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id2.voiskoChange',
  [],
  { voiskoSize: 3 } ]
[2016-09-10 16:19:08.430] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 4 }
[2016-09-10 16:19:08.445] [ INFO] console - Executing (46e2d61b-033d-4a8b-aac1-2d051c2d8e16): START TRANSACTION;
[2016-09-10 16:19:08.451] [ INFO] console - Executing (46e2d61b-033d-4a8b-aac1-2d051c2d8e16): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 16:19:08.464] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 4);
[2016-09-10 16:19:08.469] [ INFO] console - Executing (46e2d61b-033d-4a8b-aac1-2d051c2d8e16): COMMIT;
[2016-09-10 16:19:08.470] [ INFO] console - [ 70,
  1564,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/4/',
      starshina: [Object],
      id: '4',
      email: 'unittest4@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '4',
      voiskoSize: 0,
      birth: 1983,
      path: '/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: null,
      attachments: [] } ] ]
[2016-09-10 16:19:08.482] [ INFO] console - Executing (0e594c5f-d8ad-4b37-a473-5d403ff909c8): START TRANSACTION;
[2016-09-10 16:19:08.483] [ INFO] console - Executing (0e594c5f-d8ad-4b37-a473-5d403ff909c8): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 16:19:08.488] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 205);
[2016-09-10 16:19:08.494] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 4);
[2016-09-10 16:19:08.499] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/' like k.path||k.id||'/%'
[2016-09-10 16:19:08.504] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 16:19:08.508] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"-2
                                where
                                    '/2/' like path||id||'/%'
[2016-09-10 16:19:08.516] [ INFO] console - Executing (default): UPDATE "Kopnik" SET "path"='/4/',"starshina_id"='4',"updated_at"='2016-09-10 11:19:08.510 +00:00' WHERE "id" = '205'
[2016-09-10 16:19:08.518] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"+2
                                where
                                    '/4/' like path||id||'/%'
[2016-09-10 16:19:08.523] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."starshina_id" = '205');
[2016-09-10 16:19:08.531] [ INFO] console - Executing (default): UPDATE "Kopnik" SET "path"='/4/205/',"updated_at"='2016-09-10 11:19:08.526 +00:00' WHERE "id" = '206'
[2016-09-10 16:19:08.534] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/4/' like k.path||k.id||'/%'
[2016-09-10 16:19:08.539] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('4')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 16:19:08.542] [ INFO] console - Executing (0e594c5f-d8ad-4b37-a473-5d403ff909c8): COMMIT;
[2016-09-10 16:19:08.543] [ INFO] console - [ 70, 1565, {}, [ undefined ] ]
[2016-09-10 16:19:08.546] [ INFO] console - [ 16,
  8266157041647616,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id2.voiskoChange',
  [],
  { voiskoSize: 1 } ]
[2016-09-10 16:19:08.552] [ INFO] console - [ 16,
  7932165457182720,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id4.voiskoChange',
  [],
  { voiskoSize: 2 } ]
[2016-09-10 16:19:12.040] [ INFO] console - [ 70, 1567, {}, [ undefined ] ]
[2016-09-10 16:19:12.045] [ INFO] console - Executing (default): delete from "Kopnik"
                where
                    name like '%temp'
[2016-09-10 16:19:12.053] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 2 }
[2016-09-10 16:19:12.058] [ INFO] console - Executing (d066e4d3-c875-4a3d-b042-5f9a6ab65827): START TRANSACTION;
[2016-09-10 16:19:12.060] [ INFO] console - Executing (default): update "Kopnik"
                set 
                    "voiskoSize"= case when id=2 then 1 ELSE 0 END
                where
                    id>1 
                    and id<=5
[2016-09-10 16:19:12.061] [ INFO] console - Executing (d066e4d3-c875-4a3d-b042-5f9a6ab65827): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 16:19:12.071] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 2);
[2016-09-10 16:19:12.076] [ INFO] console - Executing (d066e4d3-c875-4a3d-b042-5f9a6ab65827): COMMIT;
[2016-09-10 16:19:12.077] [ INFO] console - [ 70,
  1568,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/2/',
      starshina: [Object],
      id: '2',
      email: 'unittest2@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '1',
      voiskoSize: 1,
      birth: 1983,
      path: '/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: null,
      attachments: [] } ] ]
[2016-09-10 16:19:12.092] [ INFO] console - Executing (98942525-2be4-4564-a622-5348584910eb): START TRANSACTION;
[2016-09-10 16:19:12.093] [ INFO] console - Executing (98942525-2be4-4564-a622-5348584910eb): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 16:19:12.101] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 2);
[2016-09-10 16:19:12.105] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"+1
                                where
                                    '/2/' like path||id||'/%'
[2016-09-10 16:19:12.111] [ INFO] console - Executing (default): INSERT INTO "Kopnik" ("id","name","surname","patronymic","voiskoSize","birth","path","created_at","updated_at","rodina_id","starshina_id") VALUES (DEFAULT,'temp','temp','temp',0,1900,'/2/','2016-09-10 11:19:12.096 +00:00','2016-09-10 11:19:12.096 +00:00',NULL,2) RETURNING *;
[2016-09-10 16:19:12.115] [ INFO] console - Executing (98942525-2be4-4564-a622-5348584910eb): COMMIT;
[2016-09-10 16:19:12.118] [ INFO] console - [ 70, 1569, {}, [ '207' ] ]
[2016-09-10 16:19:12.122] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/' like k.path||k.id||'/%'
[2016-09-10 16:19:12.127] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Zemla', id: 2 }
[2016-09-10 16:19:12.132] [ INFO] console - Executing (887d90ee-2604-4534-9c61-ccf0492b1a09): START TRANSACTION;
[2016-09-10 16:19:12.133] [ INFO] console - Executing (b529c590-2128-4d59-9aeb-384e596fabf2): START TRANSACTION;
[2016-09-10 16:19:12.137] [ INFO] console - Executing (887d90ee-2604-4534-9c61-ccf0492b1a09): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 16:19:12.138] [ INFO] console - Executing (b529c590-2128-4d59-9aeb-384e596fabf2): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 16:19:12.153] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 16:19:12.160] [ INFO] console - Executing (default): SELECT "Zemla"."id", "Zemla"."path", "Zemla"."name", "Zemla"."intensity", "Zemla"."note", "Zemla"."created_at", "Zemla"."updated_at", "Zemla"."deleted_at", "Zemla"."parent_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Zemla" AS "Zemla" LEFT OUTER JOIN "File" AS "attachments" ON "Zemla"."id" = "attachments"."zemla_id" AND "attachments"."deleted_at" IS NULL WHERE ("Zemla"."deleted_at" IS NULL AND "Zemla"."id" = 2);
[2016-09-10 16:19:12.161] [ INFO] console - [ 16,
  22226017452032,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id2.voiskoChange',
  [],
  { voiskoSize: 2 } ]
[2016-09-10 16:19:12.170] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 207);
[2016-09-10 16:19:12.173] [ INFO] console - Executing (887d90ee-2604-4534-9c61-ccf0492b1a09): COMMIT;
[2016-09-10 16:19:12.177] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"+1
                                where
                                    '/2/207/' like path||id||'/%'
[2016-09-10 16:19:12.179] [ INFO] console - [ 70,
  1570,
  {},
  [ { fullPath: 'null2/',
      id: '2',
      path: null,
      name: 'UnitTest2',
      intensity: 1000,
      note: 'unit test 1473505807871',
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Sat Sep 10 2016 16:10:08 GMT+0500 (YEKT),
      deleted_at: null,
      parent_id: '1',
      attachments: [] } ] ]
[2016-09-10 16:19:12.191] [ INFO] console - Executing (default): INSERT INTO "Kopnik" ("id","name","surname","patronymic","voiskoSize","birth","path","created_at","updated_at","rodina_id","starshina_id") VALUES (DEFAULT,'temp','temp','temp',0,1900,'/2/207/','2016-09-10 11:19:12.142 +00:00','2016-09-10 11:19:12.142 +00:00',NULL,207) RETURNING *;
[2016-09-10 16:19:12.193] [ INFO] console - Executing (b529c590-2128-4d59-9aeb-384e596fabf2): COMMIT;
[2016-09-10 16:19:12.195] [ INFO] console - [ 70, 1571, {}, [ '208' ] ]
[2016-09-10 16:19:12.199] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/207/' like k.path||k.id||'/%'
[2016-09-10 16:19:12.212] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2', '207')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 16:19:12.216] [ INFO] console - [ 16,
  6778464986202112,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id207.voiskoChange',
  [],
  { voiskoSize: 1 } ]
[2016-09-10 16:19:12.221] [ INFO] console - [ 16,
  842765734772736,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id2.voiskoChange',
  [],
  { voiskoSize: 3 } ]
[2016-09-10 16:21:18.748] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 4 }
[2016-09-10 16:21:18.763] [ INFO] console - Executing (d925b3fa-8521-4705-98d8-68089245f01c): START TRANSACTION;
[2016-09-10 16:21:18.764] [ INFO] console - Executing (d925b3fa-8521-4705-98d8-68089245f01c): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 16:21:18.785] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 4);
[2016-09-10 16:21:18.792] [ INFO] console - Executing (d925b3fa-8521-4705-98d8-68089245f01c): COMMIT;
[2016-09-10 16:21:18.794] [ INFO] console - [ 70,
  1572,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/4/',
      starshina: [Object],
      id: '4',
      email: 'unittest4@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '4',
      voiskoSize: 0,
      birth: 1983,
      path: '/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: null,
      attachments: [] } ] ]
[2016-09-10 16:21:18.804] [ INFO] console - Executing (2d27444f-93a0-4de6-aed8-64149d8ce490): START TRANSACTION;
[2016-09-10 16:21:18.806] [ INFO] console - Executing (2d27444f-93a0-4de6-aed8-64149d8ce490): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 16:21:18.810] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 207);
[2016-09-10 16:21:18.816] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 4);
[2016-09-10 16:21:18.820] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/' like k.path||k.id||'/%'
[2016-09-10 16:21:18.825] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 16:21:18.828] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"-2
                                where
                                    '/2/' like path||id||'/%'
[2016-09-10 16:21:18.836] [ INFO] console - Executing (default): UPDATE "Kopnik" SET "path"='/4/',"starshina_id"='4',"updated_at"='2016-09-10 11:21:18.831 +00:00' WHERE "id" = '207'
[2016-09-10 16:21:18.838] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"+2
                                where
                                    '/4/' like path||id||'/%'
[2016-09-10 16:21:18.843] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."starshina_id" = '207');
[2016-09-10 16:21:18.851] [ INFO] console - Executing (default): UPDATE "Kopnik" SET "path"='/4/207/',"updated_at"='2016-09-10 11:21:18.847 +00:00' WHERE "id" = '208'
[2016-09-10 16:21:18.854] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/4/' like k.path||k.id||'/%'
[2016-09-10 16:21:18.859] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('4')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 16:21:18.862] [ INFO] console - Executing (2d27444f-93a0-4de6-aed8-64149d8ce490): COMMIT;
[2016-09-10 16:21:18.864] [ INFO] console - [ 70, 1573, {}, [ undefined ] ]
[2016-09-10 16:21:18.866] [ INFO] console - [ 16,
  2941366795501568,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id2.voiskoChange',
  [],
  { voiskoSize: 1 } ]
[2016-09-10 16:21:18.869] [ INFO] console - [ 16,
  2439160600199168,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id4.voiskoChange',
  [],
  { voiskoSize: 2 } ]
[2016-09-10 16:21:22.839] [ INFO] console - [ 70, 1575, {}, [ undefined ] ]
[2016-09-10 16:21:22.842] [ INFO] console - Executing (default): delete from "Kopnik"
                where
                    name like '%temp'
[2016-09-10 16:21:22.847] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 2 }
[2016-09-10 16:21:22.851] [ INFO] console - Executing (default): update "Kopnik"
                set 
                    "voiskoSize"= case when id=2 then 1 ELSE 0 END
                where
                    id>1 
                    and id<=5
[2016-09-10 16:21:22.852] [ INFO] console - Executing (0971a4ed-4505-4176-b752-82f5055dc270): START TRANSACTION;
[2016-09-10 16:21:22.854] [ INFO] console - Executing (0971a4ed-4505-4176-b752-82f5055dc270): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 16:21:22.862] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 2);
[2016-09-10 16:21:22.870] [ INFO] console - Executing (0971a4ed-4505-4176-b752-82f5055dc270): COMMIT;
[2016-09-10 16:21:22.872] [ INFO] console - [ 70,
  1576,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/2/',
      starshina: [Object],
      id: '2',
      email: 'unittest2@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '1',
      voiskoSize: 1,
      birth: 1983,
      path: '/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: null,
      attachments: [] } ] ]
[2016-09-10 16:21:22.887] [ INFO] console - Executing (99c7b7d1-4db6-4bff-a335-52fec65fc8d1): START TRANSACTION;
[2016-09-10 16:21:22.888] [ INFO] console - Executing (99c7b7d1-4db6-4bff-a335-52fec65fc8d1): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 16:21:22.897] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 2);
[2016-09-10 16:21:22.901] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"+1
                                where
                                    '/2/' like path||id||'/%'
[2016-09-10 16:21:22.907] [ INFO] console - Executing (default): INSERT INTO "Kopnik" ("id","name","surname","patronymic","voiskoSize","birth","path","created_at","updated_at","rodina_id","starshina_id") VALUES (DEFAULT,'temp','temp','temp',0,1900,'/2/','2016-09-10 11:21:22.890 +00:00','2016-09-10 11:21:22.890 +00:00',NULL,2) RETURNING *;
[2016-09-10 16:21:22.911] [ INFO] console - Executing (99c7b7d1-4db6-4bff-a335-52fec65fc8d1): COMMIT;
[2016-09-10 16:21:22.912] [ INFO] console - [ 70, 1577, {}, [ '209' ] ]
[2016-09-10 16:21:22.916] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/' like k.path||k.id||'/%'
[2016-09-10 16:21:22.921] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 16:21:22.923] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Zemla', id: 2 }
[2016-09-10 16:21:22.931] [ INFO] console - Executing (283f0ee9-db51-4c03-aad0-693c160bd722): START TRANSACTION;
[2016-09-10 16:21:22.932] [ INFO] console - Executing (95d489f8-a043-460c-a89d-a2cf84ae245f): START TRANSACTION;
[2016-09-10 16:21:22.933] [ INFO] console - [ 16,
  8775779263447040,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id2.voiskoChange',
  [],
  { voiskoSize: 2 } ]
[2016-09-10 16:21:22.938] [ INFO] console - Executing (95d489f8-a043-460c-a89d-a2cf84ae245f): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 16:21:22.939] [ INFO] console - Executing (283f0ee9-db51-4c03-aad0-693c160bd722): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 16:21:22.959] [ INFO] console - Executing (default): SELECT "Zemla"."id", "Zemla"."path", "Zemla"."name", "Zemla"."intensity", "Zemla"."note", "Zemla"."created_at", "Zemla"."updated_at", "Zemla"."deleted_at", "Zemla"."parent_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Zemla" AS "Zemla" LEFT OUTER JOIN "File" AS "attachments" ON "Zemla"."id" = "attachments"."zemla_id" AND "attachments"."deleted_at" IS NULL WHERE ("Zemla"."deleted_at" IS NULL AND "Zemla"."id" = 2);
[2016-09-10 16:21:22.967] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 209);
[2016-09-10 16:21:22.970] [ INFO] console - Executing (283f0ee9-db51-4c03-aad0-693c160bd722): COMMIT;
[2016-09-10 16:21:22.974] [ INFO] console - [ 70,
  1578,
  {},
  [ { fullPath: 'null2/',
      id: '2',
      path: null,
      name: 'UnitTest2',
      intensity: 1000,
      note: 'unit test 1473505807871',
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Sat Sep 10 2016 16:10:08 GMT+0500 (YEKT),
      deleted_at: null,
      parent_id: '1',
      attachments: [] } ] ]
[2016-09-10 16:21:22.982] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"+1
                                where
                                    '/2/209/' like path||id||'/%'
[2016-09-10 16:21:22.987] [ INFO] console - Executing (default): INSERT INTO "Kopnik" ("id","name","surname","patronymic","voiskoSize","birth","path","created_at","updated_at","rodina_id","starshina_id") VALUES (DEFAULT,'temp','temp','temp',0,1900,'/2/209/','2016-09-10 11:21:22.942 +00:00','2016-09-10 11:21:22.942 +00:00',NULL,209) RETURNING *;
[2016-09-10 16:21:23.000] [ INFO] console - Executing (95d489f8-a043-460c-a89d-a2cf84ae245f): COMMIT;
[2016-09-10 16:21:23.002] [ INFO] console - [ 70, 1579, {}, [ '210' ] ]
[2016-09-10 16:21:23.006] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/209/' like k.path||k.id||'/%'
[2016-09-10 16:21:23.011] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2', '209')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 16:21:23.021] [ INFO] console - [ 16,
  8103013967200256,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id209.voiskoChange',
  [],
  { voiskoSize: 1 } ]
[2016-09-10 16:21:23.026] [ INFO] console - [ 16,
  6683422447632384,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id2.voiskoChange',
  [],
  { voiskoSize: 3 } ]
[2016-09-10 16:21:58.541] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 4 }
[2016-09-10 16:21:58.553] [ INFO] console - Executing (f10806f9-833c-4b94-beea-8f79a1cd951e): START TRANSACTION;
[2016-09-10 16:21:58.555] [ INFO] console - Executing (f10806f9-833c-4b94-beea-8f79a1cd951e): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 16:21:58.567] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 4);
[2016-09-10 16:21:58.576] [ INFO] console - Executing (f10806f9-833c-4b94-beea-8f79a1cd951e): COMMIT;
[2016-09-10 16:21:58.578] [ INFO] console - [ 70,
  1580,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/4/',
      starshina: [Object],
      id: '4',
      email: 'unittest4@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '4',
      voiskoSize: 0,
      birth: 1983,
      path: '/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: null,
      attachments: [] } ] ]
[2016-09-10 16:21:58.587] [ INFO] console - Executing (1e0cb122-c70f-4255-afc7-fd9835d90a55): START TRANSACTION;
[2016-09-10 16:21:58.589] [ INFO] console - Executing (1e0cb122-c70f-4255-afc7-fd9835d90a55): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 16:21:58.595] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 209);
[2016-09-10 16:21:58.602] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 4);
[2016-09-10 16:21:58.607] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/' like k.path||k.id||'/%'
[2016-09-10 16:21:58.614] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 16:21:58.618] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"-2
                                where
                                    '/2/' like path||id||'/%'
[2016-09-10 16:21:58.634] [ INFO] console - Executing (default): UPDATE "Kopnik" SET "path"='/4/',"starshina_id"='4',"updated_at"='2016-09-10 11:21:58.628 +00:00' WHERE "id" = '209'
[2016-09-10 16:21:58.637] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"+2
                                where
                                    '/4/' like path||id||'/%'
[2016-09-10 16:21:58.641] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."starshina_id" = '209');
[2016-09-10 16:21:58.649] [ INFO] console - Executing (default): UPDATE "Kopnik" SET "path"='/4/209/',"updated_at"='2016-09-10 11:21:58.645 +00:00' WHERE "id" = '210'
[2016-09-10 16:21:58.654] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/4/' like k.path||k.id||'/%'
[2016-09-10 16:21:58.676] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('4')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 16:21:58.680] [ INFO] console - Executing (1e0cb122-c70f-4255-afc7-fd9835d90a55): COMMIT;
[2016-09-10 16:21:58.681] [ INFO] console - [ 70, 1581, {}, [ undefined ] ]
[2016-09-10 16:21:58.686] [ INFO] console - [ 16,
  7564315693416448,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id2.voiskoChange',
  [],
  { voiskoSize: 1 } ]
[2016-09-10 16:21:58.689] [ INFO] console - [ 16,
  2272751127625728,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id4.voiskoChange',
  [],
  { voiskoSize: 2 } ]
[2016-09-10 16:22:05.505] [ INFO] console - [ 70, 1583, {}, [ undefined ] ]
[2016-09-10 16:22:05.513] [ INFO] console - Executing (default): delete from "Kopnik"
                where
                    name like '%temp'
[2016-09-10 16:22:05.515] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 2 }
[2016-09-10 16:22:05.520] [ INFO] console - Executing (ea734643-c89c-49cf-8457-fae71460184a): START TRANSACTION;
[2016-09-10 16:22:05.523] [ INFO] console - Executing (default): update "Kopnik"
                set 
                    "voiskoSize"= case when id=2 then 1 ELSE 0 END
                where
                    id>1 
                    and id<=5
[2016-09-10 16:22:05.523] [ INFO] console - Executing (ea734643-c89c-49cf-8457-fae71460184a): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 16:22:05.536] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 2);
[2016-09-10 16:22:05.542] [ INFO] console - Executing (ea734643-c89c-49cf-8457-fae71460184a): COMMIT;
[2016-09-10 16:22:05.543] [ INFO] console - [ 70,
  1584,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/2/',
      starshina: [Object],
      id: '2',
      email: 'unittest2@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '1',
      voiskoSize: 1,
      birth: 1983,
      path: '/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: null,
      attachments: [] } ] ]
[2016-09-10 16:22:05.560] [ INFO] console - Executing (de96c43c-dbb1-4217-a1d3-25a005ac8c99): START TRANSACTION;
[2016-09-10 16:22:05.561] [ INFO] console - Executing (de96c43c-dbb1-4217-a1d3-25a005ac8c99): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 16:22:05.568] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 2);
[2016-09-10 16:22:05.573] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"+1
                                where
                                    '/2/' like path||id||'/%'
[2016-09-10 16:22:05.578] [ INFO] console - Executing (default): INSERT INTO "Kopnik" ("id","name","surname","patronymic","voiskoSize","birth","path","created_at","updated_at","rodina_id","starshina_id") VALUES (DEFAULT,'temp','temp','temp',0,1900,'/2/','2016-09-10 11:22:05.563 +00:00','2016-09-10 11:22:05.563 +00:00',NULL,2) RETURNING *;
[2016-09-10 16:22:05.581] [ INFO] console - Executing (de96c43c-dbb1-4217-a1d3-25a005ac8c99): COMMIT;
[2016-09-10 16:22:05.583] [ INFO] console - [ 70, 1585, {}, [ '211' ] ]
[2016-09-10 16:22:05.586] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/' like k.path||k.id||'/%'
[2016-09-10 16:22:05.595] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 16:22:05.597] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Zemla', id: 2 }
[2016-09-10 16:22:05.601] [ INFO] console - Executing (d9f65f53-c848-4b0d-86d3-3ac8861aafd0): START TRANSACTION;
[2016-09-10 16:22:05.603] [ INFO] console - Executing (91de4288-9489-4b1e-ac0e-3d58bc0626b4): START TRANSACTION;
[2016-09-10 16:22:05.604] [ INFO] console - [ 16,
  5687435390353408,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id2.voiskoChange',
  [],
  { voiskoSize: 2 } ]
[2016-09-10 16:22:05.609] [ INFO] console - Executing (91de4288-9489-4b1e-ac0e-3d58bc0626b4): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 16:22:05.610] [ INFO] console - Executing (d9f65f53-c848-4b0d-86d3-3ac8861aafd0): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 16:22:05.627] [ INFO] console - Executing (default): SELECT "Zemla"."id", "Zemla"."path", "Zemla"."name", "Zemla"."intensity", "Zemla"."note", "Zemla"."created_at", "Zemla"."updated_at", "Zemla"."deleted_at", "Zemla"."parent_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Zemla" AS "Zemla" LEFT OUTER JOIN "File" AS "attachments" ON "Zemla"."id" = "attachments"."zemla_id" AND "attachments"."deleted_at" IS NULL WHERE ("Zemla"."deleted_at" IS NULL AND "Zemla"."id" = 2);
[2016-09-10 16:22:05.632] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 211);
[2016-09-10 16:22:05.638] [ INFO] console - Executing (d9f65f53-c848-4b0d-86d3-3ac8861aafd0): COMMIT;
[2016-09-10 16:22:05.641] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"+1
                                where
                                    '/2/211/' like path||id||'/%'
[2016-09-10 16:22:05.642] [ INFO] console - [ 70,
  1586,
  {},
  [ { fullPath: 'null2/',
      id: '2',
      path: null,
      name: 'UnitTest2',
      intensity: 1000,
      note: 'unit test 1473505807871',
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Sat Sep 10 2016 16:10:08 GMT+0500 (YEKT),
      deleted_at: null,
      parent_id: '1',
      attachments: [] } ] ]
[2016-09-10 16:22:05.656] [ INFO] console - Executing (default): INSERT INTO "Kopnik" ("id","name","surname","patronymic","voiskoSize","birth","path","created_at","updated_at","rodina_id","starshina_id") VALUES (DEFAULT,'temp','temp','temp',0,1900,'/2/211/','2016-09-10 11:22:05.612 +00:00','2016-09-10 11:22:05.612 +00:00',NULL,211) RETURNING *;
[2016-09-10 16:22:05.660] [ INFO] console - Executing (91de4288-9489-4b1e-ac0e-3d58bc0626b4): COMMIT;
[2016-09-10 16:22:05.662] [ INFO] console - [ 70, 1587, {}, [ '212' ] ]
[2016-09-10 16:22:05.665] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/211/' like k.path||k.id||'/%'
[2016-09-10 16:22:05.676] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2', '211')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 16:22:05.680] [ INFO] console - [ 16,
  314910378557440,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id211.voiskoChange',
  [],
  { voiskoSize: 1 } ]
[2016-09-10 16:22:05.685] [ INFO] console - [ 16,
  5847151418540032,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id2.voiskoChange',
  [],
  { voiskoSize: 3 } ]
[2016-09-10 16:22:25.910] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 4 }
[2016-09-10 16:22:25.920] [ INFO] console - Executing (e2883db2-bfe1-4cda-b6e6-1292ec64952f): START TRANSACTION;
[2016-09-10 16:22:25.922] [ INFO] console - Executing (e2883db2-bfe1-4cda-b6e6-1292ec64952f): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 16:22:25.933] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 4);
[2016-09-10 16:22:25.940] [ INFO] console - Executing (e2883db2-bfe1-4cda-b6e6-1292ec64952f): COMMIT;
[2016-09-10 16:22:25.941] [ INFO] console - [ 70,
  1588,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/4/',
      starshina: [Object],
      id: '4',
      email: 'unittest4@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '4',
      voiskoSize: 0,
      birth: 1983,
      path: '/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: null,
      attachments: [] } ] ]
[2016-09-10 16:22:35.982] [ INFO] console - Executing (6310897d-55a7-4354-aa67-a1dd74025e41): START TRANSACTION;
[2016-09-10 16:22:35.984] [ INFO] console - Executing (6310897d-55a7-4354-aa67-a1dd74025e41): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 16:22:35.994] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 211);
[2016-09-10 16:22:36.000] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 4);
[2016-09-10 16:22:36.006] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/' like k.path||k.id||'/%'
[2016-09-10 16:22:36.015] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 16:22:36.019] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"-2
                                where
                                    '/2/' like path||id||'/%'
[2016-09-10 16:22:36.026] [ INFO] console - Executing (default): UPDATE "Kopnik" SET "path"='/4/',"starshina_id"='4',"updated_at"='2016-09-10 11:22:36.021 +00:00' WHERE "id" = '211'
[2016-09-10 16:22:36.030] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"+2
                                where
                                    '/4/' like path||id||'/%'
[2016-09-10 16:22:36.034] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."starshina_id" = '211');
[2016-09-10 16:22:36.044] [ INFO] console - Executing (default): UPDATE "Kopnik" SET "path"='/4/211/',"updated_at"='2016-09-10 11:22:36.039 +00:00' WHERE "id" = '212'
[2016-09-10 16:22:36.048] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/4/' like k.path||k.id||'/%'
[2016-09-10 16:22:36.053] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('4')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 16:22:36.056] [ INFO] console - Executing (6310897d-55a7-4354-aa67-a1dd74025e41): COMMIT;
[2016-09-10 16:22:36.059] [ INFO] console - [ 70, 1589, {}, [ undefined ] ]
[2016-09-10 16:22:36.062] [ INFO] console - [ 16,
  8853156205166592,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id2.voiskoChange',
  [],
  { voiskoSize: 1 } ]
[2016-09-10 16:22:36.068] [ INFO] console - [ 16,
  1568956326346752,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id4.voiskoChange',
  [],
  { voiskoSize: 2 } ]
[2016-09-10 16:22:45.232] [ INFO] console - [ 70, 1591, {}, [ undefined ] ]
[2016-09-10 16:22:45.234] [ INFO] console - Executing (default): delete from "Kopnik"
                where
                    name like '%temp'
[2016-09-10 16:22:45.240] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 2 }
[2016-09-10 16:22:45.244] [ INFO] console - Executing (380af97b-0697-4902-ab62-186958ee31ed): START TRANSACTION;
[2016-09-10 16:22:45.245] [ INFO] console - Executing (380af97b-0697-4902-ab62-186958ee31ed): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 16:22:45.247] [ INFO] console - Executing (default): update "Kopnik"
                set 
                    "voiskoSize"= case when id=2 then 1 ELSE 0 END
                where
                    id>1 
                    and id<=5
[2016-09-10 16:22:45.282] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 2);
[2016-09-10 16:22:45.288] [ INFO] console - Executing (380af97b-0697-4902-ab62-186958ee31ed): COMMIT;
[2016-09-10 16:22:45.289] [ INFO] console - [ 70,
  1592,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/2/',
      starshina: [Object],
      id: '2',
      email: 'unittest2@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '1',
      voiskoSize: 1,
      birth: 1983,
      path: '/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: null,
      attachments: [] } ] ]
[2016-09-10 16:22:45.301] [ INFO] console - Executing (70bfe42b-4ddd-424e-aa2a-1bcdf03a4d87): START TRANSACTION;
[2016-09-10 16:22:45.302] [ INFO] console - Executing (70bfe42b-4ddd-424e-aa2a-1bcdf03a4d87): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 16:22:45.309] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 2);
[2016-09-10 16:22:45.312] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"+1
                                where
                                    '/2/' like path||id||'/%'
[2016-09-10 16:22:45.319] [ INFO] console - Executing (default): INSERT INTO "Kopnik" ("id","name","surname","patronymic","voiskoSize","birth","path","created_at","updated_at","rodina_id","starshina_id") VALUES (DEFAULT,'temp','temp','temp',0,1900,'/2/','2016-09-10 11:22:45.304 +00:00','2016-09-10 11:22:45.304 +00:00',NULL,2) RETURNING *;
[2016-09-10 16:22:45.324] [ INFO] console - Executing (70bfe42b-4ddd-424e-aa2a-1bcdf03a4d87): COMMIT;
[2016-09-10 16:22:45.325] [ INFO] console - [ 70, 1593, {}, [ '213' ] ]
[2016-09-10 16:22:45.329] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/' like k.path||k.id||'/%'
[2016-09-10 16:22:45.333] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Zemla', id: 2 }
[2016-09-10 16:22:45.337] [ INFO] console - Executing (3b4b8f87-7139-457d-8b7b-3eee672f4228): START TRANSACTION;
[2016-09-10 16:22:45.338] [ INFO] console - Executing (8536af41-a611-4c6f-beca-17431d284bd7): START TRANSACTION;
[2016-09-10 16:22:45.343] [ INFO] console - Executing (3b4b8f87-7139-457d-8b7b-3eee672f4228): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 16:22:45.343] [ INFO] console - Executing (8536af41-a611-4c6f-beca-17431d284bd7): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 16:22:45.357] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 16:22:45.364] [ INFO] console - Executing (default): SELECT "Zemla"."id", "Zemla"."path", "Zemla"."name", "Zemla"."intensity", "Zemla"."note", "Zemla"."created_at", "Zemla"."updated_at", "Zemla"."deleted_at", "Zemla"."parent_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Zemla" AS "Zemla" LEFT OUTER JOIN "File" AS "attachments" ON "Zemla"."id" = "attachments"."zemla_id" AND "attachments"."deleted_at" IS NULL WHERE ("Zemla"."deleted_at" IS NULL AND "Zemla"."id" = 2);
[2016-09-10 16:22:45.365] [ INFO] console - [ 16,
  1295475284115456,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id2.voiskoChange',
  [],
  { voiskoSize: 2 } ]
[2016-09-10 16:22:45.373] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 213);
[2016-09-10 16:22:45.376] [ INFO] console - Executing (3b4b8f87-7139-457d-8b7b-3eee672f4228): COMMIT;
[2016-09-10 16:22:45.379] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"+1
                                where
                                    '/2/213/' like path||id||'/%'
[2016-09-10 16:22:45.380] [ INFO] console - [ 70,
  1594,
  {},
  [ { fullPath: 'null2/',
      id: '2',
      path: null,
      name: 'UnitTest2',
      intensity: 1000,
      note: 'unit test 1473505807871',
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Sat Sep 10 2016 16:10:08 GMT+0500 (YEKT),
      deleted_at: null,
      parent_id: '1',
      attachments: [] } ] ]
[2016-09-10 16:22:45.394] [ INFO] console - Executing (default): INSERT INTO "Kopnik" ("id","name","surname","patronymic","voiskoSize","birth","path","created_at","updated_at","rodina_id","starshina_id") VALUES (DEFAULT,'temp','temp','temp',0,1900,'/2/213/','2016-09-10 11:22:45.347 +00:00','2016-09-10 11:22:45.347 +00:00',NULL,213) RETURNING *;
[2016-09-10 16:22:45.399] [ INFO] console - Executing (8536af41-a611-4c6f-beca-17431d284bd7): COMMIT;
[2016-09-10 16:22:45.401] [ INFO] console - [ 70, 1595, {}, [ '214' ] ]
[2016-09-10 16:22:45.403] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/213/' like k.path||k.id||'/%'
[2016-09-10 16:22:45.409] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2', '213')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 16:22:45.412] [ INFO] console - [ 16,
  3368925490315264,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id213.voiskoChange',
  [],
  { voiskoSize: 1 } ]
[2016-09-10 16:22:45.416] [ INFO] console - [ 16,
  7485306597015552,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id2.voiskoChange',
  [],
  { voiskoSize: 3 } ]
[2016-09-10 16:22:51.557] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 4 }
[2016-09-10 16:22:51.560] [ INFO] console - Executing (733b777b-9eaf-43aa-bfce-3b3eb4098b3d): START TRANSACTION;
[2016-09-10 16:22:51.562] [ INFO] console - Executing (733b777b-9eaf-43aa-bfce-3b3eb4098b3d): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 16:22:51.569] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 4);
[2016-09-10 16:22:51.576] [ INFO] console - Executing (733b777b-9eaf-43aa-bfce-3b3eb4098b3d): COMMIT;
[2016-09-10 16:22:51.578] [ INFO] console - [ 70,
  1596,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/4/',
      starshina: [Object],
      id: '4',
      email: 'unittest4@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '4',
      voiskoSize: 0,
      birth: 1983,
      path: '/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: null,
      attachments: [] } ] ]
[2016-09-10 16:22:51.588] [ INFO] console - Executing (78eafb4e-aa81-4119-992f-644c9b663534): START TRANSACTION;
[2016-09-10 16:22:51.590] [ INFO] console - Executing (78eafb4e-aa81-4119-992f-644c9b663534): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 16:22:51.599] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 213);
[2016-09-10 16:22:51.604] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 4);
[2016-09-10 16:22:51.608] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/' like k.path||k.id||'/%'
[2016-09-10 16:22:51.612] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 16:22:51.616] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"-2
                                where
                                    '/2/' like path||id||'/%'
[2016-09-10 16:22:51.623] [ INFO] console - Executing (default): UPDATE "Kopnik" SET "path"='/4/',"starshina_id"='4',"updated_at"='2016-09-10 11:22:51.618 +00:00' WHERE "id" = '213'
[2016-09-10 16:22:51.625] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"+2
                                where
                                    '/4/' like path||id||'/%'
[2016-09-10 16:22:51.629] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."starshina_id" = '213');
[2016-09-10 16:22:51.637] [ INFO] console - Executing (default): UPDATE "Kopnik" SET "path"='/4/213/',"updated_at"='2016-09-10 11:22:51.632 +00:00' WHERE "id" = '214'
[2016-09-10 16:22:51.640] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/4/' like k.path||k.id||'/%'
[2016-09-10 16:22:51.644] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('4')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 16:22:51.647] [ INFO] console - Executing (78eafb4e-aa81-4119-992f-644c9b663534): COMMIT;
[2016-09-10 16:22:51.649] [ INFO] console - [ 70, 1597, {}, [ undefined ] ]
[2016-09-10 16:22:51.651] [ INFO] console - [ 16,
  6697831253409792,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id2.voiskoChange',
  [],
  { voiskoSize: 1 } ]
[2016-09-10 16:22:51.655] [ INFO] console - [ 16,
  5917185618739200,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id4.voiskoChange',
  [],
  { voiskoSize: 2 } ]
[2016-09-10 16:23:14.129] [ INFO] console - [ 70, 1599, {}, [ undefined ] ]
[2016-09-10 16:23:14.136] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 2 }
[2016-09-10 16:23:14.152] [ INFO] console - Executing (default): delete from "Kopnik"
                where
                    name like '%temp'
[2016-09-10 16:23:14.155] [ INFO] console - Executing (afa1083a-5ce3-4269-8d64-aa4e83c6a21b): START TRANSACTION;
[2016-09-10 16:23:14.156] [ INFO] console - Executing (default): update "Kopnik"
                set 
                    "voiskoSize"= case when id=2 then 1 ELSE 0 END
                where
                    id>1 
                    and id<=5
[2016-09-10 16:23:14.157] [ INFO] console - Executing (afa1083a-5ce3-4269-8d64-aa4e83c6a21b): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 16:23:14.163] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 2);
[2016-09-10 16:23:14.169] [ INFO] console - Executing (afa1083a-5ce3-4269-8d64-aa4e83c6a21b): COMMIT;
[2016-09-10 16:23:14.170] [ INFO] console - [ 70,
  1600,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/2/',
      starshina: [Object],
      id: '2',
      email: 'unittest2@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '1',
      voiskoSize: 1,
      birth: 1983,
      path: '/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: null,
      attachments: [] } ] ]
[2016-09-10 16:23:14.182] [ INFO] console - Executing (9f373e64-5f5c-4693-bdd5-7bac7d42e652): START TRANSACTION;
[2016-09-10 16:23:14.184] [ INFO] console - Executing (9f373e64-5f5c-4693-bdd5-7bac7d42e652): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 16:23:14.193] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 2);
[2016-09-10 16:23:14.198] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"+1
                                where
                                    '/2/' like path||id||'/%'
[2016-09-10 16:23:14.203] [ INFO] console - Executing (default): INSERT INTO "Kopnik" ("id","name","surname","patronymic","voiskoSize","birth","path","created_at","updated_at","rodina_id","starshina_id") VALUES (DEFAULT,'temp','temp','temp',0,1900,'/2/','2016-09-10 11:23:14.188 +00:00','2016-09-10 11:23:14.188 +00:00',NULL,2) RETURNING *;
[2016-09-10 16:23:14.207] [ INFO] console - Executing (9f373e64-5f5c-4693-bdd5-7bac7d42e652): COMMIT;
[2016-09-10 16:23:14.208] [ INFO] console - [ 70, 1601, {}, [ '215' ] ]
[2016-09-10 16:23:14.217] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Zemla', id: 2 }
[2016-09-10 16:23:14.221] [ INFO] console - Executing (7671090c-4902-455d-b1ba-a191d21ea44f): START TRANSACTION;
[2016-09-10 16:23:14.222] [ INFO] console - Executing (b64b3f93-a803-4336-b73e-293a5b47dfd0): START TRANSACTION;
[2016-09-10 16:23:14.225] [ INFO] console - Executing (7671090c-4902-455d-b1ba-a191d21ea44f): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 16:23:14.225] [ INFO] console - Executing (b64b3f93-a803-4336-b73e-293a5b47dfd0): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 16:23:14.241] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/' like k.path||k.id||'/%'
[2016-09-10 16:23:14.250] [ INFO] console - Executing (default): SELECT "Zemla"."id", "Zemla"."path", "Zemla"."name", "Zemla"."intensity", "Zemla"."note", "Zemla"."created_at", "Zemla"."updated_at", "Zemla"."deleted_at", "Zemla"."parent_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Zemla" AS "Zemla" LEFT OUTER JOIN "File" AS "attachments" ON "Zemla"."id" = "attachments"."zemla_id" AND "attachments"."deleted_at" IS NULL WHERE ("Zemla"."deleted_at" IS NULL AND "Zemla"."id" = 2);
[2016-09-10 16:23:14.256] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 215);
[2016-09-10 16:23:14.261] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 16:23:14.265] [ INFO] console - Executing (7671090c-4902-455d-b1ba-a191d21ea44f): COMMIT;
[2016-09-10 16:23:14.267] [ INFO] console - [ 16,
  329716793868288,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id2.voiskoChange',
  [],
  { voiskoSize: 2 } ]
[2016-09-10 16:23:14.273] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"+1
                                where
                                    '/2/215/' like path||id||'/%'
[2016-09-10 16:23:14.275] [ INFO] console - [ 70,
  1602,
  {},
  [ { fullPath: 'null2/',
      id: '2',
      path: null,
      name: 'UnitTest2',
      intensity: 1000,
      note: 'unit test 1473505807871',
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Sat Sep 10 2016 16:10:08 GMT+0500 (YEKT),
      deleted_at: null,
      parent_id: '1',
      attachments: [] } ] ]
[2016-09-10 16:23:14.293] [ INFO] console - Executing (default): INSERT INTO "Kopnik" ("id","name","surname","patronymic","voiskoSize","birth","path","created_at","updated_at","rodina_id","starshina_id") VALUES (DEFAULT,'temp','temp','temp',0,1900,'/2/215/','2016-09-10 11:23:14.229 +00:00','2016-09-10 11:23:14.229 +00:00',NULL,215) RETURNING *;
[2016-09-10 16:23:14.297] [ INFO] console - Executing (b64b3f93-a803-4336-b73e-293a5b47dfd0): COMMIT;
[2016-09-10 16:23:14.299] [ INFO] console - [ 70, 1603, {}, [ '216' ] ]
[2016-09-10 16:23:14.302] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/215/' like k.path||k.id||'/%'
[2016-09-10 16:23:14.311] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2', '215')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 16:23:14.316] [ INFO] console - [ 16,
  4529867081121792,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id215.voiskoChange',
  [],
  { voiskoSize: 1 } ]
[2016-09-10 16:23:14.321] [ INFO] console - [ 16,
  3143769222283264,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id2.voiskoChange',
  [],
  { voiskoSize: 3 } ]
[2016-09-10 16:23:46.644] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 4 }
[2016-09-10 16:23:46.662] [ INFO] console - Executing (85ee41b3-f4c0-44c7-9318-248b25f42d21): START TRANSACTION;
[2016-09-10 16:23:46.664] [ INFO] console - Executing (85ee41b3-f4c0-44c7-9318-248b25f42d21): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 16:23:46.685] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 4);
[2016-09-10 16:23:46.692] [ INFO] console - Executing (85ee41b3-f4c0-44c7-9318-248b25f42d21): COMMIT;
[2016-09-10 16:23:46.693] [ INFO] console - [ 70,
  1604,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/4/',
      starshina: [Object],
      id: '4',
      email: 'unittest4@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '4',
      voiskoSize: 0,
      birth: 1983,
      path: '/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: null,
      attachments: [] } ] ]
[2016-09-10 16:23:46.705] [ INFO] console - Executing (db3b6e41-96fb-4aa0-8866-553aba1c7d03): START TRANSACTION;
[2016-09-10 16:23:46.707] [ INFO] console - Executing (db3b6e41-96fb-4aa0-8866-553aba1c7d03): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 16:23:46.713] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 215);
[2016-09-10 16:23:46.718] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 4);
[2016-09-10 16:23:46.722] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/' like k.path||k.id||'/%'
[2016-09-10 16:23:46.727] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 16:23:46.737] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"-2
                                where
                                    '/2/' like path||id||'/%'
[2016-09-10 16:23:46.745] [ INFO] console - Executing (default): UPDATE "Kopnik" SET "path"='/4/',"starshina_id"='4',"updated_at"='2016-09-10 11:23:46.739 +00:00' WHERE "id" = '215'
[2016-09-10 16:23:46.749] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"+2
                                where
                                    '/4/' like path||id||'/%'
[2016-09-10 16:23:46.753] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."starshina_id" = '215');
[2016-09-10 16:23:46.765] [ INFO] console - Executing (default): UPDATE "Kopnik" SET "path"='/4/215/',"updated_at"='2016-09-10 11:23:46.758 +00:00' WHERE "id" = '216'
[2016-09-10 16:23:46.770] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/4/' like k.path||k.id||'/%'
[2016-09-10 16:23:46.775] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('4')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 16:23:46.779] [ INFO] console - Executing (db3b6e41-96fb-4aa0-8866-553aba1c7d03): COMMIT;
[2016-09-10 16:23:46.781] [ INFO] console - [ 70, 1605, {}, [ undefined ] ]
[2016-09-10 16:23:46.784] [ INFO] console - [ 16,
  1270586202390528,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id2.voiskoChange',
  [],
  { voiskoSize: 1 } ]
[2016-09-10 16:23:46.793] [ INFO] console - [ 16,
  4279298561146880,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id4.voiskoChange',
  [],
  { voiskoSize: 2 } ]
[2016-09-10 16:23:51.171] [ INFO] console - [ 70, 1607, {}, [ undefined ] ]
[2016-09-10 16:23:51.179] [ INFO] console - Executing (default): delete from "Kopnik"
                where
                    name like '%temp'
[2016-09-10 16:23:51.181] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 2 }
[2016-09-10 16:23:51.186] [ INFO] console - Executing (796c655c-b483-4c27-aaab-5fb18ed2ba48): START TRANSACTION;
[2016-09-10 16:23:51.190] [ INFO] console - Executing (default): update "Kopnik"
                set 
                    "voiskoSize"= case when id=2 then 1 ELSE 0 END
                where
                    id>1 
                    and id<=5
[2016-09-10 16:23:51.191] [ INFO] console - Executing (796c655c-b483-4c27-aaab-5fb18ed2ba48): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 16:23:51.203] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 2);
[2016-09-10 16:23:51.208] [ INFO] console - Executing (796c655c-b483-4c27-aaab-5fb18ed2ba48): COMMIT;
[2016-09-10 16:23:51.209] [ INFO] console - [ 70,
  1608,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/2/',
      starshina: [Object],
      id: '2',
      email: 'unittest2@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '1',
      voiskoSize: 1,
      birth: 1983,
      path: '/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: null,
      attachments: [] } ] ]
[2016-09-10 16:23:51.225] [ INFO] console - Executing (c51d0809-7dc9-4cef-b34a-777b7a2833c9): START TRANSACTION;
[2016-09-10 16:23:51.230] [ INFO] console - Executing (c51d0809-7dc9-4cef-b34a-777b7a2833c9): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 16:23:51.237] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 2);
[2016-09-10 16:23:51.246] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"+1
                                where
                                    '/2/' like path||id||'/%'
[2016-09-10 16:23:51.251] [ INFO] console - Executing (default): INSERT INTO "Kopnik" ("id","name","surname","patronymic","voiskoSize","birth","path","created_at","updated_at","rodina_id","starshina_id") VALUES (DEFAULT,'temp','temp','temp',0,1900,'/2/','2016-09-10 11:23:51.232 +00:00','2016-09-10 11:23:51.232 +00:00',NULL,2) RETURNING *;
[2016-09-10 16:23:51.255] [ INFO] console - Executing (c51d0809-7dc9-4cef-b34a-777b7a2833c9): COMMIT;
[2016-09-10 16:23:51.257] [ INFO] console - [ 70, 1609, {}, [ '217' ] ]
[2016-09-10 16:23:51.265] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Zemla', id: 2 }
[2016-09-10 16:23:51.272] [ INFO] console - Executing (cb589fbf-23f2-479d-bcf3-5277f2b5c42e): START TRANSACTION;
[2016-09-10 16:23:51.272] [ INFO] console - Executing (0250f225-23af-4238-944e-723bb173ae11): START TRANSACTION;
[2016-09-10 16:23:51.275] [ INFO] console - Executing (cb589fbf-23f2-479d-bcf3-5277f2b5c42e): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 16:23:51.276] [ INFO] console - Executing (0250f225-23af-4238-944e-723bb173ae11): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 16:23:51.291] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/' like k.path||k.id||'/%'
[2016-09-10 16:23:51.297] [ INFO] console - Executing (default): SELECT "Zemla"."id", "Zemla"."path", "Zemla"."name", "Zemla"."intensity", "Zemla"."note", "Zemla"."created_at", "Zemla"."updated_at", "Zemla"."deleted_at", "Zemla"."parent_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Zemla" AS "Zemla" LEFT OUTER JOIN "File" AS "attachments" ON "Zemla"."id" = "attachments"."zemla_id" AND "attachments"."deleted_at" IS NULL WHERE ("Zemla"."deleted_at" IS NULL AND "Zemla"."id" = 2);
[2016-09-10 16:23:51.302] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 217);
[2016-09-10 16:23:51.309] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 16:23:51.313] [ INFO] console - Executing (cb589fbf-23f2-479d-bcf3-5277f2b5c42e): COMMIT;
[2016-09-10 16:23:51.314] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"+1
                                where
                                    '/2/217/' like path||id||'/%'
[2016-09-10 16:23:51.315] [ INFO] console - [ 16,
  6906295294623744,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id2.voiskoChange',
  [],
  { voiskoSize: 2 } ]
[2016-09-10 16:23:51.322] [ INFO] console - [ 70,
  1610,
  {},
  [ { fullPath: 'null2/',
      id: '2',
      path: null,
      name: 'UnitTest2',
      intensity: 1000,
      note: 'unit test 1473505807871',
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Sat Sep 10 2016 16:10:08 GMT+0500 (YEKT),
      deleted_at: null,
      parent_id: '1',
      attachments: [] } ] ]
[2016-09-10 16:23:51.338] [ INFO] console - Executing (default): INSERT INTO "Kopnik" ("id","name","surname","patronymic","voiskoSize","birth","path","created_at","updated_at","rodina_id","starshina_id") VALUES (DEFAULT,'temp','temp','temp',0,1900,'/2/217/','2016-09-10 11:23:51.278 +00:00','2016-09-10 11:23:51.278 +00:00',NULL,217) RETURNING *;
[2016-09-10 16:23:51.343] [ INFO] console - Executing (0250f225-23af-4238-944e-723bb173ae11): COMMIT;
[2016-09-10 16:23:51.344] [ INFO] console - [ 70, 1611, {}, [ '218' ] ]
[2016-09-10 16:23:51.349] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/217/' like k.path||k.id||'/%'
[2016-09-10 16:23:51.356] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2', '217')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 16:23:51.360] [ INFO] console - [ 16,
  8793766093651968,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id217.voiskoChange',
  [],
  { voiskoSize: 1 } ]
[2016-09-10 16:23:51.366] [ INFO] console - [ 16,
  5253072817225728,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id2.voiskoChange',
  [],
  { voiskoSize: 3 } ]
[2016-09-10 16:24:21.446] [ INFO] console - [ 70, 1613, {}, [ undefined ] ]
[2016-09-10 16:24:21.459] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 2 }
[2016-09-10 16:24:21.484] [ INFO] console - Executing (default): delete from "Kopnik"
                where
                    name like '%temp'
[2016-09-10 16:24:21.486] [ INFO] console - Executing (bcb49921-5beb-47a2-9d79-2870ffafc605): START TRANSACTION;
[2016-09-10 16:24:21.488] [ INFO] console - Executing (default): update "Kopnik"
                set 
                    "voiskoSize"= case when id=2 then 1 ELSE 0 END
                where
                    id>1 
                    and id<=5
[2016-09-10 16:24:21.490] [ INFO] console - Executing (bcb49921-5beb-47a2-9d79-2870ffafc605): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 16:24:21.501] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 2);
[2016-09-10 16:24:21.508] [ INFO] console - Executing (bcb49921-5beb-47a2-9d79-2870ffafc605): COMMIT;
[2016-09-10 16:24:21.510] [ INFO] console - [ 70,
  1614,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/2/',
      starshina: [Object],
      id: '2',
      email: 'unittest2@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '1',
      voiskoSize: 1,
      birth: 1983,
      path: '/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: null,
      attachments: [] } ] ]
[2016-09-10 16:24:21.527] [ INFO] console - Executing (ae10ae16-ff48-4450-9e47-f0ad4365caa5): START TRANSACTION;
[2016-09-10 16:24:21.529] [ INFO] console - Executing (ae10ae16-ff48-4450-9e47-f0ad4365caa5): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 16:24:21.544] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 2);
[2016-09-10 16:24:21.549] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"+1
                                where
                                    '/2/' like path||id||'/%'
[2016-09-10 16:24:21.554] [ INFO] console - Executing (default): INSERT INTO "Kopnik" ("id","name","surname","patronymic","voiskoSize","birth","path","created_at","updated_at","rodina_id","starshina_id") VALUES (DEFAULT,'temp','temp','temp',0,1900,'/2/','2016-09-10 11:24:21.531 +00:00','2016-09-10 11:24:21.531 +00:00',NULL,2) RETURNING *;
[2016-09-10 16:24:21.559] [ INFO] console - Executing (ae10ae16-ff48-4450-9e47-f0ad4365caa5): COMMIT;
[2016-09-10 16:24:21.560] [ INFO] console - [ 70, 1615, {}, [ '219' ] ]
[2016-09-10 16:24:21.564] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/' like k.path||k.id||'/%'
[2016-09-10 16:24:21.569] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 16:24:21.571] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Zemla', id: 2 }
[2016-09-10 16:24:21.575] [ INFO] console - Executing (08ac4560-d9e0-46fb-8fa6-01f8f799bbb3): START TRANSACTION;
[2016-09-10 16:24:21.587] [ INFO] console - Executing (8773c604-4571-4caa-bf48-322e50098646): START TRANSACTION;
[2016-09-10 16:24:21.588] [ INFO] console - Executing (08ac4560-d9e0-46fb-8fa6-01f8f799bbb3): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 16:24:21.589] [ INFO] console - [ 16,
  2554520687083520,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id2.voiskoChange',
  [],
  { voiskoSize: 2 } ]
[2016-09-10 16:24:21.593] [ INFO] console - Executing (8773c604-4571-4caa-bf48-322e50098646): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 16:24:21.606] [ INFO] console - Executing (default): SELECT "Zemla"."id", "Zemla"."path", "Zemla"."name", "Zemla"."intensity", "Zemla"."note", "Zemla"."created_at", "Zemla"."updated_at", "Zemla"."deleted_at", "Zemla"."parent_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Zemla" AS "Zemla" LEFT OUTER JOIN "File" AS "attachments" ON "Zemla"."id" = "attachments"."zemla_id" AND "attachments"."deleted_at" IS NULL WHERE ("Zemla"."deleted_at" IS NULL AND "Zemla"."id" = 2);
[2016-09-10 16:24:21.617] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 219);
[2016-09-10 16:24:21.623] [ INFO] console - Executing (08ac4560-d9e0-46fb-8fa6-01f8f799bbb3): COMMIT;
[2016-09-10 16:24:21.637] [ INFO] console - [ 70,
  1616,
  {},
  [ { fullPath: 'null2/',
      id: '2',
      path: null,
      name: 'UnitTest2',
      intensity: 1000,
      note: 'unit test 1473505807871',
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Sat Sep 10 2016 16:10:08 GMT+0500 (YEKT),
      deleted_at: null,
      parent_id: '1',
      attachments: [] } ] ]
[2016-09-10 16:24:21.644] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"+1
                                where
                                    '/2/219/' like path||id||'/%'
[2016-09-10 16:24:21.669] [ INFO] console - Executing (default): INSERT INTO "Kopnik" ("id","name","surname","patronymic","voiskoSize","birth","path","created_at","updated_at","rodina_id","starshina_id") VALUES (DEFAULT,'temp','temp','temp',0,1900,'/2/219/','2016-09-10 11:24:21.601 +00:00','2016-09-10 11:24:21.601 +00:00',NULL,219) RETURNING *;
[2016-09-10 16:24:21.675] [ INFO] console - Executing (8773c604-4571-4caa-bf48-322e50098646): COMMIT;
[2016-09-10 16:24:21.677] [ INFO] console - [ 70, 1617, {}, [ '220' ] ]
[2016-09-10 16:24:21.684] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/219/' like k.path||k.id||'/%'
[2016-09-10 16:24:21.693] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2', '219')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 16:24:21.697] [ INFO] console - [ 16,
  6965512810528768,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id219.voiskoChange',
  [],
  { voiskoSize: 1 } ]
[2016-09-10 16:24:21.702] [ INFO] console - [ 16,
  257791161794560,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id2.voiskoChange',
  [],
  { voiskoSize: 3 } ]
[2016-09-10 16:24:51.862] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 4 }
[2016-09-10 16:24:51.873] [ INFO] console - Executing (8647496e-7288-415f-8672-75a9f30cbf5c): START TRANSACTION;
[2016-09-10 16:24:51.875] [ INFO] console - Executing (8647496e-7288-415f-8672-75a9f30cbf5c): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 16:24:51.890] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 4);
[2016-09-10 16:24:51.895] [ INFO] console - Executing (8647496e-7288-415f-8672-75a9f30cbf5c): COMMIT;
[2016-09-10 16:24:51.897] [ INFO] console - [ 70,
  1618,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/4/',
      starshina: [Object],
      id: '4',
      email: 'unittest4@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '4',
      voiskoSize: 0,
      birth: 1983,
      path: '/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: null,
      attachments: [] } ] ]
[2016-09-10 16:24:51.910] [ INFO] console - Executing (c786f215-0916-4ba2-899c-09bc8ecbee54): START TRANSACTION;
[2016-09-10 16:24:51.911] [ INFO] console - Executing (c786f215-0916-4ba2-899c-09bc8ecbee54): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 16:24:51.916] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 219);
[2016-09-10 16:24:51.921] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 4);
[2016-09-10 16:24:51.926] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/' like k.path||k.id||'/%'
[2016-09-10 16:24:51.931] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 16:24:51.935] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"-2
                                where
                                    '/2/' like path||id||'/%'
[2016-09-10 16:24:51.950] [ INFO] console - Executing (default): UPDATE "Kopnik" SET "path"='/4/',"starshina_id"='4',"updated_at"='2016-09-10 11:24:51.945 +00:00' WHERE "id" = '219'
[2016-09-10 16:24:51.953] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"+2
                                where
                                    '/4/' like path||id||'/%'
[2016-09-10 16:24:51.958] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."starshina_id" = '219');
[2016-09-10 16:24:51.967] [ INFO] console - Executing (default): UPDATE "Kopnik" SET "path"='/4/219/',"updated_at"='2016-09-10 11:24:51.961 +00:00' WHERE "id" = '220'
[2016-09-10 16:24:51.970] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/4/' like k.path||k.id||'/%'
[2016-09-10 16:24:51.975] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('4')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 16:24:51.978] [ INFO] console - Executing (c786f215-0916-4ba2-899c-09bc8ecbee54): COMMIT;
[2016-09-10 16:24:51.979] [ INFO] console - [ 70, 1619, {}, [ undefined ] ]
[2016-09-10 16:24:51.981] [ INFO] console - [ 16,
  8164698390265856,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id2.voiskoChange',
  [],
  { voiskoSize: 1 } ]
[2016-09-10 16:24:51.985] [ INFO] console - [ 16,
  1860466173280256,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id4.voiskoChange',
  [],
  { voiskoSize: 2 } ]
[2016-09-10 16:24:56.287] [ INFO] console - [ 70, 1621, {}, [ undefined ] ]
[2016-09-10 16:24:56.294] [ INFO] console - Executing (default): delete from "Kopnik"
                where
                    name like '%temp'
[2016-09-10 16:24:56.296] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 2 }
[2016-09-10 16:24:56.300] [ INFO] console - Executing (ab62773e-428c-4d47-9a57-a5954c10fd2f): START TRANSACTION;
[2016-09-10 16:24:56.303] [ INFO] console - Executing (default): update "Kopnik"
                set 
                    "voiskoSize"= case when id=2 then 1 ELSE 0 END
                where
                    id>1 
                    and id<=5
[2016-09-10 16:24:56.304] [ INFO] console - Executing (ab62773e-428c-4d47-9a57-a5954c10fd2f): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 16:24:56.320] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 2);
[2016-09-10 16:24:56.326] [ INFO] console - Executing (ab62773e-428c-4d47-9a57-a5954c10fd2f): COMMIT;
[2016-09-10 16:24:56.327] [ INFO] console - [ 70,
  1622,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/2/',
      starshina: [Object],
      id: '2',
      email: 'unittest2@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '1',
      voiskoSize: 1,
      birth: 1983,
      path: '/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: null,
      attachments: [] } ] ]
[2016-09-10 16:24:56.342] [ INFO] console - Executing (b59df7f7-aeb8-4c56-a8ce-e2bd8f7f6aa8): START TRANSACTION;
[2016-09-10 16:24:56.344] [ INFO] console - Executing (b59df7f7-aeb8-4c56-a8ce-e2bd8f7f6aa8): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 16:24:56.350] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 2);
[2016-09-10 16:24:56.353] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"+1
                                where
                                    '/2/' like path||id||'/%'
[2016-09-10 16:24:56.367] [ INFO] console - Executing (default): INSERT INTO "Kopnik" ("id","name","surname","patronymic","voiskoSize","birth","path","created_at","updated_at","rodina_id","starshina_id") VALUES (DEFAULT,'temp','temp','temp',0,1900,'/2/','2016-09-10 11:24:56.346 +00:00','2016-09-10 11:24:56.346 +00:00',NULL,2) RETURNING *;
[2016-09-10 16:24:56.369] [ INFO] console - Executing (b59df7f7-aeb8-4c56-a8ce-e2bd8f7f6aa8): COMMIT;
[2016-09-10 16:24:56.371] [ INFO] console - [ 70, 1623, {}, [ '221' ] ]
[2016-09-10 16:24:56.376] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/' like k.path||k.id||'/%'
[2016-09-10 16:24:56.379] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Zemla', id: 2 }
[2016-09-10 16:24:56.383] [ INFO] console - Executing (23360cbf-cfdc-4132-9536-5ce9a0263916): START TRANSACTION;
[2016-09-10 16:24:56.384] [ INFO] console - Executing (6898de30-942e-4efa-bd52-762893966b86): START TRANSACTION;
[2016-09-10 16:24:56.386] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 16:24:56.392] [ INFO] console - Executing (23360cbf-cfdc-4132-9536-5ce9a0263916): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 16:24:56.393] [ INFO] console - Executing (6898de30-942e-4efa-bd52-762893966b86): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 16:24:56.393] [ INFO] console - [ 16,
  5750720718438400,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id2.voiskoChange',
  [],
  { voiskoSize: 2 } ]
[2016-09-10 16:24:56.425] [ INFO] console - Executing (default): SELECT "Zemla"."id", "Zemla"."path", "Zemla"."name", "Zemla"."intensity", "Zemla"."note", "Zemla"."created_at", "Zemla"."updated_at", "Zemla"."deleted_at", "Zemla"."parent_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Zemla" AS "Zemla" LEFT OUTER JOIN "File" AS "attachments" ON "Zemla"."id" = "attachments"."zemla_id" AND "attachments"."deleted_at" IS NULL WHERE ("Zemla"."deleted_at" IS NULL AND "Zemla"."id" = 2);
[2016-09-10 16:24:56.433] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 221);
[2016-09-10 16:24:56.437] [ INFO] console - Executing (23360cbf-cfdc-4132-9536-5ce9a0263916): COMMIT;
[2016-09-10 16:24:56.440] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"+1
                                where
                                    '/2/221/' like path||id||'/%'
[2016-09-10 16:24:56.441] [ INFO] console - [ 70,
  1624,
  {},
  [ { fullPath: 'null2/',
      id: '2',
      path: null,
      name: 'UnitTest2',
      intensity: 1000,
      note: 'unit test 1473505807871',
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Sat Sep 10 2016 16:10:08 GMT+0500 (YEKT),
      deleted_at: null,
      parent_id: '1',
      attachments: [] } ] ]
[2016-09-10 16:24:56.453] [ INFO] console - Executing (default): INSERT INTO "Kopnik" ("id","name","surname","patronymic","voiskoSize","birth","path","created_at","updated_at","rodina_id","starshina_id") VALUES (DEFAULT,'temp','temp','temp',0,1900,'/2/221/','2016-09-10 11:24:56.420 +00:00','2016-09-10 11:24:56.420 +00:00',NULL,221) RETURNING *;
[2016-09-10 16:24:56.458] [ INFO] console - Executing (6898de30-942e-4efa-bd52-762893966b86): COMMIT;
[2016-09-10 16:24:56.460] [ INFO] console - [ 70, 1625, {}, [ '222' ] ]
[2016-09-10 16:24:56.463] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/221/' like k.path||k.id||'/%'
[2016-09-10 16:24:56.471] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2', '221')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 16:24:56.475] [ INFO] console - [ 16,
  2371802588250112,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id221.voiskoChange',
  [],
  { voiskoSize: 1 } ]
[2016-09-10 16:24:56.485] [ INFO] console - [ 16,
  4072139697160192,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id2.voiskoChange',
  [],
  { voiskoSize: 3 } ]
[2016-09-10 16:25:58.766] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 4 }
[2016-09-10 16:25:58.776] [ INFO] console - Executing (c7455b8e-3deb-4aeb-839c-6e8d4a714e45): START TRANSACTION;
[2016-09-10 16:25:58.777] [ INFO] console - Executing (c7455b8e-3deb-4aeb-839c-6e8d4a714e45): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 16:25:58.795] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 4);
[2016-09-10 16:25:58.800] [ INFO] console - Executing (c7455b8e-3deb-4aeb-839c-6e8d4a714e45): COMMIT;
[2016-09-10 16:25:58.802] [ INFO] console - [ 70,
  1626,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/4/',
      starshina: [Object],
      id: '4',
      email: 'unittest4@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '4',
      voiskoSize: 0,
      birth: 1983,
      path: '/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: null,
      attachments: [] } ] ]
[2016-09-10 16:25:58.817] [ INFO] console - Executing (9e827f73-2db2-49ca-8c02-c3eb1fc3ad74): START TRANSACTION;
[2016-09-10 16:25:58.819] [ INFO] console - Executing (9e827f73-2db2-49ca-8c02-c3eb1fc3ad74): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 16:25:58.825] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 221);
[2016-09-10 16:25:58.830] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 4);
[2016-09-10 16:25:58.833] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/' like k.path||k.id||'/%'
[2016-09-10 16:25:58.838] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 16:25:58.841] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"-2
                                where
                                    '/2/' like path||id||'/%'
[2016-09-10 16:25:58.849] [ INFO] console - Executing (default): UPDATE "Kopnik" SET "path"='/4/',"starshina_id"='4',"updated_at"='2016-09-10 11:25:58.843 +00:00' WHERE "id" = '221'
[2016-09-10 16:25:58.851] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"+2
                                where
                                    '/4/' like path||id||'/%'
[2016-09-10 16:25:58.854] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."starshina_id" = '221');
[2016-09-10 16:25:58.870] [ INFO] console - Executing (default): UPDATE "Kopnik" SET "path"='/4/221/',"updated_at"='2016-09-10 11:25:58.858 +00:00' WHERE "id" = '222'
[2016-09-10 16:25:58.874] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/4/' like k.path||k.id||'/%'
[2016-09-10 16:25:58.879] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('4')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 16:25:58.882] [ INFO] console - Executing (9e827f73-2db2-49ca-8c02-c3eb1fc3ad74): COMMIT;
[2016-09-10 16:25:58.883] [ INFO] console - [ 70, 1627, {}, [ undefined ] ]
[2016-09-10 16:25:58.886] [ INFO] console - [ 16,
  6812878214529024,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id2.voiskoChange',
  [],
  { voiskoSize: 1 } ]
[2016-09-10 16:25:58.891] [ INFO] console - [ 16,
  183172899799040,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id4.voiskoChange',
  [],
  { voiskoSize: 2 } ]
[2016-09-10 16:26:03.301] [ INFO] console - [ 70, 1629, {}, [ undefined ] ]
[2016-09-10 16:26:03.311] [ INFO] console - Executing (default): delete from "Kopnik"
                where
                    name like '%temp'
[2016-09-10 16:26:03.311] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 2 }
[2016-09-10 16:26:03.316] [ INFO] console - Executing (5daeb822-304e-4c9b-a5fa-ef56aed53ce7): START TRANSACTION;
[2016-09-10 16:26:03.317] [ INFO] console - Executing (default): update "Kopnik"
                set 
                    "voiskoSize"= case when id=2 then 1 ELSE 0 END
                where
                    id>1 
                    and id<=5
[2016-09-10 16:26:03.318] [ INFO] console - Executing (5daeb822-304e-4c9b-a5fa-ef56aed53ce7): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 16:26:03.327] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 2);
[2016-09-10 16:26:03.333] [ INFO] console - Executing (5daeb822-304e-4c9b-a5fa-ef56aed53ce7): COMMIT;
[2016-09-10 16:26:03.334] [ INFO] console - [ 70,
  1630,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/2/',
      starshina: [Object],
      id: '2',
      email: 'unittest2@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '1',
      voiskoSize: 1,
      birth: 1983,
      path: '/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: null,
      attachments: [] } ] ]
[2016-09-10 16:26:03.351] [ INFO] console - Executing (74859c8f-6743-4110-b864-44dd12bebd81): START TRANSACTION;
[2016-09-10 16:26:03.352] [ INFO] console - Executing (74859c8f-6743-4110-b864-44dd12bebd81): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 16:26:03.363] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 2);
[2016-09-10 16:26:03.366] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"+1
                                where
                                    '/2/' like path||id||'/%'
[2016-09-10 16:26:03.374] [ INFO] console - Executing (default): INSERT INTO "Kopnik" ("id","name","surname","patronymic","voiskoSize","birth","path","created_at","updated_at","rodina_id","starshina_id") VALUES (DEFAULT,'temp','temp','temp',0,1900,'/2/','2016-09-10 11:26:03.354 +00:00','2016-09-10 11:26:03.354 +00:00',NULL,2) RETURNING *;
[2016-09-10 16:26:03.378] [ INFO] console - Executing (74859c8f-6743-4110-b864-44dd12bebd81): COMMIT;
[2016-09-10 16:26:03.380] [ INFO] console - [ 70, 1631, {}, [ '223' ] ]
[2016-09-10 16:26:03.383] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/' like k.path||k.id||'/%'
[2016-09-10 16:26:03.390] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 16:26:03.392] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Zemla', id: 2 }
[2016-09-10 16:26:03.400] [ INFO] console - Executing (2bcadbc7-bc89-4a82-aff3-927c5a45d8d9): START TRANSACTION;
[2016-09-10 16:26:03.407] [ INFO] console - Executing (35362be7-003f-4ffd-864d-f6d3cf627710): START TRANSACTION;
[2016-09-10 16:26:03.408] [ INFO] console - [ 16,
  3325163133206528,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id2.voiskoChange',
  [],
  { voiskoSize: 2 } ]
[2016-09-10 16:26:03.421] [ INFO] console - Executing (35362be7-003f-4ffd-864d-f6d3cf627710): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 16:26:03.421] [ INFO] console - Executing (2bcadbc7-bc89-4a82-aff3-927c5a45d8d9): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 16:26:03.443] [ INFO] console - Executing (default): SELECT "Zemla"."id", "Zemla"."path", "Zemla"."name", "Zemla"."intensity", "Zemla"."note", "Zemla"."created_at", "Zemla"."updated_at", "Zemla"."deleted_at", "Zemla"."parent_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Zemla" AS "Zemla" LEFT OUTER JOIN "File" AS "attachments" ON "Zemla"."id" = "attachments"."zemla_id" AND "attachments"."deleted_at" IS NULL WHERE ("Zemla"."deleted_at" IS NULL AND "Zemla"."id" = 2);
[2016-09-10 16:26:03.469] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 223);
[2016-09-10 16:26:03.486] [ INFO] console - Executing (2bcadbc7-bc89-4a82-aff3-927c5a45d8d9): COMMIT;
[2016-09-10 16:26:03.490] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"+1
                                where
                                    '/2/223/' like path||id||'/%'
[2016-09-10 16:26:03.491] [ INFO] console - [ 70,
  1632,
  {},
  [ { fullPath: 'null2/',
      id: '2',
      path: null,
      name: 'UnitTest2',
      intensity: 1000,
      note: 'unit test 1473505807871',
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Sat Sep 10 2016 16:10:08 GMT+0500 (YEKT),
      deleted_at: null,
      parent_id: '1',
      attachments: [] } ] ]
[2016-09-10 16:26:03.526] [ INFO] console - Executing (default): INSERT INTO "Kopnik" ("id","name","surname","patronymic","voiskoSize","birth","path","created_at","updated_at","rodina_id","starshina_id") VALUES (DEFAULT,'temp','temp','temp',0,1900,'/2/223/','2016-09-10 11:26:03.424 +00:00','2016-09-10 11:26:03.424 +00:00',NULL,223) RETURNING *;
[2016-09-10 16:26:03.534] [ INFO] console - Executing (35362be7-003f-4ffd-864d-f6d3cf627710): COMMIT;
[2016-09-10 16:26:03.535] [ INFO] console - [ 70, 1633, {}, [ '224' ] ]
[2016-09-10 16:26:03.539] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/223/' like k.path||k.id||'/%'
[2016-09-10 16:26:03.552] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2', '223')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 16:26:03.559] [ INFO] console - [ 16,
  6925086330191872,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id223.voiskoChange',
  [],
  { voiskoSize: 1 } ]
[2016-09-10 16:26:03.566] [ INFO] console - [ 16,
  729705900670976,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id2.voiskoChange',
  [],
  { voiskoSize: 3 } ]
[2016-09-10 16:26:33.606] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 4 }
[2016-09-10 16:26:33.617] [ INFO] console - Executing (69ed88b9-6a3f-48e8-932e-573e89158a58): START TRANSACTION;
[2016-09-10 16:26:33.619] [ INFO] console - Executing (69ed88b9-6a3f-48e8-932e-573e89158a58): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 16:26:33.633] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 4);
[2016-09-10 16:26:33.640] [ INFO] console - Executing (69ed88b9-6a3f-48e8-932e-573e89158a58): COMMIT;
[2016-09-10 16:26:33.641] [ INFO] console - [ 70,
  1634,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/4/',
      starshina: [Object],
      id: '4',
      email: 'unittest4@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '4',
      voiskoSize: 0,
      birth: 1983,
      path: '/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: null,
      attachments: [] } ] ]
[2016-09-10 16:26:33.655] [ INFO] console - Executing (85000899-3270-4868-9066-340e7fb322a5): START TRANSACTION;
[2016-09-10 16:26:33.657] [ INFO] console - Executing (85000899-3270-4868-9066-340e7fb322a5): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 16:26:33.663] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 223);
[2016-09-10 16:26:33.668] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 4);
[2016-09-10 16:26:33.671] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/' like k.path||k.id||'/%'
[2016-09-10 16:26:33.676] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 16:26:33.679] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"-2
                                where
                                    '/2/' like path||id||'/%'
[2016-09-10 16:26:33.687] [ INFO] console - Executing (default): UPDATE "Kopnik" SET "path"='/4/',"starshina_id"='4',"updated_at"='2016-09-10 11:26:33.681 +00:00' WHERE "id" = '223'
[2016-09-10 16:26:33.688] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"+2
                                where
                                    '/4/' like path||id||'/%'
[2016-09-10 16:26:33.692] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."starshina_id" = '223');
[2016-09-10 16:26:33.701] [ INFO] console - Executing (default): UPDATE "Kopnik" SET "path"='/4/223/',"updated_at"='2016-09-10 11:26:33.694 +00:00' WHERE "id" = '224'
[2016-09-10 16:26:33.703] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/4/' like k.path||k.id||'/%'
[2016-09-10 16:26:33.712] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('4')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 16:26:33.716] [ INFO] console - Executing (85000899-3270-4868-9066-340e7fb322a5): COMMIT;
[2016-09-10 16:26:33.717] [ INFO] console - [ 70, 1635, {}, [ undefined ] ]
[2016-09-10 16:26:33.720] [ INFO] console - [ 16,
  3506206532435968,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id2.voiskoChange',
  [],
  { voiskoSize: 1 } ]
[2016-09-10 16:26:33.724] [ INFO] console - [ 16,
  5940479032033280,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id4.voiskoChange',
  [],
  { voiskoSize: 2 } ]
[2016-09-10 16:26:38.347] [ INFO] console - [ 70, 1637, {}, [ undefined ] ]
[2016-09-10 16:26:38.350] [ INFO] console - Executing (default): delete from "Kopnik"
                where
                    name like '%temp'
[2016-09-10 16:26:38.356] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 2 }
[2016-09-10 16:26:38.365] [ INFO] console - Executing (38c64878-b42c-4ce0-adb2-c86c1da37b78): START TRANSACTION;
[2016-09-10 16:26:38.367] [ INFO] console - Executing (38c64878-b42c-4ce0-adb2-c86c1da37b78): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 16:26:38.371] [ INFO] console - Executing (default): update "Kopnik"
                set 
                    "voiskoSize"= case when id=2 then 1 ELSE 0 END
                where
                    id>1 
                    and id<=5
[2016-09-10 16:26:38.383] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 2);
[2016-09-10 16:26:38.391] [ INFO] console - Executing (38c64878-b42c-4ce0-adb2-c86c1da37b78): COMMIT;
[2016-09-10 16:26:38.392] [ INFO] console - [ 70,
  1638,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/2/',
      starshina: [Object],
      id: '2',
      email: 'unittest2@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '1',
      voiskoSize: 1,
      birth: 1983,
      path: '/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: null,
      attachments: [] } ] ]
[2016-09-10 16:26:38.412] [ INFO] console - Executing (0f22b090-2cd3-4d53-ab23-2f42f853e6ee): START TRANSACTION;
[2016-09-10 16:26:38.414] [ INFO] console - Executing (0f22b090-2cd3-4d53-ab23-2f42f853e6ee): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 16:26:38.429] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 2);
[2016-09-10 16:26:38.434] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"+1
                                where
                                    '/2/' like path||id||'/%'
[2016-09-10 16:26:38.440] [ INFO] console - Executing (default): INSERT INTO "Kopnik" ("id","name","surname","patronymic","voiskoSize","birth","path","created_at","updated_at","rodina_id","starshina_id") VALUES (DEFAULT,'temp','temp','temp',0,1900,'/2/','2016-09-10 11:26:38.415 +00:00','2016-09-10 11:26:38.415 +00:00',NULL,2) RETURNING *;
[2016-09-10 16:26:38.444] [ INFO] console - Executing (0f22b090-2cd3-4d53-ab23-2f42f853e6ee): COMMIT;
[2016-09-10 16:26:38.445] [ INFO] console - [ 70, 1639, {}, [ '225' ] ]
[2016-09-10 16:26:38.450] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/' like k.path||k.id||'/%'
[2016-09-10 16:26:38.459] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Zemla', id: 2 }
[2016-09-10 16:26:38.465] [ INFO] console - Executing (619c8ebf-6557-4711-a7c9-6d0614630a47): START TRANSACTION;
[2016-09-10 16:26:38.467] [ INFO] console - Executing (46768484-7003-43d4-b133-a9267a91c3b3): START TRANSACTION;
[2016-09-10 16:26:38.470] [ INFO] console - Executing (46768484-7003-43d4-b133-a9267a91c3b3): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 16:26:38.470] [ INFO] console - Executing (619c8ebf-6557-4711-a7c9-6d0614630a47): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 16:26:38.499] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 16:26:38.505] [ INFO] console - Executing (default): SELECT "Zemla"."id", "Zemla"."path", "Zemla"."name", "Zemla"."intensity", "Zemla"."note", "Zemla"."created_at", "Zemla"."updated_at", "Zemla"."deleted_at", "Zemla"."parent_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Zemla" AS "Zemla" LEFT OUTER JOIN "File" AS "attachments" ON "Zemla"."id" = "attachments"."zemla_id" AND "attachments"."deleted_at" IS NULL WHERE ("Zemla"."deleted_at" IS NULL AND "Zemla"."id" = 2);
[2016-09-10 16:26:38.505] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 225);
[2016-09-10 16:26:38.506] [ INFO] console - [ 16,
  2414019925245952,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id2.voiskoChange',
  [],
  { voiskoSize: 2 } ]
[2016-09-10 16:26:38.524] [ INFO] console - Executing (619c8ebf-6557-4711-a7c9-6d0614630a47): COMMIT;
[2016-09-10 16:26:38.530] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"+1
                                where
                                    '/2/225/' like path||id||'/%'
[2016-09-10 16:26:38.536] [ INFO] console - [ 70,
  1640,
  {},
  [ { fullPath: 'null2/',
      id: '2',
      path: null,
      name: 'UnitTest2',
      intensity: 1000,
      note: 'unit test 1473505807871',
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Sat Sep 10 2016 16:10:08 GMT+0500 (YEKT),
      deleted_at: null,
      parent_id: '1',
      attachments: [] } ] ]
[2016-09-10 16:26:38.548] [ INFO] console - Executing (default): INSERT INTO "Kopnik" ("id","name","surname","patronymic","voiskoSize","birth","path","created_at","updated_at","rodina_id","starshina_id") VALUES (DEFAULT,'temp','temp','temp',0,1900,'/2/225/','2016-09-10 11:26:38.476 +00:00','2016-09-10 11:26:38.476 +00:00',NULL,225) RETURNING *;
[2016-09-10 16:26:38.554] [ INFO] console - Executing (46768484-7003-43d4-b133-a9267a91c3b3): COMMIT;
[2016-09-10 16:26:38.558] [ INFO] console - [ 70, 1641, {}, [ '226' ] ]
[2016-09-10 16:26:38.565] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/225/' like k.path||k.id||'/%'
[2016-09-10 16:26:38.574] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2', '225')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 16:26:38.580] [ INFO] console - [ 16,
  6950808719458304,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id225.voiskoChange',
  [],
  { voiskoSize: 1 } ]
[2016-09-10 16:26:38.589] [ INFO] console - [ 16,
  1580235510251520,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id2.voiskoChange',
  [],
  { voiskoSize: 3 } ]
[2016-09-10 16:26:41.677] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 1 }
[2016-09-10 16:26:41.680] [ INFO] console - Executing (c74a5c0c-1bb9-447e-9879-08c3a9ef3688): START TRANSACTION;
[2016-09-10 16:26:41.681] [ INFO] console - Executing (c74a5c0c-1bb9-447e-9879-08c3a9ef3688): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 16:26:41.701] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 1);
[2016-09-10 16:26:41.715] [ INFO] console - Executing (c74a5c0c-1bb9-447e-9879-08c3a9ef3688): COMMIT;
[2016-09-10 16:26:41.717] [ INFO] console - [ 70,
  1642,
  {},
  [ { fullName: 'Алексей Баранов',
      fullPath: '/1/',
      starshina: [Object],
      id: '1',
      email: 'alexey_baranov@inbox.ru',
      name: 'Алексей',
      surname: 'Баранов',
      patronymic: 'Юрьевич',
      voiskoSize: 5,
      birth: 1983,
      path: '/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '8',
      starshina_id: null,
      attachments: [] } ] ]
[2016-09-10 16:27:53.936] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 1 }
[2016-09-10 16:27:53.948] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 4 }
[2016-09-10 16:27:53.967] [ INFO] console - Executing (06429543-8e31-4acd-9b7f-eafcdcd7f39a): START TRANSACTION;
[2016-09-10 16:27:53.969] [ INFO] console - Executing (06429543-8e31-4acd-9b7f-eafcdcd7f39a): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 16:27:53.972] [ INFO] console - Executing (2330edfd-b153-451d-be98-600a7875afd7): START TRANSACTION;
[2016-09-10 16:27:53.974] [ INFO] console - Executing (2330edfd-b153-451d-be98-600a7875afd7): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 16:27:54.026] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 1);
[2016-09-10 16:27:54.040] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 4);
[2016-09-10 16:27:54.042] [ INFO] console - Executing (06429543-8e31-4acd-9b7f-eafcdcd7f39a): COMMIT;
[2016-09-10 16:27:54.047] [ INFO] console - [ 70,
  1643,
  {},
  [ { fullName: 'Алексей Баранов',
      fullPath: '/1/',
      starshina: [Object],
      id: '1',
      email: 'alexey_baranov@inbox.ru',
      name: 'Алексей',
      surname: 'Баранов',
      patronymic: 'Юрьевич',
      voiskoSize: 5,
      birth: 1983,
      path: '/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '8',
      starshina_id: null,
      attachments: [] } ] ]
[2016-09-10 16:27:54.058] [ INFO] console - Executing (2330edfd-b153-451d-be98-600a7875afd7): COMMIT;
[2016-09-10 16:27:54.060] [ INFO] console - [ 70,
  1644,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/4/',
      starshina: [Object],
      id: '4',
      email: 'unittest4@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '4',
      voiskoSize: 0,
      birth: 1983,
      path: '/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: null,
      attachments: [] } ] ]
[2016-09-10 16:27:57.322] [ INFO] console - [ 70, 1646, {}, [ undefined ] ]
[2016-09-10 16:27:57.324] [ INFO] console - Executing (default): delete from "Kopnik"
                where
                    name like '%temp'
[2016-09-10 16:27:57.333] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 2 }
[2016-09-10 16:27:57.339] [ INFO] console - Executing (b201f741-9d65-46da-a194-8b7190314ceb): START TRANSACTION;
[2016-09-10 16:27:57.341] [ INFO] console - Executing (b201f741-9d65-46da-a194-8b7190314ceb): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 16:27:57.343] [ INFO] console - Executing (default): update "Kopnik"
                set 
                    "voiskoSize"= case when id=2 then 1 ELSE 0 END
                where
                    id>1 
                    and id<=5
[2016-09-10 16:27:57.353] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 2);
[2016-09-10 16:27:57.359] [ INFO] console - Executing (b201f741-9d65-46da-a194-8b7190314ceb): COMMIT;
[2016-09-10 16:27:57.361] [ INFO] console - [ 70,
  1647,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/2/',
      starshina: [Object],
      id: '2',
      email: 'unittest2@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '1',
      voiskoSize: 1,
      birth: 1983,
      path: '/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: null,
      attachments: [] } ] ]
[2016-09-10 16:27:57.386] [ INFO] console - Executing (3b68aa0b-d436-41f1-875f-05950c745bbe): START TRANSACTION;
[2016-09-10 16:27:57.389] [ INFO] console - Executing (3b68aa0b-d436-41f1-875f-05950c745bbe): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 16:27:57.399] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 2);
[2016-09-10 16:27:57.403] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"+1
                                where
                                    '/2/' like path||id||'/%'
[2016-09-10 16:27:57.410] [ INFO] console - Executing (default): INSERT INTO "Kopnik" ("id","name","surname","patronymic","voiskoSize","birth","path","created_at","updated_at","rodina_id","starshina_id") VALUES (DEFAULT,'temp','temp','temp',0,1900,'/2/','2016-09-10 11:27:57.393 +00:00','2016-09-10 11:27:57.393 +00:00',NULL,2) RETURNING *;
[2016-09-10 16:27:57.413] [ INFO] console - Executing (3b68aa0b-d436-41f1-875f-05950c745bbe): COMMIT;
[2016-09-10 16:27:57.416] [ INFO] console - [ 70, 1648, {}, [ '227' ] ]
[2016-09-10 16:27:57.419] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/' like k.path||k.id||'/%'
[2016-09-10 16:27:57.429] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Zemla', id: 2 }
[2016-09-10 16:27:57.434] [ INFO] console - Executing (6f068149-3430-46f4-8de4-f9b463006d10): START TRANSACTION;
[2016-09-10 16:27:57.435] [ INFO] console - Executing (faf29dc6-4aac-426e-8a4b-0099277e7ef5): START TRANSACTION;
[2016-09-10 16:27:57.439] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 16:27:57.442] [ INFO] console - Executing (6f068149-3430-46f4-8de4-f9b463006d10): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 16:27:57.443] [ INFO] console - Executing (faf29dc6-4aac-426e-8a4b-0099277e7ef5): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 16:27:57.444] [ INFO] console - [ 16,
  7120756366376960,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id2.voiskoChange',
  [],
  { voiskoSize: 2 } ]
[2016-09-10 16:27:57.459] [ INFO] console - Executing (default): SELECT "Zemla"."id", "Zemla"."path", "Zemla"."name", "Zemla"."intensity", "Zemla"."note", "Zemla"."created_at", "Zemla"."updated_at", "Zemla"."deleted_at", "Zemla"."parent_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Zemla" AS "Zemla" LEFT OUTER JOIN "File" AS "attachments" ON "Zemla"."id" = "attachments"."zemla_id" AND "attachments"."deleted_at" IS NULL WHERE ("Zemla"."deleted_at" IS NULL AND "Zemla"."id" = 2);
[2016-09-10 16:27:57.465] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 227);
[2016-09-10 16:27:57.476] [ INFO] console - Executing (6f068149-3430-46f4-8de4-f9b463006d10): COMMIT;
[2016-09-10 16:27:57.477] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"+1
                                where
                                    '/2/227/' like path||id||'/%'
[2016-09-10 16:27:57.483] [ INFO] console - [ 70,
  1649,
  {},
  [ { fullPath: 'null2/',
      id: '2',
      path: null,
      name: 'UnitTest2',
      intensity: 1000,
      note: 'unit test 1473505807871',
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Sat Sep 10 2016 16:10:08 GMT+0500 (YEKT),
      deleted_at: null,
      parent_id: '1',
      attachments: [] } ] ]
[2016-09-10 16:27:57.496] [ INFO] console - Executing (default): INSERT INTO "Kopnik" ("id","name","surname","patronymic","voiskoSize","birth","path","created_at","updated_at","rodina_id","starshina_id") VALUES (DEFAULT,'temp','temp','temp',0,1900,'/2/227/','2016-09-10 11:27:57.451 +00:00','2016-09-10 11:27:57.451 +00:00',NULL,227) RETURNING *;
[2016-09-10 16:27:57.502] [ INFO] console - Executing (faf29dc6-4aac-426e-8a4b-0099277e7ef5): COMMIT;
[2016-09-10 16:27:57.504] [ INFO] console - [ 70, 1650, {}, [ '228' ] ]
[2016-09-10 16:27:57.508] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/227/' like k.path||k.id||'/%'
[2016-09-10 16:27:57.515] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2', '227')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 16:27:57.519] [ INFO] console - [ 16,
  8477724937027584,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id227.voiskoChange',
  [],
  { voiskoSize: 1 } ]
[2016-09-10 16:27:57.530] [ INFO] console - [ 16,
  3163720360394752,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id2.voiskoChange',
  [],
  { voiskoSize: 3 } ]
[2016-09-10 16:29:11.712] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 1 }
[2016-09-10 16:29:11.724] [ INFO] console - Executing (0b33c2bc-1634-4bfd-befb-5dd16c79dae6): START TRANSACTION;
[2016-09-10 16:29:11.725] [ INFO] console - Executing (0b33c2bc-1634-4bfd-befb-5dd16c79dae6): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 16:29:11.740] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 1);
[2016-09-10 16:29:11.744] [ INFO] console - Executing (0b33c2bc-1634-4bfd-befb-5dd16c79dae6): COMMIT;
[2016-09-10 16:29:11.746] [ INFO] console - [ 70,
  1651,
  {},
  [ { fullName: 'Алексей Баранов',
      fullPath: '/1/',
      starshina: [Object],
      id: '1',
      email: 'alexey_baranov@inbox.ru',
      name: 'Алексей',
      surname: 'Баранов',
      patronymic: 'Юрьевич',
      voiskoSize: 5,
      birth: 1983,
      path: '/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '8',
      starshina_id: null,
      attachments: [] } ] ]
[2016-09-10 16:31:10.191] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 1 }
[2016-09-10 16:31:10.208] [ INFO] console - Executing (8c49f7e5-7956-4be7-bb14-ba055b724c0f): START TRANSACTION;
[2016-09-10 16:31:10.212] [ INFO] console - Executing (8c49f7e5-7956-4be7-bb14-ba055b724c0f): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 16:31:10.234] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 1);
[2016-09-10 16:31:10.242] [ INFO] console - Executing (8c49f7e5-7956-4be7-bb14-ba055b724c0f): COMMIT;
[2016-09-10 16:31:10.245] [ INFO] console - [ 70,
  1652,
  {},
  [ { fullName: 'Алексей Баранов',
      fullPath: '/1/',
      starshina: [Object],
      id: '1',
      email: 'alexey_baranov@inbox.ru',
      name: 'Алексей',
      surname: 'Баранов',
      patronymic: 'Юрьевич',
      voiskoSize: 5,
      birth: 1983,
      path: '/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '8',
      starshina_id: null,
      attachments: [] } ] ]
[2016-09-10 16:31:14.169] [ INFO] console - [ 70, 1654, {}, [ undefined ] ]
[2016-09-10 16:31:14.174] [ INFO] console - Executing (default): delete from "Kopnik"
                where
                    name like '%temp'
[2016-09-10 16:31:14.175] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 2 }
[2016-09-10 16:31:14.178] [ INFO] console - Executing (708a0f51-147d-42f0-888c-d2d7c5c8d876): START TRANSACTION;
[2016-09-10 16:31:14.180] [ INFO] console - Executing (708a0f51-147d-42f0-888c-d2d7c5c8d876): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 16:31:14.187] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 2);
[2016-09-10 16:31:14.191] [ INFO] console - Executing (default): update "Kopnik"
                set 
                    "voiskoSize"= case when id=2 then 1 ELSE 0 END
                where
                    id>1 
                    and id<=5
[2016-09-10 16:31:14.196] [ INFO] console - Executing (708a0f51-147d-42f0-888c-d2d7c5c8d876): COMMIT;
[2016-09-10 16:31:14.201] [ INFO] console - [ 70,
  1655,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/2/',
      starshina: [Object],
      id: '2',
      email: 'unittest2@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '1',
      voiskoSize: 3,
      birth: 1983,
      path: '/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: null,
      attachments: [] } ] ]
[2016-09-10 16:31:14.215] [ INFO] console - Executing (b57f26e2-8548-4d7f-a0a9-0ee8541ff528): START TRANSACTION;
[2016-09-10 16:31:14.216] [ INFO] console - Executing (b57f26e2-8548-4d7f-a0a9-0ee8541ff528): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 16:31:14.224] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 2);
[2016-09-10 16:31:14.228] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"+1
                                where
                                    '/2/' like path||id||'/%'
[2016-09-10 16:31:14.243] [ INFO] console - Executing (default): INSERT INTO "Kopnik" ("id","name","surname","patronymic","voiskoSize","birth","path","created_at","updated_at","rodina_id","starshina_id") VALUES (DEFAULT,'temp','temp','temp',0,1900,'/2/','2016-09-10 11:31:14.217 +00:00','2016-09-10 11:31:14.217 +00:00',NULL,2) RETURNING *;
[2016-09-10 16:31:14.252] [ INFO] console - Executing (b57f26e2-8548-4d7f-a0a9-0ee8541ff528): COMMIT;
[2016-09-10 16:31:14.253] [ INFO] console - [ 70, 1656, {}, [ '229' ] ]
[2016-09-10 16:31:14.258] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/' like k.path||k.id||'/%'
[2016-09-10 16:31:14.262] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Zemla', id: 2 }
[2016-09-10 16:31:14.268] [ INFO] console - Executing (9a5e75c5-49b4-44a3-bb7c-4686c1abf27f): START TRANSACTION;
[2016-09-10 16:31:14.269] [ INFO] console - Executing (49cd6ba6-053d-4454-a02f-f91caf9245bb): START TRANSACTION;
[2016-09-10 16:31:14.272] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 16:31:14.275] [ INFO] console - Executing (9a5e75c5-49b4-44a3-bb7c-4686c1abf27f): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 16:31:14.276] [ INFO] console - Executing (49cd6ba6-053d-4454-a02f-f91caf9245bb): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 16:31:14.277] [ INFO] console - [ 16,
  402944937689088,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id2.voiskoChange',
  [],
  { voiskoSize: 2 } ]
[2016-09-10 16:31:14.294] [ INFO] console - Executing (default): SELECT "Zemla"."id", "Zemla"."path", "Zemla"."name", "Zemla"."intensity", "Zemla"."note", "Zemla"."created_at", "Zemla"."updated_at", "Zemla"."deleted_at", "Zemla"."parent_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Zemla" AS "Zemla" LEFT OUTER JOIN "File" AS "attachments" ON "Zemla"."id" = "attachments"."zemla_id" AND "attachments"."deleted_at" IS NULL WHERE ("Zemla"."deleted_at" IS NULL AND "Zemla"."id" = 2);
[2016-09-10 16:31:14.304] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 229);
[2016-09-10 16:31:14.312] [ INFO] console - Executing (9a5e75c5-49b4-44a3-bb7c-4686c1abf27f): COMMIT;
[2016-09-10 16:31:14.313] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"+1
                                where
                                    '/2/229/' like path||id||'/%'
[2016-09-10 16:31:14.315] [ INFO] console - [ 70,
  1657,
  {},
  [ { fullPath: 'null2/',
      id: '2',
      path: null,
      name: 'UnitTest2',
      intensity: 1000,
      note: 'unit test 1473505807871',
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Sat Sep 10 2016 16:10:08 GMT+0500 (YEKT),
      deleted_at: null,
      parent_id: '1',
      attachments: [] } ] ]
[2016-09-10 16:31:14.327] [ INFO] console - Executing (default): INSERT INTO "Kopnik" ("id","name","surname","patronymic","voiskoSize","birth","path","created_at","updated_at","rodina_id","starshina_id") VALUES (DEFAULT,'temp','temp','temp',0,1900,'/2/229/','2016-09-10 11:31:14.283 +00:00','2016-09-10 11:31:14.283 +00:00',NULL,229) RETURNING *;
[2016-09-10 16:31:14.329] [ INFO] console - Executing (49cd6ba6-053d-4454-a02f-f91caf9245bb): COMMIT;
[2016-09-10 16:31:14.331] [ INFO] console - [ 70, 1658, {}, [ '230' ] ]
[2016-09-10 16:31:14.335] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/229/' like k.path||k.id||'/%'
[2016-09-10 16:31:14.343] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2', '229')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 16:31:14.348] [ INFO] console - [ 16,
  7345455360901120,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id229.voiskoChange',
  [],
  { voiskoSize: 1 } ]
[2016-09-10 16:31:14.353] [ INFO] console - [ 16,
  7174168648876032,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id2.voiskoChange',
  [],
  { voiskoSize: 3 } ]
[2016-09-10 16:31:34.501] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 1 }
[2016-09-10 16:31:34.511] [ INFO] console - Executing (53d72898-00c8-49c9-984f-d602cd8aecc5): START TRANSACTION;
[2016-09-10 16:31:34.512] [ INFO] console - Executing (53d72898-00c8-49c9-984f-d602cd8aecc5): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 16:31:34.538] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 1);
[2016-09-10 16:31:34.553] [ INFO] console - Executing (53d72898-00c8-49c9-984f-d602cd8aecc5): COMMIT;
[2016-09-10 16:31:34.557] [ INFO] console - [ 70,
  1659,
  {},
  [ { fullName: 'Алексей Баранов',
      fullPath: '/1/',
      starshina: [Object],
      id: '1',
      email: 'alexey_baranov@inbox.ru',
      name: 'Алексей',
      surname: 'Баранов',
      patronymic: 'Юрьевич',
      voiskoSize: 5,
      birth: 1983,
      path: '/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '8',
      starshina_id: null,
      attachments: [] } ] ]
[2016-09-10 16:32:35.742] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 1 }
[2016-09-10 16:32:35.750] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 4 }
[2016-09-10 16:32:35.758] [ INFO] console - Executing (4fdd96cf-44d9-4b0b-82ec-1f2e47f07275): START TRANSACTION;
[2016-09-10 16:32:35.763] [ INFO] console - Executing (4fdd96cf-44d9-4b0b-82ec-1f2e47f07275): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 16:32:35.798] [ INFO] console - Executing (8069268a-ccba-4c27-ac6d-86ba4df3d1e0): START TRANSACTION;
[2016-09-10 16:32:35.803] [ INFO] console - Executing (8069268a-ccba-4c27-ac6d-86ba4df3d1e0): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 16:32:35.812] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 1);
[2016-09-10 16:32:35.827] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 4);
[2016-09-10 16:32:35.834] [ INFO] console - Executing (4fdd96cf-44d9-4b0b-82ec-1f2e47f07275): COMMIT;
[2016-09-10 16:32:35.867] [ INFO] console - Executing (8069268a-ccba-4c27-ac6d-86ba4df3d1e0): COMMIT;
[2016-09-10 16:32:35.875] [ INFO] console - [ 70,
  1660,
  {},
  [ { fullName: 'Алексей Баранов',
      fullPath: '/1/',
      starshina: [Object],
      id: '1',
      email: 'alexey_baranov@inbox.ru',
      name: 'Алексей',
      surname: 'Баранов',
      patronymic: 'Юрьевич',
      voiskoSize: 5,
      birth: 1983,
      path: '/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '8',
      starshina_id: null,
      attachments: [] } ] ]
[2016-09-10 16:32:35.911] [ INFO] console - [ 70,
  1661,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/4/',
      starshina: [Object],
      id: '4',
      email: 'unittest4@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '4',
      voiskoSize: 0,
      birth: 1983,
      path: '/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: null,
      attachments: [] } ] ]
[2016-09-10 16:32:39.783] [ INFO] console - [ 70, 1663, {}, [ undefined ] ]
[2016-09-10 16:32:39.785] [ INFO] console - Executing (default): delete from "Kopnik"
                where
                    name like '%temp'
[2016-09-10 16:32:39.792] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 2 }
[2016-09-10 16:32:39.795] [ INFO] console - Executing (default): update "Kopnik"
                set 
                    "voiskoSize"= case when id=2 then 1 ELSE 0 END
                where
                    id>1 
                    and id<=5
[2016-09-10 16:32:39.796] [ INFO] console - Executing (bab0dbdc-d50a-4762-9e7f-e77df3519919): START TRANSACTION;
[2016-09-10 16:32:39.798] [ INFO] console - Executing (bab0dbdc-d50a-4762-9e7f-e77df3519919): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 16:32:39.805] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 2);
[2016-09-10 16:32:39.812] [ INFO] console - Executing (bab0dbdc-d50a-4762-9e7f-e77df3519919): COMMIT;
[2016-09-10 16:32:39.813] [ INFO] console - [ 70,
  1664,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/2/',
      starshina: [Object],
      id: '2',
      email: 'unittest2@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '1',
      voiskoSize: 1,
      birth: 1983,
      path: '/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: null,
      attachments: [] } ] ]
[2016-09-10 16:32:39.829] [ INFO] console - Executing (8c7af51d-0a49-4acc-9dc8-369d64105b8a): START TRANSACTION;
[2016-09-10 16:32:39.831] [ INFO] console - Executing (8c7af51d-0a49-4acc-9dc8-369d64105b8a): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 16:32:39.836] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 2);
[2016-09-10 16:32:39.840] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"+1
                                where
                                    '/2/' like path||id||'/%'
[2016-09-10 16:32:39.845] [ INFO] console - Executing (default): INSERT INTO "Kopnik" ("id","name","surname","patronymic","voiskoSize","birth","path","created_at","updated_at","rodina_id","starshina_id") VALUES (DEFAULT,'temp','temp','temp',0,1900,'/2/','2016-09-10 11:32:39.832 +00:00','2016-09-10 11:32:39.832 +00:00',NULL,2) RETURNING *;
[2016-09-10 16:32:39.849] [ INFO] console - Executing (8c7af51d-0a49-4acc-9dc8-369d64105b8a): COMMIT;
[2016-09-10 16:32:39.851] [ INFO] console - [ 70, 1665, {}, [ '231' ] ]
[2016-09-10 16:32:39.854] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/' like k.path||k.id||'/%'
[2016-09-10 16:32:39.865] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Zemla', id: 2 }
[2016-09-10 16:32:39.869] [ INFO] console - Executing (89ce3a44-9928-4467-a2cf-b1d04a78c515): START TRANSACTION;
[2016-09-10 16:32:39.872] [ INFO] console - Executing (fa4bd763-ae47-46a5-a075-0b6b75530d5e): START TRANSACTION;
[2016-09-10 16:32:39.875] [ INFO] console - Executing (89ce3a44-9928-4467-a2cf-b1d04a78c515): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 16:32:39.876] [ INFO] console - Executing (fa4bd763-ae47-46a5-a075-0b6b75530d5e): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 16:32:39.879] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 16:32:39.894] [ INFO] console - Executing (default): SELECT "Zemla"."id", "Zemla"."path", "Zemla"."name", "Zemla"."intensity", "Zemla"."note", "Zemla"."created_at", "Zemla"."updated_at", "Zemla"."deleted_at", "Zemla"."parent_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Zemla" AS "Zemla" LEFT OUTER JOIN "File" AS "attachments" ON "Zemla"."id" = "attachments"."zemla_id" AND "attachments"."deleted_at" IS NULL WHERE ("Zemla"."deleted_at" IS NULL AND "Zemla"."id" = 2);
[2016-09-10 16:32:39.897] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 231);
[2016-09-10 16:32:39.898] [ INFO] console - [ 16,
  8749141964357632,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id2.voiskoChange',
  [],
  { voiskoSize: 2 } ]
[2016-09-10 16:32:39.910] [ INFO] console - Executing (89ce3a44-9928-4467-a2cf-b1d04a78c515): COMMIT;
[2016-09-10 16:32:39.914] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"+1
                                where
                                    '/2/231/' like path||id||'/%'
[2016-09-10 16:32:39.917] [ INFO] console - [ 70,
  1666,
  {},
  [ { fullPath: 'null2/',
      id: '2',
      path: null,
      name: 'UnitTest2',
      intensity: 1000,
      note: 'unit test 1473505807871',
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Sat Sep 10 2016 16:10:08 GMT+0500 (YEKT),
      deleted_at: null,
      parent_id: '1',
      attachments: [] } ] ]
[2016-09-10 16:32:39.932] [ INFO] console - Executing (default): INSERT INTO "Kopnik" ("id","name","surname","patronymic","voiskoSize","birth","path","created_at","updated_at","rodina_id","starshina_id") VALUES (DEFAULT,'temp','temp','temp',0,1900,'/2/231/','2016-09-10 11:32:39.881 +00:00','2016-09-10 11:32:39.881 +00:00',NULL,231) RETURNING *;
[2016-09-10 16:32:39.937] [ INFO] console - Executing (fa4bd763-ae47-46a5-a075-0b6b75530d5e): COMMIT;
[2016-09-10 16:32:39.939] [ INFO] console - [ 70, 1667, {}, [ '232' ] ]
[2016-09-10 16:32:39.951] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/231/' like k.path||k.id||'/%'
[2016-09-10 16:32:39.958] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2', '231')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 16:32:39.962] [ INFO] console - [ 16,
  3498400494387200,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id231.voiskoChange',
  [],
  { voiskoSize: 1 } ]
[2016-09-10 16:32:39.966] [ INFO] console - [ 16,
  1021378453045248,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id2.voiskoChange',
  [],
  { voiskoSize: 3 } ]
[2016-09-10 16:32:56.078] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 1 }
[2016-09-10 16:32:56.094] [ INFO] console - Executing (02280826-41fe-49b7-ab61-9ec29958ceca): START TRANSACTION;
[2016-09-10 16:32:56.095] [ INFO] console - Executing (02280826-41fe-49b7-ab61-9ec29958ceca): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 16:32:56.129] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 1);
[2016-09-10 16:32:56.141] [ INFO] console - Executing (02280826-41fe-49b7-ab61-9ec29958ceca): COMMIT;
[2016-09-10 16:32:56.143] [ INFO] console - [ 70,
  1668,
  {},
  [ { fullName: 'Алексей Баранов',
      fullPath: '/1/',
      starshina: [Object],
      id: '1',
      email: 'alexey_baranov@inbox.ru',
      name: 'Алексей',
      surname: 'Баранов',
      patronymic: 'Юрьевич',
      voiskoSize: 5,
      birth: 1983,
      path: '/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '8',
      starshina_id: null,
      attachments: [] } ] ]
[2016-09-10 16:34:12.039] [ INFO] console - [ 70, 1670, {}, [ undefined ] ]
[2016-09-10 16:34:12.048] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 2 }
[2016-09-10 16:34:12.054] [ INFO] console - Executing (default): delete from "Kopnik"
                where
                    name like '%temp'
[2016-09-10 16:34:12.060] [ INFO] console - Executing (61f41d2f-cbab-44d2-8b35-b6fe4a2163fc): START TRANSACTION;
[2016-09-10 16:34:12.063] [ INFO] console - Executing (61f41d2f-cbab-44d2-8b35-b6fe4a2163fc): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 16:34:12.065] [ INFO] console - Executing (default): update "Kopnik"
                set 
                    "voiskoSize"= case when id=2 then 1 ELSE 0 END
                where
                    id>1 
                    and id<=5
[2016-09-10 16:34:12.071] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 2);
[2016-09-10 16:34:12.076] [ INFO] console - Executing (61f41d2f-cbab-44d2-8b35-b6fe4a2163fc): COMMIT;
[2016-09-10 16:34:12.078] [ INFO] console - [ 70,
  1671,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/2/',
      starshina: [Object],
      id: '2',
      email: 'unittest2@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '1',
      voiskoSize: 1,
      birth: 1983,
      path: '/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: null,
      attachments: [] } ] ]
[2016-09-10 16:34:12.091] [ INFO] console - Executing (46d4fbd6-481f-4d35-aa16-2e7d964a4c00): START TRANSACTION;
[2016-09-10 16:34:12.093] [ INFO] console - Executing (46d4fbd6-481f-4d35-aa16-2e7d964a4c00): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 16:34:12.100] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 2);
[2016-09-10 16:34:12.105] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"+1
                                where
                                    '/2/' like path||id||'/%'
[2016-09-10 16:34:12.113] [ INFO] console - Executing (default): INSERT INTO "Kopnik" ("id","name","surname","patronymic","voiskoSize","birth","path","created_at","updated_at","rodina_id","starshina_id") VALUES (DEFAULT,'temp','temp','temp',0,1900,'/2/','2016-09-10 11:34:12.094 +00:00','2016-09-10 11:34:12.094 +00:00',NULL,2) RETURNING *;
[2016-09-10 16:34:12.116] [ INFO] console - Executing (46d4fbd6-481f-4d35-aa16-2e7d964a4c00): COMMIT;
[2016-09-10 16:34:12.118] [ INFO] console - [ 70, 1672, {}, [ '233' ] ]
[2016-09-10 16:34:12.122] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/' like k.path||k.id||'/%'
[2016-09-10 16:34:12.126] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Zemla', id: 2 }
[2016-09-10 16:34:12.131] [ INFO] console - Executing (ecf52380-93a2-442e-a8af-05c629bff160): START TRANSACTION;
[2016-09-10 16:34:12.132] [ INFO] console - Executing (3973973c-22bc-4a4b-9048-e80da8a1ff88): START TRANSACTION;
[2016-09-10 16:34:12.137] [ INFO] console - Executing (ecf52380-93a2-442e-a8af-05c629bff160): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 16:34:12.138] [ INFO] console - Executing (3973973c-22bc-4a4b-9048-e80da8a1ff88): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 16:34:12.178] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 16:34:12.187] [ INFO] console - Executing (default): SELECT "Zemla"."id", "Zemla"."path", "Zemla"."name", "Zemla"."intensity", "Zemla"."note", "Zemla"."created_at", "Zemla"."updated_at", "Zemla"."deleted_at", "Zemla"."parent_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Zemla" AS "Zemla" LEFT OUTER JOIN "File" AS "attachments" ON "Zemla"."id" = "attachments"."zemla_id" AND "attachments"."deleted_at" IS NULL WHERE ("Zemla"."deleted_at" IS NULL AND "Zemla"."id" = 2);
[2016-09-10 16:34:12.188] [ INFO] console - [ 16,
  5404449342226432,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id2.voiskoChange',
  [],
  { voiskoSize: 2 } ]
[2016-09-10 16:34:12.200] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 233);
[2016-09-10 16:34:12.204] [ INFO] console - Executing (ecf52380-93a2-442e-a8af-05c629bff160): COMMIT;
[2016-09-10 16:34:12.209] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"+1
                                where
                                    '/2/233/' like path||id||'/%'
[2016-09-10 16:34:12.214] [ INFO] console - [ 70,
  1673,
  {},
  [ { fullPath: 'null2/',
      id: '2',
      path: null,
      name: 'UnitTest2',
      intensity: 1000,
      note: 'unit test 1473505807871',
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Sat Sep 10 2016 16:10:08 GMT+0500 (YEKT),
      deleted_at: null,
      parent_id: '1',
      attachments: [] } ] ]
[2016-09-10 16:34:12.227] [ INFO] console - Executing (default): INSERT INTO "Kopnik" ("id","name","surname","patronymic","voiskoSize","birth","path","created_at","updated_at","rodina_id","starshina_id") VALUES (DEFAULT,'temp','temp','temp',0,1900,'/2/233/','2016-09-10 11:34:12.141 +00:00','2016-09-10 11:34:12.141 +00:00',NULL,233) RETURNING *;
[2016-09-10 16:34:12.232] [ INFO] console - Executing (3973973c-22bc-4a4b-9048-e80da8a1ff88): COMMIT;
[2016-09-10 16:34:12.233] [ INFO] console - [ 70, 1674, {}, [ '234' ] ]
[2016-09-10 16:34:12.237] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/233/' like k.path||k.id||'/%'
[2016-09-10 16:34:12.246] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2', '233')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 16:34:12.249] [ INFO] console - [ 16,
  5160060103688192,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id233.voiskoChange',
  [],
  { voiskoSize: 1 } ]
[2016-09-10 16:34:12.254] [ INFO] console - [ 16,
  5182623559188480,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id2.voiskoChange',
  [],
  { voiskoSize: 3 } ]
[2016-09-10 16:34:22.225] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 1 }
[2016-09-10 16:34:22.235] [ INFO] console - Executing (2942e087-2050-405f-9d15-dd8185320102): START TRANSACTION;
[2016-09-10 16:34:22.236] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 1 }
[2016-09-10 16:34:22.246] [ INFO] console - Executing (e43d0829-612e-4c02-93e5-549f580d7b9a): START TRANSACTION;
[2016-09-10 16:34:22.247] [ INFO] console - Executing (2942e087-2050-405f-9d15-dd8185320102): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 16:34:22.248] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 4 }
[2016-09-10 16:34:22.250] [ INFO] console - Executing (b85d7daa-c155-4962-853d-9bed443c01b1): START TRANSACTION;
[2016-09-10 16:34:22.251] [ INFO] console - Executing (e43d0829-612e-4c02-93e5-549f580d7b9a): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 16:34:22.255] [ INFO] console - Executing (b85d7daa-c155-4962-853d-9bed443c01b1): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 16:34:22.260] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 1);
[2016-09-10 16:34:22.268] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 1);
[2016-09-10 16:34:22.272] [ INFO] console - Executing (2942e087-2050-405f-9d15-dd8185320102): COMMIT;
[2016-09-10 16:34:22.277] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 4);
[2016-09-10 16:34:22.279] [ INFO] console - Executing (e43d0829-612e-4c02-93e5-549f580d7b9a): COMMIT;
[2016-09-10 16:34:22.282] [ INFO] console - [ 70,
  1675,
  {},
  [ { fullName: 'Алексей Баранов',
      fullPath: '/1/',
      starshina: [Object],
      id: '1',
      email: 'alexey_baranov@inbox.ru',
      name: 'Алексей',
      surname: 'Баранов',
      patronymic: 'Юрьевич',
      voiskoSize: 5,
      birth: 1983,
      path: '/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '8',
      starshina_id: null,
      attachments: [] } ] ]
[2016-09-10 16:34:22.288] [ INFO] console - Executing (b85d7daa-c155-4962-853d-9bed443c01b1): COMMIT;
[2016-09-10 16:34:22.289] [ INFO] console - [ 70,
  1676,
  {},
  [ { fullName: 'Алексей Баранов',
      fullPath: '/1/',
      starshina: [Object],
      id: '1',
      email: 'alexey_baranov@inbox.ru',
      name: 'Алексей',
      surname: 'Баранов',
      patronymic: 'Юрьевич',
      voiskoSize: 5,
      birth: 1983,
      path: '/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '8',
      starshina_id: null,
      attachments: [] } ] ]
[2016-09-10 16:34:22.294] [ INFO] console - [ 70,
  1677,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/4/',
      starshina: [Object],
      id: '4',
      email: 'unittest4@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '4',
      voiskoSize: 0,
      birth: 1983,
      path: '/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: null,
      attachments: [] } ] ]
[2016-09-10 16:34:22.304] [ INFO] console - Executing (56ab1124-4f31-4607-b53d-c00b8cde9a08): START TRANSACTION;
[2016-09-10 16:34:22.306] [ INFO] console - Executing (56ab1124-4f31-4607-b53d-c00b8cde9a08): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 16:34:22.309] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 233);
[2016-09-10 16:34:22.314] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 4);
[2016-09-10 16:34:22.316] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/' like k.path||k.id||'/%'
[2016-09-10 16:34:22.321] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 16:34:22.327] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"-2
                                where
                                    '/2/' like path||id||'/%'
[2016-09-10 16:34:22.334] [ INFO] console - Executing (default): UPDATE "Kopnik" SET "path"='/4/',"starshina_id"='4',"updated_at"='2016-09-10 11:34:22.329 +00:00' WHERE "id" = '233'
[2016-09-10 16:34:22.336] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"+2
                                where
                                    '/4/' like path||id||'/%'
[2016-09-10 16:34:22.340] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."starshina_id" = '233');
[2016-09-10 16:34:22.346] [ INFO] console - Executing (default): UPDATE "Kopnik" SET "path"='/4/233/',"updated_at"='2016-09-10 11:34:22.342 +00:00' WHERE "id" = '234'
[2016-09-10 16:34:22.349] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/4/' like k.path||k.id||'/%'
[2016-09-10 16:34:22.354] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('4')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 16:34:22.357] [ INFO] console - Executing (56ab1124-4f31-4607-b53d-c00b8cde9a08): COMMIT;
[2016-09-10 16:34:22.358] [ INFO] console - [ 70, 1678, {}, [ undefined ] ]
[2016-09-10 16:34:22.360] [ INFO] console - [ 16,
  5312705854439424,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id2.voiskoChange',
  [],
  { voiskoSize: 1 } ]
[2016-09-10 16:34:22.364] [ INFO] console - [ 16,
  8970814261035008,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id4.voiskoChange',
  [],
  { voiskoSize: 2 } ]
[2016-09-10 17:03:17.598] [ INFO] console - [ 70, 1680, {}, [ undefined ] ]
[2016-09-10 17:03:17.975] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 2 }
[2016-09-10 17:03:18.339] [ INFO] console - Executing (default): delete from "Kopnik"
                where
                    name like '%temp'
[2016-09-10 17:03:18.393] [ INFO] console - Executing (f26643ee-2186-45a4-97ab-52c24d8e2c9d): START TRANSACTION;
[2016-09-10 17:03:18.424] [ INFO] console - Executing (f26643ee-2186-45a4-97ab-52c24d8e2c9d): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 17:03:18.433] [ INFO] console - Executing (default): update "Kopnik"
                set 
                    "voiskoSize"= case when id=2 then 1 ELSE 0 END
                where
                    id>1 
                    and id<=5
[2016-09-10 17:03:18.661] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 2);
[2016-09-10 17:03:18.744] [ INFO] console - Executing (f26643ee-2186-45a4-97ab-52c24d8e2c9d): COMMIT;
[2016-09-10 17:03:18.762] [ INFO] console - [ 70,
  1681,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/2/',
      starshina: [Object],
      id: '2',
      email: 'unittest2@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '1',
      voiskoSize: 1,
      birth: 1983,
      path: '/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: null,
      attachments: [] } ] ]
[2016-09-10 17:03:18.923] [ INFO] console - Executing (3a3799bf-dcd8-488a-bca0-6ea9f4c8c070): START TRANSACTION;
[2016-09-10 17:03:18.939] [ INFO] console - Executing (3a3799bf-dcd8-488a-bca0-6ea9f4c8c070): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 17:03:19.007] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 2);
[2016-09-10 17:03:19.033] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"+1
                                where
                                    '/2/' like path||id||'/%'
[2016-09-10 17:03:19.156] [ INFO] console - Executing (default): INSERT INTO "Kopnik" ("id","name","surname","patronymic","voiskoSize","birth","path","created_at","updated_at","rodina_id","starshina_id") VALUES (DEFAULT,'temp','temp','temp',0,1900,'/2/','2016-09-10 12:03:18.959 +00:00','2016-09-10 12:03:18.959 +00:00',NULL,2) RETURNING *;
[2016-09-10 17:03:19.194] [ INFO] console - Executing (3a3799bf-dcd8-488a-bca0-6ea9f4c8c070): COMMIT;
[2016-09-10 17:03:19.196] [ INFO] console - [ 70, 1682, {}, [ '235' ] ]
[2016-09-10 17:03:19.207] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/' like k.path||k.id||'/%'
[2016-09-10 17:03:19.226] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Zemla', id: 2 }
[2016-09-10 17:03:19.252] [ INFO] console - Executing (d603be8a-113a-402e-9312-ab201b64afc3): START TRANSACTION;
[2016-09-10 17:03:19.253] [ INFO] console - Executing (0f36ed79-3f10-4bcb-b48a-96a2aca6ea96): START TRANSACTION;
[2016-09-10 17:03:19.269] [ INFO] console - Executing (0f36ed79-3f10-4bcb-b48a-96a2aca6ea96): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 17:03:19.269] [ INFO] console - Executing (d603be8a-113a-402e-9312-ab201b64afc3): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 17:03:19.310] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 17:03:19.319] [ INFO] console - Executing (default): SELECT "Zemla"."id", "Zemla"."path", "Zemla"."name", "Zemla"."intensity", "Zemla"."note", "Zemla"."created_at", "Zemla"."updated_at", "Zemla"."deleted_at", "Zemla"."parent_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Zemla" AS "Zemla" LEFT OUTER JOIN "File" AS "attachments" ON "Zemla"."id" = "attachments"."zemla_id" AND "attachments"."deleted_at" IS NULL WHERE ("Zemla"."deleted_at" IS NULL AND "Zemla"."id" = 2);
[2016-09-10 17:03:19.338] [ INFO] console - [ 16,
  8928737078804480,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id2.voiskoChange',
  [],
  { voiskoSize: 2 } ]
[2016-09-10 17:03:19.379] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 235);
[2016-09-10 17:03:19.407] [ INFO] console - Executing (d603be8a-113a-402e-9312-ab201b64afc3): COMMIT;
[2016-09-10 17:03:19.417] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"+1
                                where
                                    '/2/235/' like path||id||'/%'
[2016-09-10 17:03:19.418] [ INFO] console - [ 70,
  1683,
  {},
  [ { fullPath: 'null2/',
      id: '2',
      path: null,
      name: 'UnitTest2',
      intensity: 1000,
      note: 'unit test 1473505807871',
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Sat Sep 10 2016 16:10:08 GMT+0500 (YEKT),
      deleted_at: null,
      parent_id: '1',
      attachments: [] } ] ]
[2016-09-10 17:03:19.449] [ INFO] console - Executing (default): INSERT INTO "Kopnik" ("id","name","surname","patronymic","voiskoSize","birth","path","created_at","updated_at","rodina_id","starshina_id") VALUES (DEFAULT,'temp','temp','temp',0,1900,'/2/235/','2016-09-10 12:03:19.272 +00:00','2016-09-10 12:03:19.272 +00:00',NULL,235) RETURNING *;
[2016-09-10 17:03:19.457] [ INFO] console - Executing (0f36ed79-3f10-4bcb-b48a-96a2aca6ea96): COMMIT;
[2016-09-10 17:03:19.460] [ INFO] console - [ 70, 1684, {}, [ '236' ] ]
[2016-09-10 17:03:19.466] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/235/' like k.path||k.id||'/%'
[2016-09-10 17:03:19.487] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2', '235')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 17:03:19.513] [ INFO] console - [ 16,
  6082447238234112,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id235.voiskoChange',
  [],
  { voiskoSize: 1 } ]
[2016-09-10 17:03:19.527] [ INFO] console - [ 16,
  677695444746240,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id2.voiskoChange',
  [],
  { voiskoSize: 3 } ]
[2016-09-10 17:03:19.542] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 4 }
[2016-09-10 17:03:19.547] [ INFO] console - Executing (704c5d3c-49df-4bbc-821d-9de8d1107cc9): START TRANSACTION;
[2016-09-10 17:03:19.549] [ INFO] console - Executing (704c5d3c-49df-4bbc-821d-9de8d1107cc9): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 17:03:19.569] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 4);
[2016-09-10 17:03:19.582] [ INFO] console - Executing (704c5d3c-49df-4bbc-821d-9de8d1107cc9): COMMIT;
[2016-09-10 17:03:19.584] [ INFO] console - [ 70,
  1685,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/4/',
      starshina: [Object],
      id: '4',
      email: 'unittest4@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '4',
      voiskoSize: 0,
      birth: 1983,
      path: '/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: null,
      attachments: [] } ] ]
[2016-09-10 17:03:19.622] [ INFO] console - Executing (ea591905-659b-416d-b350-41bc72140825): START TRANSACTION;
[2016-09-10 17:03:19.624] [ INFO] console - Executing (ea591905-659b-416d-b350-41bc72140825): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 17:03:19.629] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 235);
[2016-09-10 17:03:19.641] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 4);
[2016-09-10 17:03:19.648] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/' like k.path||k.id||'/%'
[2016-09-10 17:03:19.658] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 17:03:19.672] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"-2
                                where
                                    '/2/' like path||id||'/%'
[2016-09-10 17:03:19.704] [ INFO] console - Executing (default): UPDATE "Kopnik" SET "path"='/4/',"starshina_id"='4',"updated_at"='2016-09-10 12:03:19.682 +00:00' WHERE "id" = '235'
[2016-09-10 17:03:19.716] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"+2
                                where
                                    '/4/' like path||id||'/%'
[2016-09-10 17:03:19.731] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."starshina_id" = '235');
[2016-09-10 17:03:19.754] [ INFO] console - Executing (default): UPDATE "Kopnik" SET "path"='/4/235/',"updated_at"='2016-09-10 12:03:19.738 +00:00' WHERE "id" = '236'
[2016-09-10 17:03:19.759] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/4/' like k.path||k.id||'/%'
[2016-09-10 17:03:19.767] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('4')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 17:03:19.778] [ INFO] console - Executing (ea591905-659b-416d-b350-41bc72140825): COMMIT;
[2016-09-10 17:03:19.780] [ INFO] console - [ 70, 1686, {}, [ undefined ] ]
[2016-09-10 17:03:19.785] [ INFO] console - [ 16,
  4218346956390400,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id2.voiskoChange',
  [],
  { voiskoSize: 1 } ]
[2016-09-10 17:03:19.797] [ INFO] console - [ 16,
  4112878571356160,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id4.voiskoChange',
  [],
  { voiskoSize: 2 } ]
[2016-09-10 17:07:40.804] [ INFO] console - [ 70, 1688, {}, [ undefined ] ]
[2016-09-10 17:07:40.836] [ INFO] console - Executing (default): delete from "Kopnik"
                where
                    name like '%temp'
[2016-09-10 17:07:40.840] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 2 }
[2016-09-10 17:07:40.849] [ INFO] console - Executing (f85d0801-4293-482f-9feb-28d8704dc67d): START TRANSACTION;
[2016-09-10 17:07:40.854] [ INFO] console - Executing (f85d0801-4293-482f-9feb-28d8704dc67d): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 17:07:40.893] [ INFO] console - Executing (default): update "Kopnik"
                set 
                    "voiskoSize"= case when id=2 then 1 ELSE 0 END
                where
                    id>1 
                    and id<=5
[2016-09-10 17:07:40.896] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 2);
[2016-09-10 17:07:40.909] [ INFO] console - Executing (f85d0801-4293-482f-9feb-28d8704dc67d): COMMIT;
[2016-09-10 17:07:40.969] [ INFO] console - [ 70,
  1689,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/2/',
      starshina: [Object],
      id: '2',
      email: 'unittest2@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '1',
      voiskoSize: 1,
      birth: 1983,
      path: '/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: null,
      attachments: [] } ] ]
[2016-09-10 17:07:41.052] [ INFO] console - Executing (4d4b1f4f-bae9-4f48-b755-10a2ef19a647): START TRANSACTION;
[2016-09-10 17:07:41.053] [ INFO] console - Executing (4d4b1f4f-bae9-4f48-b755-10a2ef19a647): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 17:07:41.061] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 2);
[2016-09-10 17:07:41.068] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"+1
                                where
                                    '/2/' like path||id||'/%'
[2016-09-10 17:07:41.080] [ INFO] console - Executing (default): INSERT INTO "Kopnik" ("id","name","surname","patronymic","voiskoSize","birth","path","created_at","updated_at","rodina_id","starshina_id") VALUES (DEFAULT,'temp','temp','temp',0,1900,'/2/','2016-09-10 12:07:41.055 +00:00','2016-09-10 12:07:41.055 +00:00',NULL,2) RETURNING *;
[2016-09-10 17:07:41.087] [ INFO] console - Executing (4d4b1f4f-bae9-4f48-b755-10a2ef19a647): COMMIT;
[2016-09-10 17:07:41.088] [ INFO] console - [ 70, 1690, {}, [ '237' ] ]
[2016-09-10 17:07:41.099] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/' like k.path||k.id||'/%'
[2016-09-10 17:07:41.121] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Zemla', id: 2 }
[2016-09-10 17:07:41.130] [ INFO] console - Executing (a90e4005-6b6b-44d0-878c-2d1ba8a43dd9): START TRANSACTION;
[2016-09-10 17:07:41.131] [ INFO] console - Executing (7ff3b913-77e8-4433-9217-d0d7eb81e7fc): START TRANSACTION;
[2016-09-10 17:07:41.133] [ INFO] console - Executing (a90e4005-6b6b-44d0-878c-2d1ba8a43dd9): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 17:07:41.134] [ INFO] console - Executing (7ff3b913-77e8-4433-9217-d0d7eb81e7fc): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 17:07:41.137] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 17:07:41.176] [ INFO] console - Executing (default): SELECT "Zemla"."id", "Zemla"."path", "Zemla"."name", "Zemla"."intensity", "Zemla"."note", "Zemla"."created_at", "Zemla"."updated_at", "Zemla"."deleted_at", "Zemla"."parent_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Zemla" AS "Zemla" LEFT OUTER JOIN "File" AS "attachments" ON "Zemla"."id" = "attachments"."zemla_id" AND "attachments"."deleted_at" IS NULL WHERE ("Zemla"."deleted_at" IS NULL AND "Zemla"."id" = 2);
[2016-09-10 17:07:41.179] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 237);
[2016-09-10 17:07:41.180] [ INFO] console - [ 16,
  339706602586112,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id2.voiskoChange',
  [],
  { voiskoSize: 2 } ]
[2016-09-10 17:07:41.216] [ INFO] console - Executing (a90e4005-6b6b-44d0-878c-2d1ba8a43dd9): COMMIT;
[2016-09-10 17:07:41.217] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"+1
                                where
                                    '/2/237/' like path||id||'/%'
[2016-09-10 17:07:41.219] [ INFO] console - [ 70,
  1691,
  {},
  [ { fullPath: 'null2/',
      id: '2',
      path: null,
      name: 'UnitTest2',
      intensity: 1000,
      note: 'unit test 1473505807871',
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Sat Sep 10 2016 16:10:08 GMT+0500 (YEKT),
      deleted_at: null,
      parent_id: '1',
      attachments: [] } ] ]
[2016-09-10 17:07:41.257] [ INFO] console - Executing (default): INSERT INTO "Kopnik" ("id","name","surname","patronymic","voiskoSize","birth","path","created_at","updated_at","rodina_id","starshina_id") VALUES (DEFAULT,'temp','temp','temp',0,1900,'/2/237/','2016-09-10 12:07:41.142 +00:00','2016-09-10 12:07:41.142 +00:00',NULL,237) RETURNING *;
[2016-09-10 17:07:41.264] [ INFO] console - Executing (7ff3b913-77e8-4433-9217-d0d7eb81e7fc): COMMIT;
[2016-09-10 17:07:41.266] [ INFO] console - [ 70, 1692, {}, [ '238' ] ]
[2016-09-10 17:07:41.274] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/237/' like k.path||k.id||'/%'
[2016-09-10 17:07:41.284] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2', '237')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 17:07:41.292] [ INFO] console - [ 16,
  7215297868070912,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id237.voiskoChange',
  [],
  { voiskoSize: 1 } ]
[2016-09-10 17:07:41.306] [ INFO] console - [ 16,
  3464905957048320,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id2.voiskoChange',
  [],
  { voiskoSize: 3 } ]
[2016-09-10 17:07:51.405] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 4 }
[2016-09-10 17:07:51.413] [ INFO] console - Executing (9d221fad-30fd-452a-a6db-961bdfaa4c8b): START TRANSACTION;
[2016-09-10 17:07:51.415] [ INFO] console - Executing (9d221fad-30fd-452a-a6db-961bdfaa4c8b): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 17:07:51.426] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 4);
[2016-09-10 17:07:51.435] [ INFO] console - Executing (9d221fad-30fd-452a-a6db-961bdfaa4c8b): COMMIT;
[2016-09-10 17:07:51.436] [ INFO] console - [ 70,
  1693,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/4/',
      starshina: [Object],
      id: '4',
      email: 'unittest4@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '4',
      voiskoSize: 0,
      birth: 1983,
      path: '/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: null,
      attachments: [] } ] ]
[2016-09-10 17:07:51.461] [ INFO] console - Executing (0e02702b-34bb-4b76-be74-699b85db7722): START TRANSACTION;
[2016-09-10 17:07:51.462] [ INFO] console - Executing (0e02702b-34bb-4b76-be74-699b85db7722): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 17:07:51.469] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 237);
[2016-09-10 17:07:51.477] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 4);
[2016-09-10 17:07:51.480] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/' like k.path||k.id||'/%'
[2016-09-10 17:07:51.489] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 17:07:51.496] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"-2
                                where
                                    '/2/' like path||id||'/%'
[2016-09-10 17:07:51.506] [ INFO] console - Executing (default): UPDATE "Kopnik" SET "path"='/4/',"starshina_id"='4',"updated_at"='2016-09-10 12:07:51.498 +00:00' WHERE "id" = '237'
[2016-09-10 17:07:51.508] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"+2
                                where
                                    '/4/' like path||id||'/%'
[2016-09-10 17:07:51.517] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."starshina_id" = '237');
[2016-09-10 17:07:51.531] [ INFO] console - Executing (default): UPDATE "Kopnik" SET "path"='/4/237/',"updated_at"='2016-09-10 12:07:51.522 +00:00' WHERE "id" = '238'
[2016-09-10 17:07:51.534] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/4/' like k.path||k.id||'/%'
[2016-09-10 17:07:51.544] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('4')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 17:07:51.550] [ INFO] console - Executing (0e02702b-34bb-4b76-be74-699b85db7722): COMMIT;
[2016-09-10 17:07:51.553] [ INFO] console - [ 70, 1694, {}, [ undefined ] ]
[2016-09-10 17:07:51.558] [ INFO] console - [ 16,
  255431062585344,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id2.voiskoChange',
  [],
  { voiskoSize: 1 } ]
[2016-09-10 17:07:51.567] [ INFO] console - [ 16,
  8231809657602048,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id4.voiskoChange',
  [],
  { voiskoSize: 2 } ]
[2016-09-10 17:08:12.582] [ INFO] console - [ 70, 1696, {}, [ undefined ] ]
[2016-09-10 17:08:12.606] [ INFO] console - Executing (default): delete from "Kopnik"
                where
                    name like '%temp'
[2016-09-10 17:08:12.612] [ INFO] console - Executing (default): update "Kopnik"
                set 
                    "voiskoSize"= case when id=2 then 1 ELSE 0 END
                where
                    id>1 
                    and id<=5
[2016-09-10 17:08:12.618] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 2 }
[2016-09-10 17:08:12.626] [ INFO] console - Executing (95ddb501-425a-4b14-9f2b-41c9e8364e1f): START TRANSACTION;
[2016-09-10 17:08:12.628] [ INFO] console - Executing (95ddb501-425a-4b14-9f2b-41c9e8364e1f): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 17:08:12.648] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 2);
[2016-09-10 17:08:12.667] [ INFO] console - Executing (95ddb501-425a-4b14-9f2b-41c9e8364e1f): COMMIT;
[2016-09-10 17:08:12.671] [ INFO] console - [ 70,
  1697,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/2/',
      starshina: [Object],
      id: '2',
      email: 'unittest2@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '1',
      voiskoSize: 1,
      birth: 1983,
      path: '/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: null,
      attachments: [] } ] ]
[2016-09-10 17:08:12.715] [ INFO] console - Executing (605097ee-699c-4c16-8398-eda42c56febf): START TRANSACTION;
[2016-09-10 17:08:12.717] [ INFO] console - Executing (605097ee-699c-4c16-8398-eda42c56febf): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 17:08:12.735] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 2);
[2016-09-10 17:08:12.748] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"+1
                                where
                                    '/2/' like path||id||'/%'
[2016-09-10 17:08:12.756] [ INFO] console - Executing (default): INSERT INTO "Kopnik" ("id","name","surname","patronymic","voiskoSize","birth","path","created_at","updated_at","rodina_id","starshina_id") VALUES (DEFAULT,'temp','temp','temp',0,1900,'/2/','2016-09-10 12:08:12.718 +00:00','2016-09-10 12:08:12.718 +00:00',NULL,2) RETURNING *;
[2016-09-10 17:08:12.763] [ INFO] console - Executing (605097ee-699c-4c16-8398-eda42c56febf): COMMIT;
[2016-09-10 17:08:12.774] [ INFO] console - [ 70, 1698, {}, [ '239' ] ]
[2016-09-10 17:08:12.794] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Zemla', id: 2 }
[2016-09-10 17:08:12.802] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/' like k.path||k.id||'/%'
[2016-09-10 17:08:12.803] [ INFO] console - Executing (40ab174a-14a2-4297-9bf1-f395761e22dc): START TRANSACTION;
[2016-09-10 17:08:12.826] [ INFO] console - Executing (e4256aec-2e59-4546-aed4-4e74bc647f27): START TRANSACTION;
[2016-09-10 17:08:12.834] [ INFO] console - Executing (40ab174a-14a2-4297-9bf1-f395761e22dc): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 17:08:12.849] [ INFO] console - Executing (e4256aec-2e59-4546-aed4-4e74bc647f27): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 17:08:12.902] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 17:08:12.936] [ INFO] console - Executing (default): SELECT "Zemla"."id", "Zemla"."path", "Zemla"."name", "Zemla"."intensity", "Zemla"."note", "Zemla"."created_at", "Zemla"."updated_at", "Zemla"."deleted_at", "Zemla"."parent_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Zemla" AS "Zemla" LEFT OUTER JOIN "File" AS "attachments" ON "Zemla"."id" = "attachments"."zemla_id" AND "attachments"."deleted_at" IS NULL WHERE ("Zemla"."deleted_at" IS NULL AND "Zemla"."id" = 2);
[2016-09-10 17:08:12.937] [ INFO] console - [ 16,
  6692656637804544,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id2.voiskoChange',
  [],
  { voiskoSize: 2 } ]
[2016-09-10 17:08:12.967] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 239);
[2016-09-10 17:08:13.005] [ INFO] console - Executing (40ab174a-14a2-4297-9bf1-f395761e22dc): COMMIT;
[2016-09-10 17:08:13.014] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"+1
                                where
                                    '/2/239/' like path||id||'/%'
[2016-09-10 17:08:13.015] [ INFO] console - [ 70,
  1699,
  {},
  [ { fullPath: 'null2/',
      id: '2',
      path: null,
      name: 'UnitTest2',
      intensity: 1000,
      note: 'unit test 1473505807871',
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Sat Sep 10 2016 16:10:08 GMT+0500 (YEKT),
      deleted_at: null,
      parent_id: '1',
      attachments: [] } ] ]
[2016-09-10 17:08:13.035] [ INFO] console - Executing (default): INSERT INTO "Kopnik" ("id","name","surname","patronymic","voiskoSize","birth","path","created_at","updated_at","rodina_id","starshina_id") VALUES (DEFAULT,'temp','temp','temp',0,1900,'/2/239/','2016-09-10 12:08:12.894 +00:00','2016-09-10 12:08:12.894 +00:00',NULL,239) RETURNING *;
[2016-09-10 17:08:13.042] [ INFO] console - Executing (e4256aec-2e59-4546-aed4-4e74bc647f27): COMMIT;
[2016-09-10 17:08:13.046] [ INFO] console - [ 70, 1700, {}, [ '240' ] ]
[2016-09-10 17:08:13.050] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/239/' like k.path||k.id||'/%'
[2016-09-10 17:08:13.067] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2', '239')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 17:08:13.078] [ INFO] console - [ 16,
  7520005474222080,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id239.voiskoChange',
  [],
  { voiskoSize: 1 } ]
[2016-09-10 17:08:13.229] [ INFO] console - [ 16,
  7111041706098688,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id2.voiskoChange',
  [],
  { voiskoSize: 3 } ]
[2016-09-10 17:08:13.247] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 4 }
[2016-09-10 17:08:13.254] [ INFO] console - Executing (74612a6b-8452-4f28-806a-59b2325ba6d3): START TRANSACTION;
[2016-09-10 17:08:13.257] [ INFO] console - Executing (74612a6b-8452-4f28-806a-59b2325ba6d3): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 17:08:13.269] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 4);
[2016-09-10 17:08:13.283] [ INFO] console - Executing (74612a6b-8452-4f28-806a-59b2325ba6d3): COMMIT;
[2016-09-10 17:08:13.292] [ INFO] console - [ 70,
  1701,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/4/',
      starshina: [Object],
      id: '4',
      email: 'unittest4@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '4',
      voiskoSize: 0,
      birth: 1983,
      path: '/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: null,
      attachments: [] } ] ]
[2016-09-10 17:08:13.328] [ INFO] console - Executing (82a7b5ec-842a-4cc3-95a6-fd8d039e8abb): START TRANSACTION;
[2016-09-10 17:08:13.332] [ INFO] console - Executing (82a7b5ec-842a-4cc3-95a6-fd8d039e8abb): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 17:08:13.380] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 239);
[2016-09-10 17:08:13.401] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 4);
[2016-09-10 17:08:13.417] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/' like k.path||k.id||'/%'
[2016-09-10 17:08:13.427] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 17:08:13.435] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"-2
                                where
                                    '/2/' like path||id||'/%'
[2016-09-10 17:08:13.446] [ INFO] console - Executing (default): UPDATE "Kopnik" SET "path"='/4/',"starshina_id"='4',"updated_at"='2016-09-10 12:08:13.437 +00:00' WHERE "id" = '239'
[2016-09-10 17:08:13.450] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"+2
                                where
                                    '/4/' like path||id||'/%'
[2016-09-10 17:08:13.459] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."starshina_id" = '239');
[2016-09-10 17:08:13.492] [ INFO] console - Executing (default): UPDATE "Kopnik" SET "path"='/4/239/',"updated_at"='2016-09-10 12:08:13.480 +00:00' WHERE "id" = '240'
[2016-09-10 17:08:13.497] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/4/' like k.path||k.id||'/%'
[2016-09-10 17:08:13.513] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('4')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 17:08:13.528] [ INFO] console - Executing (82a7b5ec-842a-4cc3-95a6-fd8d039e8abb): COMMIT;
[2016-09-10 17:08:13.533] [ INFO] console - [ 70, 1702, {}, [ undefined ] ]
[2016-09-10 17:08:13.543] [ INFO] console - [ 16,
  3857715996655616,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id2.voiskoChange',
  [],
  { voiskoSize: 1 } ]
[2016-09-10 17:08:13.553] [ INFO] console - [ 16,
  3050836280213504,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id4.voiskoChange',
  [],
  { voiskoSize: 2 } ]
[2016-09-10 17:09:05.543] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopa', id: 3 }
[2016-09-10 17:09:05.570] [ INFO] console - Executing (e698194a-351e-4091-8527-62edbc9b8c9f): START TRANSACTION;
[2016-09-10 17:09:05.571] [ INFO] console - Executing (e698194a-351e-4091-8527-62edbc9b8c9f): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 17:09:05.601] [ INFO] console - Executing (default): SELECT "Kopa"."id", "Kopa"."question", "Kopa"."planned", "Kopa"."started", "Kopa"."closed", "Kopa"."isOpen", "Kopa"."note", "Kopa"."created_at", "Kopa"."updated_at", "Kopa"."deleted_at", "Kopa"."place_id", "Kopa"."inviter_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopa" AS "Kopa" LEFT OUTER JOIN "File" AS "attachments" ON "Kopa"."id" = "attachments"."kopa_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopa"."deleted_at" IS NULL AND "Kopa"."id" = 3);
[2016-09-10 17:09:05.612] [ INFO] console - Executing (e698194a-351e-4091-8527-62edbc9b8c9f): COMMIT;
[2016-09-10 17:09:05.614] [ INFO] console - [ 70,
  1704,
  {},
  [ { id: '3',
      question: 'CHE',
      planned: Thu Sep 01 2016 00:00:00 GMT+0500 (YEKT),
      started: Thu Sep 01 2016 00:00:00 GMT+0500 (YEKT),
      closed: null,
      isOpen: false,
      note: null,
      created_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      deleted_at: null,
      place_id: '2',
      inviter_id: '2',
      attachments: [] } ] ]
[2016-09-10 17:09:05.631] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 2 }
[2016-09-10 17:09:05.637] [ INFO] console - Executing (80409bfe-5935-46fe-be70-853dbd2de81e): START TRANSACTION;
[2016-09-10 17:09:05.638] [ INFO] console - Executing (80409bfe-5935-46fe-be70-853dbd2de81e): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 17:09:05.655] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 2);
[2016-09-10 17:09:05.661] [ INFO] console - Executing (80409bfe-5935-46fe-be70-853dbd2de81e): COMMIT;
[2016-09-10 17:09:05.663] [ INFO] console - [ 70,
  1705,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/2/',
      starshina: [Object],
      id: '2',
      email: 'unittest2@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '1',
      voiskoSize: 1,
      birth: 1983,
      path: '/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: null,
      attachments: [] } ] ]
[2016-09-10 17:09:05.682] [ INFO] console - Executing (1694b5f0-6ccf-4dbd-8a47-8575707423f4): START TRANSACTION;
[2016-09-10 17:09:05.683] [ INFO] console - Executing (1694b5f0-6ccf-4dbd-8a47-8575707423f4): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 17:09:05.699] [ INFO] console - Executing (default): INSERT INTO "Slovo" ("id","value","created_at","updated_at","owner_id","place_id") VALUES (DEFAULT,'some Slovo temp 1473509345673','2016-09-10 12:09:05.689 +00:00','2016-09-10 12:09:05.689 +00:00',2,3) RETURNING *;
[2016-09-10 17:09:05.708] [ INFO] console - Executing (1694b5f0-6ccf-4dbd-8a47-8575707423f4): COMMIT;
[2016-09-10 17:09:05.710] [ INFO] console - [ 70, 1706, {}, [ '115' ] ]
[2016-09-10 17:09:05.715] [ INFO] console - [ 16,
  1520852711505920,
  { acknowledge: true },
  'ru.kopa.model.Kopa.id3.slovoAdd',
  [ '115' ] ]
[2016-09-10 17:09:05.739] [ INFO] console - Executing (44cfb6d7-494e-4d0b-816d-7bb946e94606): START TRANSACTION;
[2016-09-10 17:09:05.740] [ INFO] console - Executing (44cfb6d7-494e-4d0b-816d-7bb946e94606): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 17:09:05.751] [ INFO] console - Executing (default): INSERT INTO "Predlozhenie" ("id","value","created_at","updated_at","initiator_id","place_id") VALUES (DEFAULT,'some Predlozhenie temp 1473509345728','2016-09-10 12:09:05.745 +00:00','2016-09-10 12:09:05.745 +00:00',2,3) RETURNING *;
[2016-09-10 17:09:05.758] [ INFO] console - Executing (44cfb6d7-494e-4d0b-816d-7bb946e94606): COMMIT;
[2016-09-10 17:09:05.760] [ INFO] console - [ 70, 1707, {}, [ '64' ] ]
[2016-09-10 17:09:05.765] [ INFO] console - [ 16,
  5474598629933056,
  { acknowledge: true },
  'ru.kopa.model.Kopa.id3.predlozhenieAdd',
  [ '64' ] ]
[2016-09-10 17:09:23.889] [ INFO] console - [ 70, 1709, {}, [ undefined ] ]
[2016-09-10 17:09:23.900] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 2 }
[2016-09-10 17:09:23.908] [ INFO] console - Executing (default): delete from "Kopnik"
                where
                    name like '%temp'
[2016-09-10 17:09:23.916] [ INFO] console - Executing (618c9aed-2402-4f0e-b995-2be7e157955a): START TRANSACTION;
[2016-09-10 17:09:23.920] [ INFO] console - Executing (default): update "Kopnik"
                set 
                    "voiskoSize"= case when id=2 then 1 ELSE 0 END
                where
                    id>1 
                    and id<=5
[2016-09-10 17:09:23.930] [ INFO] console - Executing (618c9aed-2402-4f0e-b995-2be7e157955a): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 17:09:23.938] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 2);
[2016-09-10 17:09:23.944] [ INFO] console - Executing (618c9aed-2402-4f0e-b995-2be7e157955a): COMMIT;
[2016-09-10 17:09:23.946] [ INFO] console - [ 70,
  1710,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/2/',
      starshina: [Object],
      id: '2',
      email: 'unittest2@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '1',
      voiskoSize: 1,
      birth: 1983,
      path: '/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: null,
      attachments: [] } ] ]
[2016-09-10 17:09:24.196] [ INFO] console - Executing (b1575d90-a3d5-4cf6-892e-a0ba7ae11a0b): START TRANSACTION;
[2016-09-10 17:09:24.198] [ INFO] console - Executing (b1575d90-a3d5-4cf6-892e-a0ba7ae11a0b): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 17:09:24.208] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 2);
[2016-09-10 17:09:24.223] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"+1
                                where
                                    '/2/' like path||id||'/%'
[2016-09-10 17:09:24.236] [ INFO] console - Executing (default): INSERT INTO "Kopnik" ("id","name","surname","patronymic","voiskoSize","birth","path","created_at","updated_at","rodina_id","starshina_id") VALUES (DEFAULT,'temp','temp','temp',0,1900,'/2/','2016-09-10 12:09:24.201 +00:00','2016-09-10 12:09:24.201 +00:00',NULL,2) RETURNING *;
[2016-09-10 17:09:24.240] [ INFO] console - Executing (b1575d90-a3d5-4cf6-892e-a0ba7ae11a0b): COMMIT;
[2016-09-10 17:09:24.242] [ INFO] console - [ 70, 1711, {}, [ '241' ] ]
[2016-09-10 17:09:24.252] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/' like k.path||k.id||'/%'
[2016-09-10 17:09:24.272] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 17:09:24.276] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Zemla', id: 2 }
[2016-09-10 17:09:24.292] [ INFO] console - Executing (bbbc6bc8-42bc-4c3e-973e-40ac716a938e): START TRANSACTION;
[2016-09-10 17:09:24.293] [ INFO] console - Executing (a46264b3-0534-4e9b-84d7-fa6edf1d5cfd): START TRANSACTION;
[2016-09-10 17:09:24.295] [ INFO] console - [ 16,
  4932181250015232,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id2.voiskoChange',
  [],
  { voiskoSize: 2 } ]
[2016-09-10 17:09:24.302] [ INFO] console - Executing (a46264b3-0534-4e9b-84d7-fa6edf1d5cfd): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 17:09:24.303] [ INFO] console - Executing (bbbc6bc8-42bc-4c3e-973e-40ac716a938e): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 17:09:24.333] [ INFO] console - Executing (default): SELECT "Zemla"."id", "Zemla"."path", "Zemla"."name", "Zemla"."intensity", "Zemla"."note", "Zemla"."created_at", "Zemla"."updated_at", "Zemla"."deleted_at", "Zemla"."parent_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Zemla" AS "Zemla" LEFT OUTER JOIN "File" AS "attachments" ON "Zemla"."id" = "attachments"."zemla_id" AND "attachments"."deleted_at" IS NULL WHERE ("Zemla"."deleted_at" IS NULL AND "Zemla"."id" = 2);
[2016-09-10 17:09:24.346] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 241);
[2016-09-10 17:09:24.374] [ INFO] console - Executing (bbbc6bc8-42bc-4c3e-973e-40ac716a938e): COMMIT;
[2016-09-10 17:09:24.395] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"+1
                                where
                                    '/2/241/' like path||id||'/%'
[2016-09-10 17:09:24.396] [ INFO] console - [ 70,
  1712,
  {},
  [ { fullPath: 'null2/',
      id: '2',
      path: null,
      name: 'UnitTest2',
      intensity: 1000,
      note: 'unit test 1473505807871',
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Sat Sep 10 2016 16:10:08 GMT+0500 (YEKT),
      deleted_at: null,
      parent_id: '1',
      attachments: [] } ] ]
[2016-09-10 17:09:24.452] [ INFO] console - Executing (default): INSERT INTO "Kopnik" ("id","name","surname","patronymic","voiskoSize","birth","path","created_at","updated_at","rodina_id","starshina_id") VALUES (DEFAULT,'temp','temp','temp',0,1900,'/2/241/','2016-09-10 12:09:24.318 +00:00','2016-09-10 12:09:24.318 +00:00',NULL,241) RETURNING *;
[2016-09-10 17:09:24.456] [ INFO] console - Executing (a46264b3-0534-4e9b-84d7-fa6edf1d5cfd): COMMIT;
[2016-09-10 17:09:24.457] [ INFO] console - [ 70, 1713, {}, [ '242' ] ]
[2016-09-10 17:09:24.464] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/241/' like k.path||k.id||'/%'
[2016-09-10 17:09:24.475] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2', '241')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 17:09:24.483] [ INFO] console - [ 16,
  4916702879940608,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id241.voiskoChange',
  [],
  { voiskoSize: 1 } ]
[2016-09-10 17:09:24.492] [ INFO] console - [ 16,
  2434447427239936,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id2.voiskoChange',
  [],
  { voiskoSize: 3 } ]
[2016-09-10 17:09:24.503] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 4 }
[2016-09-10 17:09:24.510] [ INFO] console - Executing (b1a6eef3-436e-48da-b91d-ddab6d17f890): START TRANSACTION;
[2016-09-10 17:09:24.512] [ INFO] console - Executing (b1a6eef3-436e-48da-b91d-ddab6d17f890): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 17:09:24.542] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 4);
[2016-09-10 17:09:24.556] [ INFO] console - Executing (b1a6eef3-436e-48da-b91d-ddab6d17f890): COMMIT;
[2016-09-10 17:09:24.558] [ INFO] console - [ 70,
  1714,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/4/',
      starshina: [Object],
      id: '4',
      email: 'unittest4@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '4',
      voiskoSize: 0,
      birth: 1983,
      path: '/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: null,
      attachments: [] } ] ]
[2016-09-10 17:09:24.583] [ INFO] console - Executing (e9c2a3db-38d6-49e4-bcc9-278a2ab4d615): START TRANSACTION;
[2016-09-10 17:09:24.584] [ INFO] console - Executing (e9c2a3db-38d6-49e4-bcc9-278a2ab4d615): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 17:09:24.589] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 241);
[2016-09-10 17:09:24.600] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 4);
[2016-09-10 17:09:24.610] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/' like k.path||k.id||'/%'
[2016-09-10 17:09:24.615] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 17:09:24.620] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"-2
                                where
                                    '/2/' like path||id||'/%'
[2016-09-10 17:09:24.629] [ INFO] console - Executing (default): UPDATE "Kopnik" SET "path"='/4/',"starshina_id"='4',"updated_at"='2016-09-10 12:09:24.621 +00:00' WHERE "id" = '241'
[2016-09-10 17:09:24.633] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"+2
                                where
                                    '/4/' like path||id||'/%'
[2016-09-10 17:09:24.638] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."starshina_id" = '241');
[2016-09-10 17:09:24.651] [ INFO] console - Executing (default): UPDATE "Kopnik" SET "path"='/4/241/',"updated_at"='2016-09-10 12:09:24.643 +00:00' WHERE "id" = '242'
[2016-09-10 17:09:24.655] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/4/' like k.path||k.id||'/%'
[2016-09-10 17:09:24.673] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('4')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 17:09:24.679] [ INFO] console - Executing (e9c2a3db-38d6-49e4-bcc9-278a2ab4d615): COMMIT;
[2016-09-10 17:09:24.681] [ INFO] console - [ 70, 1715, {}, [ undefined ] ]
[2016-09-10 17:09:24.686] [ INFO] console - [ 16,
  8611913168584704,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id2.voiskoChange',
  [],
  { voiskoSize: 1 } ]
[2016-09-10 17:09:24.694] [ INFO] console - [ 16,
  2021670105645056,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id4.voiskoChange',
  [],
  { voiskoSize: 2 } ]
[2016-09-10 17:10:50.500] [ INFO] console - [ 70, 1717, {}, [ undefined ] ]
[2016-09-10 17:10:50.510] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 2 }
[2016-09-10 17:10:50.535] [ INFO] console - Executing (default): delete from "Kopnik"
                where
                    name like '%temp'
[2016-09-10 17:10:50.537] [ INFO] console - Executing (88e361ba-4756-44bd-809b-a2ce3a098e6f): START TRANSACTION;
[2016-09-10 17:10:50.538] [ INFO] console - Executing (88e361ba-4756-44bd-809b-a2ce3a098e6f): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 17:10:50.552] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 2);
[2016-09-10 17:10:50.559] [ INFO] console - Executing (default): update "Kopnik"
                set 
                    "voiskoSize"= case when id=2 then 1 ELSE 0 END
                where
                    id>1 
                    and id<=5
[2016-09-10 17:10:50.564] [ INFO] console - Executing (88e361ba-4756-44bd-809b-a2ce3a098e6f): COMMIT;
[2016-09-10 17:10:50.567] [ INFO] console - [ 70,
  1718,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/2/',
      starshina: [Object],
      id: '2',
      email: 'unittest2@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '1',
      voiskoSize: 1,
      birth: 1983,
      path: '/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: null,
      attachments: [] } ] ]
[2016-09-10 17:10:50.586] [ INFO] console - Executing (b96167a3-0d38-46ac-b5a1-30d9da4c6e79): START TRANSACTION;
[2016-09-10 17:10:50.587] [ INFO] console - Executing (b96167a3-0d38-46ac-b5a1-30d9da4c6e79): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 17:10:50.598] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 2);
[2016-09-10 17:10:50.620] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"+1
                                where
                                    '/2/' like path||id||'/%'
[2016-09-10 17:10:50.626] [ INFO] console - Executing (default): INSERT INTO "Kopnik" ("id","name","surname","patronymic","voiskoSize","birth","path","created_at","updated_at","rodina_id","starshina_id") VALUES (DEFAULT,'temp','temp','temp',0,1900,'/2/','2016-09-10 12:10:50.591 +00:00','2016-09-10 12:10:50.591 +00:00',NULL,2) RETURNING *;
[2016-09-10 17:10:50.631] [ INFO] console - Executing (b96167a3-0d38-46ac-b5a1-30d9da4c6e79): COMMIT;
[2016-09-10 17:10:50.632] [ INFO] console - [ 70, 1719, {}, [ '243' ] ]
[2016-09-10 17:10:50.641] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/' like k.path||k.id||'/%'
[2016-09-10 17:10:50.643] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Zemla', id: 2 }
[2016-09-10 17:10:50.649] [ INFO] console - Executing (64429d68-df1c-412c-800f-90c30a6afe35): START TRANSACTION;
[2016-09-10 17:10:50.650] [ INFO] console - Executing (42103a69-efcf-4e68-a74f-fa4b1ea6dd64): START TRANSACTION;
[2016-09-10 17:10:50.652] [ INFO] console - Executing (64429d68-df1c-412c-800f-90c30a6afe35): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 17:10:50.653] [ INFO] console - Executing (42103a69-efcf-4e68-a74f-fa4b1ea6dd64): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 17:10:50.655] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 17:10:50.671] [ INFO] console - Executing (default): SELECT "Zemla"."id", "Zemla"."path", "Zemla"."name", "Zemla"."intensity", "Zemla"."note", "Zemla"."created_at", "Zemla"."updated_at", "Zemla"."deleted_at", "Zemla"."parent_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Zemla" AS "Zemla" LEFT OUTER JOIN "File" AS "attachments" ON "Zemla"."id" = "attachments"."zemla_id" AND "attachments"."deleted_at" IS NULL WHERE ("Zemla"."deleted_at" IS NULL AND "Zemla"."id" = 2);
[2016-09-10 17:10:50.674] [ INFO] console - [ 16,
  2678699577049088,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id2.voiskoChange',
  [],
  { voiskoSize: 2 } ]
[2016-09-10 17:10:50.684] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 243);
[2016-09-10 17:10:50.688] [ INFO] console - Executing (64429d68-df1c-412c-800f-90c30a6afe35): COMMIT;
[2016-09-10 17:10:50.692] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"+1
                                where
                                    '/2/243/' like path||id||'/%'
[2016-09-10 17:10:50.692] [ INFO] console - [ 70,
  1720,
  {},
  [ { fullPath: 'null2/',
      id: '2',
      path: null,
      name: 'UnitTest2',
      intensity: 1000,
      note: 'unit test 1473505807871',
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Sat Sep 10 2016 16:10:08 GMT+0500 (YEKT),
      deleted_at: null,
      parent_id: '1',
      attachments: [] } ] ]
[2016-09-10 17:10:50.710] [ INFO] console - Executing (default): INSERT INTO "Kopnik" ("id","name","surname","patronymic","voiskoSize","birth","path","created_at","updated_at","rodina_id","starshina_id") VALUES (DEFAULT,'temp','temp','temp',0,1900,'/2/243/','2016-09-10 12:10:50.658 +00:00','2016-09-10 12:10:50.658 +00:00',NULL,243) RETURNING *;
[2016-09-10 17:10:50.717] [ INFO] console - Executing (42103a69-efcf-4e68-a74f-fa4b1ea6dd64): COMMIT;
[2016-09-10 17:10:50.719] [ INFO] console - [ 70, 1721, {}, [ '244' ] ]
[2016-09-10 17:10:50.736] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/243/' like k.path||k.id||'/%'
[2016-09-10 17:10:50.744] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2', '243')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 17:10:50.754] [ INFO] console - [ 16,
  2538196051165184,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id243.voiskoChange',
  [],
  { voiskoSize: 1 } ]
[2016-09-10 17:10:50.759] [ INFO] console - [ 16,
  3183862802808832,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id2.voiskoChange',
  [],
  { voiskoSize: 3 } ]
[2016-09-10 17:10:50.768] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 4 }
[2016-09-10 17:10:50.771] [ INFO] console - Executing (5919532b-7c50-4196-bd26-97d4bf221b44): START TRANSACTION;
[2016-09-10 17:10:50.773] [ INFO] console - Executing (5919532b-7c50-4196-bd26-97d4bf221b44): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 17:10:50.779] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 4);
[2016-09-10 17:10:50.790] [ INFO] console - Executing (5919532b-7c50-4196-bd26-97d4bf221b44): COMMIT;
[2016-09-10 17:10:50.791] [ INFO] console - [ 70,
  1722,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/4/',
      starshina: [Object],
      id: '4',
      email: 'unittest4@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '4',
      voiskoSize: 0,
      birth: 1983,
      path: '/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: null,
      attachments: [] } ] ]
[2016-09-10 17:10:50.804] [ INFO] console - Executing (c3f04569-e1f1-41be-9a3f-69f21be5bff0): START TRANSACTION;
[2016-09-10 17:10:50.805] [ INFO] console - Executing (c3f04569-e1f1-41be-9a3f-69f21be5bff0): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 17:10:50.813] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 243);
[2016-09-10 17:10:50.827] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 4);
[2016-09-10 17:10:50.831] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/' like k.path||k.id||'/%'
[2016-09-10 17:10:50.837] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 17:10:50.847] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"-2
                                where
                                    '/2/' like path||id||'/%'
[2016-09-10 17:10:50.856] [ INFO] console - Executing (default): UPDATE "Kopnik" SET "path"='/4/',"starshina_id"='4',"updated_at"='2016-09-10 12:10:50.850 +00:00' WHERE "id" = '243'
[2016-09-10 17:10:50.858] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"+2
                                where
                                    '/4/' like path||id||'/%'
[2016-09-10 17:10:50.864] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."starshina_id" = '243');
[2016-09-10 17:10:50.879] [ INFO] console - Executing (default): UPDATE "Kopnik" SET "path"='/4/243/',"updated_at"='2016-09-10 12:10:50.871 +00:00' WHERE "id" = '244'
[2016-09-10 17:10:50.882] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/4/' like k.path||k.id||'/%'
[2016-09-10 17:10:50.888] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('4')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 17:10:50.895] [ INFO] console - Executing (c3f04569-e1f1-41be-9a3f-69f21be5bff0): COMMIT;
[2016-09-10 17:10:50.896] [ INFO] console - [ 70, 1723, {}, [ undefined ] ]
[2016-09-10 17:10:50.900] [ INFO] console - [ 16,
  5317895286423552,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id2.voiskoChange',
  [],
  { voiskoSize: 1 } ]
[2016-09-10 17:10:50.908] [ INFO] console - [ 16,
  6975433012674560,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id4.voiskoChange',
  [],
  { voiskoSize: 2 } ]
[2016-09-10 17:11:30.351] [ INFO] console - [ 70, 1725, {}, [ undefined ] ]
[2016-09-10 17:11:30.361] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 2 }
[2016-09-10 17:11:30.369] [ INFO] console - Executing (default): delete from "Kopnik"
                where
                    name like '%temp'
[2016-09-10 17:11:30.373] [ INFO] console - Executing (e599dc37-81c9-426a-ab73-054d28a40896): START TRANSACTION;
[2016-09-10 17:11:30.376] [ INFO] console - Executing (e599dc37-81c9-426a-ab73-054d28a40896): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 17:11:30.386] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 2);
[2016-09-10 17:11:30.392] [ INFO] console - Executing (default): update "Kopnik"
                set 
                    "voiskoSize"= case when id=2 then 1 ELSE 0 END
                where
                    id>1 
                    and id<=5
[2016-09-10 17:11:30.397] [ INFO] console - Executing (e599dc37-81c9-426a-ab73-054d28a40896): COMMIT;
[2016-09-10 17:11:30.398] [ INFO] console - [ 70,
  1726,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/2/',
      starshina: [Object],
      id: '2',
      email: 'unittest2@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '1',
      voiskoSize: 1,
      birth: 1983,
      path: '/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: null,
      attachments: [] } ] ]
[2016-09-10 17:11:30.421] [ INFO] console - Executing (33244395-262a-42e8-b371-efaaa597305a): START TRANSACTION;
[2016-09-10 17:11:30.424] [ INFO] console - Executing (33244395-262a-42e8-b371-efaaa597305a): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 17:11:30.434] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 2);
[2016-09-10 17:11:30.439] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"+1
                                where
                                    '/2/' like path||id||'/%'
[2016-09-10 17:11:30.468] [ INFO] console - Executing (default): INSERT INTO "Kopnik" ("id","name","surname","patronymic","voiskoSize","birth","path","created_at","updated_at","rodina_id","starshina_id") VALUES (DEFAULT,'temp','temp','temp',0,1900,'/2/','2016-09-10 12:11:30.425 +00:00','2016-09-10 12:11:30.425 +00:00',NULL,2) RETURNING *;
[2016-09-10 17:11:30.495] [ INFO] console - Executing (33244395-262a-42e8-b371-efaaa597305a): COMMIT;
[2016-09-10 17:11:30.504] [ INFO] console - [ 70, 1727, {}, [ '245' ] ]
[2016-09-10 17:11:30.523] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/' like k.path||k.id||'/%'
[2016-09-10 17:11:30.537] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Zemla', id: 2 }
[2016-09-10 17:11:30.554] [ INFO] console - Executing (c6ca23e3-966f-4f44-98d7-2f77867da0c9): START TRANSACTION;
[2016-09-10 17:11:30.564] [ INFO] console - Executing (21b8161e-e5b1-465c-8ee9-a6bc5e2b3d2d): START TRANSACTION;
[2016-09-10 17:11:30.587] [ INFO] console - Executing (c6ca23e3-966f-4f44-98d7-2f77867da0c9): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 17:11:30.588] [ INFO] console - Executing (21b8161e-e5b1-465c-8ee9-a6bc5e2b3d2d): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 17:11:30.593] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 17:11:30.609] [ INFO] console - [ 16,
  6170831742828544,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id2.voiskoChange',
  [],
  { voiskoSize: 2 } ]
[2016-09-10 17:11:30.637] [ INFO] console - Executing (default): SELECT "Zemla"."id", "Zemla"."path", "Zemla"."name", "Zemla"."intensity", "Zemla"."note", "Zemla"."created_at", "Zemla"."updated_at", "Zemla"."deleted_at", "Zemla"."parent_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Zemla" AS "Zemla" LEFT OUTER JOIN "File" AS "attachments" ON "Zemla"."id" = "attachments"."zemla_id" AND "attachments"."deleted_at" IS NULL WHERE ("Zemla"."deleted_at" IS NULL AND "Zemla"."id" = 2);
[2016-09-10 17:11:30.665] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 245);
[2016-09-10 17:11:30.677] [ INFO] console - Executing (c6ca23e3-966f-4f44-98d7-2f77867da0c9): COMMIT;
[2016-09-10 17:11:30.693] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"+1
                                where
                                    '/2/245/' like path||id||'/%'
[2016-09-10 17:11:30.716] [ INFO] console - [ 70,
  1728,
  {},
  [ { fullPath: 'null2/',
      id: '2',
      path: null,
      name: 'UnitTest2',
      intensity: 1000,
      note: 'unit test 1473505807871',
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Sat Sep 10 2016 16:10:08 GMT+0500 (YEKT),
      deleted_at: null,
      parent_id: '1',
      attachments: [] } ] ]
[2016-09-10 17:11:30.788] [ INFO] console - Executing (default): INSERT INTO "Kopnik" ("id","name","surname","patronymic","voiskoSize","birth","path","created_at","updated_at","rodina_id","starshina_id") VALUES (DEFAULT,'temp','temp','temp',0,1900,'/2/245/','2016-09-10 12:11:30.608 +00:00','2016-09-10 12:11:30.608 +00:00',NULL,245) RETURNING *;
[2016-09-10 17:11:30.799] [ INFO] console - Executing (21b8161e-e5b1-465c-8ee9-a6bc5e2b3d2d): COMMIT;
[2016-09-10 17:11:30.822] [ INFO] console - [ 70, 1729, {}, [ '246' ] ]
[2016-09-10 17:11:30.830] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/245/' like k.path||k.id||'/%'
[2016-09-10 17:11:30.860] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2', '245')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 17:11:30.923] [ INFO] console - [ 16,
  7382449547902976,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id245.voiskoChange',
  [],
  { voiskoSize: 1 } ]
[2016-09-10 17:11:30.931] [ INFO] console - [ 16,
  8417320305164288,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id2.voiskoChange',
  [],
  { voiskoSize: 3 } ]
[2016-09-10 17:11:30.952] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 4 }
[2016-09-10 17:11:30.962] [ INFO] console - Executing (ca685e81-2be8-489d-8c15-4b6def754525): START TRANSACTION;
[2016-09-10 17:11:30.977] [ INFO] console - Executing (ca685e81-2be8-489d-8c15-4b6def754525): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 17:11:31.008] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 4);
[2016-09-10 17:11:31.018] [ INFO] console - Executing (ca685e81-2be8-489d-8c15-4b6def754525): COMMIT;
[2016-09-10 17:11:31.026] [ INFO] console - [ 70,
  1730,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/4/',
      starshina: [Object],
      id: '4',
      email: 'unittest4@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '4',
      voiskoSize: 0,
      birth: 1983,
      path: '/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: null,
      attachments: [] } ] ]
[2016-09-10 17:11:31.076] [ INFO] console - Executing (1b0fd786-8f41-4c35-9a2d-7973ff1ee893): START TRANSACTION;
[2016-09-10 17:11:31.078] [ INFO] console - Executing (1b0fd786-8f41-4c35-9a2d-7973ff1ee893): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 17:11:31.112] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 245);
[2016-09-10 17:11:31.146] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 4);
[2016-09-10 17:11:31.159] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/' like k.path||k.id||'/%'
[2016-09-10 17:11:31.178] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 17:11:31.512] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"-2
                                where
                                    '/2/' like path||id||'/%'
[2016-09-10 17:11:31.532] [ INFO] console - Executing (default): UPDATE "Kopnik" SET "path"='/4/',"starshina_id"='4',"updated_at"='2016-09-10 12:11:31.519 +00:00' WHERE "id" = '245'
[2016-09-10 17:11:31.535] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"+2
                                where
                                    '/4/' like path||id||'/%'
[2016-09-10 17:11:31.541] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."starshina_id" = '245');
[2016-09-10 17:11:31.561] [ INFO] console - Executing (default): UPDATE "Kopnik" SET "path"='/4/245/',"updated_at"='2016-09-10 12:11:31.552 +00:00' WHERE "id" = '246'
[2016-09-10 17:11:31.572] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/4/' like k.path||k.id||'/%'
[2016-09-10 17:11:31.613] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('4')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 17:11:31.630] [ INFO] console - Executing (1b0fd786-8f41-4c35-9a2d-7973ff1ee893): COMMIT;
[2016-09-10 17:11:31.640] [ INFO] console - [ 70, 1731, {}, [ undefined ] ]
[2016-09-10 17:11:31.740] [ INFO] console - [ 16,
  1189296650321920,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id2.voiskoChange',
  [],
  { voiskoSize: 1 } ]
[2016-09-10 17:11:31.759] [ INFO] console - [ 16,
  4290392539267072,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id4.voiskoChange',
  [],
  { voiskoSize: 2 } ]
[2016-09-10 17:13:32.859] [ INFO] console - [ 70, 1733, {}, [ undefined ] ]
[2016-09-10 17:13:32.891] [ INFO] console - Executing (default): delete from "Kopnik"
                where
                    name like '%temp'
[2016-09-10 17:13:32.897] [ INFO] console - Executing (default): update "Kopnik"
                set 
                    "voiskoSize"= case when id=2 then 1 ELSE 0 END
                where
                    id>1 
                    and id<=5
[2016-09-10 17:13:33.069] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 2 }
[2016-09-10 17:13:33.078] [ INFO] console - Executing (115fe572-e8f4-4f14-990f-e9ae4cb016b3): START TRANSACTION;
[2016-09-10 17:13:33.081] [ INFO] console - Executing (115fe572-e8f4-4f14-990f-e9ae4cb016b3): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 17:13:33.130] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 2);
[2016-09-10 17:13:33.152] [ INFO] console - Executing (115fe572-e8f4-4f14-990f-e9ae4cb016b3): COMMIT;
[2016-09-10 17:13:33.157] [ INFO] console - [ 70,
  1734,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/2/',
      starshina: [Object],
      id: '2',
      email: 'unittest2@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '1',
      voiskoSize: 1,
      birth: 1983,
      path: '/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: null,
      attachments: [] } ] ]
[2016-09-10 17:13:33.199] [ INFO] console - Executing (ad0bbdb5-6747-4e07-b221-389b97cf36f5): START TRANSACTION;
[2016-09-10 17:13:33.200] [ INFO] console - Executing (ad0bbdb5-6747-4e07-b221-389b97cf36f5): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 17:13:33.219] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 2);
[2016-09-10 17:13:33.232] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"+1
                                where
                                    '/2/' like path||id||'/%'
[2016-09-10 17:13:33.244] [ INFO] console - Executing (default): INSERT INTO "Kopnik" ("id","name","surname","patronymic","voiskoSize","birth","path","created_at","updated_at","rodina_id","starshina_id") VALUES (DEFAULT,'temp','temp','temp',0,1900,'/2/','2016-09-10 12:13:33.205 +00:00','2016-09-10 12:13:33.205 +00:00',NULL,2) RETURNING *;
[2016-09-10 17:13:33.251] [ INFO] console - Executing (ad0bbdb5-6747-4e07-b221-389b97cf36f5): COMMIT;
[2016-09-10 17:13:33.253] [ INFO] console - [ 70, 1735, {}, [ '247' ] ]
[2016-09-10 17:13:33.262] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/' like k.path||k.id||'/%'
[2016-09-10 17:13:33.267] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Zemla', id: 2 }
[2016-09-10 17:13:33.274] [ INFO] console - Executing (4e0e8e90-3a97-4a2c-870c-8f46a9a1f1af): START TRANSACTION;
[2016-09-10 17:13:33.274] [ INFO] console - Executing (bd8df7a8-c43c-473b-aca3-292093f0b616): START TRANSACTION;
[2016-09-10 17:13:33.290] [ INFO] console - Executing (4e0e8e90-3a97-4a2c-870c-8f46a9a1f1af): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 17:13:33.292] [ INFO] console - Executing (bd8df7a8-c43c-473b-aca3-292093f0b616): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 17:13:33.333] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 17:13:33.345] [ INFO] console - Executing (default): SELECT "Zemla"."id", "Zemla"."path", "Zemla"."name", "Zemla"."intensity", "Zemla"."note", "Zemla"."created_at", "Zemla"."updated_at", "Zemla"."deleted_at", "Zemla"."parent_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Zemla" AS "Zemla" LEFT OUTER JOIN "File" AS "attachments" ON "Zemla"."id" = "attachments"."zemla_id" AND "attachments"."deleted_at" IS NULL WHERE ("Zemla"."deleted_at" IS NULL AND "Zemla"."id" = 2);
[2016-09-10 17:13:33.346] [ INFO] console - [ 16,
  3941280094617600,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id2.voiskoChange',
  [],
  { voiskoSize: 2 } ]
[2016-09-10 17:13:33.366] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 247);
[2016-09-10 17:13:33.373] [ INFO] console - Executing (4e0e8e90-3a97-4a2c-870c-8f46a9a1f1af): COMMIT;
[2016-09-10 17:13:33.397] [ INFO] console - [ 70,
  1736,
  {},
  [ { fullPath: 'null2/',
      id: '2',
      path: null,
      name: 'UnitTest2',
      intensity: 1000,
      note: 'unit test 1473505807871',
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Sat Sep 10 2016 16:10:08 GMT+0500 (YEKT),
      deleted_at: null,
      parent_id: '1',
      attachments: [] } ] ]
[2016-09-10 17:13:33.413] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"+1
                                where
                                    '/2/247/' like path||id||'/%'
[2016-09-10 17:13:33.422] [ INFO] console - Executing (default): INSERT INTO "Kopnik" ("id","name","surname","patronymic","voiskoSize","birth","path","created_at","updated_at","rodina_id","starshina_id") VALUES (DEFAULT,'temp','temp','temp',0,1900,'/2/247/','2016-09-10 12:13:33.297 +00:00','2016-09-10 12:13:33.297 +00:00',NULL,247) RETURNING *;
[2016-09-10 17:13:33.436] [ INFO] console - Executing (bd8df7a8-c43c-473b-aca3-292093f0b616): COMMIT;
[2016-09-10 17:13:33.438] [ INFO] console - [ 70, 1737, {}, [ '248' ] ]
[2016-09-10 17:13:33.443] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/247/' like k.path||k.id||'/%'
[2016-09-10 17:13:33.471] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2', '247')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 17:13:33.478] [ INFO] console - [ 16,
  2924122784923648,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id247.voiskoChange',
  [],
  { voiskoSize: 1 } ]
[2016-09-10 17:13:33.486] [ INFO] console - [ 16,
  1151313670832128,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id2.voiskoChange',
  [],
  { voiskoSize: 3 } ]
[2016-09-10 17:13:33.496] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 4 }
[2016-09-10 17:13:33.596] [ INFO] console - Executing (8c2c31f0-4757-4c6a-9f84-02ec9d23f7d9): START TRANSACTION;
[2016-09-10 17:13:33.600] [ INFO] console - Executing (8c2c31f0-4757-4c6a-9f84-02ec9d23f7d9): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 17:13:33.638] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 4);
[2016-09-10 17:13:33.652] [ INFO] console - Executing (8c2c31f0-4757-4c6a-9f84-02ec9d23f7d9): COMMIT;
[2016-09-10 17:13:33.656] [ INFO] console - [ 70,
  1738,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/4/',
      starshina: [Object],
      id: '4',
      email: 'unittest4@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '4',
      voiskoSize: 0,
      birth: 1983,
      path: '/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: null,
      attachments: [] } ] ]
[2016-09-10 17:13:33.692] [ INFO] console - Executing (17fe3c19-ab06-43b9-a05d-e8c3ca35ade3): START TRANSACTION;
[2016-09-10 17:13:33.696] [ INFO] console - Executing (17fe3c19-ab06-43b9-a05d-e8c3ca35ade3): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 17:13:33.710] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 247);
[2016-09-10 17:13:33.720] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 4);
[2016-09-10 17:13:33.725] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/' like k.path||k.id||'/%'
[2016-09-10 17:13:33.750] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 17:13:33.757] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"-2
                                where
                                    '/2/' like path||id||'/%'
[2016-09-10 17:13:33.780] [ INFO] console - Executing (default): UPDATE "Kopnik" SET "path"='/4/',"starshina_id"='4',"updated_at"='2016-09-10 12:13:33.760 +00:00' WHERE "id" = '247'
[2016-09-10 17:13:33.785] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"+2
                                where
                                    '/4/' like path||id||'/%'
[2016-09-10 17:13:33.800] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."starshina_id" = '247');
[2016-09-10 17:13:33.830] [ INFO] console - Executing (default): UPDATE "Kopnik" SET "path"='/4/247/',"updated_at"='2016-09-10 12:13:33.809 +00:00' WHERE "id" = '248'
[2016-09-10 17:13:33.842] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/4/' like k.path||k.id||'/%'
[2016-09-10 17:13:33.860] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('4')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 17:13:33.865] [ INFO] console - Executing (17fe3c19-ab06-43b9-a05d-e8c3ca35ade3): COMMIT;
[2016-09-10 17:13:33.870] [ INFO] console - [ 70, 1739, {}, [ undefined ] ]
[2016-09-10 17:13:33.873] [ INFO] console - [ 16,
  2895105784545280,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id2.voiskoChange',
  [],
  { voiskoSize: 1 } ]
[2016-09-10 17:13:33.915] [ INFO] console - [ 16,
  755611906080768,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id4.voiskoChange',
  [],
  { voiskoSize: 2 } ]
[2016-09-10 17:14:03.716] [ INFO] console - [ 70, 1741, {}, [ undefined ] ]
[2016-09-10 17:14:03.726] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 2 }
[2016-09-10 17:14:03.784] [ INFO] console - Executing (default): delete from "Kopnik"
                where
                    name like '%temp'
[2016-09-10 17:14:03.795] [ INFO] console - Executing (80612f15-02b3-4b09-83ca-f8764cbaed1a): START TRANSACTION;
[2016-09-10 17:14:03.798] [ INFO] console - Executing (default): update "Kopnik"
                set 
                    "voiskoSize"= case when id=2 then 1 ELSE 0 END
                where
                    id>1 
                    and id<=5
[2016-09-10 17:14:03.799] [ INFO] console - Executing (80612f15-02b3-4b09-83ca-f8764cbaed1a): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 17:14:03.813] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 2);
[2016-09-10 17:14:03.833] [ INFO] console - Executing (80612f15-02b3-4b09-83ca-f8764cbaed1a): COMMIT;
[2016-09-10 17:14:03.834] [ INFO] console - [ 70,
  1742,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/2/',
      starshina: [Object],
      id: '2',
      email: 'unittest2@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '1',
      voiskoSize: 1,
      birth: 1983,
      path: '/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: null,
      attachments: [] } ] ]
[2016-09-10 17:14:03.857] [ INFO] console - Executing (9f6ccb33-1ca8-4e9d-ad26-4cddd7db7ade): START TRANSACTION;
[2016-09-10 17:14:03.858] [ INFO] console - Executing (9f6ccb33-1ca8-4e9d-ad26-4cddd7db7ade): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 17:14:03.881] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 2);
[2016-09-10 17:14:03.886] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"+1
                                where
                                    '/2/' like path||id||'/%'
[2016-09-10 17:14:03.915] [ INFO] console - Executing (default): INSERT INTO "Kopnik" ("id","name","surname","patronymic","voiskoSize","birth","path","created_at","updated_at","rodina_id","starshina_id") VALUES (DEFAULT,'temp','temp','temp',0,1900,'/2/','2016-09-10 12:14:03.867 +00:00','2016-09-10 12:14:03.867 +00:00',NULL,2) RETURNING *;
[2016-09-10 17:14:03.932] [ INFO] console - Executing (9f6ccb33-1ca8-4e9d-ad26-4cddd7db7ade): COMMIT;
[2016-09-10 17:14:03.936] [ INFO] console - [ 70, 1743, {}, [ '249' ] ]
[2016-09-10 17:14:03.947] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/' like k.path||k.id||'/%'
[2016-09-10 17:14:03.953] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Zemla', id: 2 }
[2016-09-10 17:14:03.959] [ INFO] console - Executing (9ab2280b-7920-4315-aae9-2f9973cc7d8c): START TRANSACTION;
[2016-09-10 17:14:03.960] [ INFO] console - Executing (4c6ccb14-6397-4446-94f6-676f32200170): START TRANSACTION;
[2016-09-10 17:14:03.970] [ INFO] console - Executing (9ab2280b-7920-4315-aae9-2f9973cc7d8c): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 17:14:03.970] [ INFO] console - Executing (4c6ccb14-6397-4446-94f6-676f32200170): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 17:14:04.037] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 17:14:04.045] [ INFO] console - Executing (default): SELECT "Zemla"."id", "Zemla"."path", "Zemla"."name", "Zemla"."intensity", "Zemla"."note", "Zemla"."created_at", "Zemla"."updated_at", "Zemla"."deleted_at", "Zemla"."parent_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Zemla" AS "Zemla" LEFT OUTER JOIN "File" AS "attachments" ON "Zemla"."id" = "attachments"."zemla_id" AND "attachments"."deleted_at" IS NULL WHERE ("Zemla"."deleted_at" IS NULL AND "Zemla"."id" = 2);
[2016-09-10 17:14:04.046] [ INFO] console - [ 16,
  917867109285888,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id2.voiskoChange',
  [],
  { voiskoSize: 2 } ]
[2016-09-10 17:14:04.063] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 249);
[2016-09-10 17:14:04.078] [ INFO] console - Executing (9ab2280b-7920-4315-aae9-2f9973cc7d8c): COMMIT;
[2016-09-10 17:14:04.084] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"+1
                                where
                                    '/2/249/' like path||id||'/%'
[2016-09-10 17:14:04.087] [ INFO] console - [ 70,
  1744,
  {},
  [ { fullPath: 'null2/',
      id: '2',
      path: null,
      name: 'UnitTest2',
      intensity: 1000,
      note: 'unit test 1473505807871',
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Sat Sep 10 2016 16:10:08 GMT+0500 (YEKT),
      deleted_at: null,
      parent_id: '1',
      attachments: [] } ] ]
[2016-09-10 17:14:04.106] [ INFO] console - Executing (default): INSERT INTO "Kopnik" ("id","name","surname","patronymic","voiskoSize","birth","path","created_at","updated_at","rodina_id","starshina_id") VALUES (DEFAULT,'temp','temp','temp',0,1900,'/2/249/','2016-09-10 12:14:03.974 +00:00','2016-09-10 12:14:03.974 +00:00',NULL,249) RETURNING *;
[2016-09-10 17:14:04.113] [ INFO] console - Executing (4c6ccb14-6397-4446-94f6-676f32200170): COMMIT;
[2016-09-10 17:14:04.118] [ INFO] console - [ 70, 1745, {}, [ '250' ] ]
[2016-09-10 17:14:04.122] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/249/' like k.path||k.id||'/%'
[2016-09-10 17:14:04.150] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2', '249')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 17:14:04.175] [ INFO] console - [ 16,
  2452142812037120,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id249.voiskoChange',
  [],
  { voiskoSize: 1 } ]
[2016-09-10 17:14:04.193] [ INFO] console - [ 16,
  3961384612134912,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id2.voiskoChange',
  [],
  { voiskoSize: 3 } ]
[2016-09-10 17:14:38.320] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 4 }
[2016-09-10 17:14:38.336] [ INFO] console - Executing (b02d978a-b8b0-4d41-b05b-76e2cbd989f3): START TRANSACTION;
[2016-09-10 17:14:38.338] [ INFO] console - Executing (b02d978a-b8b0-4d41-b05b-76e2cbd989f3): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 17:14:38.359] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 4);
[2016-09-10 17:14:38.376] [ INFO] console - Executing (b02d978a-b8b0-4d41-b05b-76e2cbd989f3): COMMIT;
[2016-09-10 17:14:38.378] [ INFO] console - [ 70,
  1746,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/4/',
      starshina: [Object],
      id: '4',
      email: 'unittest4@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '4',
      voiskoSize: 0,
      birth: 1983,
      path: '/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: null,
      attachments: [] } ] ]
[2016-09-10 17:14:38.400] [ INFO] console - Executing (b10b1b84-5f05-455f-bfdf-5da50d547d0d): START TRANSACTION;
[2016-09-10 17:14:38.404] [ INFO] console - Executing (b10b1b84-5f05-455f-bfdf-5da50d547d0d): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 17:14:38.408] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 249);
[2016-09-10 17:14:38.417] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 4);
[2016-09-10 17:14:38.431] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/' like k.path||k.id||'/%'
[2016-09-10 17:14:38.438] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 17:14:38.442] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"-2
                                where
                                    '/2/' like path||id||'/%'
[2016-09-10 17:14:38.459] [ INFO] console - Executing (default): UPDATE "Kopnik" SET "path"='/4/',"starshina_id"='4',"updated_at"='2016-09-10 12:14:38.444 +00:00' WHERE "id" = '249'
[2016-09-10 17:14:38.467] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"+2
                                where
                                    '/4/' like path||id||'/%'
[2016-09-10 17:14:38.478] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."starshina_id" = '249');
[2016-09-10 17:14:38.495] [ INFO] console - Executing (default): UPDATE "Kopnik" SET "path"='/4/249/',"updated_at"='2016-09-10 12:14:38.481 +00:00' WHERE "id" = '250'
[2016-09-10 17:14:38.500] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/4/' like k.path||k.id||'/%'
[2016-09-10 17:14:38.511] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('4')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 17:14:38.516] [ INFO] console - Executing (b10b1b84-5f05-455f-bfdf-5da50d547d0d): COMMIT;
[2016-09-10 17:14:38.519] [ INFO] console - [ 70, 1747, {}, [ undefined ] ]
[2016-09-10 17:14:38.522] [ INFO] console - [ 16,
  7476446490525696,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id2.voiskoChange',
  [],
  { voiskoSize: 1 } ]
[2016-09-10 17:14:38.528] [ INFO] console - [ 16,
  649149810737152,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id4.voiskoChange',
  [],
  { voiskoSize: 2 } ]
[2016-09-10 17:14:49.206] [ INFO] console - [ 70, 1749, {}, [ undefined ] ]
[2016-09-10 17:14:49.211] [ INFO] console - Executing (default): delete from "Kopnik"
                where
                    name like '%temp'
[2016-09-10 17:14:49.218] [ INFO] console - Executing (default): update "Kopnik"
                set 
                    "voiskoSize"= case when id=2 then 1 ELSE 0 END
                where
                    id>1 
                    and id<=5
[2016-09-10 17:14:49.220] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 2 }
[2016-09-10 17:14:49.224] [ INFO] console - Executing (2e343ed2-5f71-46f2-89af-699c1b9ea4d0): START TRANSACTION;
[2016-09-10 17:14:49.237] [ INFO] console - Executing (2e343ed2-5f71-46f2-89af-699c1b9ea4d0): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 17:14:49.257] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 2);
[2016-09-10 17:14:49.284] [ INFO] console - Executing (2e343ed2-5f71-46f2-89af-699c1b9ea4d0): COMMIT;
[2016-09-10 17:14:49.286] [ INFO] console - [ 70,
  1750,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/2/',
      starshina: [Object],
      id: '2',
      email: 'unittest2@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '1',
      voiskoSize: 1,
      birth: 1983,
      path: '/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: null,
      attachments: [] } ] ]
[2016-09-10 17:14:49.330] [ INFO] console - Executing (1fee2923-fa4d-47c2-ac58-fa282dee0f6f): START TRANSACTION;
[2016-09-10 17:14:49.339] [ INFO] console - Executing (1fee2923-fa4d-47c2-ac58-fa282dee0f6f): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 17:14:49.365] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 2);
[2016-09-10 17:14:49.375] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"+1
                                where
                                    '/2/' like path||id||'/%'
[2016-09-10 17:14:49.395] [ INFO] console - Executing (default): INSERT INTO "Kopnik" ("id","name","surname","patronymic","voiskoSize","birth","path","created_at","updated_at","rodina_id","starshina_id") VALUES (DEFAULT,'temp','temp','temp',0,1900,'/2/','2016-09-10 12:14:49.349 +00:00','2016-09-10 12:14:49.349 +00:00',NULL,2) RETURNING *;
[2016-09-10 17:14:49.407] [ INFO] console - Executing (1fee2923-fa4d-47c2-ac58-fa282dee0f6f): COMMIT;
[2016-09-10 17:14:49.417] [ INFO] console - [ 70, 1751, {}, [ '251' ] ]
[2016-09-10 17:14:49.430] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/' like k.path||k.id||'/%'
[2016-09-10 17:14:49.447] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Zemla', id: 2 }
[2016-09-10 17:14:49.455] [ INFO] console - Executing (063aaed7-1080-4865-a99d-a7edc09c47da): START TRANSACTION;
[2016-09-10 17:14:49.455] [ INFO] console - Executing (41ed4f18-0d21-40ee-9022-736230a4950a): START TRANSACTION;
[2016-09-10 17:14:49.460] [ INFO] console - Executing (41ed4f18-0d21-40ee-9022-736230a4950a): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 17:14:49.466] [ INFO] console - Executing (063aaed7-1080-4865-a99d-a7edc09c47da): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 17:14:49.504] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 17:14:49.506] [ INFO] console - Executing (default): SELECT "Zemla"."id", "Zemla"."path", "Zemla"."name", "Zemla"."intensity", "Zemla"."note", "Zemla"."created_at", "Zemla"."updated_at", "Zemla"."deleted_at", "Zemla"."parent_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Zemla" AS "Zemla" LEFT OUTER JOIN "File" AS "attachments" ON "Zemla"."id" = "attachments"."zemla_id" AND "attachments"."deleted_at" IS NULL WHERE ("Zemla"."deleted_at" IS NULL AND "Zemla"."id" = 2);
[2016-09-10 17:14:49.511] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 251);
[2016-09-10 17:14:49.514] [ INFO] console - [ 16,
  1267725171163136,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id2.voiskoChange',
  [],
  { voiskoSize: 2 } ]
[2016-09-10 17:14:49.648] [ INFO] console - Executing (063aaed7-1080-4865-a99d-a7edc09c47da): COMMIT;
[2016-09-10 17:14:49.652] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"+1
                                where
                                    '/2/251/' like path||id||'/%'
[2016-09-10 17:14:49.655] [ INFO] console - [ 70,
  1752,
  {},
  [ { fullPath: 'null2/',
      id: '2',
      path: null,
      name: 'UnitTest2',
      intensity: 1000,
      note: 'unit test 1473505807871',
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Sat Sep 10 2016 16:10:08 GMT+0500 (YEKT),
      deleted_at: null,
      parent_id: '1',
      attachments: [] } ] ]
[2016-09-10 17:14:49.670] [ INFO] console - Executing (default): INSERT INTO "Kopnik" ("id","name","surname","patronymic","voiskoSize","birth","path","created_at","updated_at","rodina_id","starshina_id") VALUES (DEFAULT,'temp','temp','temp',0,1900,'/2/251/','2016-09-10 12:14:49.476 +00:00','2016-09-10 12:14:49.476 +00:00',NULL,251) RETURNING *;
[2016-09-10 17:14:49.678] [ INFO] console - Executing (41ed4f18-0d21-40ee-9022-736230a4950a): COMMIT;
[2016-09-10 17:14:49.679] [ INFO] console - [ 70, 1753, {}, [ '252' ] ]
[2016-09-10 17:14:49.697] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/251/' like k.path||k.id||'/%'
[2016-09-10 17:14:49.713] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2', '251')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 17:14:49.725] [ INFO] console - [ 16,
  6055476995293184,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id251.voiskoChange',
  [],
  { voiskoSize: 1 } ]
[2016-09-10 17:14:49.735] [ INFO] console - [ 16,
  2911709643669504,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id2.voiskoChange',
  [],
  { voiskoSize: 3 } ]
[2016-09-10 17:17:56.547] [ INFO] console - [ 70, 1755, {}, [ undefined ] ]
[2016-09-10 17:17:56.581] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 2 }
[2016-09-10 17:17:56.595] [ INFO] console - Executing (default): delete from "Kopnik"
                where
                    name like '%temp'
[2016-09-10 17:17:56.614] [ INFO] console - Executing (ae843e0e-ada5-4c97-9179-1d69979e201b): START TRANSACTION;
[2016-09-10 17:17:56.630] [ INFO] console - Executing (ae843e0e-ada5-4c97-9179-1d69979e201b): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 17:17:56.635] [ INFO] console - Executing (default): update "Kopnik"
                set 
                    "voiskoSize"= case when id=2 then 1 ELSE 0 END
                where
                    id>1 
                    and id<=5
[2016-09-10 17:17:56.689] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 2);
[2016-09-10 17:17:56.709] [ INFO] console - Executing (ae843e0e-ada5-4c97-9179-1d69979e201b): COMMIT;
[2016-09-10 17:17:56.721] [ INFO] console - [ 70,
  1756,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/2/',
      starshina: [Object],
      id: '2',
      email: 'unittest2@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '1',
      voiskoSize: 1,
      birth: 1983,
      path: '/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: null,
      attachments: [] } ] ]
[2016-09-10 17:17:57.369] [ INFO] console - Executing (6c69870b-c0b1-4cc5-be31-2594cfde36f2): START TRANSACTION;
[2016-09-10 17:17:57.387] [ INFO] console - Executing (6c69870b-c0b1-4cc5-be31-2594cfde36f2): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 17:17:57.434] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 2);
[2016-09-10 17:17:57.442] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"+1
                                where
                                    '/2/' like path||id||'/%'
[2016-09-10 17:17:57.448] [ INFO] console - Executing (default): INSERT INTO "Kopnik" ("id","name","surname","patronymic","voiskoSize","birth","path","created_at","updated_at","rodina_id","starshina_id") VALUES (DEFAULT,'temp','temp','temp',0,1900,'/2/','2016-09-10 12:17:57.403 +00:00','2016-09-10 12:17:57.403 +00:00',NULL,2) RETURNING *;
[2016-09-10 17:17:57.453] [ INFO] console - Executing (6c69870b-c0b1-4cc5-be31-2594cfde36f2): COMMIT;
[2016-09-10 17:17:57.454] [ INFO] console - [ 70, 1757, {}, [ '253' ] ]
[2016-09-10 17:17:57.462] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/' like k.path||k.id||'/%'
[2016-09-10 17:17:57.469] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 17:17:57.475] [ INFO] console - [ 16,
  7277350024642560,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id2.voiskoChange',
  [],
  { voiskoSize: 2 } ]
[2016-09-10 17:19:56.823] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 4 }
[2016-09-10 17:19:56.841] [ INFO] console - Executing (a859a530-7057-4283-b301-70fe1dd5ff86): START TRANSACTION;
[2016-09-10 17:19:56.865] [ INFO] console - Executing (a859a530-7057-4283-b301-70fe1dd5ff86): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 17:19:56.903] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 4);
[2016-09-10 17:19:56.924] [ INFO] console - Executing (a859a530-7057-4283-b301-70fe1dd5ff86): COMMIT;
[2016-09-10 17:19:56.930] [ INFO] console - [ 70,
  1758,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/4/',
      starshina: [Object],
      id: '4',
      email: 'unittest4@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '4',
      voiskoSize: 0,
      birth: 1983,
      path: '/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: null,
      attachments: [] } ] ]
[2016-09-10 17:20:00.767] [ INFO] console - [ 70, 1760, {}, [ undefined ] ]
[2016-09-10 17:20:00.782] [ INFO] console - Executing (default): delete from "Kopnik"
                where
                    name like '%temp'
[2016-09-10 17:20:00.783] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 2 }
[2016-09-10 17:20:00.794] [ INFO] console - Executing (b820523e-4c8d-4f9f-9055-53793e3e9fca): START TRANSACTION;
[2016-09-10 17:20:00.799] [ INFO] console - Executing (default): update "Kopnik"
                set 
                    "voiskoSize"= case when id=2 then 1 ELSE 0 END
                where
                    id>1 
                    and id<=5
[2016-09-10 17:20:00.800] [ INFO] console - Executing (b820523e-4c8d-4f9f-9055-53793e3e9fca): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 17:20:00.815] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 2);
[2016-09-10 17:20:00.836] [ INFO] console - Executing (b820523e-4c8d-4f9f-9055-53793e3e9fca): COMMIT;
[2016-09-10 17:20:00.838] [ INFO] console - [ 70,
  1761,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/2/',
      starshina: [Object],
      id: '2',
      email: 'unittest2@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '1',
      voiskoSize: 1,
      birth: 1983,
      path: '/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: null,
      attachments: [] } ] ]
[2016-09-10 17:20:00.865] [ INFO] console - Executing (4ffd9263-6e4e-4e7b-8bb2-deb13bf5b24d): START TRANSACTION;
[2016-09-10 17:20:00.875] [ INFO] console - Executing (4ffd9263-6e4e-4e7b-8bb2-deb13bf5b24d): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 17:20:00.901] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 2);
[2016-09-10 17:20:00.911] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"+1
                                where
                                    '/2/' like path||id||'/%'
[2016-09-10 17:20:00.925] [ INFO] console - Executing (default): INSERT INTO "Kopnik" ("id","name","surname","patronymic","voiskoSize","birth","path","created_at","updated_at","rodina_id","starshina_id") VALUES (DEFAULT,'temp','temp','temp',0,1900,'/2/','2016-09-10 12:20:00.888 +00:00','2016-09-10 12:20:00.888 +00:00',NULL,2) RETURNING *;
[2016-09-10 17:20:00.939] [ INFO] console - Executing (4ffd9263-6e4e-4e7b-8bb2-deb13bf5b24d): COMMIT;
[2016-09-10 17:20:00.946] [ INFO] console - [ 70, 1762, {}, [ '254' ] ]
[2016-09-10 17:20:00.963] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/' like k.path||k.id||'/%'
[2016-09-10 17:20:00.995] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 17:20:01.012] [ INFO] console - [ 16,
  4511852331532288,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id2.voiskoChange',
  [],
  { voiskoSize: 2 } ]
[2016-09-10 17:21:01.243] [ INFO] console - [ 70, 1764, {}, [ undefined ] ]
[2016-09-10 17:21:01.264] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 2 }
[2016-09-10 17:21:01.273] [ INFO] console - Executing (default): delete from "Kopnik"
                where
                    name like '%temp'
[2016-09-10 17:21:01.278] [ INFO] console - Executing (51bb31df-05f9-43ff-9980-4e386b6867fa): START TRANSACTION;
[2016-09-10 17:21:01.288] [ INFO] console - Executing (51bb31df-05f9-43ff-9980-4e386b6867fa): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 17:21:01.297] [ INFO] console - Executing (default): update "Kopnik"
                set 
                    "voiskoSize"= case when id=2 then 1 ELSE 0 END
                where
                    id>1 
                    and id<=5
[2016-09-10 17:21:01.316] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 2);
[2016-09-10 17:21:01.348] [ INFO] console - Executing (51bb31df-05f9-43ff-9980-4e386b6867fa): COMMIT;
[2016-09-10 17:21:01.356] [ INFO] console - [ 70,
  1765,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/2/',
      starshina: [Object],
      id: '2',
      email: 'unittest2@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '1',
      voiskoSize: 1,
      birth: 1983,
      path: '/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: null,
      attachments: [] } ] ]
[2016-09-10 17:21:01.454] [ INFO] console - Executing (43ae8253-da80-49b9-8560-0f40ce154182): START TRANSACTION;
[2016-09-10 17:21:01.458] [ INFO] console - Executing (43ae8253-da80-49b9-8560-0f40ce154182): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 17:21:01.471] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 2);
[2016-09-10 17:21:01.494] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"+1
                                where
                                    '/2/' like path||id||'/%'
[2016-09-10 17:21:01.510] [ INFO] console - Executing (default): INSERT INTO "Kopnik" ("id","name","surname","patronymic","voiskoSize","birth","path","created_at","updated_at","rodina_id","starshina_id") VALUES (DEFAULT,'temp','temp','temp',0,1900,'/2/','2016-09-10 12:21:01.459 +00:00','2016-09-10 12:21:01.459 +00:00',NULL,2) RETURNING *;
[2016-09-10 17:21:01.519] [ INFO] console - Executing (43ae8253-da80-49b9-8560-0f40ce154182): COMMIT;
[2016-09-10 17:21:01.523] [ INFO] console - [ 70, 1766, {}, [ '255' ] ]
[2016-09-10 17:21:01.528] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/' like k.path||k.id||'/%'
[2016-09-10 17:21:01.548] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 17:21:01.556] [ INFO] console - [ 16,
  1560567185670144,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id2.voiskoChange',
  [],
  { voiskoSize: 2 } ]
[2016-09-10 17:21:43.369] [ INFO] console - [ 70, 1768, {}, [ undefined ] ]
[2016-09-10 17:21:43.379] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 2 }
[2016-09-10 17:21:43.409] [ INFO] console - Executing (default): delete from "Kopnik"
                where
                    name like '%temp'
[2016-09-10 17:21:43.412] [ INFO] console - Executing (d34c27eb-c24d-4f5c-b9b3-8e0230df6a9e): START TRANSACTION;
[2016-09-10 17:21:43.417] [ INFO] console - Executing (d34c27eb-c24d-4f5c-b9b3-8e0230df6a9e): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 17:21:43.422] [ INFO] console - Executing (default): update "Kopnik"
                set 
                    "voiskoSize"= case when id=2 then 1 ELSE 0 END
                where
                    id>1 
                    and id<=5
[2016-09-10 17:21:43.439] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 2);
[2016-09-10 17:21:43.449] [ INFO] console - Executing (d34c27eb-c24d-4f5c-b9b3-8e0230df6a9e): COMMIT;
[2016-09-10 17:21:43.452] [ INFO] console - [ 70,
  1769,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/2/',
      starshina: [Object],
      id: '2',
      email: 'unittest2@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '1',
      voiskoSize: 1,
      birth: 1983,
      path: '/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: null,
      attachments: [] } ] ]
[2016-09-10 17:21:43.471] [ INFO] console - Executing (3ea60532-87a1-48c9-90fd-b8feb041ef56): START TRANSACTION;
[2016-09-10 17:21:43.481] [ INFO] console - Executing (3ea60532-87a1-48c9-90fd-b8feb041ef56): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 17:21:43.496] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 2);
[2016-09-10 17:21:43.504] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"+1
                                where
                                    '/2/' like path||id||'/%'
[2016-09-10 17:21:43.513] [ INFO] console - Executing (default): INSERT INTO "Kopnik" ("id","name","surname","patronymic","voiskoSize","birth","path","created_at","updated_at","rodina_id","starshina_id") VALUES (DEFAULT,'temp','temp','temp',0,1900,'/2/','2016-09-10 12:21:43.482 +00:00','2016-09-10 12:21:43.482 +00:00',NULL,2) RETURNING *;
[2016-09-10 17:21:43.527] [ INFO] console - Executing (3ea60532-87a1-48c9-90fd-b8feb041ef56): COMMIT;
[2016-09-10 17:21:43.529] [ INFO] console - [ 70, 1770, {}, [ '256' ] ]
[2016-09-10 17:21:43.548] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/' like k.path||k.id||'/%'
[2016-09-10 17:21:43.570] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 17:21:43.582] [ INFO] console - [ 16,
  7587772330147840,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id2.voiskoChange',
  [],
  { voiskoSize: 2 } ]
[2016-09-10 17:22:47.828] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 4 }
[2016-09-10 17:22:47.850] [ INFO] console - Executing (936e989c-b495-41c5-bd61-04e67efccba4): START TRANSACTION;
[2016-09-10 17:22:47.854] [ INFO] console - Executing (936e989c-b495-41c5-bd61-04e67efccba4): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 17:22:47.880] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 4);
[2016-09-10 17:22:47.891] [ INFO] console - Executing (936e989c-b495-41c5-bd61-04e67efccba4): COMMIT;
[2016-09-10 17:22:47.894] [ INFO] console - [ 70,
  1771,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/4/',
      starshina: [Object],
      id: '4',
      email: 'unittest4@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '4',
      voiskoSize: 0,
      birth: 1983,
      path: '/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: null,
      attachments: [] } ] ]
[2016-09-10 17:22:52.396] [ INFO] console - [ 70, 1773, {}, [ undefined ] ]
[2016-09-10 17:22:52.404] [ INFO] console - Executing (default): delete from "Kopnik"
                where
                    name like '%temp'
[2016-09-10 17:22:52.414] [ INFO] console - Executing (default): update "Kopnik"
                set 
                    "voiskoSize"= case when id=2 then 1 ELSE 0 END
                where
                    id>1 
                    and id<=5
[2016-09-10 17:23:04.454] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 2 }
[2016-09-10 17:23:04.473] [ INFO] console - Executing (52c9b877-6259-4c29-b55d-f03d82f35a49): START TRANSACTION;
[2016-09-10 17:23:04.478] [ INFO] console - Executing (52c9b877-6259-4c29-b55d-f03d82f35a49): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 17:23:04.502] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 2);
[2016-09-10 17:23:04.517] [ INFO] console - Executing (52c9b877-6259-4c29-b55d-f03d82f35a49): COMMIT;
[2016-09-10 17:23:04.522] [ INFO] console - [ 70,
  1774,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/2/',
      starshina: [Object],
      id: '2',
      email: 'unittest2@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '1',
      voiskoSize: 1,
      birth: 1983,
      path: '/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: null,
      attachments: [] } ] ]
[2016-09-10 17:23:04.550] [ INFO] console - Executing (20cc00fa-674b-495b-9de2-da8f4515b3b5): START TRANSACTION;
[2016-09-10 17:23:04.551] [ INFO] console - Executing (20cc00fa-674b-495b-9de2-da8f4515b3b5): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 17:23:04.565] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 2);
[2016-09-10 17:23:04.578] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"+1
                                where
                                    '/2/' like path||id||'/%'
[2016-09-10 17:23:04.597] [ INFO] console - Executing (default): INSERT INTO "Kopnik" ("id","name","surname","patronymic","voiskoSize","birth","path","created_at","updated_at","rodina_id","starshina_id") VALUES (DEFAULT,'temp','temp','temp',0,1900,'/2/','2016-09-10 12:23:04.555 +00:00','2016-09-10 12:23:04.555 +00:00',NULL,2) RETURNING *;
[2016-09-10 17:23:04.606] [ INFO] console - Executing (20cc00fa-674b-495b-9de2-da8f4515b3b5): COMMIT;
[2016-09-10 17:23:04.608] [ INFO] console - [ 70, 1775, {}, [ '257' ] ]
[2016-09-10 17:23:04.617] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/' like k.path||k.id||'/%'
[2016-09-10 17:23:04.639] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 17:23:04.647] [ INFO] console - [ 16,
  6342633219686400,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id2.voiskoChange',
  [],
  { voiskoSize: 2 } ]
[2016-09-10 17:23:41.307] [ INFO] console - [ 70, 1777, {}, [ undefined ] ]
[2016-09-10 17:23:41.340] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 2 }
[2016-09-10 17:23:41.413] [ INFO] console - Executing (default): delete from "Kopnik"
                where
                    name like '%temp'
[2016-09-10 17:23:41.421] [ INFO] console - Executing (66cb04ad-fde7-4d02-b440-9002065b17ca): START TRANSACTION;
[2016-09-10 17:23:41.433] [ INFO] console - Executing (66cb04ad-fde7-4d02-b440-9002065b17ca): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 17:23:41.435] [ INFO] console - Executing (default): update "Kopnik"
                set 
                    "voiskoSize"= case when id=2 then 1 ELSE 0 END
                where
                    id>1 
                    and id<=5
[2016-09-10 17:23:41.461] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 2);
[2016-09-10 17:23:41.475] [ INFO] console - Executing (66cb04ad-fde7-4d02-b440-9002065b17ca): COMMIT;
[2016-09-10 17:23:41.480] [ INFO] console - [ 70,
  1778,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/2/',
      starshina: [Object],
      id: '2',
      email: 'unittest2@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '1',
      voiskoSize: 1,
      birth: 1983,
      path: '/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: null,
      attachments: [] } ] ]
[2016-09-10 17:23:41.512] [ INFO] console - Executing (68c80fb5-a09c-4ff6-aed8-3ce9cd855e21): START TRANSACTION;
[2016-09-10 17:23:41.514] [ INFO] console - Executing (68c80fb5-a09c-4ff6-aed8-3ce9cd855e21): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 17:23:41.543] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 2);
[2016-09-10 17:23:41.553] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"+1
                                where
                                    '/2/' like path||id||'/%'
[2016-09-10 17:23:41.567] [ INFO] console - Executing (default): INSERT INTO "Kopnik" ("id","name","surname","patronymic","voiskoSize","birth","path","created_at","updated_at","rodina_id","starshina_id") VALUES (DEFAULT,'temp','temp','temp',0,1900,'/2/','2016-09-10 12:23:41.525 +00:00','2016-09-10 12:23:41.525 +00:00',NULL,2) RETURNING *;
[2016-09-10 17:23:41.579] [ INFO] console - Executing (68c80fb5-a09c-4ff6-aed8-3ce9cd855e21): COMMIT;
[2016-09-10 17:23:41.580] [ INFO] console - [ 70, 1779, {}, [ '258' ] ]
[2016-09-10 17:23:41.594] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/' like k.path||k.id||'/%'
[2016-09-10 17:23:41.623] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 17:23:41.628] [ INFO] console - [ 16,
  700674576744448,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id2.voiskoChange',
  [],
  { voiskoSize: 2 } ]
[2016-09-10 17:24:34.410] [ INFO] console - [ 70, 1781, {}, [ undefined ] ]
[2016-09-10 17:24:34.434] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 2 }
[2016-09-10 17:24:34.455] [ INFO] console - Executing (default): delete from "Kopnik"
                where
                    name like '%temp'
[2016-09-10 17:24:34.463] [ INFO] console - Executing (8720c99a-5062-4646-b443-79872009bf37): START TRANSACTION;
[2016-09-10 17:24:34.465] [ INFO] console - Executing (8720c99a-5062-4646-b443-79872009bf37): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 17:24:34.468] [ INFO] console - Executing (default): update "Kopnik"
                set 
                    "voiskoSize"= case when id=2 then 1 ELSE 0 END
                where
                    id>1 
                    and id<=5
[2016-09-10 17:24:34.485] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 2);
[2016-09-10 17:24:34.500] [ INFO] console - Executing (8720c99a-5062-4646-b443-79872009bf37): COMMIT;
[2016-09-10 17:24:34.502] [ INFO] console - [ 70,
  1782,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/2/',
      starshina: [Object],
      id: '2',
      email: 'unittest2@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '1',
      voiskoSize: 1,
      birth: 1983,
      path: '/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: null,
      attachments: [] } ] ]
[2016-09-10 17:24:34.533] [ INFO] console - Executing (badce8bc-81dc-447a-b9a2-42733c9ca84d): START TRANSACTION;
[2016-09-10 17:24:34.539] [ INFO] console - Executing (badce8bc-81dc-447a-b9a2-42733c9ca84d): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 17:24:34.554] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 2);
[2016-09-10 17:24:34.570] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"+1
                                where
                                    '/2/' like path||id||'/%'
[2016-09-10 17:24:34.580] [ INFO] console - Executing (default): INSERT INTO "Kopnik" ("id","name","surname","patronymic","voiskoSize","birth","path","created_at","updated_at","rodina_id","starshina_id") VALUES (DEFAULT,'temp','temp','temp',0,1900,'/2/','2016-09-10 12:24:34.544 +00:00','2016-09-10 12:24:34.544 +00:00',NULL,2) RETURNING *;
[2016-09-10 17:24:34.589] [ INFO] console - Executing (badce8bc-81dc-447a-b9a2-42733c9ca84d): COMMIT;
[2016-09-10 17:24:34.590] [ INFO] console - [ 70, 1783, {}, [ '259' ] ]
[2016-09-10 17:24:34.605] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/' like k.path||k.id||'/%'
[2016-09-10 17:24:34.607] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Zemla', id: 2 }
[2016-09-10 17:24:34.710] [ INFO] console - Executing (6d4773c1-91e0-46f8-bcf2-e2c227d05dc3): START TRANSACTION;
[2016-09-10 17:24:34.711] [ INFO] console - Executing (60f1e97b-4200-4904-a7d0-2ab802a5f5fd): START TRANSACTION;
[2016-09-10 17:24:34.716] [ INFO] console - Executing (60f1e97b-4200-4904-a7d0-2ab802a5f5fd): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 17:24:34.723] [ INFO] console - Executing (6d4773c1-91e0-46f8-bcf2-e2c227d05dc3): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 17:24:34.767] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 17:24:34.770] [ INFO] console - Executing (default): SELECT "Zemla"."id", "Zemla"."path", "Zemla"."name", "Zemla"."intensity", "Zemla"."note", "Zemla"."created_at", "Zemla"."updated_at", "Zemla"."deleted_at", "Zemla"."parent_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Zemla" AS "Zemla" LEFT OUTER JOIN "File" AS "attachments" ON "Zemla"."id" = "attachments"."zemla_id" AND "attachments"."deleted_at" IS NULL WHERE ("Zemla"."deleted_at" IS NULL AND "Zemla"."id" = 2);
[2016-09-10 17:24:34.794] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 259);
[2016-09-10 17:24:34.795] [ INFO] console - [ 16,
  1007419744321536,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id2.voiskoChange',
  [],
  { voiskoSize: 2 } ]
[2016-09-10 17:24:34.808] [ INFO] console - Executing (6d4773c1-91e0-46f8-bcf2-e2c227d05dc3): COMMIT;
[2016-09-10 17:24:34.816] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"+1
                                where
                                    '/2/259/' like path||id||'/%'
[2016-09-10 17:24:34.817] [ INFO] console - [ 70,
  1784,
  {},
  [ { fullPath: 'null2/',
      id: '2',
      path: null,
      name: 'UnitTest2',
      intensity: 1000,
      note: 'unit test 1473505807871',
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Sat Sep 10 2016 16:10:08 GMT+0500 (YEKT),
      deleted_at: null,
      parent_id: '1',
      attachments: [] } ] ]
[2016-09-10 17:24:34.839] [ INFO] console - Executing (default): INSERT INTO "Kopnik" ("id","name","surname","patronymic","voiskoSize","birth","path","created_at","updated_at","rodina_id","starshina_id") VALUES (DEFAULT,'temp','temp','temp',0,1900,'/2/259/','2016-09-10 12:24:34.737 +00:00','2016-09-10 12:24:34.737 +00:00',NULL,259) RETURNING *;
[2016-09-10 17:24:34.843] [ INFO] console - Executing (60f1e97b-4200-4904-a7d0-2ab802a5f5fd): COMMIT;
[2016-09-10 17:24:34.847] [ INFO] console - [ 70, 1785, {}, [ '260' ] ]
[2016-09-10 17:24:34.850] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/259/' like k.path||k.id||'/%'
[2016-09-10 17:24:34.866] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2', '259')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 17:24:34.873] [ INFO] console - [ 16,
  2771085447659520,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id259.voiskoChange',
  [],
  { voiskoSize: 1 } ]
[2016-09-10 17:24:34.882] [ INFO] console - [ 16,
  6617385685483520,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id2.voiskoChange',
  [],
  { voiskoSize: 3 } ]
[2016-09-10 17:24:34.889] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 4 }
[2016-09-10 17:24:34.898] [ INFO] console - Executing (248ec1ca-ea98-498e-92d6-046932992caf): START TRANSACTION;
[2016-09-10 17:24:34.902] [ INFO] console - Executing (248ec1ca-ea98-498e-92d6-046932992caf): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 17:24:34.925] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 4);
[2016-09-10 17:24:34.935] [ INFO] console - Executing (248ec1ca-ea98-498e-92d6-046932992caf): COMMIT;
[2016-09-10 17:24:34.938] [ INFO] console - [ 70,
  1786,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/4/',
      starshina: [Object],
      id: '4',
      email: 'unittest4@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '4',
      voiskoSize: 0,
      birth: 1983,
      path: '/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: null,
      attachments: [] } ] ]
[2016-09-10 17:24:34.959] [ INFO] console - Executing (0f8fa379-bb2b-4744-9207-7ee3967940af): START TRANSACTION;
[2016-09-10 17:24:34.962] [ INFO] console - Executing (0f8fa379-bb2b-4744-9207-7ee3967940af): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 17:24:34.977] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 259);
[2016-09-10 17:24:34.985] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 4);
[2016-09-10 17:24:34.990] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/' like k.path||k.id||'/%'
[2016-09-10 17:24:34.999] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 17:24:35.005] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"-2
                                where
                                    '/2/' like path||id||'/%'
[2016-09-10 17:24:35.020] [ INFO] console - Executing (default): UPDATE "Kopnik" SET "path"='/4/',"starshina_id"='4',"updated_at"='2016-09-10 12:24:35.007 +00:00' WHERE "id" = '259'
[2016-09-10 17:24:35.026] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"+2
                                where
                                    '/4/' like path||id||'/%'
[2016-09-10 17:24:35.038] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."starshina_id" = '259');
[2016-09-10 17:24:35.060] [ INFO] console - Executing (default): UPDATE "Kopnik" SET "path"='/4/259/',"updated_at"='2016-09-10 12:24:35.049 +00:00' WHERE "id" = '260'
[2016-09-10 17:24:35.063] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/4/' like k.path||k.id||'/%'
[2016-09-10 17:24:35.069] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('4')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 17:24:35.075] [ INFO] console - Executing (0f8fa379-bb2b-4744-9207-7ee3967940af): COMMIT;
[2016-09-10 17:24:35.080] [ INFO] console - [ 70, 1787, {}, [ undefined ] ]
[2016-09-10 17:24:35.091] [ INFO] console - [ 16,
  8206904180342784,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id2.voiskoChange',
  [],
  { voiskoSize: 1 } ]
[2016-09-10 17:24:35.108] [ INFO] console - [ 16,
  7934566505381888,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id4.voiskoChange',
  [],
  { voiskoSize: 2 } ]
[2016-09-10 17:26:47.372] [ INFO] console - [ 70, 1789, {}, [ undefined ] ]
[2016-09-10 17:26:47.384] [ INFO] console - Executing (default): delete from "Kopnik"
                where
                    name like '%temp'
[2016-09-10 17:26:47.390] [ INFO] console - Executing (default): update "Kopnik"
                set 
                    "voiskoSize"= case when id=2 then 1 ELSE 0 END
                where
                    id>1 
                    and id<=5
[2016-09-10 17:26:47.394] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 2 }
[2016-09-10 17:26:47.398] [ INFO] console - Executing (4d1d5ce5-a844-41a9-91fc-114be03f5b4f): START TRANSACTION;
[2016-09-10 17:26:47.402] [ INFO] console - Executing (4d1d5ce5-a844-41a9-91fc-114be03f5b4f): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 17:26:47.435] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 2);
[2016-09-10 17:26:49.203] [ INFO] console - Executing (4d1d5ce5-a844-41a9-91fc-114be03f5b4f): COMMIT;
[2016-09-10 17:26:49.204] [ INFO] console - [ 70,
  1790,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/2/',
      starshina: [Object],
      id: '2',
      email: 'unittest2@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '1',
      voiskoSize: 1,
      birth: 1983,
      path: '/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: null,
      attachments: [] } ] ]
[2016-09-10 17:26:49.340] [ INFO] console - Executing (81ab7da0-18d6-4860-bacc-122ebe39f1d2): START TRANSACTION;
[2016-09-10 17:26:49.363] [ INFO] console - Executing (81ab7da0-18d6-4860-bacc-122ebe39f1d2): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 17:26:49.401] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 2);
[2016-09-10 17:26:49.421] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"+1
                                where
                                    '/2/' like path||id||'/%'
[2016-09-10 17:26:49.467] [ INFO] console - Executing (default): INSERT INTO "Kopnik" ("id","name","surname","patronymic","voiskoSize","birth","path","created_at","updated_at","rodina_id","starshina_id") VALUES (DEFAULT,'temp','temp','temp',0,1900,'/2/','2016-09-10 12:26:49.381 +00:00','2016-09-10 12:26:49.381 +00:00',NULL,2) RETURNING *;
[2016-09-10 17:26:49.484] [ INFO] console - Executing (81ab7da0-18d6-4860-bacc-122ebe39f1d2): COMMIT;
[2016-09-10 17:26:49.488] [ INFO] console - [ 70, 1791, {}, [ '261' ] ]
[2016-09-10 17:26:49.490] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/' like k.path||k.id||'/%'
[2016-09-10 17:26:49.502] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Zemla', id: 2 }
[2016-09-10 17:26:49.581] [ INFO] console - Executing (c5bad0fc-3ddf-49ed-8301-e09d0fd33120): START TRANSACTION;
[2016-09-10 17:26:49.598] [ INFO] console - Executing (7bcafe63-10bd-4882-8b41-de418915c0bf): START TRANSACTION;
[2016-09-10 17:26:49.608] [ INFO] console - Executing (c5bad0fc-3ddf-49ed-8301-e09d0fd33120): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 17:26:49.618] [ INFO] console - Executing (7bcafe63-10bd-4882-8b41-de418915c0bf): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 17:26:49.718] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 17:26:49.731] [ INFO] console - Executing (default): SELECT "Zemla"."id", "Zemla"."path", "Zemla"."name", "Zemla"."intensity", "Zemla"."note", "Zemla"."created_at", "Zemla"."updated_at", "Zemla"."deleted_at", "Zemla"."parent_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Zemla" AS "Zemla" LEFT OUTER JOIN "File" AS "attachments" ON "Zemla"."id" = "attachments"."zemla_id" AND "attachments"."deleted_at" IS NULL WHERE ("Zemla"."deleted_at" IS NULL AND "Zemla"."id" = 2);
[2016-09-10 17:26:49.732] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 261);
[2016-09-10 17:26:49.747] [ INFO] console - [ 16,
  3530003402719232,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id2.voiskoChange',
  [],
  { voiskoSize: 2 } ]
[2016-09-10 17:26:49.766] [ INFO] console - Executing (c5bad0fc-3ddf-49ed-8301-e09d0fd33120): COMMIT;
[2016-09-10 17:26:49.767] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"+1
                                where
                                    '/2/261/' like path||id||'/%'
[2016-09-10 17:26:49.769] [ INFO] console - [ 70,
  1792,
  {},
  [ { fullPath: 'null2/',
      id: '2',
      path: null,
      name: 'UnitTest2',
      intensity: 1000,
      note: 'unit test 1473505807871',
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Sat Sep 10 2016 16:10:08 GMT+0500 (YEKT),
      deleted_at: null,
      parent_id: '1',
      attachments: [] } ] ]
[2016-09-10 17:26:49.782] [ INFO] console - Executing (default): INSERT INTO "Kopnik" ("id","name","surname","patronymic","voiskoSize","birth","path","created_at","updated_at","rodina_id","starshina_id") VALUES (DEFAULT,'temp','temp','temp',0,1900,'/2/261/','2016-09-10 12:26:49.648 +00:00','2016-09-10 12:26:49.648 +00:00',NULL,261) RETURNING *;
[2016-09-10 17:26:49.789] [ INFO] console - Executing (7bcafe63-10bd-4882-8b41-de418915c0bf): COMMIT;
[2016-09-10 17:26:49.791] [ INFO] console - [ 70, 1793, {}, [ '262' ] ]
[2016-09-10 17:26:49.796] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/261/' like k.path||k.id||'/%'
[2016-09-10 17:26:49.809] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2', '261')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 17:26:49.813] [ INFO] console - [ 16,
  5382981040472064,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id261.voiskoChange',
  [],
  { voiskoSize: 1 } ]
[2016-09-10 17:26:49.817] [ INFO] console - [ 16,
  4510517217460224,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id2.voiskoChange',
  [],
  { voiskoSize: 3 } ]
[2016-09-10 17:26:49.824] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 4 }
[2016-09-10 17:26:49.832] [ INFO] console - Executing (368c41f4-ed60-4705-b823-ccd6b8b2eb72): START TRANSACTION;
[2016-09-10 17:26:49.840] [ INFO] console - Executing (368c41f4-ed60-4705-b823-ccd6b8b2eb72): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 17:26:49.857] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 4);
[2016-09-10 17:26:49.874] [ INFO] console - Executing (368c41f4-ed60-4705-b823-ccd6b8b2eb72): COMMIT;
[2016-09-10 17:26:49.877] [ INFO] console - [ 70,
  1794,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/4/',
      starshina: [Object],
      id: '4',
      email: 'unittest4@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '4',
      voiskoSize: 0,
      birth: 1983,
      path: '/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: null,
      attachments: [] } ] ]
[2016-09-10 17:26:49.892] [ INFO] console - Executing (8b97fcbe-f503-4635-9577-c928d97af813): START TRANSACTION;
[2016-09-10 17:26:49.893] [ INFO] console - Executing (8b97fcbe-f503-4635-9577-c928d97af813): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 17:26:49.901] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 261);
[2016-09-10 17:26:49.908] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 4);
[2016-09-10 17:26:49.914] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/' like k.path||k.id||'/%'
[2016-09-10 17:26:49.928] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 17:26:49.934] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"-2
                                where
                                    '/2/' like path||id||'/%'
[2016-09-10 17:26:49.942] [ INFO] console - Executing (default): UPDATE "Kopnik" SET "path"='/4/',"starshina_id"='4',"updated_at"='2016-09-10 12:26:49.936 +00:00' WHERE "id" = '261'
[2016-09-10 17:26:49.944] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"+2
                                where
                                    '/4/' like path||id||'/%'
[2016-09-10 17:26:49.950] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."starshina_id" = '261');
[2016-09-10 17:26:49.960] [ INFO] console - Executing (default): UPDATE "Kopnik" SET "path"='/4/261/',"updated_at"='2016-09-10 12:26:49.954 +00:00' WHERE "id" = '262'
[2016-09-10 17:26:49.963] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/4/' like k.path||k.id||'/%'
[2016-09-10 17:26:49.970] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('4')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 17:26:49.973] [ INFO] console - Executing (8b97fcbe-f503-4635-9577-c928d97af813): COMMIT;
[2016-09-10 17:26:49.974] [ INFO] console - [ 70, 1795, {}, [ undefined ] ]
[2016-09-10 17:26:49.984] [ INFO] console - [ 16,
  5982044737765376,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id2.voiskoChange',
  [],
  { voiskoSize: 1 } ]
[2016-09-10 17:26:49.989] [ INFO] console - [ 16,
  5223151860449280,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id4.voiskoChange',
  [],
  { voiskoSize: 2 } ]
[2016-09-10 17:28:55.508] [ INFO] console - [ 70, 1797, {}, [ 'unittest2@domain.ru' ] ]
[2016-09-10 17:28:55.531] [DEBUG] Server - #pingPong() [ 1, 2, 3 ] { x: 1, y: 2, z: 3 }
[2016-09-10 17:28:55.533] [ INFO] console - [ 70, 1798, {}, [ 1, 2, 3 ], { x: 1, y: 2, z: 3 } ]
[2016-09-10 17:28:55.590] [ INFO] console - Executing (default): select 'КОПА' as result
[2016-09-10 17:28:55.595] [ INFO] console - [ 70, 1799, {}, [ 'КОПА' ] ]
[2016-09-10 17:28:55.604] [DEBUG] Server - #error() [ 'sadkljfaskldjfs;af' ] {}
[2016-09-10 17:28:55.607] [ERROR] Server - [Error: sadkljfaskldjfs;af]
Error: sadkljfaskldjfs;af
    at MySuperError (Server.js:339:9)
    at fn.constructor.error.Error (Server.js:344:19)
    at new wrappedPromise (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/async-listener/index.js:372:16)
    at Server.error (Server.js:343:16)
    at Object.<anonymous> (Server.js:415:43)
    at [object Generator].next (native)
    at step (/home/alexey2baranov/htdocs/kp-sequelizejs/src/Server.js:1:253)
    at /home/alexey2baranov/htdocs/kp-sequelizejs/src/Server.js:1:513
    at new wrappedPromise (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/async-listener/index.js:372:16)
    at Object.<anonymous> (/home/alexey2baranov/htdocs/kp-sequelizejs/src/Server.js:1:161)
    at Object.<anonymous> (Server.js:412:28)
    at tryCatchResolve (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/apply.js:46:23)
    at callAndResolve (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/apply.js:30:12)
    at callAndResolveNext (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/apply.js:40:4)
    at tryCatchReject3 (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/makePromise.js:856:7)
    at runContinuation3 (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/makePromise.js:814:4)
[2016-09-10 17:28:55.628] [ INFO] console - [ 8,
  68,
  1800,
  {},
  'MySuperError',
  [ 'sadkljfaskldjfs;af' ],
  { stack: 
     [ 'Error: sadkljfaskldjfs;af',
       '    at MySuperError (Server.js:339:9)',
       '    at fn.constructor.error.Error (Server.js:344:19)',
       '    at new wrappedPromise (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/async-listener/index.js:372:16)',
       '    at Server.error (Server.js:343:16)',
       '    at Object.<anonymous> (Server.js:415:43)',
       '    at [object Generator].next (native)',
       '    at step (/home/alexey2baranov/htdocs/kp-sequelizejs/src/Server.js:1:253)',
       '    at /home/alexey2baranov/htdocs/kp-sequelizejs/src/Server.js:1:513',
       '    at new wrappedPromise (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/async-listener/index.js:372:16)',
       '    at Object.<anonymous> (/home/alexey2baranov/htdocs/kp-sequelizejs/src/Server.js:1:161)',
       '    at Object.<anonymous> (Server.js:412:28)',
       '    at tryCatchResolve (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/apply.js:46:23)',
       '    at callAndResolve (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/apply.js:30:12)',
       '    at callAndResolveNext (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/apply.js:40:4)',
       '    at tryCatchReject3 (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/makePromise.js:856:7)',
       '    at runContinuation3 (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/makePromise.js:814:4)' ] } ]
[2016-09-10 17:28:55.655] [ INFO] console - [ 70, 1801, {}, [ undefined ] ]
[2016-09-10 17:28:55.665] [ INFO] console - Executing (default): delete from "Slovo"
                where
                    place_id<5
                    and value like '%temp'
[2016-09-10 17:28:55.678] [ INFO] console - Executing (default): delete from "Kopnik"
                where
                    name like '%temp'
[2016-09-10 17:28:55.690] [ INFO] console - Executing (default): update "Kopnik"
                set 
                    "voiskoSize"= case when id=2 then 1 ELSE 0 END
                where
                    id>1 
                    and id<=5
[2016-09-10 17:28:55.727] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopa', id: 3 }
[2016-09-10 17:28:55.734] [ INFO] console - Executing (eb7faa05-d652-41d6-b180-c5464c4e8056): START TRANSACTION;
[2016-09-10 17:28:55.738] [ INFO] console - Executing (eb7faa05-d652-41d6-b180-c5464c4e8056): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 17:28:55.766] [ INFO] console - Executing (default): SELECT "Kopa"."id", "Kopa"."question", "Kopa"."planned", "Kopa"."started", "Kopa"."closed", "Kopa"."isOpen", "Kopa"."note", "Kopa"."created_at", "Kopa"."updated_at", "Kopa"."deleted_at", "Kopa"."place_id", "Kopa"."inviter_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopa" AS "Kopa" LEFT OUTER JOIN "File" AS "attachments" ON "Kopa"."id" = "attachments"."kopa_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopa"."deleted_at" IS NULL AND "Kopa"."id" = 3);
[2016-09-10 17:28:55.777] [ INFO] console - Executing (eb7faa05-d652-41d6-b180-c5464c4e8056): COMMIT;
[2016-09-10 17:28:55.779] [ INFO] console - [ 70,
  1803,
  {},
  [ { id: '3',
      question: 'CHE',
      planned: Thu Sep 01 2016 00:00:00 GMT+0500 (YEKT),
      started: Thu Sep 01 2016 00:00:00 GMT+0500 (YEKT),
      closed: null,
      isOpen: false,
      note: null,
      created_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      deleted_at: null,
      place_id: '2',
      inviter_id: '2',
      attachments: [] } ] ]
[2016-09-10 17:28:55.813] [ INFO] console - Executing (c86d39c8-623e-4381-8dc3-cf5fd923c440): START TRANSACTION;
[2016-09-10 17:28:55.816] [ INFO] console - Executing (c86d39c8-623e-4381-8dc3-cf5fd923c440): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 17:28:55.826] [ INFO] console - Executing (default): INSERT INTO "Golos" ("id","value","created_at","updated_at","for_id","owner_id") VALUES (DEFAULT,1,'2016-09-10 12:28:55.819 +00:00','2016-09-10 12:28:55.819 +00:00',1,2) RETURNING *;
[2016-09-10 17:28:55.834] [ INFO] console - Executing (c86d39c8-623e-4381-8dc3-cf5fd923c440): COMMIT;
[2016-09-10 17:28:55.835] [ INFO] console - [ 70, 1804, {}, [ '64' ] ]
[2016-09-10 17:28:55.841] [ INFO] console - [ 16,
  4268109808533504,
  { acknowledge: true },
  'ru.kopa.model.Predlozhenie.id1.golosAdd',
  [ '64' ] ]
[2016-09-10 17:28:55.908] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopa', id: 3 }
[2016-09-10 17:28:55.915] [ INFO] console - Executing (200f7e32-e2e6-4224-8ac8-d518eef54b89): START TRANSACTION;
[2016-09-10 17:28:55.916] [ INFO] console - Executing (200f7e32-e2e6-4224-8ac8-d518eef54b89): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 17:28:55.932] [ INFO] console - Executing (default): SELECT "Kopa"."id", "Kopa"."question", "Kopa"."planned", "Kopa"."started", "Kopa"."closed", "Kopa"."isOpen", "Kopa"."note", "Kopa"."created_at", "Kopa"."updated_at", "Kopa"."deleted_at", "Kopa"."place_id", "Kopa"."inviter_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopa" AS "Kopa" LEFT OUTER JOIN "File" AS "attachments" ON "Kopa"."id" = "attachments"."kopa_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopa"."deleted_at" IS NULL AND "Kopa"."id" = 3);
[2016-09-10 17:28:55.938] [ INFO] console - Executing (200f7e32-e2e6-4224-8ac8-d518eef54b89): COMMIT;
[2016-09-10 17:28:55.941] [ INFO] console - [ 70,
  1806,
  {},
  [ { id: '3',
      question: 'CHE',
      planned: Thu Sep 01 2016 00:00:00 GMT+0500 (YEKT),
      started: Thu Sep 01 2016 00:00:00 GMT+0500 (YEKT),
      closed: null,
      isOpen: false,
      note: null,
      created_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      deleted_at: null,
      place_id: '2',
      inviter_id: '2',
      attachments: [] } ] ]
[2016-09-10 17:28:55.955] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 2 }
[2016-09-10 17:28:55.970] [ INFO] console - Executing (2cde43b1-a40c-4d86-9a0c-9932dba4cb46): START TRANSACTION;
[2016-09-10 17:28:55.972] [ INFO] console - Executing (2cde43b1-a40c-4d86-9a0c-9932dba4cb46): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 17:28:55.988] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 2);
[2016-09-10 17:28:55.998] [ INFO] console - Executing (2cde43b1-a40c-4d86-9a0c-9932dba4cb46): COMMIT;
[2016-09-10 17:28:56.000] [ INFO] console - [ 70,
  1807,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/2/',
      starshina: [Object],
      id: '2',
      email: 'unittest2@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '1',
      voiskoSize: 1,
      birth: 1983,
      path: '/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: null,
      attachments: [] } ] ]
[2016-09-10 17:28:56.030] [ INFO] console - Executing (8ca3cd25-61c6-479f-9fad-abf82db81b82): START TRANSACTION;
[2016-09-10 17:28:56.032] [ INFO] console - Executing (8ca3cd25-61c6-479f-9fad-abf82db81b82): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 17:28:56.043] [ INFO] console - Executing (default): INSERT INTO "Slovo" ("id","value","created_at","updated_at","owner_id","place_id") VALUES (DEFAULT,'some Slovo temp 1473510536028','2016-09-10 12:28:56.035 +00:00','2016-09-10 12:28:56.035 +00:00',2,3) RETURNING *;
[2016-09-10 17:28:56.048] [ INFO] console - Executing (8ca3cd25-61c6-479f-9fad-abf82db81b82): COMMIT;
[2016-09-10 17:28:56.049] [ INFO] console - [ 70, 1808, {}, [ '116' ] ]
[2016-09-10 17:28:56.054] [ INFO] console - [ 16,
  2259585528233984,
  { acknowledge: true },
  'ru.kopa.model.Kopa.id3.slovoAdd',
  [ '116' ] ]
[2016-09-10 17:28:56.066] [ INFO] console - Executing (6d502a02-3619-4f81-97db-75721b7494e7): START TRANSACTION;
[2016-09-10 17:28:56.068] [ INFO] console - Executing (6d502a02-3619-4f81-97db-75721b7494e7): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 17:28:56.082] [ INFO] console - Executing (default): INSERT INTO "Predlozhenie" ("id","value","created_at","updated_at","initiator_id","place_id") VALUES (DEFAULT,'some Predlozhenie temp 1473510536063','2016-09-10 12:28:56.070 +00:00','2016-09-10 12:28:56.070 +00:00',2,3) RETURNING *;
[2016-09-10 17:28:56.088] [ INFO] console - Executing (6d502a02-3619-4f81-97db-75721b7494e7): COMMIT;
[2016-09-10 17:28:56.090] [ INFO] console - [ 70, 1809, {}, [ '65' ] ]
[2016-09-10 17:28:56.095] [ INFO] console - [ 16,
  4875771562688512,
  { acknowledge: true },
  'ru.kopa.model.Kopa.id3.predlozhenieAdd',
  [ '65' ] ]
[2016-09-10 17:28:56.135] [ INFO] console - [ 70, 1811, {}, [ undefined ] ]
[2016-09-10 17:28:56.143] [ INFO] console - Executing (default): delete from "Kopnik"
                where
                    name like '%temp'
[2016-09-10 17:28:56.189] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 2 }
[2016-09-10 17:28:56.198] [ INFO] console - Executing (e145c6cd-225f-4789-ab1f-53fb59e42ca6): START TRANSACTION;
[2016-09-10 17:28:56.203] [ INFO] console - Executing (default): update "Kopnik"
                set 
                    "voiskoSize"= case when id=2 then 1 ELSE 0 END
                where
                    id>1 
                    and id<=5
[2016-09-10 17:28:56.205] [ INFO] console - Executing (e145c6cd-225f-4789-ab1f-53fb59e42ca6): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 17:28:56.217] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 2);
[2016-09-10 17:28:56.227] [ INFO] console - Executing (e145c6cd-225f-4789-ab1f-53fb59e42ca6): COMMIT;
[2016-09-10 17:28:56.229] [ INFO] console - [ 70,
  1812,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/2/',
      starshina: [Object],
      id: '2',
      email: 'unittest2@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '1',
      voiskoSize: 1,
      birth: 1983,
      path: '/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: null,
      attachments: [] } ] ]
[2016-09-10 17:28:56.251] [ INFO] console - Executing (cdf07697-d39b-483b-8a1c-aa0fbf2c8c8b): START TRANSACTION;
[2016-09-10 17:28:56.253] [ INFO] console - Executing (cdf07697-d39b-483b-8a1c-aa0fbf2c8c8b): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 17:28:56.270] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 2);
[2016-09-10 17:28:56.283] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"+1
                                where
                                    '/2/' like path||id||'/%'
[2016-09-10 17:28:56.294] [ INFO] console - Executing (default): INSERT INTO "Kopnik" ("id","name","surname","patronymic","voiskoSize","birth","path","created_at","updated_at","rodina_id","starshina_id") VALUES (DEFAULT,'temp','temp','temp',0,1900,'/2/','2016-09-10 12:28:56.264 +00:00','2016-09-10 12:28:56.264 +00:00',NULL,2) RETURNING *;
[2016-09-10 17:28:56.308] [ INFO] console - Executing (cdf07697-d39b-483b-8a1c-aa0fbf2c8c8b): COMMIT;
[2016-09-10 17:28:56.312] [ INFO] console - [ 70, 1813, {}, [ '263' ] ]
[2016-09-10 17:28:56.316] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/' like k.path||k.id||'/%'
[2016-09-10 17:28:56.320] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Zemla', id: 2 }
[2016-09-10 17:28:56.329] [ INFO] console - Executing (19fce6af-63f7-40f8-afd8-44b42248abe4): START TRANSACTION;
[2016-09-10 17:28:56.330] [ INFO] console - Executing (c4004752-1ce6-44b3-98bc-66b82ba1bc1a): START TRANSACTION;
[2016-09-10 17:28:56.345] [ INFO] console - Executing (19fce6af-63f7-40f8-afd8-44b42248abe4): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 17:28:56.346] [ INFO] console - Executing (c4004752-1ce6-44b3-98bc-66b82ba1bc1a): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 17:28:56.382] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 17:28:56.392] [ INFO] console - Executing (default): SELECT "Zemla"."id", "Zemla"."path", "Zemla"."name", "Zemla"."intensity", "Zemla"."note", "Zemla"."created_at", "Zemla"."updated_at", "Zemla"."deleted_at", "Zemla"."parent_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Zemla" AS "Zemla" LEFT OUTER JOIN "File" AS "attachments" ON "Zemla"."id" = "attachments"."zemla_id" AND "attachments"."deleted_at" IS NULL WHERE ("Zemla"."deleted_at" IS NULL AND "Zemla"."id" = 2);
[2016-09-10 17:28:56.394] [ INFO] console - [ 16,
  2782291619217408,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id2.voiskoChange',
  [],
  { voiskoSize: 2 } ]
[2016-09-10 17:28:56.403] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 263);
[2016-09-10 17:28:56.410] [ INFO] console - Executing (19fce6af-63f7-40f8-afd8-44b42248abe4): COMMIT;
[2016-09-10 17:28:56.436] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"+1
                                where
                                    '/2/263/' like path||id||'/%'
[2016-09-10 17:28:56.441] [ INFO] console - [ 70,
  1814,
  {},
  [ { fullPath: 'null2/',
      id: '2',
      path: null,
      name: 'UnitTest2',
      intensity: 1000,
      note: 'unit test 1473505807871',
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Sat Sep 10 2016 16:10:08 GMT+0500 (YEKT),
      deleted_at: null,
      parent_id: '1',
      attachments: [] } ] ]
[2016-09-10 17:28:56.464] [ INFO] console - Executing (default): INSERT INTO "Kopnik" ("id","name","surname","patronymic","voiskoSize","birth","path","created_at","updated_at","rodina_id","starshina_id") VALUES (DEFAULT,'temp','temp','temp',0,1900,'/2/263/','2016-09-10 12:28:56.352 +00:00','2016-09-10 12:28:56.352 +00:00',NULL,263) RETURNING *;
[2016-09-10 17:28:56.473] [ INFO] console - Executing (c4004752-1ce6-44b3-98bc-66b82ba1bc1a): COMMIT;
[2016-09-10 17:28:56.490] [ INFO] console - [ 70, 1815, {}, [ '264' ] ]
[2016-09-10 17:28:56.496] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/263/' like k.path||k.id||'/%'
[2016-09-10 17:28:56.508] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2', '263')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 17:28:56.520] [ INFO] console - [ 16,
  2900350684102656,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id263.voiskoChange',
  [],
  { voiskoSize: 1 } ]
[2016-09-10 17:28:56.748] [ INFO] console - [ 16,
  4523399703429120,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id2.voiskoChange',
  [],
  { voiskoSize: 3 } ]
[2016-09-10 17:28:56.763] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 4 }
[2016-09-10 17:28:56.767] [ INFO] console - Executing (c3c1e052-4667-4948-938b-79590893c7a1): START TRANSACTION;
[2016-09-10 17:28:56.776] [ INFO] console - Executing (c3c1e052-4667-4948-938b-79590893c7a1): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 17:28:56.784] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 4);
[2016-09-10 17:28:56.790] [ INFO] console - Executing (c3c1e052-4667-4948-938b-79590893c7a1): COMMIT;
[2016-09-10 17:28:56.792] [ INFO] console - [ 70,
  1816,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/4/',
      starshina: [Object],
      id: '4',
      email: 'unittest4@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '4',
      voiskoSize: 0,
      birth: 1983,
      path: '/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: null,
      attachments: [] } ] ]
[2016-09-10 17:28:56.867] [ INFO] console - Executing (8e9d5060-b8ff-4748-ad9f-289d60056b52): START TRANSACTION;
[2016-09-10 17:28:56.869] [ INFO] console - Executing (8e9d5060-b8ff-4748-ad9f-289d60056b52): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 17:28:56.874] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 263);
[2016-09-10 17:28:56.880] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 4);
[2016-09-10 17:28:56.885] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/' like k.path||k.id||'/%'
[2016-09-10 17:28:56.891] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 17:28:56.894] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"-2
                                where
                                    '/2/' like path||id||'/%'
[2016-09-10 17:28:56.905] [ INFO] console - Executing (default): UPDATE "Kopnik" SET "path"='/4/',"starshina_id"='4',"updated_at"='2016-09-10 12:28:56.896 +00:00' WHERE "id" = '263'
[2016-09-10 17:28:56.907] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"+2
                                where
                                    '/4/' like path||id||'/%'
[2016-09-10 17:28:56.911] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."starshina_id" = '263');
[2016-09-10 17:28:56.917] [ INFO] console - Executing (default): UPDATE "Kopnik" SET "path"='/4/263/',"updated_at"='2016-09-10 12:28:56.914 +00:00' WHERE "id" = '264'
[2016-09-10 17:28:56.920] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/4/' like k.path||k.id||'/%'
[2016-09-10 17:28:56.926] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('4')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 17:28:56.930] [ INFO] console - Executing (8e9d5060-b8ff-4748-ad9f-289d60056b52): COMMIT;
[2016-09-10 17:28:56.931] [ INFO] console - [ 70, 1817, {}, [ undefined ] ]
[2016-09-10 17:28:56.936] [ INFO] console - [ 16,
  3026638736457728,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id2.voiskoChange',
  [],
  { voiskoSize: 1 } ]
[2016-09-10 17:28:56.945] [ INFO] console - [ 16,
  1988940296880128,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id4.voiskoChange',
  [],
  { voiskoSize: 2 } ]
[2016-09-10 17:28:57.055] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopa', id: 3 }
[2016-09-10 17:28:57.058] [ INFO] console - Executing (286ab62c-0721-46ed-a7ce-67028d37f893): START TRANSACTION;
[2016-09-10 17:28:57.060] [ INFO] console - Executing (286ab62c-0721-46ed-a7ce-67028d37f893): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 17:28:57.066] [ INFO] console - Executing (default): SELECT "Kopa"."id", "Kopa"."question", "Kopa"."planned", "Kopa"."started", "Kopa"."closed", "Kopa"."isOpen", "Kopa"."note", "Kopa"."created_at", "Kopa"."updated_at", "Kopa"."deleted_at", "Kopa"."place_id", "Kopa"."inviter_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopa" AS "Kopa" LEFT OUTER JOIN "File" AS "attachments" ON "Kopa"."id" = "attachments"."kopa_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopa"."deleted_at" IS NULL AND "Kopa"."id" = 3);
[2016-09-10 17:28:57.075] [ INFO] console - Executing (286ab62c-0721-46ed-a7ce-67028d37f893): COMMIT;
[2016-09-10 17:28:57.076] [ INFO] console - [ 70,
  1819,
  {},
  [ { id: '3',
      question: 'CHE',
      planned: Thu Sep 01 2016 00:00:00 GMT+0500 (YEKT),
      started: Thu Sep 01 2016 00:00:00 GMT+0500 (YEKT),
      closed: null,
      isOpen: false,
      note: null,
      created_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      deleted_at: null,
      place_id: '2',
      inviter_id: '2',
      attachments: [] } ] ]
[2016-09-10 17:28:57.097] [ INFO] console - Executing (2ef8b087-1313-4000-b733-1a31e0e05f16): START TRANSACTION;
[2016-09-10 17:28:57.100] [ INFO] console - Executing (2ef8b087-1313-4000-b733-1a31e0e05f16): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 17:28:57.119] [ INFO] console - Executing (default): INSERT INTO "Predlozhenie" ("id","value","created_at","updated_at","initiator_id","place_id") VALUES (DEFAULT,'some Predlozhenie temp 1473510535031','2016-09-10 12:28:57.111 +00:00','2016-09-10 12:28:57.111 +00:00',2,3) RETURNING *;
[2016-09-10 17:28:57.131] [ INFO] console - Executing (2ef8b087-1313-4000-b733-1a31e0e05f16): COMMIT;
[2016-09-10 17:28:57.132] [ INFO] console - [ 70, 1820, {}, [ '66' ] ]
[2016-09-10 17:28:57.136] [ INFO] console - [ 16,
  6129865927426048,
  { acknowledge: true },
  'ru.kopa.model.Kopa.id3.predlozhenieAdd',
  [ '66' ] ]
[2016-09-10 17:28:57.148] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Predlozhenie', id: 1 }
[2016-09-10 17:28:57.151] [ INFO] console - Executing (c2d5bfd0-5dee-4f7e-9530-9418d4af6ec7): START TRANSACTION;
[2016-09-10 17:28:57.152] [ INFO] console - Executing (c2d5bfd0-5dee-4f7e-9530-9418d4af6ec7): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 17:28:57.161] [ INFO] console - Executing (default): SELECT "Predlozhenie"."id", "Predlozhenie"."value", "Predlozhenie"."note", "Predlozhenie"."created_at", "Predlozhenie"."updated_at", "Predlozhenie"."deleted_at", "Predlozhenie"."initiator_id", "Predlozhenie"."place_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Predlozhenie" AS "Predlozhenie" LEFT OUTER JOIN "File" AS "attachments" ON "Predlozhenie"."id" = "attachments"."predlozhenie_id" AND "attachments"."deleted_at" IS NULL WHERE ("Predlozhenie"."deleted_at" IS NULL AND "Predlozhenie"."id" = 1);
[2016-09-10 17:28:57.167] [ INFO] console - Executing (c2d5bfd0-5dee-4f7e-9530-9418d4af6ec7): COMMIT;
[2016-09-10 17:28:57.169] [ INFO] console - [ 70,
  1821,
  {},
  [ { id: '1',
      value: 'Будет ...',
      note: null,
      created_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      deleted_at: null,
      initiator_id: '2',
      place_id: '3',
      attachments: [] } ] ]
[2016-09-10 17:28:57.193] [ INFO] console - Executing (925d7ebd-015b-49a1-a012-a56d232c454c): START TRANSACTION;
[2016-09-10 17:28:57.194] [ INFO] console - Executing (925d7ebd-015b-49a1-a012-a56d232c454c): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 17:28:57.201] [ INFO] console - Executing (default): INSERT INTO "Golos" ("id","value","created_at","updated_at","for_id","owner_id") VALUES (DEFAULT,1,'2016-09-10 12:28:57.196 +00:00','2016-09-10 12:28:57.196 +00:00',1,2) RETURNING *;
[2016-09-10 17:28:57.204] [ INFO] console - Executing (925d7ebd-015b-49a1-a012-a56d232c454c): COMMIT;
[2016-09-10 17:28:57.205] [ INFO] console - [ 70, 1822, {}, [ '65' ] ]
[2016-09-10 17:28:57.207] [ INFO] console - [ 16,
  5392821655699456,
  { acknowledge: true },
  'ru.kopa.model.Predlozhenie.id1.golosAdd',
  [ '65' ] ]
[2016-09-10 17:28:57.270] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 2 }
[2016-09-10 17:28:57.272] [ INFO] console - Executing (add16893-e655-4d0c-a885-a0d773ad90f1): START TRANSACTION;
[2016-09-10 17:28:57.288] [ INFO] console - Executing (add16893-e655-4d0c-a885-a0d773ad90f1): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 17:28:57.300] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 2);
[2016-09-10 17:28:57.306] [ INFO] console - Executing (add16893-e655-4d0c-a885-a0d773ad90f1): COMMIT;
[2016-09-10 17:28:57.307] [ INFO] console - [ 70,
  1824,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/2/',
      starshina: [Object],
      id: '2',
      email: 'unittest2@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '1',
      voiskoSize: 1,
      birth: 1983,
      path: '/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: null,
      attachments: [] } ] ]
[2016-09-10 17:28:57.387] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 3 }
[2016-09-10 17:28:57.389] [ INFO] console - Executing (caa1d527-c4ac-425d-9dc2-ac5d44e7fca7): START TRANSACTION;
[2016-09-10 17:28:57.390] [ INFO] console - Executing (caa1d527-c4ac-425d-9dc2-ac5d44e7fca7): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 17:28:57.400] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 3);
[2016-09-10 17:28:57.410] [ INFO] console - Executing (caa1d527-c4ac-425d-9dc2-ac5d44e7fca7): COMMIT;
[2016-09-10 17:28:57.411] [ INFO] console - [ 70,
  1825,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/2/3/',
      starshina: [Object],
      id: '3',
      email: 'unittest3@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '3',
      voiskoSize: 0,
      birth: 1983,
      path: '/2/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: '2',
      attachments: [] } ] ]
[2016-09-10 17:28:57.432] [ INFO] console - Executing (6f9a496c-710d-4bc7-ac9b-16b4e4fd5a2d): START TRANSACTION;
[2016-09-10 17:28:57.433] [ INFO] console - Executing (6f9a496c-710d-4bc7-ac9b-16b4e4fd5a2d): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 17:28:57.440] [ INFO] console - Executing (default): INSERT INTO "Slovo" ("id","value","note","created_at","updated_at","owner_id","place_id") VALUES (DEFAULT,'123 temp','456','2016-09-10 12:28:57.434 +00:00','2016-09-10 12:28:57.434 +00:00',2,3) RETURNING *;
[2016-09-10 17:28:57.446] [ INFO] console - Executing (6f9a496c-710d-4bc7-ac9b-16b4e4fd5a2d): COMMIT;
[2016-09-10 17:28:57.447] [ INFO] console - [ 70, 1826, {}, [ '117' ] ]
[2016-09-10 17:28:57.449] [ INFO] console - [ 16,
  2087769866240000,
  { acknowledge: true },
  'ru.kopa.model.Kopa.id3.slovoAdd',
  [ '117' ] ]
[2016-09-10 17:28:57.459] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Slovo', id: 117 }
[2016-09-10 17:28:57.470] [ INFO] console - Executing (41f2ecc3-456a-4542-86c5-8ece0e9395da): START TRANSACTION;
[2016-09-10 17:28:57.471] [ INFO] console - Executing (41f2ecc3-456a-4542-86c5-8ece0e9395da): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 17:28:57.478] [ INFO] console - Executing (default): SELECT "Slovo"."id", "Slovo"."value", "Slovo"."note", "Slovo"."created_at", "Slovo"."updated_at", "Slovo"."deleted_at", "Slovo"."owner_id", "Slovo"."place_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Slovo" AS "Slovo" LEFT OUTER JOIN "File" AS "attachments" ON "Slovo"."id" = "attachments"."slovo_id" AND "attachments"."deleted_at" IS NULL WHERE ("Slovo"."deleted_at" IS NULL AND "Slovo"."id" = 117);
[2016-09-10 17:28:57.482] [ INFO] console - Executing (41f2ecc3-456a-4542-86c5-8ece0e9395da): COMMIT;
[2016-09-10 17:28:57.484] [ INFO] console - [ 70,
  1827,
  {},
  [ { id: '117',
      value: '123 temp',
      note: '456',
      created_at: Sat Sep 10 2016 17:28:57 GMT+0500 (YEKT),
      updated_at: Sat Sep 10 2016 17:28:57 GMT+0500 (YEKT),
      deleted_at: null,
      owner_id: '2',
      place_id: '3',
      attachments: [] } ] ]
[2016-09-10 17:28:57.498] [ INFO] console - Executing (0facc33c-bf5b-4225-8f4d-307b6c846501): START TRANSACTION;
[2016-09-10 17:28:57.500] [ INFO] console - Executing (0facc33c-bf5b-4225-8f4d-307b6c846501): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 17:28:57.507] [ INFO] console - Executing (default): INSERT INTO "Slovo" ("id","value","created_at","updated_at","owner_id","place_id") VALUES (DEFAULT,'some value temp 1473510537495','2016-09-10 12:28:57.501 +00:00','2016-09-10 12:28:57.501 +00:00',2,3) RETURNING *;
[2016-09-10 17:28:57.510] [ INFO] console - Executing (0facc33c-bf5b-4225-8f4d-307b6c846501): COMMIT;
[2016-09-10 17:28:57.512] [ INFO] console - [ 70, 1828, {}, [ '118' ] ]
[2016-09-10 17:28:57.525] [ INFO] console - [ 16,
  4413695375441920,
  { acknowledge: true },
  'ru.kopa.model.Kopa.id3.slovoAdd',
  [ '118' ] ]
[2016-09-10 17:28:57.534] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Zemla', id: 2 }
[2016-09-10 17:28:57.538] [ INFO] console - Executing (01c9ddef-f7b8-4d0c-a7ff-0dae65afa4d2): START TRANSACTION;
[2016-09-10 17:28:57.539] [ INFO] console - Executing (01c9ddef-f7b8-4d0c-a7ff-0dae65afa4d2): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 17:28:57.547] [ INFO] console - Executing (default): SELECT "Zemla"."id", "Zemla"."path", "Zemla"."name", "Zemla"."intensity", "Zemla"."note", "Zemla"."created_at", "Zemla"."updated_at", "Zemla"."deleted_at", "Zemla"."parent_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Zemla" AS "Zemla" LEFT OUTER JOIN "File" AS "attachments" ON "Zemla"."id" = "attachments"."zemla_id" AND "attachments"."deleted_at" IS NULL WHERE ("Zemla"."deleted_at" IS NULL AND "Zemla"."id" = 2);
[2016-09-10 17:28:57.553] [ INFO] console - Executing (01c9ddef-f7b8-4d0c-a7ff-0dae65afa4d2): COMMIT;
[2016-09-10 17:28:57.554] [ INFO] console - [ 70,
  1829,
  {},
  [ { fullPath: 'null2/',
      id: '2',
      path: null,
      name: 'UnitTest2',
      intensity: 1000,
      note: 'unit test 1473505807871',
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Sat Sep 10 2016 16:10:08 GMT+0500 (YEKT),
      deleted_at: null,
      parent_id: '1',
      attachments: [] } ] ]
[2016-09-10 17:28:57.575] [ INFO] console - Executing (f790092f-c994-49bf-a60f-dc2893460184): START TRANSACTION;
[2016-09-10 17:28:57.576] [ INFO] console - Executing (f790092f-c994-49bf-a60f-dc2893460184): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 17:28:57.580] [ INFO] console - Executing (default): SELECT "id", "path", "name", "intensity", "note", "created_at", "updated_at", "deleted_at", "parent_id" FROM "Zemla" AS "Zemla" WHERE ("Zemla"."deleted_at" IS NULL AND "Zemla"."id" = 2);
[2016-09-10 17:28:57.591] [ INFO] console - Executing (default): UPDATE "Zemla" SET "parent_id"=1,"note"='unit test 1473510535036',"updated_at"='2016-09-10 12:28:57.585 +00:00' WHERE "id" = '2'
[2016-09-10 17:28:57.594] [ INFO] console - Executing (f790092f-c994-49bf-a60f-dc2893460184): COMMIT;
[2016-09-10 17:28:57.595] [ INFO] console - [ 16,
  6661496832524288,
  { acknowledge: true },
  'ru.kopa.model.Zemla.id2.change' ]
[2016-09-10 17:28:57.602] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Zemla', id: 2 }
[2016-09-10 17:28:57.606] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Zemla', id: 2 }
[2016-09-10 17:28:57.609] [ INFO] console - [ 70, 1830, {}, [ undefined ] ]
[2016-09-10 17:28:57.613] [ INFO] console - Executing (701fd4c0-bd5a-43e0-a32e-75785e6254db): START TRANSACTION;
[2016-09-10 17:28:57.614] [ INFO] console - Executing (bf00e498-c766-4adf-bf73-9811d5276048): START TRANSACTION;
[2016-09-10 17:28:57.615] [ INFO] console - Executing (701fd4c0-bd5a-43e0-a32e-75785e6254db): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 17:28:57.618] [ INFO] console - Executing (bf00e498-c766-4adf-bf73-9811d5276048): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 17:28:57.623] [ INFO] console - Executing (default): SELECT "Zemla"."id", "Zemla"."path", "Zemla"."name", "Zemla"."intensity", "Zemla"."note", "Zemla"."created_at", "Zemla"."updated_at", "Zemla"."deleted_at", "Zemla"."parent_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Zemla" AS "Zemla" LEFT OUTER JOIN "File" AS "attachments" ON "Zemla"."id" = "attachments"."zemla_id" AND "attachments"."deleted_at" IS NULL WHERE ("Zemla"."deleted_at" IS NULL AND "Zemla"."id" = 2);
[2016-09-10 17:28:57.635] [ INFO] console - Executing (701fd4c0-bd5a-43e0-a32e-75785e6254db): COMMIT;
[2016-09-10 17:28:57.638] [ INFO] console - Executing (default): SELECT "Zemla"."id", "Zemla"."path", "Zemla"."name", "Zemla"."intensity", "Zemla"."note", "Zemla"."created_at", "Zemla"."updated_at", "Zemla"."deleted_at", "Zemla"."parent_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Zemla" AS "Zemla" LEFT OUTER JOIN "File" AS "attachments" ON "Zemla"."id" = "attachments"."zemla_id" AND "attachments"."deleted_at" IS NULL WHERE ("Zemla"."deleted_at" IS NULL AND "Zemla"."id" = 2);
[2016-09-10 17:28:57.645] [ INFO] console - [ 70,
  1831,
  {},
  [ { fullPath: 'null2/',
      id: '2',
      path: null,
      name: 'UnitTest2',
      intensity: 1000,
      note: 'unit test 1473510535036',
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Sat Sep 10 2016 17:28:57 GMT+0500 (YEKT),
      deleted_at: null,
      parent_id: '1',
      attachments: [] } ] ]
[2016-09-10 17:28:57.651] [ INFO] console - Executing (bf00e498-c766-4adf-bf73-9811d5276048): COMMIT;
[2016-09-10 17:28:57.653] [ INFO] console - [ 70,
  1832,
  {},
  [ { fullPath: 'null2/',
      id: '2',
      path: null,
      name: 'UnitTest2',
      intensity: 1000,
      note: 'unit test 1473510535036',
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Sat Sep 10 2016 17:28:57 GMT+0500 (YEKT),
      deleted_at: null,
      parent_id: '1',
      attachments: [] } ] ]
[2016-09-10 17:30:03.819] [ INFO] console - [ 70, 1834, {}, [ 'unittest2@domain.ru' ] ]
[2016-09-10 17:30:03.832] [DEBUG] Server - #pingPong() [ 1, 2, 3 ] { x: 1, y: 2, z: 3 }
[2016-09-10 17:30:03.835] [ INFO] console - [ 70, 1835, {}, [ 1, 2, 3 ], { x: 1, y: 2, z: 3 } ]
[2016-09-10 17:30:03.859] [ INFO] console - Executing (default): select 'КОПА' as result
[2016-09-10 17:30:03.861] [ INFO] console - [ 70, 1836, {}, [ 'КОПА' ] ]
[2016-09-10 17:30:03.877] [DEBUG] Server - #error() [ 'sadkljfaskldjfs;af' ] {}
[2016-09-10 17:30:03.880] [ERROR] Server - [Error: sadkljfaskldjfs;af]
Error: sadkljfaskldjfs;af
    at MySuperError (Server.js:339:9)
    at fn.constructor.error.Error (Server.js:344:19)
    at new wrappedPromise (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/async-listener/index.js:372:16)
    at Server.error (Server.js:343:16)
    at Object.<anonymous> (Server.js:415:43)
    at [object Generator].next (native)
    at step (/home/alexey2baranov/htdocs/kp-sequelizejs/src/Server.js:1:253)
    at /home/alexey2baranov/htdocs/kp-sequelizejs/src/Server.js:1:513
    at new wrappedPromise (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/async-listener/index.js:372:16)
    at Object.<anonymous> (/home/alexey2baranov/htdocs/kp-sequelizejs/src/Server.js:1:161)
    at Object.<anonymous> (Server.js:412:28)
    at tryCatchResolve (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/apply.js:46:23)
    at callAndResolve (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/apply.js:30:12)
    at callAndResolveNext (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/apply.js:40:4)
    at tryCatchReject3 (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/makePromise.js:856:7)
    at runContinuation3 (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/makePromise.js:814:4)
[2016-09-10 17:30:03.885] [ INFO] console - [ 8,
  68,
  1837,
  {},
  'MySuperError',
  [ 'sadkljfaskldjfs;af' ],
  { stack: 
     [ 'Error: sadkljfaskldjfs;af',
       '    at MySuperError (Server.js:339:9)',
       '    at fn.constructor.error.Error (Server.js:344:19)',
       '    at new wrappedPromise (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/async-listener/index.js:372:16)',
       '    at Server.error (Server.js:343:16)',
       '    at Object.<anonymous> (Server.js:415:43)',
       '    at [object Generator].next (native)',
       '    at step (/home/alexey2baranov/htdocs/kp-sequelizejs/src/Server.js:1:253)',
       '    at /home/alexey2baranov/htdocs/kp-sequelizejs/src/Server.js:1:513',
       '    at new wrappedPromise (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/async-listener/index.js:372:16)',
       '    at Object.<anonymous> (/home/alexey2baranov/htdocs/kp-sequelizejs/src/Server.js:1:161)',
       '    at Object.<anonymous> (Server.js:412:28)',
       '    at tryCatchResolve (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/apply.js:46:23)',
       '    at callAndResolve (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/apply.js:30:12)',
       '    at callAndResolveNext (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/apply.js:40:4)',
       '    at tryCatchReject3 (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/makePromise.js:856:7)',
       '    at runContinuation3 (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/makePromise.js:814:4)' ] } ]
[2016-09-10 17:30:03.897] [ INFO] console - [ 70, 1838, {}, [ undefined ] ]
[2016-09-10 17:30:03.900] [ INFO] console - Executing (default): delete from "Slovo"
                where
                    place_id<5
                    and value like '%temp'
[2016-09-10 17:30:03.903] [ INFO] console - Executing (default): delete from "Kopnik"
                where
                    name like '%temp'
[2016-09-10 17:30:03.908] [ INFO] console - Executing (default): update "Kopnik"
                set 
                    "voiskoSize"= case when id=2 then 1 ELSE 0 END
                where
                    id>1 
                    and id<=5
[2016-09-10 17:30:03.972] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopa', id: 3 }
[2016-09-10 17:30:03.976] [ INFO] console - Executing (6c985faf-adde-45e5-a869-b3e311d71b9e): START TRANSACTION;
[2016-09-10 17:30:03.977] [ INFO] console - Executing (6c985faf-adde-45e5-a869-b3e311d71b9e): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 17:30:04.000] [ INFO] console - Executing (default): SELECT "Kopa"."id", "Kopa"."question", "Kopa"."planned", "Kopa"."started", "Kopa"."closed", "Kopa"."isOpen", "Kopa"."note", "Kopa"."created_at", "Kopa"."updated_at", "Kopa"."deleted_at", "Kopa"."place_id", "Kopa"."inviter_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopa" AS "Kopa" LEFT OUTER JOIN "File" AS "attachments" ON "Kopa"."id" = "attachments"."kopa_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopa"."deleted_at" IS NULL AND "Kopa"."id" = 3);
[2016-09-10 17:30:04.008] [ INFO] console - Executing (6c985faf-adde-45e5-a869-b3e311d71b9e): COMMIT;
[2016-09-10 17:30:04.010] [ INFO] console - [ 70,
  1840,
  {},
  [ { id: '3',
      question: 'CHE',
      planned: Thu Sep 01 2016 00:00:00 GMT+0500 (YEKT),
      started: Thu Sep 01 2016 00:00:00 GMT+0500 (YEKT),
      closed: null,
      isOpen: false,
      note: null,
      created_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      deleted_at: null,
      place_id: '2',
      inviter_id: '2',
      attachments: [] } ] ]
[2016-09-10 17:30:04.034] [ INFO] console - Executing (899aaeb4-4029-475d-b829-6d211b4ec91f): START TRANSACTION;
[2016-09-10 17:30:04.036] [ INFO] console - Executing (899aaeb4-4029-475d-b829-6d211b4ec91f): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 17:30:04.065] [ INFO] console - Executing (default): INSERT INTO "Golos" ("id","value","created_at","updated_at","for_id","owner_id") VALUES (DEFAULT,1,'2016-09-10 12:30:04.043 +00:00','2016-09-10 12:30:04.043 +00:00',1,2) RETURNING *;
[2016-09-10 17:30:04.077] [ INFO] console - Executing (899aaeb4-4029-475d-b829-6d211b4ec91f): COMMIT;
[2016-09-10 17:30:04.088] [ INFO] console - [ 70, 1841, {}, [ '66' ] ]
[2016-09-10 17:30:04.110] [ INFO] console - [ 16,
  2275499130748928,
  { acknowledge: true },
  'ru.kopa.model.Predlozhenie.id1.golosAdd',
  [ '66' ] ]
[2016-09-10 17:30:04.179] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopa', id: 3 }
[2016-09-10 17:30:04.188] [ INFO] console - Executing (7bf23e6c-6eaf-4141-9cf3-a179423e4f78): START TRANSACTION;
[2016-09-10 17:30:04.189] [ INFO] console - Executing (7bf23e6c-6eaf-4141-9cf3-a179423e4f78): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 17:30:04.198] [ INFO] console - Executing (default): SELECT "Kopa"."id", "Kopa"."question", "Kopa"."planned", "Kopa"."started", "Kopa"."closed", "Kopa"."isOpen", "Kopa"."note", "Kopa"."created_at", "Kopa"."updated_at", "Kopa"."deleted_at", "Kopa"."place_id", "Kopa"."inviter_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopa" AS "Kopa" LEFT OUTER JOIN "File" AS "attachments" ON "Kopa"."id" = "attachments"."kopa_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopa"."deleted_at" IS NULL AND "Kopa"."id" = 3);
[2016-09-10 17:30:04.203] [ INFO] console - Executing (7bf23e6c-6eaf-4141-9cf3-a179423e4f78): COMMIT;
[2016-09-10 17:30:04.205] [ INFO] console - [ 70,
  1843,
  {},
  [ { id: '3',
      question: 'CHE',
      planned: Thu Sep 01 2016 00:00:00 GMT+0500 (YEKT),
      started: Thu Sep 01 2016 00:00:00 GMT+0500 (YEKT),
      closed: null,
      isOpen: false,
      note: null,
      created_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      deleted_at: null,
      place_id: '2',
      inviter_id: '2',
      attachments: [] } ] ]
[2016-09-10 17:30:04.243] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 2 }
[2016-09-10 17:30:04.251] [ INFO] console - Executing (2197276a-c721-4580-b2d9-e39451c6c450): START TRANSACTION;
[2016-09-10 17:30:04.255] [ INFO] console - Executing (2197276a-c721-4580-b2d9-e39451c6c450): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 17:30:04.262] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 2);
[2016-09-10 17:30:04.279] [ INFO] console - Executing (2197276a-c721-4580-b2d9-e39451c6c450): COMMIT;
[2016-09-10 17:30:04.281] [ INFO] console - [ 70,
  1844,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/2/',
      starshina: [Object],
      id: '2',
      email: 'unittest2@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '1',
      voiskoSize: 1,
      birth: 1983,
      path: '/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: null,
      attachments: [] } ] ]
[2016-09-10 17:30:04.296] [ INFO] console - Executing (d6c4821a-dd70-423c-ade6-fec2b5252afa): START TRANSACTION;
[2016-09-10 17:30:04.298] [ INFO] console - Executing (d6c4821a-dd70-423c-ade6-fec2b5252afa): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 17:30:04.308] [ INFO] console - Executing (default): INSERT INTO "Slovo" ("id","value","created_at","updated_at","owner_id","place_id") VALUES (DEFAULT,'some Slovo temp 1473510604293','2016-09-10 12:30:04.302 +00:00','2016-09-10 12:30:04.302 +00:00',2,3) RETURNING *;
[2016-09-10 17:30:04.312] [ INFO] console - Executing (d6c4821a-dd70-423c-ade6-fec2b5252afa): COMMIT;
[2016-09-10 17:30:04.313] [ INFO] console - [ 70, 1845, {}, [ '119' ] ]
[2016-09-10 17:30:04.319] [ INFO] console - [ 16,
  6569980264972288,
  { acknowledge: true },
  'ru.kopa.model.Kopa.id3.slovoAdd',
  [ '119' ] ]
[2016-09-10 17:30:04.341] [ INFO] console - Executing (c51f2b62-b695-4e07-a618-bc6fd5525481): START TRANSACTION;
[2016-09-10 17:30:04.343] [ INFO] console - Executing (c51f2b62-b695-4e07-a618-bc6fd5525481): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 17:30:04.349] [ INFO] console - Executing (default): INSERT INTO "Predlozhenie" ("id","value","created_at","updated_at","initiator_id","place_id") VALUES (DEFAULT,'some Predlozhenie temp 1473510604332','2016-09-10 12:30:04.345 +00:00','2016-09-10 12:30:04.345 +00:00',2,3) RETURNING *;
[2016-09-10 17:30:04.356] [ INFO] console - Executing (c51f2b62-b695-4e07-a618-bc6fd5525481): COMMIT;
[2016-09-10 17:30:04.358] [ INFO] console - [ 70, 1846, {}, [ '67' ] ]
[2016-09-10 17:30:04.364] [ INFO] console - [ 16,
  1766589860937728,
  { acknowledge: true },
  'ru.kopa.model.Kopa.id3.predlozhenieAdd',
  [ '67' ] ]
[2016-09-10 17:30:04.406] [ INFO] console - [ 70, 1848, {}, [ undefined ] ]
[2016-09-10 17:30:04.418] [ INFO] console - Executing (default): delete from "Kopnik"
                where
                    name like '%temp'
[2016-09-10 17:30:04.419] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 2 }
[2016-09-10 17:30:04.423] [ INFO] console - Executing (9754caa9-927c-4e7e-98c7-07f114e9e2f1): START TRANSACTION;
[2016-09-10 17:30:04.425] [ INFO] console - Executing (default): update "Kopnik"
                set 
                    "voiskoSize"= case when id=2 then 1 ELSE 0 END
                where
                    id>1 
                    and id<=5
[2016-09-10 17:30:04.427] [ INFO] console - Executing (9754caa9-927c-4e7e-98c7-07f114e9e2f1): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 17:30:04.438] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 2);
[2016-09-10 17:30:04.456] [ INFO] console - Executing (9754caa9-927c-4e7e-98c7-07f114e9e2f1): COMMIT;
[2016-09-10 17:30:04.458] [ INFO] console - [ 70,
  1849,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/2/',
      starshina: [Object],
      id: '2',
      email: 'unittest2@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '1',
      voiskoSize: 1,
      birth: 1983,
      path: '/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: null,
      attachments: [] } ] ]
[2016-09-10 17:30:04.483] [ INFO] console - Executing (a003138c-b6d7-43a2-bddc-38dfc42c5d53): START TRANSACTION;
[2016-09-10 17:30:04.484] [ INFO] console - Executing (a003138c-b6d7-43a2-bddc-38dfc42c5d53): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 17:30:04.492] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 2);
[2016-09-10 17:30:04.497] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"+1
                                where
                                    '/2/' like path||id||'/%'
[2016-09-10 17:30:04.511] [ INFO] console - Executing (default): INSERT INTO "Kopnik" ("id","name","surname","patronymic","voiskoSize","birth","path","created_at","updated_at","rodina_id","starshina_id") VALUES (DEFAULT,'temp','temp','temp',0,1900,'/2/','2016-09-10 12:30:04.485 +00:00','2016-09-10 12:30:04.485 +00:00',NULL,2) RETURNING *;
[2016-09-10 17:30:04.515] [ INFO] console - Executing (a003138c-b6d7-43a2-bddc-38dfc42c5d53): COMMIT;
[2016-09-10 17:30:04.517] [ INFO] console - [ 70, 1850, {}, [ '265' ] ]
[2016-09-10 17:30:04.524] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Zemla', id: 2 }
[2016-09-10 17:30:04.528] [ INFO] console - Executing (7677c55a-343f-4a73-8887-442678f3f251): START TRANSACTION;
[2016-09-10 17:30:04.529] [ INFO] console - Executing (36a052be-897f-4937-b3d8-b2eecc84a5ab): START TRANSACTION;
[2016-09-10 17:30:04.533] [ INFO] console - Executing (7677c55a-343f-4a73-8887-442678f3f251): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 17:30:04.534] [ INFO] console - Executing (36a052be-897f-4937-b3d8-b2eecc84a5ab): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 17:30:04.559] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/' like k.path||k.id||'/%'
[2016-09-10 17:30:04.568] [ INFO] console - Executing (default): SELECT "Zemla"."id", "Zemla"."path", "Zemla"."name", "Zemla"."intensity", "Zemla"."note", "Zemla"."created_at", "Zemla"."updated_at", "Zemla"."deleted_at", "Zemla"."parent_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Zemla" AS "Zemla" LEFT OUTER JOIN "File" AS "attachments" ON "Zemla"."id" = "attachments"."zemla_id" AND "attachments"."deleted_at" IS NULL WHERE ("Zemla"."deleted_at" IS NULL AND "Zemla"."id" = 2);
[2016-09-10 17:30:04.579] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 265);
[2016-09-10 17:30:04.588] [ INFO] console - Executing (7677c55a-343f-4a73-8887-442678f3f251): COMMIT;
[2016-09-10 17:30:04.591] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 17:30:04.599] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"+1
                                where
                                    '/2/265/' like path||id||'/%'
[2016-09-10 17:30:04.601] [ INFO] console - [ 16,
  3654571821891584,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id2.voiskoChange',
  [],
  { voiskoSize: 2 } ]
[2016-09-10 17:30:04.606] [ INFO] console - [ 70,
  1851,
  {},
  [ { fullPath: 'null2/',
      id: '2',
      path: null,
      name: 'UnitTest2',
      intensity: 1000,
      note: 'unit test 1473510535036',
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Sat Sep 10 2016 17:28:57 GMT+0500 (YEKT),
      deleted_at: null,
      parent_id: '1',
      attachments: [] } ] ]
[2016-09-10 17:30:04.640] [ INFO] console - Executing (default): INSERT INTO "Kopnik" ("id","name","surname","patronymic","voiskoSize","birth","path","created_at","updated_at","rodina_id","starshina_id") VALUES (DEFAULT,'temp','temp','temp',0,1900,'/2/265/','2016-09-10 12:30:04.538 +00:00','2016-09-10 12:30:04.538 +00:00',NULL,265) RETURNING *;
[2016-09-10 17:30:04.644] [ INFO] console - Executing (36a052be-897f-4937-b3d8-b2eecc84a5ab): COMMIT;
[2016-09-10 17:30:04.645] [ INFO] console - [ 70, 1852, {}, [ '266' ] ]
[2016-09-10 17:30:04.653] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/265/' like k.path||k.id||'/%'
[2016-09-10 17:30:04.664] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2', '265')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 17:30:04.670] [ INFO] console - [ 16,
  5119730545328128,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id265.voiskoChange',
  [],
  { voiskoSize: 1 } ]
[2016-09-10 17:30:04.684] [ INFO] console - [ 16,
  7862435782328320,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id2.voiskoChange',
  [],
  { voiskoSize: 3 } ]
[2016-09-10 17:30:04.699] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 4 }
[2016-09-10 17:30:04.704] [ INFO] console - Executing (aad8cac4-bbf6-4d49-9a81-37a2f70d844d): START TRANSACTION;
[2016-09-10 17:30:04.707] [ INFO] console - Executing (aad8cac4-bbf6-4d49-9a81-37a2f70d844d): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 17:30:04.717] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 4);
[2016-09-10 17:30:04.736] [ INFO] console - Executing (aad8cac4-bbf6-4d49-9a81-37a2f70d844d): COMMIT;
[2016-09-10 17:30:04.738] [ INFO] console - [ 70,
  1853,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/4/',
      starshina: [Object],
      id: '4',
      email: 'unittest4@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '4',
      voiskoSize: 0,
      birth: 1983,
      path: '/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: null,
      attachments: [] } ] ]
[2016-09-10 17:30:04.752] [ INFO] console - Executing (c62ccfdb-0f76-4542-94aa-61ecd7894bdd): START TRANSACTION;
[2016-09-10 17:30:04.754] [ INFO] console - Executing (c62ccfdb-0f76-4542-94aa-61ecd7894bdd): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 17:30:04.759] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 265);
[2016-09-10 17:30:04.769] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 4);
[2016-09-10 17:30:04.773] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/' like k.path||k.id||'/%'
[2016-09-10 17:30:04.782] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 17:30:04.789] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"-2
                                where
                                    '/2/' like path||id||'/%'
[2016-09-10 17:30:04.802] [ INFO] console - Executing (default): UPDATE "Kopnik" SET "path"='/4/',"starshina_id"='4',"updated_at"='2016-09-10 12:30:04.791 +00:00' WHERE "id" = '265'
[2016-09-10 17:30:04.811] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"+2
                                where
                                    '/4/' like path||id||'/%'
[2016-09-10 17:30:04.816] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."starshina_id" = '265');
[2016-09-10 17:30:04.825] [ INFO] console - Executing (default): UPDATE "Kopnik" SET "path"='/4/265/',"updated_at"='2016-09-10 12:30:04.820 +00:00' WHERE "id" = '266'
[2016-09-10 17:30:04.830] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/4/' like k.path||k.id||'/%'
[2016-09-10 17:30:04.844] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('4')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 17:30:04.849] [ INFO] console - Executing (c62ccfdb-0f76-4542-94aa-61ecd7894bdd): COMMIT;
[2016-09-10 17:30:04.851] [ INFO] console - [ 70, 1854, {}, [ undefined ] ]
[2016-09-10 17:30:04.856] [ INFO] console - [ 16,
  4861630475141120,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id2.voiskoChange',
  [],
  { voiskoSize: 1 } ]
[2016-09-10 17:30:04.860] [ INFO] console - [ 16,
  8226860603277312,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id4.voiskoChange',
  [],
  { voiskoSize: 2 } ]
[2016-09-10 17:30:04.900] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopa', id: 3 }
[2016-09-10 17:30:04.904] [ INFO] console - Executing (80767436-c795-4d7e-a94b-3e463001b0f8): START TRANSACTION;
[2016-09-10 17:30:04.905] [ INFO] console - Executing (80767436-c795-4d7e-a94b-3e463001b0f8): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 17:30:04.929] [ INFO] console - Executing (default): SELECT "Kopa"."id", "Kopa"."question", "Kopa"."planned", "Kopa"."started", "Kopa"."closed", "Kopa"."isOpen", "Kopa"."note", "Kopa"."created_at", "Kopa"."updated_at", "Kopa"."deleted_at", "Kopa"."place_id", "Kopa"."inviter_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopa" AS "Kopa" LEFT OUTER JOIN "File" AS "attachments" ON "Kopa"."id" = "attachments"."kopa_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopa"."deleted_at" IS NULL AND "Kopa"."id" = 3);
[2016-09-10 17:30:04.975] [ INFO] console - Executing (80767436-c795-4d7e-a94b-3e463001b0f8): COMMIT;
[2016-09-10 17:30:04.980] [ INFO] console - [ 70,
  1856,
  {},
  [ { id: '3',
      question: 'CHE',
      planned: Thu Sep 01 2016 00:00:00 GMT+0500 (YEKT),
      started: Thu Sep 01 2016 00:00:00 GMT+0500 (YEKT),
      closed: null,
      isOpen: false,
      note: null,
      created_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      deleted_at: null,
      place_id: '2',
      inviter_id: '2',
      attachments: [] } ] ]
[2016-09-10 17:30:05.004] [ INFO] console - Executing (396a8657-4f2a-4821-a1a4-2ad65fde5ec7): START TRANSACTION;
[2016-09-10 17:30:05.005] [ INFO] console - Executing (396a8657-4f2a-4821-a1a4-2ad65fde5ec7): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 17:30:05.012] [ INFO] console - Executing (default): INSERT INTO "Predlozhenie" ("id","value","created_at","updated_at","initiator_id","place_id") VALUES (DEFAULT,'some Predlozhenie temp 1473510603493','2016-09-10 12:30:05.006 +00:00','2016-09-10 12:30:05.006 +00:00',2,3) RETURNING *;
[2016-09-10 17:30:05.018] [ INFO] console - Executing (396a8657-4f2a-4821-a1a4-2ad65fde5ec7): COMMIT;
[2016-09-10 17:30:05.020] [ INFO] console - [ 70, 1857, {}, [ '68' ] ]
[2016-09-10 17:30:05.026] [ INFO] console - [ 16,
  385272082595840,
  { acknowledge: true },
  'ru.kopa.model.Kopa.id3.predlozhenieAdd',
  [ '68' ] ]
[2016-09-10 17:30:05.034] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Predlozhenie', id: 1 }
[2016-09-10 17:30:05.037] [ INFO] console - Executing (244928a6-7023-4b64-b851-0816311fc089): START TRANSACTION;
[2016-09-10 17:30:05.038] [ INFO] console - Executing (244928a6-7023-4b64-b851-0816311fc089): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 17:30:05.047] [ INFO] console - Executing (default): SELECT "Predlozhenie"."id", "Predlozhenie"."value", "Predlozhenie"."note", "Predlozhenie"."created_at", "Predlozhenie"."updated_at", "Predlozhenie"."deleted_at", "Predlozhenie"."initiator_id", "Predlozhenie"."place_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Predlozhenie" AS "Predlozhenie" LEFT OUTER JOIN "File" AS "attachments" ON "Predlozhenie"."id" = "attachments"."predlozhenie_id" AND "attachments"."deleted_at" IS NULL WHERE ("Predlozhenie"."deleted_at" IS NULL AND "Predlozhenie"."id" = 1);
[2016-09-10 17:30:05.052] [ INFO] console - Executing (244928a6-7023-4b64-b851-0816311fc089): COMMIT;
[2016-09-10 17:30:05.053] [ INFO] console - [ 70,
  1858,
  {},
  [ { id: '1',
      value: 'Будет ...',
      note: null,
      created_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      deleted_at: null,
      initiator_id: '2',
      place_id: '3',
      attachments: [] } ] ]
[2016-09-10 17:30:05.081] [ INFO] console - Executing (b54406bc-340e-4a5b-a986-a2c7159f7263): START TRANSACTION;
[2016-09-10 17:30:05.085] [ INFO] console - Executing (b54406bc-340e-4a5b-a986-a2c7159f7263): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 17:30:05.102] [ INFO] console - Executing (default): INSERT INTO "Golos" ("id","value","created_at","updated_at","for_id","owner_id") VALUES (DEFAULT,1,'2016-09-10 12:30:05.095 +00:00','2016-09-10 12:30:05.095 +00:00',1,2) RETURNING *;
[2016-09-10 17:30:05.119] [ INFO] console - Executing (b54406bc-340e-4a5b-a986-a2c7159f7263): COMMIT;
[2016-09-10 17:30:05.125] [ INFO] console - [ 70, 1859, {}, [ '67' ] ]
[2016-09-10 17:30:05.135] [ INFO] console - [ 16,
  361232336945152,
  { acknowledge: true },
  'ru.kopa.model.Predlozhenie.id1.golosAdd',
  [ '67' ] ]
[2016-09-10 17:30:05.210] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 2 }
[2016-09-10 17:30:05.215] [ INFO] console - Executing (efea5e02-b997-4f22-807b-9c30a1c05647): START TRANSACTION;
[2016-09-10 17:30:05.219] [ INFO] console - Executing (efea5e02-b997-4f22-807b-9c30a1c05647): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 17:30:05.240] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 2);
[2016-09-10 17:30:05.265] [ INFO] console - Executing (efea5e02-b997-4f22-807b-9c30a1c05647): COMMIT;
[2016-09-10 17:30:05.269] [ INFO] console - [ 70,
  1861,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/2/',
      starshina: [Object],
      id: '2',
      email: 'unittest2@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '1',
      voiskoSize: 1,
      birth: 1983,
      path: '/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: null,
      attachments: [] } ] ]
[2016-09-10 17:30:05.294] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 3 }
[2016-09-10 17:30:05.306] [ INFO] console - Executing (0d6344bd-7541-4c6b-b053-2ba20336e53c): START TRANSACTION;
[2016-09-10 17:30:05.309] [ INFO] console - Executing (0d6344bd-7541-4c6b-b053-2ba20336e53c): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 17:30:05.320] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 3);
[2016-09-10 17:30:05.330] [ INFO] console - Executing (0d6344bd-7541-4c6b-b053-2ba20336e53c): COMMIT;
[2016-09-10 17:30:05.344] [ INFO] console - [ 70,
  1862,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/2/3/',
      starshina: [Object],
      id: '3',
      email: 'unittest3@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '3',
      voiskoSize: 0,
      birth: 1983,
      path: '/2/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: '2',
      attachments: [] } ] ]
[2016-09-10 17:30:05.364] [ INFO] console - Executing (6ea05464-d9ea-4f96-8269-5584bcd9a0aa): START TRANSACTION;
[2016-09-10 17:30:05.367] [ INFO] console - Executing (6ea05464-d9ea-4f96-8269-5584bcd9a0aa): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 17:30:05.378] [ INFO] console - Executing (default): INSERT INTO "Slovo" ("id","value","note","created_at","updated_at","owner_id","place_id") VALUES (DEFAULT,'123 temp','456','2016-09-10 12:30:05.372 +00:00','2016-09-10 12:30:05.372 +00:00',2,3) RETURNING *;
[2016-09-10 17:30:05.388] [ INFO] console - Executing (6ea05464-d9ea-4f96-8269-5584bcd9a0aa): COMMIT;
[2016-09-10 17:30:05.392] [ INFO] console - [ 70, 1863, {}, [ '120' ] ]
[2016-09-10 17:30:05.400] [ INFO] console - [ 16,
  8977747477004288,
  { acknowledge: true },
  'ru.kopa.model.Kopa.id3.slovoAdd',
  [ '120' ] ]
[2016-09-10 17:30:05.412] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Slovo', id: 120 }
[2016-09-10 17:30:05.423] [ INFO] console - Executing (28acdb6a-defb-4911-9677-e10b608f3a55): START TRANSACTION;
[2016-09-10 17:30:05.425] [ INFO] console - Executing (28acdb6a-defb-4911-9677-e10b608f3a55): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 17:30:05.433] [ INFO] console - Executing (default): SELECT "Slovo"."id", "Slovo"."value", "Slovo"."note", "Slovo"."created_at", "Slovo"."updated_at", "Slovo"."deleted_at", "Slovo"."owner_id", "Slovo"."place_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Slovo" AS "Slovo" LEFT OUTER JOIN "File" AS "attachments" ON "Slovo"."id" = "attachments"."slovo_id" AND "attachments"."deleted_at" IS NULL WHERE ("Slovo"."deleted_at" IS NULL AND "Slovo"."id" = 120);
[2016-09-10 17:30:05.438] [ INFO] console - Executing (28acdb6a-defb-4911-9677-e10b608f3a55): COMMIT;
[2016-09-10 17:30:05.440] [ INFO] console - [ 70,
  1864,
  {},
  [ { id: '120',
      value: '123 temp',
      note: '456',
      created_at: Sat Sep 10 2016 17:30:05 GMT+0500 (YEKT),
      updated_at: Sat Sep 10 2016 17:30:05 GMT+0500 (YEKT),
      deleted_at: null,
      owner_id: '2',
      place_id: '3',
      attachments: [] } ] ]
[2016-09-10 17:30:05.470] [ INFO] console - Executing (6ea97abf-9c00-4ac2-8b52-c4abf111c9cb): START TRANSACTION;
[2016-09-10 17:30:05.474] [ INFO] console - Executing (6ea97abf-9c00-4ac2-8b52-c4abf111c9cb): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 17:30:05.495] [ INFO] console - Executing (default): INSERT INTO "Slovo" ("id","value","created_at","updated_at","owner_id","place_id") VALUES (DEFAULT,'some value temp 1473510605450','2016-09-10 12:30:05.477 +00:00','2016-09-10 12:30:05.477 +00:00',2,3) RETURNING *;
[2016-09-10 17:30:05.499] [ INFO] console - Executing (6ea97abf-9c00-4ac2-8b52-c4abf111c9cb): COMMIT;
[2016-09-10 17:30:05.502] [ INFO] console - [ 70, 1865, {}, [ '121' ] ]
[2016-09-10 17:30:05.505] [ INFO] console - [ 16,
  8557132882378752,
  { acknowledge: true },
  'ru.kopa.model.Kopa.id3.slovoAdd',
  [ '121' ] ]
[2016-09-10 17:30:05.517] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Zemla', id: 2 }
[2016-09-10 17:30:05.522] [ INFO] console - Executing (786ec6e7-1f87-45f8-a788-7c1edb35a9b1): START TRANSACTION;
[2016-09-10 17:30:05.523] [ INFO] console - Executing (786ec6e7-1f87-45f8-a788-7c1edb35a9b1): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 17:30:05.537] [ INFO] console - Executing (default): SELECT "Zemla"."id", "Zemla"."path", "Zemla"."name", "Zemla"."intensity", "Zemla"."note", "Zemla"."created_at", "Zemla"."updated_at", "Zemla"."deleted_at", "Zemla"."parent_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Zemla" AS "Zemla" LEFT OUTER JOIN "File" AS "attachments" ON "Zemla"."id" = "attachments"."zemla_id" AND "attachments"."deleted_at" IS NULL WHERE ("Zemla"."deleted_at" IS NULL AND "Zemla"."id" = 2);
[2016-09-10 17:30:05.542] [ INFO] console - Executing (786ec6e7-1f87-45f8-a788-7c1edb35a9b1): COMMIT;
[2016-09-10 17:30:05.550] [ INFO] console - [ 70,
  1866,
  {},
  [ { fullPath: 'null2/',
      id: '2',
      path: null,
      name: 'UnitTest2',
      intensity: 1000,
      note: 'unit test 1473510535036',
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Sat Sep 10 2016 17:28:57 GMT+0500 (YEKT),
      deleted_at: null,
      parent_id: '1',
      attachments: [] } ] ]
[2016-09-10 17:30:05.571] [ INFO] console - Executing (22d88b4d-3023-43de-9376-1bef40a1404a): START TRANSACTION;
[2016-09-10 17:30:05.578] [ INFO] console - Executing (22d88b4d-3023-43de-9376-1bef40a1404a): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 17:30:05.584] [ INFO] console - Executing (default): SELECT "id", "path", "name", "intensity", "note", "created_at", "updated_at", "deleted_at", "parent_id" FROM "Zemla" AS "Zemla" WHERE ("Zemla"."deleted_at" IS NULL AND "Zemla"."id" = 2);
[2016-09-10 17:30:05.604] [ INFO] console - Executing (default): UPDATE "Zemla" SET "parent_id"=1,"note"='unit test 1473510603499',"updated_at"='2016-09-10 12:30:05.600 +00:00' WHERE "id" = '2'
[2016-09-10 17:30:05.608] [ INFO] console - Executing (22d88b4d-3023-43de-9376-1bef40a1404a): COMMIT;
[2016-09-10 17:30:05.615] [ INFO] console - [ 16,
  935454981488640,
  { acknowledge: true },
  'ru.kopa.model.Zemla.id2.change' ]
[2016-09-10 17:30:05.620] [ INFO] console - [ 70, 1867, {}, [ undefined ] ]
[2016-09-10 17:30:05.630] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Zemla', id: 2 }
[2016-09-10 17:30:05.633] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Zemla', id: 2 }
[2016-09-10 17:30:05.641] [ INFO] console - Executing (8d07bdad-811c-45ec-bd3d-30fdf0746a9a): START TRANSACTION;
[2016-09-10 17:30:05.641] [ INFO] console - Executing (be169ded-9def-40cf-b6e1-bff37a22abf8): START TRANSACTION;
[2016-09-10 17:30:05.644] [ INFO] console - Executing (8d07bdad-811c-45ec-bd3d-30fdf0746a9a): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 17:30:05.644] [ INFO] console - Executing (be169ded-9def-40cf-b6e1-bff37a22abf8): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 17:30:05.656] [ INFO] console - Executing (default): SELECT "Zemla"."id", "Zemla"."path", "Zemla"."name", "Zemla"."intensity", "Zemla"."note", "Zemla"."created_at", "Zemla"."updated_at", "Zemla"."deleted_at", "Zemla"."parent_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Zemla" AS "Zemla" LEFT OUTER JOIN "File" AS "attachments" ON "Zemla"."id" = "attachments"."zemla_id" AND "attachments"."deleted_at" IS NULL WHERE ("Zemla"."deleted_at" IS NULL AND "Zemla"."id" = 2);
[2016-09-10 17:30:05.657] [ INFO] console - Executing (default): SELECT "Zemla"."id", "Zemla"."path", "Zemla"."name", "Zemla"."intensity", "Zemla"."note", "Zemla"."created_at", "Zemla"."updated_at", "Zemla"."deleted_at", "Zemla"."parent_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Zemla" AS "Zemla" LEFT OUTER JOIN "File" AS "attachments" ON "Zemla"."id" = "attachments"."zemla_id" AND "attachments"."deleted_at" IS NULL WHERE ("Zemla"."deleted_at" IS NULL AND "Zemla"."id" = 2);
[2016-09-10 17:30:05.670] [ INFO] console - Executing (8d07bdad-811c-45ec-bd3d-30fdf0746a9a): COMMIT;
[2016-09-10 17:30:05.670] [ INFO] console - Executing (be169ded-9def-40cf-b6e1-bff37a22abf8): COMMIT;
[2016-09-10 17:30:05.672] [ INFO] console - [ 70,
  1868,
  {},
  [ { fullPath: 'null2/',
      id: '2',
      path: null,
      name: 'UnitTest2',
      intensity: 1000,
      note: 'unit test 1473510603499',
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Sat Sep 10 2016 17:30:05 GMT+0500 (YEKT),
      deleted_at: null,
      parent_id: '1',
      attachments: [] } ] ]
[2016-09-10 17:30:05.679] [ INFO] console - [ 70,
  1869,
  {},
  [ { fullPath: 'null2/',
      id: '2',
      path: null,
      name: 'UnitTest2',
      intensity: 1000,
      note: 'unit test 1473510603499',
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Sat Sep 10 2016 17:30:05 GMT+0500 (YEKT),
      deleted_at: null,
      parent_id: '1',
      attachments: [] } ] ]
[2016-09-10 17:32:05.751] [ INFO] console - [ 70, 1871, {}, [ 'unittest2@domain.ru' ] ]
[2016-09-10 17:32:05.757] [DEBUG] Server - #pingPong() [ 1, 2, 3 ] { x: 1, y: 2, z: 3 }
[2016-09-10 17:32:05.760] [ INFO] console - [ 70, 1872, {}, [ 1, 2, 3 ], { x: 1, y: 2, z: 3 } ]
[2016-09-10 17:32:05.790] [ INFO] console - Executing (default): select 'КОПА' as result
[2016-09-10 17:32:05.791] [ INFO] console - [ 70, 1873, {}, [ 'КОПА' ] ]
[2016-09-10 17:32:05.802] [DEBUG] Server - #error() [ 'sadkljfaskldjfs;af' ] {}
[2016-09-10 17:32:05.803] [ERROR] Server - [Error: sadkljfaskldjfs;af]
Error: sadkljfaskldjfs;af
    at MySuperError (Server.js:339:9)
    at fn.constructor.error.Error (Server.js:344:19)
    at new wrappedPromise (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/async-listener/index.js:372:16)
    at Server.error (Server.js:343:16)
    at Object.<anonymous> (Server.js:415:43)
    at [object Generator].next (native)
    at step (/home/alexey2baranov/htdocs/kp-sequelizejs/src/Server.js:1:253)
    at /home/alexey2baranov/htdocs/kp-sequelizejs/src/Server.js:1:513
    at new wrappedPromise (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/async-listener/index.js:372:16)
    at Object.<anonymous> (/home/alexey2baranov/htdocs/kp-sequelizejs/src/Server.js:1:161)
    at Object.<anonymous> (Server.js:412:28)
    at tryCatchResolve (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/apply.js:46:23)
    at callAndResolve (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/apply.js:30:12)
    at callAndResolveNext (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/apply.js:40:4)
    at tryCatchReject3 (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/makePromise.js:856:7)
    at runContinuation3 (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/makePromise.js:814:4)
[2016-09-10 17:32:05.806] [ INFO] console - [ 8,
  68,
  1874,
  {},
  'MySuperError',
  [ 'sadkljfaskldjfs;af' ],
  { stack: 
     [ 'Error: sadkljfaskldjfs;af',
       '    at MySuperError (Server.js:339:9)',
       '    at fn.constructor.error.Error (Server.js:344:19)',
       '    at new wrappedPromise (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/async-listener/index.js:372:16)',
       '    at Server.error (Server.js:343:16)',
       '    at Object.<anonymous> (Server.js:415:43)',
       '    at [object Generator].next (native)',
       '    at step (/home/alexey2baranov/htdocs/kp-sequelizejs/src/Server.js:1:253)',
       '    at /home/alexey2baranov/htdocs/kp-sequelizejs/src/Server.js:1:513',
       '    at new wrappedPromise (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/async-listener/index.js:372:16)',
       '    at Object.<anonymous> (/home/alexey2baranov/htdocs/kp-sequelizejs/src/Server.js:1:161)',
       '    at Object.<anonymous> (Server.js:412:28)',
       '    at tryCatchResolve (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/apply.js:46:23)',
       '    at callAndResolve (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/apply.js:30:12)',
       '    at callAndResolveNext (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/apply.js:40:4)',
       '    at tryCatchReject3 (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/makePromise.js:856:7)',
       '    at runContinuation3 (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/makePromise.js:814:4)' ] } ]
[2016-09-10 17:32:05.815] [ INFO] console - [ 70, 1875, {}, [ undefined ] ]
[2016-09-10 17:32:05.818] [ INFO] console - Executing (default): delete from "Slovo"
                where
                    place_id<5
                    and value like '%temp'
[2016-09-10 17:32:05.824] [ INFO] console - Executing (default): delete from "Kopnik"
                where
                    name like '%temp'
[2016-09-10 17:32:05.838] [ INFO] console - Executing (default): update "Kopnik"
                set 
                    "voiskoSize"= case when id=2 then 1 ELSE 0 END
                where
                    id>1 
                    and id<=5
[2016-09-10 17:32:05.885] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopa', id: 3 }
[2016-09-10 17:32:05.889] [ INFO] console - Executing (c45a9697-8b02-4a73-b825-5cb6ae21ee7d): START TRANSACTION;
[2016-09-10 17:32:05.891] [ INFO] console - Executing (c45a9697-8b02-4a73-b825-5cb6ae21ee7d): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 17:32:05.907] [ INFO] console - Executing (default): SELECT "Kopa"."id", "Kopa"."question", "Kopa"."planned", "Kopa"."started", "Kopa"."closed", "Kopa"."isOpen", "Kopa"."note", "Kopa"."created_at", "Kopa"."updated_at", "Kopa"."deleted_at", "Kopa"."place_id", "Kopa"."inviter_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopa" AS "Kopa" LEFT OUTER JOIN "File" AS "attachments" ON "Kopa"."id" = "attachments"."kopa_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopa"."deleted_at" IS NULL AND "Kopa"."id" = 3);
[2016-09-10 17:32:05.912] [ INFO] console - Executing (c45a9697-8b02-4a73-b825-5cb6ae21ee7d): COMMIT;
[2016-09-10 17:32:05.913] [ INFO] console - [ 70,
  1877,
  {},
  [ { id: '3',
      question: 'CHE',
      planned: Thu Sep 01 2016 00:00:00 GMT+0500 (YEKT),
      started: Thu Sep 01 2016 00:00:00 GMT+0500 (YEKT),
      closed: null,
      isOpen: false,
      note: null,
      created_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      deleted_at: null,
      place_id: '2',
      inviter_id: '2',
      attachments: [] } ] ]
[2016-09-10 17:32:05.940] [ INFO] console - Executing (2b8734cf-5bfc-4c72-861b-42b1283e351d): START TRANSACTION;
[2016-09-10 17:32:05.942] [ INFO] console - Executing (2b8734cf-5bfc-4c72-861b-42b1283e351d): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 17:32:05.947] [ INFO] console - Executing (default): INSERT INTO "Golos" ("id","value","created_at","updated_at","for_id","owner_id") VALUES (DEFAULT,1,'2016-09-10 12:32:05.943 +00:00','2016-09-10 12:32:05.943 +00:00',1,2) RETURNING *;
[2016-09-10 17:32:05.951] [ INFO] console - Executing (2b8734cf-5bfc-4c72-861b-42b1283e351d): COMMIT;
[2016-09-10 17:32:05.953] [ INFO] console - [ 70, 1878, {}, [ '68' ] ]
[2016-09-10 17:32:05.955] [ INFO] console - [ 16,
  1229647930982400,
  { acknowledge: true },
  'ru.kopa.model.Predlozhenie.id1.golosAdd',
  [ '68' ] ]
[2016-09-10 17:32:06.014] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopa', id: 3 }
[2016-09-10 17:32:06.018] [ INFO] console - Executing (4eb55729-8c95-4ba5-85b6-86a618a7cf18): START TRANSACTION;
[2016-09-10 17:32:06.019] [ INFO] console - Executing (4eb55729-8c95-4ba5-85b6-86a618a7cf18): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 17:32:06.042] [ INFO] console - Executing (default): SELECT "Kopa"."id", "Kopa"."question", "Kopa"."planned", "Kopa"."started", "Kopa"."closed", "Kopa"."isOpen", "Kopa"."note", "Kopa"."created_at", "Kopa"."updated_at", "Kopa"."deleted_at", "Kopa"."place_id", "Kopa"."inviter_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopa" AS "Kopa" LEFT OUTER JOIN "File" AS "attachments" ON "Kopa"."id" = "attachments"."kopa_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopa"."deleted_at" IS NULL AND "Kopa"."id" = 3);
[2016-09-10 17:32:06.054] [ INFO] console - Executing (4eb55729-8c95-4ba5-85b6-86a618a7cf18): COMMIT;
[2016-09-10 17:32:06.057] [ INFO] console - [ 70,
  1880,
  {},
  [ { id: '3',
      question: 'CHE',
      planned: Thu Sep 01 2016 00:00:00 GMT+0500 (YEKT),
      started: Thu Sep 01 2016 00:00:00 GMT+0500 (YEKT),
      closed: null,
      isOpen: false,
      note: null,
      created_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      deleted_at: null,
      place_id: '2',
      inviter_id: '2',
      attachments: [] } ] ]
[2016-09-10 17:32:06.070] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 2 }
[2016-09-10 17:32:06.076] [ INFO] console - Executing (ff25335e-17b5-4eb2-8073-45a9f7cac00b): START TRANSACTION;
[2016-09-10 17:32:06.080] [ INFO] console - Executing (ff25335e-17b5-4eb2-8073-45a9f7cac00b): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 17:32:06.089] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 2);
[2016-09-10 17:32:06.095] [ INFO] console - Executing (ff25335e-17b5-4eb2-8073-45a9f7cac00b): COMMIT;
[2016-09-10 17:32:06.097] [ INFO] console - [ 70,
  1881,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/2/',
      starshina: [Object],
      id: '2',
      email: 'unittest2@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '1',
      voiskoSize: 1,
      birth: 1983,
      path: '/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: null,
      attachments: [] } ] ]
[2016-09-10 17:32:06.117] [ INFO] console - Executing (f2942cfd-2742-43a6-b2a6-37317b5f5947): START TRANSACTION;
[2016-09-10 17:32:06.119] [ INFO] console - Executing (f2942cfd-2742-43a6-b2a6-37317b5f5947): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 17:32:06.125] [ INFO] console - Executing (default): INSERT INTO "Slovo" ("id","value","created_at","updated_at","owner_id","place_id") VALUES (DEFAULT,'some Slovo temp 1473510726106','2016-09-10 12:32:06.121 +00:00','2016-09-10 12:32:06.121 +00:00',2,3) RETURNING *;
[2016-09-10 17:32:06.135] [ INFO] console - Executing (f2942cfd-2742-43a6-b2a6-37317b5f5947): COMMIT;
[2016-09-10 17:32:06.137] [ INFO] console - [ 70, 1882, {}, [ '122' ] ]
[2016-09-10 17:32:06.140] [ INFO] console - [ 16,
  2187767689773056,
  { acknowledge: true },
  'ru.kopa.model.Kopa.id3.slovoAdd',
  [ '122' ] ]
[2016-09-10 17:32:06.154] [ INFO] console - Executing (bc7d46ba-7d9c-4dfb-b645-2facbe24650d): START TRANSACTION;
[2016-09-10 17:32:06.156] [ INFO] console - Executing (bc7d46ba-7d9c-4dfb-b645-2facbe24650d): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 17:32:06.175] [ INFO] console - Executing (default): INSERT INTO "Predlozhenie" ("id","value","created_at","updated_at","initiator_id","place_id") VALUES (DEFAULT,'some Predlozhenie temp 1473510726150','2016-09-10 12:32:06.158 +00:00','2016-09-10 12:32:06.158 +00:00',2,3) RETURNING *;
[2016-09-10 17:32:06.180] [ INFO] console - Executing (bc7d46ba-7d9c-4dfb-b645-2facbe24650d): COMMIT;
[2016-09-10 17:32:06.182] [ INFO] console - [ 70, 1883, {}, [ '69' ] ]
[2016-09-10 17:32:06.184] [ INFO] console - [ 16,
  3394292959674368,
  { acknowledge: true },
  'ru.kopa.model.Kopa.id3.predlozhenieAdd',
  [ '69' ] ]
[2016-09-10 17:32:06.255] [ INFO] console - [ 70, 1885, {}, [ undefined ] ]
[2016-09-10 17:32:06.259] [ INFO] console - Executing (default): delete from "Kopnik"
                where
                    name like '%temp'
[2016-09-10 17:32:06.263] [ INFO] console - Executing (default): update "Kopnik"
                set 
                    "voiskoSize"= case when id=2 then 1 ELSE 0 END
                where
                    id>1 
                    and id<=5
[2016-09-10 17:32:06.268] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 2 }
[2016-09-10 17:32:06.271] [ INFO] console - Executing (6769a73a-645d-49eb-a79a-5e66674f0c2a): START TRANSACTION;
[2016-09-10 17:32:06.273] [ INFO] console - Executing (6769a73a-645d-49eb-a79a-5e66674f0c2a): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 17:32:06.285] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 2);
[2016-09-10 17:32:06.290] [ INFO] console - Executing (6769a73a-645d-49eb-a79a-5e66674f0c2a): COMMIT;
[2016-09-10 17:32:06.293] [ INFO] console - [ 70,
  1886,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/2/',
      starshina: [Object],
      id: '2',
      email: 'unittest2@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '1',
      voiskoSize: 1,
      birth: 1983,
      path: '/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: null,
      attachments: [] } ] ]
[2016-09-10 17:32:06.315] [ INFO] console - Executing (6792f69f-44e6-4ca6-8687-c9e1d683a4e3): START TRANSACTION;
[2016-09-10 17:32:06.325] [ INFO] console - Executing (6792f69f-44e6-4ca6-8687-c9e1d683a4e3): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 17:32:06.331] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 2);
[2016-09-10 17:32:06.334] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"+1
                                where
                                    '/2/' like path||id||'/%'
[2016-09-10 17:32:06.339] [ INFO] console - Executing (default): INSERT INTO "Kopnik" ("id","name","surname","patronymic","voiskoSize","birth","path","created_at","updated_at","rodina_id","starshina_id") VALUES (DEFAULT,'temp','temp','temp',0,1900,'/2/','2016-09-10 12:32:06.326 +00:00','2016-09-10 12:32:06.326 +00:00',NULL,2) RETURNING *;
[2016-09-10 17:32:06.349] [ INFO] console - Executing (6792f69f-44e6-4ca6-8687-c9e1d683a4e3): COMMIT;
[2016-09-10 17:32:06.354] [ INFO] console - [ 70, 1887, {}, [ '267' ] ]
[2016-09-10 17:32:06.360] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/' like k.path||k.id||'/%'
[2016-09-10 17:32:06.365] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Zemla', id: 2 }
[2016-09-10 17:32:06.372] [ INFO] console - Executing (5ffd1548-e6ff-4c6d-a31e-f79a42c30837): START TRANSACTION;
[2016-09-10 17:32:06.373] [ INFO] console - Executing (23be102a-2e61-4bce-906f-c28ff81b48f7): START TRANSACTION;
[2016-09-10 17:32:06.380] [ INFO] console - Executing (5ffd1548-e6ff-4c6d-a31e-f79a42c30837): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 17:32:06.381] [ INFO] console - Executing (23be102a-2e61-4bce-906f-c28ff81b48f7): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 17:32:06.407] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 17:32:06.413] [ INFO] console - Executing (default): SELECT "Zemla"."id", "Zemla"."path", "Zemla"."name", "Zemla"."intensity", "Zemla"."note", "Zemla"."created_at", "Zemla"."updated_at", "Zemla"."deleted_at", "Zemla"."parent_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Zemla" AS "Zemla" LEFT OUTER JOIN "File" AS "attachments" ON "Zemla"."id" = "attachments"."zemla_id" AND "attachments"."deleted_at" IS NULL WHERE ("Zemla"."deleted_at" IS NULL AND "Zemla"."id" = 2);
[2016-09-10 17:32:06.414] [ INFO] console - [ 16,
  527755152195584,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id2.voiskoChange',
  [],
  { voiskoSize: 2 } ]
[2016-09-10 17:32:06.423] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 267);
[2016-09-10 17:32:06.427] [ INFO] console - Executing (5ffd1548-e6ff-4c6d-a31e-f79a42c30837): COMMIT;
[2016-09-10 17:32:06.433] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"+1
                                where
                                    '/2/267/' like path||id||'/%'
[2016-09-10 17:32:06.434] [ INFO] console - [ 70,
  1888,
  {},
  [ { fullPath: 'null2/',
      id: '2',
      path: null,
      name: 'UnitTest2',
      intensity: 1000,
      note: 'unit test 1473510603499',
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Sat Sep 10 2016 17:30:05 GMT+0500 (YEKT),
      deleted_at: null,
      parent_id: '1',
      attachments: [] } ] ]
[2016-09-10 17:32:06.443] [ INFO] console - Executing (default): INSERT INTO "Kopnik" ("id","name","surname","patronymic","voiskoSize","birth","path","created_at","updated_at","rodina_id","starshina_id") VALUES (DEFAULT,'temp','temp','temp',0,1900,'/2/267/','2016-09-10 12:32:06.385 +00:00','2016-09-10 12:32:06.385 +00:00',NULL,267) RETURNING *;
[2016-09-10 17:32:06.451] [ INFO] console - Executing (23be102a-2e61-4bce-906f-c28ff81b48f7): COMMIT;
[2016-09-10 17:32:06.453] [ INFO] console - [ 70, 1889, {}, [ '268' ] ]
[2016-09-10 17:32:06.463] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/267/' like k.path||k.id||'/%'
[2016-09-10 17:32:06.473] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2', '267')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 17:32:06.476] [ INFO] console - [ 16,
  5433148089303040,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id267.voiskoChange',
  [],
  { voiskoSize: 1 } ]
[2016-09-10 17:32:06.482] [ INFO] console - [ 16,
  5567044680417280,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id2.voiskoChange',
  [],
  { voiskoSize: 3 } ]
[2016-09-10 17:32:06.488] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 4 }
[2016-09-10 17:32:06.494] [ INFO] console - Executing (7cb013b0-bba4-40ae-a0a4-2a8ed7396fb3): START TRANSACTION;
[2016-09-10 17:32:06.497] [ INFO] console - Executing (7cb013b0-bba4-40ae-a0a4-2a8ed7396fb3): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 17:32:06.507] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 4);
[2016-09-10 17:32:06.515] [ INFO] console - Executing (7cb013b0-bba4-40ae-a0a4-2a8ed7396fb3): COMMIT;
[2016-09-10 17:32:06.516] [ INFO] console - [ 70,
  1890,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/4/',
      starshina: [Object],
      id: '4',
      email: 'unittest4@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '4',
      voiskoSize: 0,
      birth: 1983,
      path: '/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: null,
      attachments: [] } ] ]
[2016-09-10 17:32:06.530] [ INFO] console - Executing (3a5c723b-2bc6-4fed-909f-b0a8d4b3f9e8): START TRANSACTION;
[2016-09-10 17:32:06.533] [ INFO] console - Executing (3a5c723b-2bc6-4fed-909f-b0a8d4b3f9e8): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 17:32:06.537] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 267);
[2016-09-10 17:32:06.544] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 4);
[2016-09-10 17:32:06.548] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/' like k.path||k.id||'/%'
[2016-09-10 17:32:06.553] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 17:32:06.557] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"-2
                                where
                                    '/2/' like path||id||'/%'
[2016-09-10 17:32:06.564] [ INFO] console - Executing (default): UPDATE "Kopnik" SET "path"='/4/',"starshina_id"='4',"updated_at"='2016-09-10 12:32:06.558 +00:00' WHERE "id" = '267'
[2016-09-10 17:32:06.567] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"+2
                                where
                                    '/4/' like path||id||'/%'
[2016-09-10 17:32:06.571] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."starshina_id" = '267');
[2016-09-10 17:32:06.581] [ INFO] console - Executing (default): UPDATE "Kopnik" SET "path"='/4/267/',"updated_at"='2016-09-10 12:32:06.575 +00:00' WHERE "id" = '268'
[2016-09-10 17:32:06.584] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/4/' like k.path||k.id||'/%'
[2016-09-10 17:32:06.590] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('4')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 17:32:06.593] [ INFO] console - Executing (3a5c723b-2bc6-4fed-909f-b0a8d4b3f9e8): COMMIT;
[2016-09-10 17:32:06.595] [ INFO] console - [ 70, 1891, {}, [ undefined ] ]
[2016-09-10 17:32:06.598] [ INFO] console - [ 16,
  6713206858842112,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id2.voiskoChange',
  [],
  { voiskoSize: 1 } ]
[2016-09-10 17:32:06.602] [ INFO] console - [ 16,
  8852548079321088,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id4.voiskoChange',
  [],
  { voiskoSize: 2 } ]
[2016-09-10 17:32:06.648] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopa', id: 3 }
[2016-09-10 17:32:06.652] [ INFO] console - Executing (6589b1ce-cd60-4477-98c9-331089f229e4): START TRANSACTION;
[2016-09-10 17:32:06.653] [ INFO] console - Executing (6589b1ce-cd60-4477-98c9-331089f229e4): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 17:32:06.673] [ INFO] console - Executing (default): SELECT "Kopa"."id", "Kopa"."question", "Kopa"."planned", "Kopa"."started", "Kopa"."closed", "Kopa"."isOpen", "Kopa"."note", "Kopa"."created_at", "Kopa"."updated_at", "Kopa"."deleted_at", "Kopa"."place_id", "Kopa"."inviter_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopa" AS "Kopa" LEFT OUTER JOIN "File" AS "attachments" ON "Kopa"."id" = "attachments"."kopa_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopa"."deleted_at" IS NULL AND "Kopa"."id" = 3);
[2016-09-10 17:32:06.688] [ INFO] console - Executing (6589b1ce-cd60-4477-98c9-331089f229e4): COMMIT;
[2016-09-10 17:32:06.690] [ INFO] console - [ 70,
  1893,
  {},
  [ { id: '3',
      question: 'CHE',
      planned: Thu Sep 01 2016 00:00:00 GMT+0500 (YEKT),
      started: Thu Sep 01 2016 00:00:00 GMT+0500 (YEKT),
      closed: null,
      isOpen: false,
      note: null,
      created_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      deleted_at: null,
      place_id: '2',
      inviter_id: '2',
      attachments: [] } ] ]
[2016-09-10 17:32:06.701] [ INFO] console - Executing (60e0aa48-17f1-4ff2-a20b-1bcdc6233b28): START TRANSACTION;
[2016-09-10 17:32:06.702] [ INFO] console - Executing (60e0aa48-17f1-4ff2-a20b-1bcdc6233b28): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 17:32:06.709] [ INFO] console - Executing (default): INSERT INTO "Predlozhenie" ("id","value","created_at","updated_at","initiator_id","place_id") VALUES (DEFAULT,'some Predlozhenie temp 1473510725514','2016-09-10 12:32:06.703 +00:00','2016-09-10 12:32:06.703 +00:00',2,3) RETURNING *;
[2016-09-10 17:32:06.713] [ INFO] console - Executing (60e0aa48-17f1-4ff2-a20b-1bcdc6233b28): COMMIT;
[2016-09-10 17:32:06.714] [ INFO] console - [ 70, 1894, {}, [ '70' ] ]
[2016-09-10 17:32:06.716] [ INFO] console - [ 16,
  2076315672903680,
  { acknowledge: true },
  'ru.kopa.model.Kopa.id3.predlozhenieAdd',
  [ '70' ] ]
[2016-09-10 17:32:06.724] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Predlozhenie', id: 1 }
[2016-09-10 17:32:06.727] [ INFO] console - Executing (1a96cede-d05d-4231-b6d9-0009424e09ff): START TRANSACTION;
[2016-09-10 17:32:06.729] [ INFO] console - Executing (1a96cede-d05d-4231-b6d9-0009424e09ff): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 17:32:06.736] [ INFO] console - Executing (default): SELECT "Predlozhenie"."id", "Predlozhenie"."value", "Predlozhenie"."note", "Predlozhenie"."created_at", "Predlozhenie"."updated_at", "Predlozhenie"."deleted_at", "Predlozhenie"."initiator_id", "Predlozhenie"."place_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Predlozhenie" AS "Predlozhenie" LEFT OUTER JOIN "File" AS "attachments" ON "Predlozhenie"."id" = "attachments"."predlozhenie_id" AND "attachments"."deleted_at" IS NULL WHERE ("Predlozhenie"."deleted_at" IS NULL AND "Predlozhenie"."id" = 1);
[2016-09-10 17:32:06.747] [ INFO] console - Executing (1a96cede-d05d-4231-b6d9-0009424e09ff): COMMIT;
[2016-09-10 17:32:06.748] [ INFO] console - [ 70,
  1895,
  {},
  [ { id: '1',
      value: 'Будет ...',
      note: null,
      created_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      deleted_at: null,
      initiator_id: '2',
      place_id: '3',
      attachments: [] } ] ]
[2016-09-10 17:32:06.768] [ INFO] console - Executing (c92e508b-3afe-447e-a503-1de7e8d2b85b): START TRANSACTION;
[2016-09-10 17:32:06.769] [ INFO] console - Executing (c92e508b-3afe-447e-a503-1de7e8d2b85b): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 17:32:06.777] [ INFO] console - Executing (default): INSERT INTO "Golos" ("id","value","created_at","updated_at","for_id","owner_id") VALUES (DEFAULT,1,'2016-09-10 12:32:06.771 +00:00','2016-09-10 12:32:06.771 +00:00',1,2) RETURNING *;
[2016-09-10 17:32:06.781] [ INFO] console - Executing (c92e508b-3afe-447e-a503-1de7e8d2b85b): COMMIT;
[2016-09-10 17:32:06.782] [ INFO] console - [ 70, 1896, {}, [ '69' ] ]
[2016-09-10 17:32:06.788] [ INFO] console - [ 16,
  6477891944579072,
  { acknowledge: true },
  'ru.kopa.model.Predlozhenie.id1.golosAdd',
  [ '69' ] ]
[2016-09-10 17:32:06.822] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 2 }
[2016-09-10 17:32:06.826] [ INFO] console - Executing (2cefb000-9ba2-4213-8929-26e12e17f600): START TRANSACTION;
[2016-09-10 17:32:06.828] [ INFO] console - Executing (2cefb000-9ba2-4213-8929-26e12e17f600): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 17:32:06.837] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 2);
[2016-09-10 17:32:06.842] [ INFO] console - Executing (2cefb000-9ba2-4213-8929-26e12e17f600): COMMIT;
[2016-09-10 17:32:06.843] [ INFO] console - [ 70,
  1898,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/2/',
      starshina: [Object],
      id: '2',
      email: 'unittest2@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '1',
      voiskoSize: 1,
      birth: 1983,
      path: '/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: null,
      attachments: [] } ] ]
[2016-09-10 17:32:07.033] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 3 }
[2016-09-10 17:32:07.037] [ INFO] console - Executing (6f9031b3-af34-4efe-9c15-10f7cac4baa7): START TRANSACTION;
[2016-09-10 17:32:07.038] [ INFO] console - Executing (6f9031b3-af34-4efe-9c15-10f7cac4baa7): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 17:32:07.046] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 3);
[2016-09-10 17:32:07.051] [ INFO] console - Executing (6f9031b3-af34-4efe-9c15-10f7cac4baa7): COMMIT;
[2016-09-10 17:32:07.053] [ INFO] console - [ 70,
  1899,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/2/3/',
      starshina: [Object],
      id: '3',
      email: 'unittest3@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '3',
      voiskoSize: 0,
      birth: 1983,
      path: '/2/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: '2',
      attachments: [] } ] ]
[2016-09-10 17:32:07.065] [ INFO] console - Executing (4206ca5f-1341-43dc-abb4-9e714073bf3f): START TRANSACTION;
[2016-09-10 17:32:07.066] [ INFO] console - Executing (4206ca5f-1341-43dc-abb4-9e714073bf3f): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 17:32:07.073] [ INFO] console - Executing (default): INSERT INTO "Slovo" ("id","value","note","created_at","updated_at","owner_id","place_id") VALUES (DEFAULT,'123 temp','456','2016-09-10 12:32:07.068 +00:00','2016-09-10 12:32:07.068 +00:00',2,3) RETURNING *;
[2016-09-10 17:32:07.076] [ INFO] console - Executing (4206ca5f-1341-43dc-abb4-9e714073bf3f): COMMIT;
[2016-09-10 17:32:07.078] [ INFO] console - [ 70, 1900, {}, [ '123' ] ]
[2016-09-10 17:32:07.087] [ INFO] console - [ 16,
  3046825401516032,
  { acknowledge: true },
  'ru.kopa.model.Kopa.id3.slovoAdd',
  [ '123' ] ]
[2016-09-10 17:32:07.101] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Slovo', id: 123 }
[2016-09-10 17:32:07.104] [ INFO] console - Executing (575c1444-21f4-40ce-95cf-d38e73c0d4e3): START TRANSACTION;
[2016-09-10 17:32:07.107] [ INFO] console - Executing (575c1444-21f4-40ce-95cf-d38e73c0d4e3): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 17:32:07.115] [ INFO] console - Executing (default): SELECT "Slovo"."id", "Slovo"."value", "Slovo"."note", "Slovo"."created_at", "Slovo"."updated_at", "Slovo"."deleted_at", "Slovo"."owner_id", "Slovo"."place_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Slovo" AS "Slovo" LEFT OUTER JOIN "File" AS "attachments" ON "Slovo"."id" = "attachments"."slovo_id" AND "attachments"."deleted_at" IS NULL WHERE ("Slovo"."deleted_at" IS NULL AND "Slovo"."id" = 123);
[2016-09-10 17:32:07.121] [ INFO] console - Executing (575c1444-21f4-40ce-95cf-d38e73c0d4e3): COMMIT;
[2016-09-10 17:32:07.122] [ INFO] console - [ 70,
  1901,
  {},
  [ { id: '123',
      value: '123 temp',
      note: '456',
      created_at: Sat Sep 10 2016 17:32:07 GMT+0500 (YEKT),
      updated_at: Sat Sep 10 2016 17:32:07 GMT+0500 (YEKT),
      deleted_at: null,
      owner_id: '2',
      place_id: '3',
      attachments: [] } ] ]
[2016-09-10 17:32:07.136] [ INFO] console - Executing (4be4f3fd-0b5d-4147-9b27-9c622eaac04a): START TRANSACTION;
[2016-09-10 17:32:07.137] [ INFO] console - Executing (4be4f3fd-0b5d-4147-9b27-9c622eaac04a): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 17:32:07.142] [ INFO] console - Executing (default): INSERT INTO "Slovo" ("id","value","created_at","updated_at","owner_id","place_id") VALUES (DEFAULT,'some value temp 1473510727130','2016-09-10 12:32:07.138 +00:00','2016-09-10 12:32:07.138 +00:00',2,3) RETURNING *;
[2016-09-10 17:32:07.149] [ INFO] console - Executing (4be4f3fd-0b5d-4147-9b27-9c622eaac04a): COMMIT;
[2016-09-10 17:32:07.150] [ INFO] console - [ 70, 1902, {}, [ '124' ] ]
[2016-09-10 17:32:07.156] [ INFO] console - [ 16,
  2437979847000064,
  { acknowledge: true },
  'ru.kopa.model.Kopa.id3.slovoAdd',
  [ '124' ] ]
[2016-09-10 17:32:07.162] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Zemla', id: 2 }
[2016-09-10 17:32:07.164] [ INFO] console - Executing (d5777dc8-8e9f-419f-a1e2-a8f0a8257fff): START TRANSACTION;
[2016-09-10 17:32:07.166] [ INFO] console - Executing (d5777dc8-8e9f-419f-a1e2-a8f0a8257fff): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 17:32:07.173] [ INFO] console - Executing (default): SELECT "Zemla"."id", "Zemla"."path", "Zemla"."name", "Zemla"."intensity", "Zemla"."note", "Zemla"."created_at", "Zemla"."updated_at", "Zemla"."deleted_at", "Zemla"."parent_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Zemla" AS "Zemla" LEFT OUTER JOIN "File" AS "attachments" ON "Zemla"."id" = "attachments"."zemla_id" AND "attachments"."deleted_at" IS NULL WHERE ("Zemla"."deleted_at" IS NULL AND "Zemla"."id" = 2);
[2016-09-10 17:32:07.177] [ INFO] console - Executing (d5777dc8-8e9f-419f-a1e2-a8f0a8257fff): COMMIT;
[2016-09-10 17:32:07.179] [ INFO] console - [ 70,
  1903,
  {},
  [ { fullPath: 'null2/',
      id: '2',
      path: null,
      name: 'UnitTest2',
      intensity: 1000,
      note: 'unit test 1473510603499',
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Sat Sep 10 2016 17:30:05 GMT+0500 (YEKT),
      deleted_at: null,
      parent_id: '1',
      attachments: [] } ] ]
[2016-09-10 17:32:07.189] [ INFO] console - Executing (428e6e0a-0cbe-4ec7-81e9-f6336017a795): START TRANSACTION;
[2016-09-10 17:32:07.191] [ INFO] console - Executing (428e6e0a-0cbe-4ec7-81e9-f6336017a795): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 17:32:07.196] [ INFO] console - Executing (default): SELECT "id", "path", "name", "intensity", "note", "created_at", "updated_at", "deleted_at", "parent_id" FROM "Zemla" AS "Zemla" WHERE ("Zemla"."deleted_at" IS NULL AND "Zemla"."id" = 2);
[2016-09-10 17:32:07.203] [ INFO] console - Executing (default): UPDATE "Zemla" SET "parent_id"=1,"note"='unit test 1473510725519',"updated_at"='2016-09-10 12:32:07.199 +00:00' WHERE "id" = '2'
[2016-09-10 17:32:07.206] [ INFO] console - Executing (428e6e0a-0cbe-4ec7-81e9-f6336017a795): COMMIT;
[2016-09-10 17:32:07.208] [ INFO] console - [ 16,
  7450589363437568,
  { acknowledge: true },
  'ru.kopa.model.Zemla.id2.change' ]
[2016-09-10 17:32:07.215] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Zemla', id: 2 }
[2016-09-10 17:32:07.221] [ INFO] console - [ 70, 1904, {}, [ undefined ] ]
[2016-09-10 17:32:07.224] [ INFO] console - Executing (d43ce14c-842f-4fd8-9a2a-5f29bdd2df3d): START TRANSACTION;
[2016-09-10 17:32:07.225] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Zemla', id: 2 }
[2016-09-10 17:32:07.227] [ INFO] console - Executing (f996c201-9dd3-4f04-8742-065d5aeb6aaf): START TRANSACTION;
[2016-09-10 17:32:07.228] [ INFO] console - Executing (d43ce14c-842f-4fd8-9a2a-5f29bdd2df3d): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 17:32:07.229] [ INFO] console - Executing (f996c201-9dd3-4f04-8742-065d5aeb6aaf): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 17:32:07.236] [ INFO] console - Executing (default): SELECT "Zemla"."id", "Zemla"."path", "Zemla"."name", "Zemla"."intensity", "Zemla"."note", "Zemla"."created_at", "Zemla"."updated_at", "Zemla"."deleted_at", "Zemla"."parent_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Zemla" AS "Zemla" LEFT OUTER JOIN "File" AS "attachments" ON "Zemla"."id" = "attachments"."zemla_id" AND "attachments"."deleted_at" IS NULL WHERE ("Zemla"."deleted_at" IS NULL AND "Zemla"."id" = 2);
[2016-09-10 17:32:07.242] [ INFO] console - Executing (d43ce14c-842f-4fd8-9a2a-5f29bdd2df3d): COMMIT;
[2016-09-10 17:32:07.246] [ INFO] console - Executing (default): SELECT "Zemla"."id", "Zemla"."path", "Zemla"."name", "Zemla"."intensity", "Zemla"."note", "Zemla"."created_at", "Zemla"."updated_at", "Zemla"."deleted_at", "Zemla"."parent_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Zemla" AS "Zemla" LEFT OUTER JOIN "File" AS "attachments" ON "Zemla"."id" = "attachments"."zemla_id" AND "attachments"."deleted_at" IS NULL WHERE ("Zemla"."deleted_at" IS NULL AND "Zemla"."id" = 2);
[2016-09-10 17:32:07.251] [ INFO] console - [ 70,
  1905,
  {},
  [ { fullPath: 'null2/',
      id: '2',
      path: null,
      name: 'UnitTest2',
      intensity: 1000,
      note: 'unit test 1473510725519',
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Sat Sep 10 2016 17:32:07 GMT+0500 (YEKT),
      deleted_at: null,
      parent_id: '1',
      attachments: [] } ] ]
[2016-09-10 17:32:07.257] [ INFO] console - Executing (f996c201-9dd3-4f04-8742-065d5aeb6aaf): COMMIT;
[2016-09-10 17:32:07.258] [ INFO] console - [ 70,
  1906,
  {},
  [ { fullPath: 'null2/',
      id: '2',
      path: null,
      name: 'UnitTest2',
      intensity: 1000,
      note: 'unit test 1473510725519',
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Sat Sep 10 2016 17:32:07 GMT+0500 (YEKT),
      deleted_at: null,
      parent_id: '1',
      attachments: [] } ] ]
[2016-09-10 17:35:37.747] [ INFO] console - [ 70, 1908, {}, [ undefined ] ]
[2016-09-10 17:35:37.758] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 2 }
[2016-09-10 17:35:37.771] [ INFO] console - Executing (default): delete from "Kopnik"
                where
                    name like '%temp'
[2016-09-10 17:35:37.777] [ INFO] console - Executing (15d44dcd-ea67-43fe-9288-83e120863138): START TRANSACTION;
[2016-09-10 17:35:37.781] [ INFO] console - Executing (15d44dcd-ea67-43fe-9288-83e120863138): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 17:35:37.783] [ INFO] console - Executing (default): update "Kopnik"
                set 
                    "voiskoSize"= case when id=2 then 1 ELSE 0 END
                where
                    id>1 
                    and id<=5
[2016-09-10 17:35:37.789] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 2);
[2016-09-10 17:35:37.793] [ INFO] console - Executing (15d44dcd-ea67-43fe-9288-83e120863138): COMMIT;
[2016-09-10 17:35:37.795] [ INFO] console - [ 70,
  1909,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/2/',
      starshina: [Object],
      id: '2',
      email: 'unittest2@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '1',
      voiskoSize: 1,
      birth: 1983,
      path: '/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: null,
      attachments: [] } ] ]
[2016-09-10 17:35:37.813] [ INFO] console - Executing (e6ea3ac1-969b-4578-84c8-f1efc2a9dd54): START TRANSACTION;
[2016-09-10 17:35:37.815] [ INFO] console - Executing (e6ea3ac1-969b-4578-84c8-f1efc2a9dd54): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 17:35:37.824] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 2);
[2016-09-10 17:35:37.831] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"+1
                                where
                                    '/2/' like path||id||'/%'
[2016-09-10 17:35:37.836] [ INFO] console - Executing (default): INSERT INTO "Kopnik" ("id","name","surname","patronymic","voiskoSize","birth","path","created_at","updated_at","rodina_id","starshina_id") VALUES (DEFAULT,'temp','temp','temp',0,1900,'/2/','2016-09-10 12:35:37.816 +00:00','2016-09-10 12:35:37.816 +00:00',NULL,2) RETURNING *;
[2016-09-10 17:35:37.842] [ INFO] console - Executing (e6ea3ac1-969b-4578-84c8-f1efc2a9dd54): COMMIT;
[2016-09-10 17:35:37.843] [ INFO] console - [ 70, 1910, {}, [ '269' ] ]
[2016-09-10 17:35:37.846] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/' like k.path||k.id||'/%'
[2016-09-10 17:35:37.854] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 17:35:37.855] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Zemla', id: 2 }
[2016-09-10 17:35:37.861] [ INFO] console - Executing (46d1be20-7980-45b4-8734-b1554ed904b3): START TRANSACTION;
[2016-09-10 17:35:37.862] [ INFO] console - Executing (45c389c4-b326-4a10-a757-88afaf76b14b): START TRANSACTION;
[2016-09-10 17:35:37.863] [ INFO] console - [ 16,
  4917937940987904,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id2.voiskoChange',
  [],
  { voiskoSize: 2 } ]
[2016-09-10 17:35:37.867] [ INFO] console - Executing (45c389c4-b326-4a10-a757-88afaf76b14b): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 17:35:37.869] [ INFO] console - Executing (46d1be20-7980-45b4-8734-b1554ed904b3): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 17:35:37.888] [ INFO] console - Executing (default): SELECT "Zemla"."id", "Zemla"."path", "Zemla"."name", "Zemla"."intensity", "Zemla"."note", "Zemla"."created_at", "Zemla"."updated_at", "Zemla"."deleted_at", "Zemla"."parent_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Zemla" AS "Zemla" LEFT OUTER JOIN "File" AS "attachments" ON "Zemla"."id" = "attachments"."zemla_id" AND "attachments"."deleted_at" IS NULL WHERE ("Zemla"."deleted_at" IS NULL AND "Zemla"."id" = 2);
[2016-09-10 17:35:37.899] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 269);
[2016-09-10 17:35:37.904] [ INFO] console - Executing (46d1be20-7980-45b4-8734-b1554ed904b3): COMMIT;
[2016-09-10 17:35:37.908] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"+1
                                where
                                    '/2/269/' like path||id||'/%'
[2016-09-10 17:35:37.909] [ INFO] console - [ 70,
  1911,
  {},
  [ { fullPath: 'null2/',
      id: '2',
      path: null,
      name: 'UnitTest2',
      intensity: 1000,
      note: 'unit test 1473510725519',
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Sat Sep 10 2016 17:32:07 GMT+0500 (YEKT),
      deleted_at: null,
      parent_id: '1',
      attachments: [] } ] ]
[2016-09-10 17:35:37.917] [ INFO] console - Executing (default): INSERT INTO "Kopnik" ("id","name","surname","patronymic","voiskoSize","birth","path","created_at","updated_at","rodina_id","starshina_id") VALUES (DEFAULT,'temp','temp','temp',0,1900,'/2/269/','2016-09-10 12:35:37.873 +00:00','2016-09-10 12:35:37.873 +00:00',NULL,269) RETURNING *;
[2016-09-10 17:35:37.922] [ INFO] console - Executing (45c389c4-b326-4a10-a757-88afaf76b14b): COMMIT;
[2016-09-10 17:35:37.923] [ INFO] console - [ 70, 1912, {}, [ '270' ] ]
[2016-09-10 17:35:37.926] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/269/' like k.path||k.id||'/%'
[2016-09-10 17:35:37.932] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2', '269')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 17:35:37.937] [ INFO] console - [ 16,
  4439976615870464,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id269.voiskoChange',
  [],
  { voiskoSize: 1 } ]
[2016-09-10 17:35:37.940] [ INFO] console - [ 16,
  8488451106144256,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id2.voiskoChange',
  [],
  { voiskoSize: 3 } ]
[2016-09-10 17:35:37.947] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 4 }
[2016-09-10 17:35:37.950] [ INFO] console - Executing (6d1a4546-dcf7-41f7-be35-77eac0d2aac0): START TRANSACTION;
[2016-09-10 17:35:37.952] [ INFO] console - Executing (6d1a4546-dcf7-41f7-be35-77eac0d2aac0): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 17:35:37.958] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 4);
[2016-09-10 17:35:37.966] [ INFO] console - Executing (6d1a4546-dcf7-41f7-be35-77eac0d2aac0): COMMIT;
[2016-09-10 17:35:37.968] [ INFO] console - [ 70,
  1913,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/4/',
      starshina: [Object],
      id: '4',
      email: 'unittest4@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '4',
      voiskoSize: 0,
      birth: 1983,
      path: '/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: null,
      attachments: [] } ] ]
[2016-09-10 17:35:37.984] [ INFO] console - Executing (22a47b95-a1fc-421a-b592-7d93cbdae9ad): START TRANSACTION;
[2016-09-10 17:35:37.986] [ INFO] console - Executing (22a47b95-a1fc-421a-b592-7d93cbdae9ad): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 17:35:37.990] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 269);
[2016-09-10 17:35:37.998] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 4);
[2016-09-10 17:35:38.003] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/' like k.path||k.id||'/%'
[2016-09-10 17:35:38.009] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 17:35:38.018] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"-2
                                where
                                    '/2/' like path||id||'/%'
[2016-09-10 17:35:38.027] [ INFO] console - Executing (default): UPDATE "Kopnik" SET "path"='/4/',"starshina_id"='4',"updated_at"='2016-09-10 12:35:38.022 +00:00' WHERE "id" = '269'
[2016-09-10 17:35:38.030] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"+2
                                where
                                    '/4/' like path||id||'/%'
[2016-09-10 17:35:38.035] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."starshina_id" = '269');
[2016-09-10 17:35:38.043] [ INFO] console - Executing (default): UPDATE "Kopnik" SET "path"='/4/269/',"updated_at"='2016-09-10 12:35:38.037 +00:00' WHERE "id" = '270'
[2016-09-10 17:35:38.050] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/4/' like k.path||k.id||'/%'
[2016-09-10 17:35:38.057] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('4')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 17:35:38.061] [ INFO] console - Executing (22a47b95-a1fc-421a-b592-7d93cbdae9ad): COMMIT;
[2016-09-10 17:35:38.063] [ INFO] console - [ 70, 1914, {}, [ undefined ] ]
[2016-09-10 17:35:38.065] [ INFO] console - [ 16,
  1139303698661376,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id2.voiskoChange',
  [],
  { voiskoSize: 1 } ]
[2016-09-10 17:35:38.069] [ INFO] console - [ 16,
  6404879664807936,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id4.voiskoChange',
  [],
  { voiskoSize: 2 } ]
[2016-09-10 17:35:49.205] [ INFO] console - [ 70, 1916, {}, [ 'unittest2@domain.ru' ] ]
[2016-09-10 17:35:49.213] [DEBUG] Server - #pingPong() [ 1, 2, 3 ] { x: 1, y: 2, z: 3 }
[2016-09-10 17:35:49.216] [ INFO] console - [ 70, 1917, {}, [ 1, 2, 3 ], { x: 1, y: 2, z: 3 } ]
[2016-09-10 17:35:49.237] [ INFO] console - Executing (default): select 'КОПА' as result
[2016-09-10 17:35:49.238] [ INFO] console - [ 70, 1918, {}, [ 'КОПА' ] ]
[2016-09-10 17:35:49.291] [DEBUG] Server - #error() [ 'sadkljfaskldjfs;af' ] {}
[2016-09-10 17:35:49.292] [ERROR] Server - [Error: sadkljfaskldjfs;af]
Error: sadkljfaskldjfs;af
    at MySuperError (Server.js:339:9)
    at fn.constructor.error.Error (Server.js:344:19)
    at new wrappedPromise (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/async-listener/index.js:372:16)
    at Server.error (Server.js:343:16)
    at Object.<anonymous> (Server.js:415:43)
    at [object Generator].next (native)
    at step (/home/alexey2baranov/htdocs/kp-sequelizejs/src/Server.js:1:253)
    at /home/alexey2baranov/htdocs/kp-sequelizejs/src/Server.js:1:513
    at new wrappedPromise (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/async-listener/index.js:372:16)
    at Object.<anonymous> (/home/alexey2baranov/htdocs/kp-sequelizejs/src/Server.js:1:161)
    at Object.<anonymous> (Server.js:412:28)
    at tryCatchResolve (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/apply.js:46:23)
    at callAndResolve (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/apply.js:30:12)
    at callAndResolveNext (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/apply.js:40:4)
    at tryCatchReject3 (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/makePromise.js:856:7)
    at runContinuation3 (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/makePromise.js:814:4)
[2016-09-10 17:35:49.295] [ INFO] console - [ 8,
  68,
  1919,
  {},
  'MySuperError',
  [ 'sadkljfaskldjfs;af' ],
  { stack: 
     [ 'Error: sadkljfaskldjfs;af',
       '    at MySuperError (Server.js:339:9)',
       '    at fn.constructor.error.Error (Server.js:344:19)',
       '    at new wrappedPromise (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/async-listener/index.js:372:16)',
       '    at Server.error (Server.js:343:16)',
       '    at Object.<anonymous> (Server.js:415:43)',
       '    at [object Generator].next (native)',
       '    at step (/home/alexey2baranov/htdocs/kp-sequelizejs/src/Server.js:1:253)',
       '    at /home/alexey2baranov/htdocs/kp-sequelizejs/src/Server.js:1:513',
       '    at new wrappedPromise (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/async-listener/index.js:372:16)',
       '    at Object.<anonymous> (/home/alexey2baranov/htdocs/kp-sequelizejs/src/Server.js:1:161)',
       '    at Object.<anonymous> (Server.js:412:28)',
       '    at tryCatchResolve (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/apply.js:46:23)',
       '    at callAndResolve (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/apply.js:30:12)',
       '    at callAndResolveNext (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/apply.js:40:4)',
       '    at tryCatchReject3 (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/makePromise.js:856:7)',
       '    at runContinuation3 (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/makePromise.js:814:4)' ] } ]
[2016-09-10 17:35:49.304] [ INFO] console - [ 70, 1920, {}, [ undefined ] ]
[2016-09-10 17:35:49.306] [ INFO] console - Executing (default): delete from "Slovo"
                where
                    place_id<5
                    and value like '%temp'
[2016-09-10 17:35:49.321] [ INFO] console - Executing (default): delete from "Kopnik"
                where
                    name like '%temp'
[2016-09-10 17:35:49.340] [ INFO] console - Executing (default): update "Kopnik"
                set 
                    "voiskoSize"= case when id=2 then 1 ELSE 0 END
                where
                    id>1 
                    and id<=5
[2016-09-10 17:35:49.354] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopa', id: 3 }
[2016-09-10 17:35:49.358] [ INFO] console - Executing (4b5d6fd0-bfdb-4ca6-82ea-07eef0f51c80): START TRANSACTION;
[2016-09-10 17:35:49.359] [ INFO] console - Executing (4b5d6fd0-bfdb-4ca6-82ea-07eef0f51c80): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 17:35:49.372] [ INFO] console - Executing (default): SELECT "Kopa"."id", "Kopa"."question", "Kopa"."planned", "Kopa"."started", "Kopa"."closed", "Kopa"."isOpen", "Kopa"."note", "Kopa"."created_at", "Kopa"."updated_at", "Kopa"."deleted_at", "Kopa"."place_id", "Kopa"."inviter_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopa" AS "Kopa" LEFT OUTER JOIN "File" AS "attachments" ON "Kopa"."id" = "attachments"."kopa_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopa"."deleted_at" IS NULL AND "Kopa"."id" = 3);
[2016-09-10 17:35:49.379] [ INFO] console - Executing (4b5d6fd0-bfdb-4ca6-82ea-07eef0f51c80): COMMIT;
[2016-09-10 17:35:49.382] [ INFO] console - [ 70,
  1922,
  {},
  [ { id: '3',
      question: 'CHE',
      planned: Thu Sep 01 2016 00:00:00 GMT+0500 (YEKT),
      started: Thu Sep 01 2016 00:00:00 GMT+0500 (YEKT),
      closed: null,
      isOpen: false,
      note: null,
      created_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      deleted_at: null,
      place_id: '2',
      inviter_id: '2',
      attachments: [] } ] ]
[2016-09-10 17:35:49.396] [ INFO] console - Executing (957e7e98-cbc5-4f51-b332-767fd89ced08): START TRANSACTION;
[2016-09-10 17:35:49.397] [ INFO] console - Executing (957e7e98-cbc5-4f51-b332-767fd89ced08): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 17:35:49.407] [ INFO] console - Executing (default): INSERT INTO "Golos" ("id","value","created_at","updated_at","for_id","owner_id") VALUES (DEFAULT,1,'2016-09-10 12:35:49.398 +00:00','2016-09-10 12:35:49.398 +00:00',1,2) RETURNING *;
[2016-09-10 17:35:49.412] [ INFO] console - Executing (957e7e98-cbc5-4f51-b332-767fd89ced08): COMMIT;
[2016-09-10 17:35:49.415] [ INFO] console - [ 70, 1923, {}, [ '70' ] ]
[2016-09-10 17:35:49.419] [ INFO] console - [ 16,
  8212265784311808,
  { acknowledge: true },
  'ru.kopa.model.Predlozhenie.id1.golosAdd',
  [ '70' ] ]
[2016-09-10 17:35:49.463] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopa', id: 3 }
[2016-09-10 17:35:49.468] [ INFO] console - Executing (5d091996-747b-459d-8dd4-35e87cf028d2): START TRANSACTION;
[2016-09-10 17:35:49.469] [ INFO] console - Executing (5d091996-747b-459d-8dd4-35e87cf028d2): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 17:35:49.478] [ INFO] console - Executing (default): SELECT "Kopa"."id", "Kopa"."question", "Kopa"."planned", "Kopa"."started", "Kopa"."closed", "Kopa"."isOpen", "Kopa"."note", "Kopa"."created_at", "Kopa"."updated_at", "Kopa"."deleted_at", "Kopa"."place_id", "Kopa"."inviter_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopa" AS "Kopa" LEFT OUTER JOIN "File" AS "attachments" ON "Kopa"."id" = "attachments"."kopa_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopa"."deleted_at" IS NULL AND "Kopa"."id" = 3);
[2016-09-10 17:35:49.485] [ INFO] console - Executing (5d091996-747b-459d-8dd4-35e87cf028d2): COMMIT;
[2016-09-10 17:35:49.487] [ INFO] console - [ 70,
  1925,
  {},
  [ { id: '3',
      question: 'CHE',
      planned: Thu Sep 01 2016 00:00:00 GMT+0500 (YEKT),
      started: Thu Sep 01 2016 00:00:00 GMT+0500 (YEKT),
      closed: null,
      isOpen: false,
      note: null,
      created_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      deleted_at: null,
      place_id: '2',
      inviter_id: '2',
      attachments: [] } ] ]
[2016-09-10 17:35:49.496] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 2 }
[2016-09-10 17:35:49.499] [ INFO] console - Executing (e1345ef2-2bc1-4355-86a7-b4e668451d4b): START TRANSACTION;
[2016-09-10 17:35:49.510] [ INFO] console - Executing (e1345ef2-2bc1-4355-86a7-b4e668451d4b): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 17:35:49.518] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 2);
[2016-09-10 17:35:49.523] [ INFO] console - Executing (e1345ef2-2bc1-4355-86a7-b4e668451d4b): COMMIT;
[2016-09-10 17:35:49.525] [ INFO] console - [ 70,
  1926,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/2/',
      starshina: [Object],
      id: '2',
      email: 'unittest2@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '1',
      voiskoSize: 1,
      birth: 1983,
      path: '/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: null,
      attachments: [] } ] ]
[2016-09-10 17:35:49.536] [ INFO] console - Executing (d8b044f0-9902-41dd-908c-a724ae2b8136): START TRANSACTION;
[2016-09-10 17:35:49.537] [ INFO] console - Executing (d8b044f0-9902-41dd-908c-a724ae2b8136): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 17:35:49.544] [ INFO] console - Executing (default): INSERT INTO "Slovo" ("id","value","created_at","updated_at","owner_id","place_id") VALUES (DEFAULT,'some Slovo temp 1473510949534','2016-09-10 12:35:49.539 +00:00','2016-09-10 12:35:49.539 +00:00',2,3) RETURNING *;
[2016-09-10 17:35:49.547] [ INFO] console - Executing (d8b044f0-9902-41dd-908c-a724ae2b8136): COMMIT;
[2016-09-10 17:35:49.548] [ INFO] console - [ 70, 1927, {}, [ '125' ] ]
[2016-09-10 17:35:49.551] [ INFO] console - [ 16,
  1292789014855680,
  { acknowledge: true },
  'ru.kopa.model.Kopa.id3.slovoAdd',
  [ '125' ] ]
[2016-09-10 17:35:49.562] [ INFO] console - Executing (648b400b-61ec-4124-8893-5124b0e9f1df): START TRANSACTION;
[2016-09-10 17:35:49.563] [ INFO] console - Executing (648b400b-61ec-4124-8893-5124b0e9f1df): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 17:35:49.569] [ INFO] console - Executing (default): INSERT INTO "Predlozhenie" ("id","value","created_at","updated_at","initiator_id","place_id") VALUES (DEFAULT,'some Predlozhenie temp 1473510949556','2016-09-10 12:35:49.565 +00:00','2016-09-10 12:35:49.565 +00:00',2,3) RETURNING *;
[2016-09-10 17:35:49.573] [ INFO] console - Executing (648b400b-61ec-4124-8893-5124b0e9f1df): COMMIT;
[2016-09-10 17:35:49.574] [ INFO] console - [ 70, 1928, {}, [ '71' ] ]
[2016-09-10 17:35:49.579] [ INFO] console - [ 16,
  2894174764400640,
  { acknowledge: true },
  'ru.kopa.model.Kopa.id3.predlozhenieAdd',
  [ '71' ] ]
[2016-09-10 17:35:49.619] [ INFO] console - [ 70, 1930, {}, [ undefined ] ]
[2016-09-10 17:35:49.625] [ INFO] console - Executing (default): delete from "Kopnik"
                where
                    name like '%temp'
[2016-09-10 17:35:49.627] [ INFO] console - Executing (default): update "Kopnik"
                set 
                    "voiskoSize"= case when id=2 then 1 ELSE 0 END
                where
                    id>1 
                    and id<=5
[2016-09-10 17:35:49.637] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 2 }
[2016-09-10 17:35:49.647] [ INFO] console - Executing (22b5ec58-d78f-4ccb-9005-5cbf6dc6364c): START TRANSACTION;
[2016-09-10 17:35:49.650] [ INFO] console - Executing (22b5ec58-d78f-4ccb-9005-5cbf6dc6364c): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 17:35:49.675] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 2);
[2016-09-10 17:35:49.683] [ INFO] console - Executing (22b5ec58-d78f-4ccb-9005-5cbf6dc6364c): COMMIT;
[2016-09-10 17:35:49.685] [ INFO] console - [ 70,
  1931,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/2/',
      starshina: [Object],
      id: '2',
      email: 'unittest2@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '1',
      voiskoSize: 1,
      birth: 1983,
      path: '/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: null,
      attachments: [] } ] ]
[2016-09-10 17:35:49.698] [ INFO] console - Executing (eb658a4e-d00a-4685-a0ae-949a02c90208): START TRANSACTION;
[2016-09-10 17:35:49.703] [ INFO] console - Executing (eb658a4e-d00a-4685-a0ae-949a02c90208): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 17:35:49.717] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 2);
[2016-09-10 17:35:49.730] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"+1
                                where
                                    '/2/' like path||id||'/%'
[2016-09-10 17:35:49.734] [ INFO] console - Executing (default): INSERT INTO "Kopnik" ("id","name","surname","patronymic","voiskoSize","birth","path","created_at","updated_at","rodina_id","starshina_id") VALUES (DEFAULT,'temp','temp','temp',0,1900,'/2/','2016-09-10 12:35:49.705 +00:00','2016-09-10 12:35:49.705 +00:00',NULL,2) RETURNING *;
[2016-09-10 17:35:49.738] [ INFO] console - Executing (eb658a4e-d00a-4685-a0ae-949a02c90208): COMMIT;
[2016-09-10 17:35:49.739] [ INFO] console - [ 70, 1932, {}, [ '271' ] ]
[2016-09-10 17:35:49.744] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/' like k.path||k.id||'/%'
[2016-09-10 17:35:49.753] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 17:35:49.754] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Zemla', id: 2 }
[2016-09-10 17:35:49.762] [ INFO] console - Executing (28c500b5-fb27-4df4-a67d-19454a4e301c): START TRANSACTION;
[2016-09-10 17:35:49.763] [ INFO] console - Executing (816b25c3-610b-4f23-a1d3-d554051e6d4e): START TRANSACTION;
[2016-09-10 17:35:49.764] [ INFO] console - [ 16,
  905407665012736,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id2.voiskoChange',
  [],
  { voiskoSize: 2 } ]
[2016-09-10 17:35:49.769] [ INFO] console - Executing (816b25c3-610b-4f23-a1d3-d554051e6d4e): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 17:35:49.770] [ INFO] console - Executing (28c500b5-fb27-4df4-a67d-19454a4e301c): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 17:35:49.797] [ INFO] console - Executing (default): SELECT "Zemla"."id", "Zemla"."path", "Zemla"."name", "Zemla"."intensity", "Zemla"."note", "Zemla"."created_at", "Zemla"."updated_at", "Zemla"."deleted_at", "Zemla"."parent_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Zemla" AS "Zemla" LEFT OUTER JOIN "File" AS "attachments" ON "Zemla"."id" = "attachments"."zemla_id" AND "attachments"."deleted_at" IS NULL WHERE ("Zemla"."deleted_at" IS NULL AND "Zemla"."id" = 2);
[2016-09-10 17:35:49.804] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 271);
[2016-09-10 17:35:49.811] [ INFO] console - Executing (28c500b5-fb27-4df4-a67d-19454a4e301c): COMMIT;
[2016-09-10 17:35:49.822] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"+1
                                where
                                    '/2/271/' like path||id||'/%'
[2016-09-10 17:35:49.823] [ INFO] console - [ 70,
  1933,
  {},
  [ { fullPath: 'null2/',
      id: '2',
      path: null,
      name: 'UnitTest2',
      intensity: 1000,
      note: 'unit test 1473510725519',
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Sat Sep 10 2016 17:32:07 GMT+0500 (YEKT),
      deleted_at: null,
      parent_id: '1',
      attachments: [] } ] ]
[2016-09-10 17:35:49.837] [ INFO] console - Executing (default): INSERT INTO "Kopnik" ("id","name","surname","patronymic","voiskoSize","birth","path","created_at","updated_at","rodina_id","starshina_id") VALUES (DEFAULT,'temp','temp','temp',0,1900,'/2/271/','2016-09-10 12:35:49.773 +00:00','2016-09-10 12:35:49.773 +00:00',NULL,271) RETURNING *;
[2016-09-10 17:35:49.847] [ INFO] console - Executing (816b25c3-610b-4f23-a1d3-d554051e6d4e): COMMIT;
[2016-09-10 17:35:49.850] [ INFO] console - [ 70, 1934, {}, [ '272' ] ]
[2016-09-10 17:35:49.857] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/271/' like k.path||k.id||'/%'
[2016-09-10 17:35:49.871] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2', '271')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 17:35:49.878] [ INFO] console - [ 16,
  4484498590793728,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id271.voiskoChange',
  [],
  { voiskoSize: 1 } ]
[2016-09-10 17:35:50.031] [ INFO] console - [ 16,
  4033905296408576,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id2.voiskoChange',
  [],
  { voiskoSize: 3 } ]
[2016-09-10 17:35:50.039] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 4 }
[2016-09-10 17:35:50.041] [ INFO] console - Executing (67103632-231a-41ca-8867-56182734ec65): START TRANSACTION;
[2016-09-10 17:35:50.043] [ INFO] console - Executing (67103632-231a-41ca-8867-56182734ec65): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 17:35:50.051] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 4);
[2016-09-10 17:35:50.056] [ INFO] console - Executing (67103632-231a-41ca-8867-56182734ec65): COMMIT;
[2016-09-10 17:35:50.057] [ INFO] console - [ 70,
  1935,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/4/',
      starshina: [Object],
      id: '4',
      email: 'unittest4@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '4',
      voiskoSize: 0,
      birth: 1983,
      path: '/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: null,
      attachments: [] } ] ]
[2016-09-10 17:35:50.072] [ INFO] console - Executing (db7efcae-2f9e-4ec3-b18d-618ca652ba00): START TRANSACTION;
[2016-09-10 17:35:50.073] [ INFO] console - Executing (db7efcae-2f9e-4ec3-b18d-618ca652ba00): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 17:35:50.078] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 271);
[2016-09-10 17:35:50.084] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 4);
[2016-09-10 17:35:50.094] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/' like k.path||k.id||'/%'
[2016-09-10 17:35:50.099] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 17:35:50.106] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"-2
                                where
                                    '/2/' like path||id||'/%'
[2016-09-10 17:35:50.113] [ INFO] console - Executing (default): UPDATE "Kopnik" SET "path"='/4/',"starshina_id"='4',"updated_at"='2016-09-10 12:35:50.108 +00:00' WHERE "id" = '271'
[2016-09-10 17:35:50.117] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"+2
                                where
                                    '/4/' like path||id||'/%'
[2016-09-10 17:35:50.123] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."starshina_id" = '271');
[2016-09-10 17:35:50.137] [ INFO] console - Executing (default): UPDATE "Kopnik" SET "path"='/4/271/',"updated_at"='2016-09-10 12:35:50.127 +00:00' WHERE "id" = '272'
[2016-09-10 17:35:50.140] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/4/' like k.path||k.id||'/%'
[2016-09-10 17:35:50.145] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('4')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 17:35:50.150] [ INFO] console - Executing (db7efcae-2f9e-4ec3-b18d-618ca652ba00): COMMIT;
[2016-09-10 17:35:50.151] [ INFO] console - [ 70, 1936, {}, [ undefined ] ]
[2016-09-10 17:35:50.154] [ INFO] console - [ 16,
  1904619642945536,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id2.voiskoChange',
  [],
  { voiskoSize: 1 } ]
[2016-09-10 17:35:50.159] [ INFO] console - [ 16,
  7637235658653696,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id4.voiskoChange',
  [],
  { voiskoSize: 2 } ]
[2016-09-10 17:35:50.250] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopa', id: 3 }
[2016-09-10 17:35:50.258] [ INFO] console - Executing (5d653c0a-41e8-4aa8-9bb3-d10409fe315f): START TRANSACTION;
[2016-09-10 17:35:50.261] [ INFO] console - Executing (5d653c0a-41e8-4aa8-9bb3-d10409fe315f): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 17:35:50.276] [ INFO] console - Executing (default): SELECT "Kopa"."id", "Kopa"."question", "Kopa"."planned", "Kopa"."started", "Kopa"."closed", "Kopa"."isOpen", "Kopa"."note", "Kopa"."created_at", "Kopa"."updated_at", "Kopa"."deleted_at", "Kopa"."place_id", "Kopa"."inviter_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopa" AS "Kopa" LEFT OUTER JOIN "File" AS "attachments" ON "Kopa"."id" = "attachments"."kopa_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopa"."deleted_at" IS NULL AND "Kopa"."id" = 3);
[2016-09-10 17:35:50.284] [ INFO] console - Executing (5d653c0a-41e8-4aa8-9bb3-d10409fe315f): COMMIT;
[2016-09-10 17:35:50.286] [ INFO] console - [ 70,
  1938,
  {},
  [ { id: '3',
      question: 'CHE',
      planned: Thu Sep 01 2016 00:00:00 GMT+0500 (YEKT),
      started: Thu Sep 01 2016 00:00:00 GMT+0500 (YEKT),
      closed: null,
      isOpen: false,
      note: null,
      created_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      deleted_at: null,
      place_id: '2',
      inviter_id: '2',
      attachments: [] } ] ]
[2016-09-10 17:35:50.522] [ INFO] console - Executing (2af5fe51-c2b9-4baa-8981-194764acc753): START TRANSACTION;
[2016-09-10 17:35:50.525] [ INFO] console - Executing (2af5fe51-c2b9-4baa-8981-194764acc753): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 17:35:50.532] [ INFO] console - Executing (default): INSERT INTO "Predlozhenie" ("id","value","created_at","updated_at","initiator_id","place_id") VALUES (DEFAULT,'some Predlozhenie temp 1473510948913','2016-09-10 12:35:50.526 +00:00','2016-09-10 12:35:50.526 +00:00',2,3) RETURNING *;
[2016-09-10 17:35:50.538] [ INFO] console - Executing (2af5fe51-c2b9-4baa-8981-194764acc753): COMMIT;
[2016-09-10 17:35:50.539] [ INFO] console - [ 70, 1939, {}, [ '72' ] ]
[2016-09-10 17:35:50.546] [ INFO] console - [ 16,
  7064453059182592,
  { acknowledge: true },
  'ru.kopa.model.Kopa.id3.predlozhenieAdd',
  [ '72' ] ]
[2016-09-10 17:35:50.555] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Predlozhenie', id: 1 }
[2016-09-10 17:35:50.558] [ INFO] console - Executing (3909ca9b-b291-4a5d-9271-6e1a119bf918): START TRANSACTION;
[2016-09-10 17:35:50.560] [ INFO] console - Executing (3909ca9b-b291-4a5d-9271-6e1a119bf918): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 17:35:50.614] [ INFO] console - Executing (default): SELECT "Predlozhenie"."id", "Predlozhenie"."value", "Predlozhenie"."note", "Predlozhenie"."created_at", "Predlozhenie"."updated_at", "Predlozhenie"."deleted_at", "Predlozhenie"."initiator_id", "Predlozhenie"."place_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Predlozhenie" AS "Predlozhenie" LEFT OUTER JOIN "File" AS "attachments" ON "Predlozhenie"."id" = "attachments"."predlozhenie_id" AND "attachments"."deleted_at" IS NULL WHERE ("Predlozhenie"."deleted_at" IS NULL AND "Predlozhenie"."id" = 1);
[2016-09-10 17:35:50.619] [ INFO] console - Executing (3909ca9b-b291-4a5d-9271-6e1a119bf918): COMMIT;
[2016-09-10 17:35:50.622] [ INFO] console - [ 70,
  1940,
  {},
  [ { id: '1',
      value: 'Будет ...',
      note: null,
      created_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      deleted_at: null,
      initiator_id: '2',
      place_id: '3',
      attachments: [] } ] ]
[2016-09-10 17:35:50.631] [ INFO] console - Executing (a909b3c2-2e59-47e0-afa4-23ea215978bb): START TRANSACTION;
[2016-09-10 17:35:50.632] [ INFO] console - Executing (a909b3c2-2e59-47e0-afa4-23ea215978bb): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 17:35:50.639] [ INFO] console - Executing (default): INSERT INTO "Golos" ("id","value","created_at","updated_at","for_id","owner_id") VALUES (DEFAULT,1,'2016-09-10 12:35:50.634 +00:00','2016-09-10 12:35:50.634 +00:00',1,2) RETURNING *;
[2016-09-10 17:35:50.642] [ INFO] console - Executing (a909b3c2-2e59-47e0-afa4-23ea215978bb): COMMIT;
[2016-09-10 17:35:50.643] [ INFO] console - [ 70, 1941, {}, [ '71' ] ]
[2016-09-10 17:35:50.645] [ INFO] console - [ 16,
  4450262519382016,
  { acknowledge: true },
  'ru.kopa.model.Predlozhenie.id1.golosAdd',
  [ '71' ] ]
[2016-09-10 17:35:50.734] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 2 }
[2016-09-10 17:35:50.737] [ INFO] console - Executing (2bb6c0a2-569d-4d31-8fa9-a0dcae126b26): START TRANSACTION;
[2016-09-10 17:35:50.741] [ INFO] console - Executing (2bb6c0a2-569d-4d31-8fa9-a0dcae126b26): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 17:35:50.761] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 2);
[2016-09-10 17:35:50.766] [ INFO] console - Executing (2bb6c0a2-569d-4d31-8fa9-a0dcae126b26): COMMIT;
[2016-09-10 17:35:50.771] [ INFO] console - [ 70,
  1943,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/2/',
      starshina: [Object],
      id: '2',
      email: 'unittest2@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '1',
      voiskoSize: 1,
      birth: 1983,
      path: '/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: null,
      attachments: [] } ] ]
[2016-09-10 17:35:50.782] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 3 }
[2016-09-10 17:35:50.784] [ INFO] console - Executing (e5ed0443-e3ab-44ca-82ed-683dfe160b5b): START TRANSACTION;
[2016-09-10 17:35:50.786] [ INFO] console - Executing (e5ed0443-e3ab-44ca-82ed-683dfe160b5b): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 17:35:50.793] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 3);
[2016-09-10 17:35:50.797] [ INFO] console - Executing (e5ed0443-e3ab-44ca-82ed-683dfe160b5b): COMMIT;
[2016-09-10 17:35:50.799] [ INFO] console - [ 70,
  1944,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/2/3/',
      starshina: [Object],
      id: '3',
      email: 'unittest3@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '3',
      voiskoSize: 0,
      birth: 1983,
      path: '/2/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: '2',
      attachments: [] } ] ]
[2016-09-10 17:35:50.811] [ INFO] console - Executing (128d5a74-1167-452c-a7d5-7dab445dae3c): START TRANSACTION;
[2016-09-10 17:35:50.812] [ INFO] console - Executing (128d5a74-1167-452c-a7d5-7dab445dae3c): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 17:35:50.826] [ INFO] console - Executing (default): INSERT INTO "Slovo" ("id","value","note","created_at","updated_at","owner_id","place_id") VALUES (DEFAULT,'123 temp','456','2016-09-10 12:35:50.813 +00:00','2016-09-10 12:35:50.813 +00:00',2,3) RETURNING *;
[2016-09-10 17:35:50.830] [ INFO] console - Executing (128d5a74-1167-452c-a7d5-7dab445dae3c): COMMIT;
[2016-09-10 17:35:50.831] [ INFO] console - [ 70, 1945, {}, [ '126' ] ]
[2016-09-10 17:35:50.833] [ INFO] console - [ 16,
  2643122553094144,
  { acknowledge: true },
  'ru.kopa.model.Kopa.id3.slovoAdd',
  [ '126' ] ]
[2016-09-10 17:35:50.846] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Slovo', id: 126 }
[2016-09-10 17:35:50.849] [ INFO] console - Executing (0e4fbbde-b620-4081-b32a-70d4f1846f13): START TRANSACTION;
[2016-09-10 17:35:50.850] [ INFO] console - Executing (0e4fbbde-b620-4081-b32a-70d4f1846f13): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 17:35:50.855] [ INFO] console - Executing (default): SELECT "Slovo"."id", "Slovo"."value", "Slovo"."note", "Slovo"."created_at", "Slovo"."updated_at", "Slovo"."deleted_at", "Slovo"."owner_id", "Slovo"."place_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Slovo" AS "Slovo" LEFT OUTER JOIN "File" AS "attachments" ON "Slovo"."id" = "attachments"."slovo_id" AND "attachments"."deleted_at" IS NULL WHERE ("Slovo"."deleted_at" IS NULL AND "Slovo"."id" = 126);
[2016-09-10 17:35:50.874] [ INFO] console - Executing (0e4fbbde-b620-4081-b32a-70d4f1846f13): COMMIT;
[2016-09-10 17:35:50.876] [ INFO] console - [ 70,
  1946,
  {},
  [ { id: '126',
      value: '123 temp',
      note: '456',
      created_at: Sat Sep 10 2016 17:35:50 GMT+0500 (YEKT),
      updated_at: Sat Sep 10 2016 17:35:50 GMT+0500 (YEKT),
      deleted_at: null,
      owner_id: '2',
      place_id: '3',
      attachments: [] } ] ]
[2016-09-10 17:35:50.886] [ INFO] console - Executing (f4ed1bc6-7fd5-4c08-ad57-3f7719c74d0e): START TRANSACTION;
[2016-09-10 17:35:50.887] [ INFO] console - Executing (f4ed1bc6-7fd5-4c08-ad57-3f7719c74d0e): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 17:35:50.895] [ INFO] console - Executing (default): INSERT INTO "Slovo" ("id","value","created_at","updated_at","owner_id","place_id") VALUES (DEFAULT,'some value temp 1473510950883','2016-09-10 12:35:50.888 +00:00','2016-09-10 12:35:50.888 +00:00',2,3) RETURNING *;
[2016-09-10 17:35:50.899] [ INFO] console - Executing (f4ed1bc6-7fd5-4c08-ad57-3f7719c74d0e): COMMIT;
[2016-09-10 17:35:50.900] [ INFO] console - [ 70, 1947, {}, [ '127' ] ]
[2016-09-10 17:35:50.902] [ INFO] console - [ 16,
  4853909688418304,
  { acknowledge: true },
  'ru.kopa.model.Kopa.id3.slovoAdd',
  [ '127' ] ]
[2016-09-10 17:35:50.912] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Zemla', id: 2 }
[2016-09-10 17:35:50.915] [ INFO] console - Executing (5a933dae-05d8-45ac-aee1-07b35944f9a8): START TRANSACTION;
[2016-09-10 17:35:50.917] [ INFO] console - Executing (5a933dae-05d8-45ac-aee1-07b35944f9a8): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 17:35:50.922] [ INFO] console - Executing (default): SELECT "Zemla"."id", "Zemla"."path", "Zemla"."name", "Zemla"."intensity", "Zemla"."note", "Zemla"."created_at", "Zemla"."updated_at", "Zemla"."deleted_at", "Zemla"."parent_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Zemla" AS "Zemla" LEFT OUTER JOIN "File" AS "attachments" ON "Zemla"."id" = "attachments"."zemla_id" AND "attachments"."deleted_at" IS NULL WHERE ("Zemla"."deleted_at" IS NULL AND "Zemla"."id" = 2);
[2016-09-10 17:35:50.929] [ INFO] console - Executing (5a933dae-05d8-45ac-aee1-07b35944f9a8): COMMIT;
[2016-09-10 17:35:50.931] [ INFO] console - [ 70,
  1948,
  {},
  [ { fullPath: 'null2/',
      id: '2',
      path: null,
      name: 'UnitTest2',
      intensity: 1000,
      note: 'unit test 1473510725519',
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Sat Sep 10 2016 17:32:07 GMT+0500 (YEKT),
      deleted_at: null,
      parent_id: '1',
      attachments: [] } ] ]
[2016-09-10 17:35:50.943] [ INFO] console - Executing (450a81f2-d035-48d8-a16b-12093ca4fdff): START TRANSACTION;
[2016-09-10 17:35:50.945] [ INFO] console - Executing (450a81f2-d035-48d8-a16b-12093ca4fdff): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 17:35:50.954] [ INFO] console - Executing (default): SELECT "id", "path", "name", "intensity", "note", "created_at", "updated_at", "deleted_at", "parent_id" FROM "Zemla" AS "Zemla" WHERE ("Zemla"."deleted_at" IS NULL AND "Zemla"."id" = 2);
[2016-09-10 17:35:50.967] [ INFO] console - Executing (default): UPDATE "Zemla" SET "parent_id"=1,"note"='unit test 1473510948955',"updated_at"='2016-09-10 12:35:50.959 +00:00' WHERE "id" = '2'
[2016-09-10 17:35:50.969] [ INFO] console - Executing (450a81f2-d035-48d8-a16b-12093ca4fdff): COMMIT;
[2016-09-10 17:35:50.970] [ INFO] console - [ 16,
  5728952173723648,
  { acknowledge: true },
  'ru.kopa.model.Zemla.id2.change' ]
[2016-09-10 17:35:50.977] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Zemla', id: 2 }
[2016-09-10 17:35:50.979] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Zemla', id: 2 }
[2016-09-10 17:35:50.982] [ INFO] console - [ 70, 1949, {}, [ undefined ] ]
[2016-09-10 17:35:50.985] [ INFO] console - Executing (787fe316-696a-4050-ace7-e7182f053476): START TRANSACTION;
[2016-09-10 17:35:50.985] [ INFO] console - Executing (505454af-f4f5-4a27-9a68-ad7f1f9124fd): START TRANSACTION;
[2016-09-10 17:35:50.987] [ INFO] console - Executing (787fe316-696a-4050-ace7-e7182f053476): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 17:35:50.987] [ INFO] console - Executing (505454af-f4f5-4a27-9a68-ad7f1f9124fd): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 17:35:51.000] [ INFO] console - Executing (default): SELECT "Zemla"."id", "Zemla"."path", "Zemla"."name", "Zemla"."intensity", "Zemla"."note", "Zemla"."created_at", "Zemla"."updated_at", "Zemla"."deleted_at", "Zemla"."parent_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Zemla" AS "Zemla" LEFT OUTER JOIN "File" AS "attachments" ON "Zemla"."id" = "attachments"."zemla_id" AND "attachments"."deleted_at" IS NULL WHERE ("Zemla"."deleted_at" IS NULL AND "Zemla"."id" = 2);
[2016-09-10 17:35:51.002] [ INFO] console - Executing (default): SELECT "Zemla"."id", "Zemla"."path", "Zemla"."name", "Zemla"."intensity", "Zemla"."note", "Zemla"."created_at", "Zemla"."updated_at", "Zemla"."deleted_at", "Zemla"."parent_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Zemla" AS "Zemla" LEFT OUTER JOIN "File" AS "attachments" ON "Zemla"."id" = "attachments"."zemla_id" AND "attachments"."deleted_at" IS NULL WHERE ("Zemla"."deleted_at" IS NULL AND "Zemla"."id" = 2);
[2016-09-10 17:35:51.007] [ INFO] console - Executing (787fe316-696a-4050-ace7-e7182f053476): COMMIT;
[2016-09-10 17:35:51.008] [ INFO] console - Executing (505454af-f4f5-4a27-9a68-ad7f1f9124fd): COMMIT;
[2016-09-10 17:35:51.009] [ INFO] console - [ 70,
  1950,
  {},
  [ { fullPath: 'null2/',
      id: '2',
      path: null,
      name: 'UnitTest2',
      intensity: 1000,
      note: 'unit test 1473510948955',
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Sat Sep 10 2016 17:35:50 GMT+0500 (YEKT),
      deleted_at: null,
      parent_id: '1',
      attachments: [] } ] ]
[2016-09-10 17:35:51.013] [ INFO] console - [ 70,
  1951,
  {},
  [ { fullPath: 'null2/',
      id: '2',
      path: null,
      name: 'UnitTest2',
      intensity: 1000,
      note: 'unit test 1473510948955',
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Sat Sep 10 2016 17:35:50 GMT+0500 (YEKT),
      deleted_at: null,
      parent_id: '1',
      attachments: [] } ] ]
[2016-09-10 17:36:45.510] [ INFO] console - [ 70, 1953, {}, [ 'unittest2@domain.ru' ] ]
[2016-09-10 17:36:45.519] [DEBUG] Server - #pingPong() [ 1, 2, 3 ] { x: 1, y: 2, z: 3 }
[2016-09-10 17:36:45.527] [ INFO] console - [ 70, 1954, {}, [ 1, 2, 3 ], { x: 1, y: 2, z: 3 } ]
[2016-09-10 17:36:45.545] [ INFO] console - Executing (default): select 'КОПА' as result
[2016-09-10 17:36:45.547] [ INFO] console - [ 70, 1955, {}, [ 'КОПА' ] ]
[2016-09-10 17:36:45.556] [DEBUG] Server - #error() [ 'sadkljfaskldjfs;af' ] {}
[2016-09-10 17:36:45.557] [ERROR] Server - [Error: sadkljfaskldjfs;af]
Error: sadkljfaskldjfs;af
    at MySuperError (Server.js:339:9)
    at fn.constructor.error.Error (Server.js:344:19)
    at new wrappedPromise (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/async-listener/index.js:372:16)
    at Server.error (Server.js:343:16)
    at Object.<anonymous> (Server.js:415:43)
    at [object Generator].next (native)
    at step (/home/alexey2baranov/htdocs/kp-sequelizejs/src/Server.js:1:253)
    at /home/alexey2baranov/htdocs/kp-sequelizejs/src/Server.js:1:513
    at new wrappedPromise (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/async-listener/index.js:372:16)
    at Object.<anonymous> (/home/alexey2baranov/htdocs/kp-sequelizejs/src/Server.js:1:161)
    at Object.<anonymous> (Server.js:412:28)
    at tryCatchResolve (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/apply.js:46:23)
    at callAndResolve (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/apply.js:30:12)
    at callAndResolveNext (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/apply.js:40:4)
    at tryCatchReject3 (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/makePromise.js:856:7)
    at runContinuation3 (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/makePromise.js:814:4)
[2016-09-10 17:36:45.566] [ INFO] console - [ 8,
  68,
  1956,
  {},
  'MySuperError',
  [ 'sadkljfaskldjfs;af' ],
  { stack: 
     [ 'Error: sadkljfaskldjfs;af',
       '    at MySuperError (Server.js:339:9)',
       '    at fn.constructor.error.Error (Server.js:344:19)',
       '    at new wrappedPromise (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/async-listener/index.js:372:16)',
       '    at Server.error (Server.js:343:16)',
       '    at Object.<anonymous> (Server.js:415:43)',
       '    at [object Generator].next (native)',
       '    at step (/home/alexey2baranov/htdocs/kp-sequelizejs/src/Server.js:1:253)',
       '    at /home/alexey2baranov/htdocs/kp-sequelizejs/src/Server.js:1:513',
       '    at new wrappedPromise (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/async-listener/index.js:372:16)',
       '    at Object.<anonymous> (/home/alexey2baranov/htdocs/kp-sequelizejs/src/Server.js:1:161)',
       '    at Object.<anonymous> (Server.js:412:28)',
       '    at tryCatchResolve (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/apply.js:46:23)',
       '    at callAndResolve (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/apply.js:30:12)',
       '    at callAndResolveNext (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/apply.js:40:4)',
       '    at tryCatchReject3 (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/makePromise.js:856:7)',
       '    at runContinuation3 (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/makePromise.js:814:4)' ] } ]
[2016-09-10 17:36:45.580] [ INFO] console - [ 70, 1957, {}, [ undefined ] ]
[2016-09-10 17:36:45.584] [ INFO] console - Executing (default): delete from "Slovo"
                where
                    place_id<5
                    and value like '%temp'
[2016-09-10 17:36:45.590] [ INFO] console - Executing (default): delete from "Kopnik"
                where
                    name like '%temp'
[2016-09-10 17:36:45.593] [ INFO] console - Executing (default): update "Kopnik"
                set 
                    "voiskoSize"= case when id=2 then 1 ELSE 0 END
                where
                    id>1 
                    and id<=5
[2016-09-10 17:36:45.627] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopa', id: 3 }
[2016-09-10 17:36:45.630] [ INFO] console - Executing (62b60f24-ab9a-4e24-9c24-1971de1f42f1): START TRANSACTION;
[2016-09-10 17:36:45.631] [ INFO] console - Executing (62b60f24-ab9a-4e24-9c24-1971de1f42f1): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 17:36:45.646] [ INFO] console - Executing (default): SELECT "Kopa"."id", "Kopa"."question", "Kopa"."planned", "Kopa"."started", "Kopa"."closed", "Kopa"."isOpen", "Kopa"."note", "Kopa"."created_at", "Kopa"."updated_at", "Kopa"."deleted_at", "Kopa"."place_id", "Kopa"."inviter_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopa" AS "Kopa" LEFT OUTER JOIN "File" AS "attachments" ON "Kopa"."id" = "attachments"."kopa_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopa"."deleted_at" IS NULL AND "Kopa"."id" = 3);
[2016-09-10 17:36:45.652] [ INFO] console - Executing (62b60f24-ab9a-4e24-9c24-1971de1f42f1): COMMIT;
[2016-09-10 17:36:45.654] [ INFO] console - [ 70,
  1959,
  {},
  [ { id: '3',
      question: 'CHE',
      planned: Thu Sep 01 2016 00:00:00 GMT+0500 (YEKT),
      started: Thu Sep 01 2016 00:00:00 GMT+0500 (YEKT),
      closed: null,
      isOpen: false,
      note: null,
      created_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      deleted_at: null,
      place_id: '2',
      inviter_id: '2',
      attachments: [] } ] ]
[2016-09-10 17:36:45.665] [ INFO] console - Executing (e8214765-2b2e-4dca-8e4c-5bb95a617654): START TRANSACTION;
[2016-09-10 17:36:45.666] [ INFO] console - Executing (e8214765-2b2e-4dca-8e4c-5bb95a617654): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 17:36:45.675] [ INFO] console - Executing (default): INSERT INTO "Golos" ("id","value","created_at","updated_at","for_id","owner_id") VALUES (DEFAULT,1,'2016-09-10 12:36:45.672 +00:00','2016-09-10 12:36:45.672 +00:00',1,2) RETURNING *;
[2016-09-10 17:36:45.679] [ INFO] console - Executing (e8214765-2b2e-4dca-8e4c-5bb95a617654): COMMIT;
[2016-09-10 17:36:45.680] [ INFO] console - [ 70, 1960, {}, [ '72' ] ]
[2016-09-10 17:36:45.688] [ INFO] console - [ 16,
  6397661882089472,
  { acknowledge: true },
  'ru.kopa.model.Predlozhenie.id1.golosAdd',
  [ '72' ] ]
[2016-09-10 17:37:32.135] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopa', id: 3 }
[2016-09-10 17:37:32.146] [ INFO] console - Executing (186b241e-7122-4d0c-9703-78f10080e584): START TRANSACTION;
[2016-09-10 17:37:32.149] [ INFO] console - Executing (186b241e-7122-4d0c-9703-78f10080e584): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 17:37:32.159] [ INFO] console - Executing (default): SELECT "Kopa"."id", "Kopa"."question", "Kopa"."planned", "Kopa"."started", "Kopa"."closed", "Kopa"."isOpen", "Kopa"."note", "Kopa"."created_at", "Kopa"."updated_at", "Kopa"."deleted_at", "Kopa"."place_id", "Kopa"."inviter_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopa" AS "Kopa" LEFT OUTER JOIN "File" AS "attachments" ON "Kopa"."id" = "attachments"."kopa_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopa"."deleted_at" IS NULL AND "Kopa"."id" = 3);
[2016-09-10 17:37:32.164] [ INFO] console - Executing (186b241e-7122-4d0c-9703-78f10080e584): COMMIT;
[2016-09-10 17:37:32.166] [ INFO] console - [ 70,
  1962,
  {},
  [ { id: '3',
      question: 'CHE',
      planned: Thu Sep 01 2016 00:00:00 GMT+0500 (YEKT),
      started: Thu Sep 01 2016 00:00:00 GMT+0500 (YEKT),
      closed: null,
      isOpen: false,
      note: null,
      created_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      deleted_at: null,
      place_id: '2',
      inviter_id: '2',
      attachments: [] } ] ]
[2016-09-10 17:37:32.175] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 2 }
[2016-09-10 17:37:32.178] [ INFO] console - Executing (36bed995-fc3a-4ae9-8458-f8fe29b3802b): START TRANSACTION;
[2016-09-10 17:37:32.179] [ INFO] console - Executing (36bed995-fc3a-4ae9-8458-f8fe29b3802b): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 17:37:32.185] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 2);
[2016-09-10 17:37:32.195] [ INFO] console - Executing (36bed995-fc3a-4ae9-8458-f8fe29b3802b): COMMIT;
[2016-09-10 17:37:32.196] [ INFO] console - [ 70,
  1963,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/2/',
      starshina: [Object],
      id: '2',
      email: 'unittest2@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '1',
      voiskoSize: 1,
      birth: 1983,
      path: '/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: null,
      attachments: [] } ] ]
[2016-09-10 17:37:32.208] [ INFO] console - Executing (2a09723c-9bc5-4bd9-a476-0e9d10d10ebd): START TRANSACTION;
[2016-09-10 17:37:32.209] [ INFO] console - Executing (2a09723c-9bc5-4bd9-a476-0e9d10d10ebd): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 17:37:32.214] [ INFO] console - Executing (default): INSERT INTO "Slovo" ("id","value","created_at","updated_at","owner_id","place_id") VALUES (DEFAULT,'some Slovo temp 1473511052204','2016-09-10 12:37:32.211 +00:00','2016-09-10 12:37:32.211 +00:00',2,3) RETURNING *;
[2016-09-10 17:37:32.218] [ INFO] console - Executing (2a09723c-9bc5-4bd9-a476-0e9d10d10ebd): COMMIT;
[2016-09-10 17:37:32.219] [ INFO] console - [ 70, 1964, {}, [ '128' ] ]
[2016-09-10 17:37:32.221] [ INFO] console - [ 16,
  8917807341240320,
  { acknowledge: true },
  'ru.kopa.model.Kopa.id3.slovoAdd',
  [ '128' ] ]
[2016-09-10 17:37:32.229] [ INFO] console - Executing (3da804d3-074a-4a0a-8eed-92b114f0cc9b): START TRANSACTION;
[2016-09-10 17:37:32.231] [ INFO] console - Executing (3da804d3-074a-4a0a-8eed-92b114f0cc9b): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 17:37:32.236] [ INFO] console - Executing (default): INSERT INTO "Predlozhenie" ("id","value","created_at","updated_at","initiator_id","place_id") VALUES (DEFAULT,'some Predlozhenie temp 1473511052227','2016-09-10 12:37:32.233 +00:00','2016-09-10 12:37:32.233 +00:00',2,3) RETURNING *;
[2016-09-10 17:37:32.241] [ INFO] console - Executing (3da804d3-074a-4a0a-8eed-92b114f0cc9b): COMMIT;
[2016-09-10 17:37:32.243] [ INFO] console - [ 70, 1965, {}, [ '73' ] ]
[2016-09-10 17:37:32.247] [ INFO] console - [ 16,
  2146011541667840,
  { acknowledge: true },
  'ru.kopa.model.Kopa.id3.predlozhenieAdd',
  [ '73' ] ]
[2016-09-10 17:37:32.292] [ INFO] console - [ 70, 1967, {}, [ undefined ] ]
[2016-09-10 17:37:32.294] [ INFO] console - Executing (default): delete from "Kopnik"
                where
                    name like '%temp'
[2016-09-10 17:37:32.298] [ INFO] console - Executing (default): update "Kopnik"
                set 
                    "voiskoSize"= case when id=2 then 1 ELSE 0 END
                where
                    id>1 
                    and id<=5
[2016-09-10 17:37:32.306] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 2 }
[2016-09-10 17:37:32.310] [ INFO] console - Executing (710132b3-ca7b-4c7e-a1f8-efe848e22308): START TRANSACTION;
[2016-09-10 17:37:32.312] [ INFO] console - Executing (710132b3-ca7b-4c7e-a1f8-efe848e22308): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 17:37:32.319] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 2);
[2016-09-10 17:37:32.324] [ INFO] console - Executing (710132b3-ca7b-4c7e-a1f8-efe848e22308): COMMIT;
[2016-09-10 17:37:32.330] [ INFO] console - [ 70,
  1968,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/2/',
      starshina: [Object],
      id: '2',
      email: 'unittest2@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '1',
      voiskoSize: 1,
      birth: 1983,
      path: '/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: null,
      attachments: [] } ] ]
[2016-09-10 17:37:32.341] [ INFO] console - Executing (beeb56cf-3c0d-43e0-b1a4-322428d6a04b): START TRANSACTION;
[2016-09-10 17:37:32.343] [ INFO] console - Executing (beeb56cf-3c0d-43e0-b1a4-322428d6a04b): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 17:37:32.351] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 2);
[2016-09-10 17:37:32.358] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"+1
                                where
                                    '/2/' like path||id||'/%'
[2016-09-10 17:37:32.363] [ INFO] console - Executing (default): INSERT INTO "Kopnik" ("id","name","surname","patronymic","voiskoSize","birth","path","created_at","updated_at","rodina_id","starshina_id") VALUES (DEFAULT,'temp','temp','temp',0,1900,'/2/','2016-09-10 12:37:32.345 +00:00','2016-09-10 12:37:32.345 +00:00',NULL,2) RETURNING *;
[2016-09-10 17:37:32.367] [ INFO] console - Executing (beeb56cf-3c0d-43e0-b1a4-322428d6a04b): COMMIT;
[2016-09-10 17:37:32.372] [ INFO] console - [ 70, 1969, {}, [ '273' ] ]
[2016-09-10 17:37:32.375] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/' like k.path||k.id||'/%'
[2016-09-10 17:37:32.382] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 17:37:32.383] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Zemla', id: 2 }
[2016-09-10 17:37:32.387] [ INFO] console - Executing (8661b083-7035-4815-b79e-6a3c887594ff): START TRANSACTION;
[2016-09-10 17:37:32.392] [ INFO] console - Executing (c3c1af18-443c-40d8-a20f-78c95b92de23): START TRANSACTION;
[2016-09-10 17:37:32.393] [ INFO] console - Executing (8661b083-7035-4815-b79e-6a3c887594ff): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 17:37:32.394] [ INFO] console - [ 16,
  8699607099899904,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id2.voiskoChange',
  [],
  { voiskoSize: 2 } ]
[2016-09-10 17:37:32.399] [ INFO] console - Executing (c3c1af18-443c-40d8-a20f-78c95b92de23): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 17:37:32.418] [ INFO] console - Executing (default): SELECT "Zemla"."id", "Zemla"."path", "Zemla"."name", "Zemla"."intensity", "Zemla"."note", "Zemla"."created_at", "Zemla"."updated_at", "Zemla"."deleted_at", "Zemla"."parent_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Zemla" AS "Zemla" LEFT OUTER JOIN "File" AS "attachments" ON "Zemla"."id" = "attachments"."zemla_id" AND "attachments"."deleted_at" IS NULL WHERE ("Zemla"."deleted_at" IS NULL AND "Zemla"."id" = 2);
[2016-09-10 17:37:32.430] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 273);
[2016-09-10 17:37:32.434] [ INFO] console - Executing (8661b083-7035-4815-b79e-6a3c887594ff): COMMIT;
[2016-09-10 17:37:32.439] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"+1
                                where
                                    '/2/273/' like path||id||'/%'
[2016-09-10 17:37:32.439] [ INFO] console - [ 70,
  1970,
  {},
  [ { fullPath: 'null2/',
      id: '2',
      path: null,
      name: 'UnitTest2',
      intensity: 1000,
      note: 'unit test 1473510948955',
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Sat Sep 10 2016 17:35:50 GMT+0500 (YEKT),
      deleted_at: null,
      parent_id: '1',
      attachments: [] } ] ]
[2016-09-10 17:37:32.451] [ INFO] console - Executing (default): INSERT INTO "Kopnik" ("id","name","surname","patronymic","voiskoSize","birth","path","created_at","updated_at","rodina_id","starshina_id") VALUES (DEFAULT,'temp','temp','temp',0,1900,'/2/273/','2016-09-10 12:37:32.410 +00:00','2016-09-10 12:37:32.410 +00:00',NULL,273) RETURNING *;
[2016-09-10 17:37:32.455] [ INFO] console - Executing (c3c1af18-443c-40d8-a20f-78c95b92de23): COMMIT;
[2016-09-10 17:37:32.456] [ INFO] console - [ 70, 1971, {}, [ '274' ] ]
[2016-09-10 17:37:32.461] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/273/' like k.path||k.id||'/%'
[2016-09-10 17:37:32.469] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2', '273')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 17:37:32.474] [ INFO] console - [ 16,
  8189423239823360,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id273.voiskoChange',
  [],
  { voiskoSize: 1 } ]
[2016-09-10 17:37:32.478] [ INFO] console - [ 16,
  3050659293167616,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id2.voiskoChange',
  [],
  { voiskoSize: 3 } ]
[2016-09-10 17:37:32.484] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 4 }
[2016-09-10 17:37:32.487] [ INFO] console - Executing (f9070c4c-57cc-4384-b5f9-3f292ed837fa): START TRANSACTION;
[2016-09-10 17:37:32.488] [ INFO] console - Executing (f9070c4c-57cc-4384-b5f9-3f292ed837fa): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 17:37:32.494] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 4);
[2016-09-10 17:37:32.499] [ INFO] console - Executing (f9070c4c-57cc-4384-b5f9-3f292ed837fa): COMMIT;
[2016-09-10 17:37:32.500] [ INFO] console - [ 70,
  1972,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/4/',
      starshina: [Object],
      id: '4',
      email: 'unittest4@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '4',
      voiskoSize: 0,
      birth: 1983,
      path: '/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: null,
      attachments: [] } ] ]
[2016-09-10 17:37:32.512] [ INFO] console - Executing (6b080c94-2eff-4a6c-a75b-de0722d3f259): START TRANSACTION;
[2016-09-10 17:37:32.513] [ INFO] console - Executing (6b080c94-2eff-4a6c-a75b-de0722d3f259): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 17:37:32.517] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 273);
[2016-09-10 17:37:32.522] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 4);
[2016-09-10 17:37:32.526] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/' like k.path||k.id||'/%'
[2016-09-10 17:37:32.530] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 17:37:32.537] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"-2
                                where
                                    '/2/' like path||id||'/%'
[2016-09-10 17:37:32.547] [ INFO] console - Executing (default): UPDATE "Kopnik" SET "path"='/4/',"starshina_id"='4',"updated_at"='2016-09-10 12:37:32.541 +00:00' WHERE "id" = '273'
[2016-09-10 17:37:32.550] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"+2
                                where
                                    '/4/' like path||id||'/%'
[2016-09-10 17:37:32.553] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."starshina_id" = '273');
[2016-09-10 17:37:32.561] [ INFO] console - Executing (default): UPDATE "Kopnik" SET "path"='/4/273/',"updated_at"='2016-09-10 12:37:32.556 +00:00' WHERE "id" = '274'
[2016-09-10 17:37:32.563] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/4/' like k.path||k.id||'/%'
[2016-09-10 17:37:32.570] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('4')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 17:37:32.576] [ INFO] console - Executing (6b080c94-2eff-4a6c-a75b-de0722d3f259): COMMIT;
[2016-09-10 17:37:32.577] [ INFO] console - [ 70, 1973, {}, [ undefined ] ]
[2016-09-10 17:37:32.580] [ INFO] console - [ 16,
  4595900173254656,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id2.voiskoChange',
  [],
  { voiskoSize: 1 } ]
[2016-09-10 17:37:32.586] [ INFO] console - [ 16,
  3234217022455808,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id4.voiskoChange',
  [],
  { voiskoSize: 2 } ]
[2016-09-10 17:37:32.618] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopa', id: 3 }
[2016-09-10 17:37:32.622] [ INFO] console - Executing (fb0784f4-ac20-4249-8d1f-9f92d8ed619e): START TRANSACTION;
[2016-09-10 17:37:32.624] [ INFO] console - Executing (fb0784f4-ac20-4249-8d1f-9f92d8ed619e): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 17:37:32.633] [ INFO] console - Executing (default): SELECT "Kopa"."id", "Kopa"."question", "Kopa"."planned", "Kopa"."started", "Kopa"."closed", "Kopa"."isOpen", "Kopa"."note", "Kopa"."created_at", "Kopa"."updated_at", "Kopa"."deleted_at", "Kopa"."place_id", "Kopa"."inviter_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopa" AS "Kopa" LEFT OUTER JOIN "File" AS "attachments" ON "Kopa"."id" = "attachments"."kopa_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopa"."deleted_at" IS NULL AND "Kopa"."id" = 3);
[2016-09-10 17:37:32.639] [ INFO] console - Executing (fb0784f4-ac20-4249-8d1f-9f92d8ed619e): COMMIT;
[2016-09-10 17:37:32.641] [ INFO] console - [ 70,
  1975,
  {},
  [ { id: '3',
      question: 'CHE',
      planned: Thu Sep 01 2016 00:00:00 GMT+0500 (YEKT),
      started: Thu Sep 01 2016 00:00:00 GMT+0500 (YEKT),
      closed: null,
      isOpen: false,
      note: null,
      created_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      deleted_at: null,
      place_id: '2',
      inviter_id: '2',
      attachments: [] } ] ]
[2016-09-10 17:37:32.655] [ INFO] console - Executing (2357f0aa-bc6d-44f2-b06b-001a6d625853): START TRANSACTION;
[2016-09-10 17:37:32.657] [ INFO] console - Executing (2357f0aa-bc6d-44f2-b06b-001a6d625853): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 17:37:32.662] [ INFO] console - Executing (default): INSERT INTO "Predlozhenie" ("id","value","created_at","updated_at","initiator_id","place_id") VALUES (DEFAULT,'some Predlozhenie temp 1473511005272','2016-09-10 12:37:32.658 +00:00','2016-09-10 12:37:32.658 +00:00',2,3) RETURNING *;
[2016-09-10 17:37:32.666] [ INFO] console - Executing (2357f0aa-bc6d-44f2-b06b-001a6d625853): COMMIT;
[2016-09-10 17:37:32.670] [ INFO] console - [ 70, 1976, {}, [ '74' ] ]
[2016-09-10 17:37:32.672] [ INFO] console - [ 16,
  7572104088125440,
  { acknowledge: true },
  'ru.kopa.model.Kopa.id3.predlozhenieAdd',
  [ '74' ] ]
[2016-09-10 17:37:32.683] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Predlozhenie', id: 1 }
[2016-09-10 17:37:32.687] [ INFO] console - Executing (69331d9b-fd6c-495b-9164-659260ecb960): START TRANSACTION;
[2016-09-10 17:37:32.689] [ INFO] console - Executing (69331d9b-fd6c-495b-9164-659260ecb960): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 17:37:32.696] [ INFO] console - Executing (default): SELECT "Predlozhenie"."id", "Predlozhenie"."value", "Predlozhenie"."note", "Predlozhenie"."created_at", "Predlozhenie"."updated_at", "Predlozhenie"."deleted_at", "Predlozhenie"."initiator_id", "Predlozhenie"."place_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Predlozhenie" AS "Predlozhenie" LEFT OUTER JOIN "File" AS "attachments" ON "Predlozhenie"."id" = "attachments"."predlozhenie_id" AND "attachments"."deleted_at" IS NULL WHERE ("Predlozhenie"."deleted_at" IS NULL AND "Predlozhenie"."id" = 1);
[2016-09-10 17:37:32.701] [ INFO] console - Executing (69331d9b-fd6c-495b-9164-659260ecb960): COMMIT;
[2016-09-10 17:37:32.702] [ INFO] console - [ 70,
  1977,
  {},
  [ { id: '1',
      value: 'Будет ...',
      note: null,
      created_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      deleted_at: null,
      initiator_id: '2',
      place_id: '3',
      attachments: [] } ] ]
[2016-09-10 17:37:32.717] [ INFO] console - Executing (8d4d4005-f357-4e43-bef3-c24a16e4c7dc): START TRANSACTION;
[2016-09-10 17:37:32.719] [ INFO] console - Executing (8d4d4005-f357-4e43-bef3-c24a16e4c7dc): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 17:37:32.725] [ INFO] console - Executing (default): INSERT INTO "Golos" ("id","value","created_at","updated_at","for_id","owner_id") VALUES (DEFAULT,1,'2016-09-10 12:37:32.720 +00:00','2016-09-10 12:37:32.720 +00:00',1,2) RETURNING *;
[2016-09-10 17:37:32.729] [ INFO] console - Executing (8d4d4005-f357-4e43-bef3-c24a16e4c7dc): COMMIT;
[2016-09-10 17:37:32.730] [ INFO] console - [ 70, 1978, {}, [ '73' ] ]
[2016-09-10 17:37:32.736] [ INFO] console - [ 16,
  7682526378196992,
  { acknowledge: true },
  'ru.kopa.model.Predlozhenie.id1.golosAdd',
  [ '73' ] ]
[2016-09-10 17:37:32.770] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 2 }
[2016-09-10 17:37:32.777] [ INFO] console - Executing (e2a4bb8a-7d7a-4710-ad0d-b9bcc6930793): START TRANSACTION;
[2016-09-10 17:37:32.779] [ INFO] console - Executing (e2a4bb8a-7d7a-4710-ad0d-b9bcc6930793): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 17:37:32.788] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 2);
[2016-09-10 17:37:32.793] [ INFO] console - Executing (e2a4bb8a-7d7a-4710-ad0d-b9bcc6930793): COMMIT;
[2016-09-10 17:37:32.796] [ INFO] console - [ 70,
  1980,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/2/',
      starshina: [Object],
      id: '2',
      email: 'unittest2@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '1',
      voiskoSize: 1,
      birth: 1983,
      path: '/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: null,
      attachments: [] } ] ]
[2016-09-10 17:37:32.808] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 3 }
[2016-09-10 17:37:32.810] [ INFO] console - Executing (df2e532a-5d5b-4b4e-a250-230cada713c5): START TRANSACTION;
[2016-09-10 17:37:32.812] [ INFO] console - Executing (df2e532a-5d5b-4b4e-a250-230cada713c5): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 17:37:32.828] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 3);
[2016-09-10 17:37:32.836] [ INFO] console - Executing (df2e532a-5d5b-4b4e-a250-230cada713c5): COMMIT;
[2016-09-10 17:37:32.837] [ INFO] console - [ 70,
  1981,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/2/3/',
      starshina: [Object],
      id: '3',
      email: 'unittest3@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '3',
      voiskoSize: 0,
      birth: 1983,
      path: '/2/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: '2',
      attachments: [] } ] ]
[2016-09-10 17:37:32.854] [ INFO] console - Executing (b3b7540c-805b-4715-bcf2-d01435783923): START TRANSACTION;
[2016-09-10 17:37:32.855] [ INFO] console - Executing (b3b7540c-805b-4715-bcf2-d01435783923): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 17:37:32.861] [ INFO] console - Executing (default): INSERT INTO "Slovo" ("id","value","note","created_at","updated_at","owner_id","place_id") VALUES (DEFAULT,'123 temp','456','2016-09-10 12:37:32.857 +00:00','2016-09-10 12:37:32.857 +00:00',2,3) RETURNING *;
[2016-09-10 17:37:32.865] [ INFO] console - Executing (b3b7540c-805b-4715-bcf2-d01435783923): COMMIT;
[2016-09-10 17:37:32.867] [ INFO] console - [ 70, 1982, {}, [ '129' ] ]
[2016-09-10 17:37:32.869] [ INFO] console - [ 16,
  8912637767188480,
  { acknowledge: true },
  'ru.kopa.model.Kopa.id3.slovoAdd',
  [ '129' ] ]
[2016-09-10 17:37:32.874] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Slovo', id: 129 }
[2016-09-10 17:37:32.877] [ INFO] console - Executing (4efe89b1-35ea-4ff2-8dbe-1184aade23f6): START TRANSACTION;
[2016-09-10 17:37:32.879] [ INFO] console - Executing (4efe89b1-35ea-4ff2-8dbe-1184aade23f6): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 17:37:32.888] [ INFO] console - Executing (default): SELECT "Slovo"."id", "Slovo"."value", "Slovo"."note", "Slovo"."created_at", "Slovo"."updated_at", "Slovo"."deleted_at", "Slovo"."owner_id", "Slovo"."place_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Slovo" AS "Slovo" LEFT OUTER JOIN "File" AS "attachments" ON "Slovo"."id" = "attachments"."slovo_id" AND "attachments"."deleted_at" IS NULL WHERE ("Slovo"."deleted_at" IS NULL AND "Slovo"."id" = 129);
[2016-09-10 17:37:32.894] [ INFO] console - Executing (4efe89b1-35ea-4ff2-8dbe-1184aade23f6): COMMIT;
[2016-09-10 17:37:32.895] [ INFO] console - [ 70,
  1983,
  {},
  [ { id: '129',
      value: '123 temp',
      note: '456',
      created_at: Sat Sep 10 2016 17:37:32 GMT+0500 (YEKT),
      updated_at: Sat Sep 10 2016 17:37:32 GMT+0500 (YEKT),
      deleted_at: null,
      owner_id: '2',
      place_id: '3',
      attachments: [] } ] ]
[2016-09-10 17:37:32.908] [ INFO] console - Executing (673685a7-ddc5-4c0f-9d3a-0593cc394de7): START TRANSACTION;
[2016-09-10 17:37:32.909] [ INFO] console - Executing (673685a7-ddc5-4c0f-9d3a-0593cc394de7): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 17:37:32.914] [ INFO] console - Executing (default): INSERT INTO "Slovo" ("id","value","created_at","updated_at","owner_id","place_id") VALUES (DEFAULT,'some value temp 1473511052903','2016-09-10 12:37:32.910 +00:00','2016-09-10 12:37:32.910 +00:00',2,3) RETURNING *;
[2016-09-10 17:37:32.918] [ INFO] console - Executing (673685a7-ddc5-4c0f-9d3a-0593cc394de7): COMMIT;
[2016-09-10 17:37:32.920] [ INFO] console - [ 70, 1984, {}, [ '130' ] ]
[2016-09-10 17:37:32.922] [ INFO] console - [ 16,
  7529430427631616,
  { acknowledge: true },
  'ru.kopa.model.Kopa.id3.slovoAdd',
  [ '130' ] ]
[2016-09-10 17:37:32.936] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Zemla', id: 2 }
[2016-09-10 17:37:32.939] [ INFO] console - Executing (22c19216-56d0-481d-acae-233886c1c145): START TRANSACTION;
[2016-09-10 17:37:32.940] [ INFO] console - Executing (22c19216-56d0-481d-acae-233886c1c145): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 17:37:32.948] [ INFO] console - Executing (default): SELECT "Zemla"."id", "Zemla"."path", "Zemla"."name", "Zemla"."intensity", "Zemla"."note", "Zemla"."created_at", "Zemla"."updated_at", "Zemla"."deleted_at", "Zemla"."parent_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Zemla" AS "Zemla" LEFT OUTER JOIN "File" AS "attachments" ON "Zemla"."id" = "attachments"."zemla_id" AND "attachments"."deleted_at" IS NULL WHERE ("Zemla"."deleted_at" IS NULL AND "Zemla"."id" = 2);
[2016-09-10 17:37:32.953] [ INFO] console - Executing (22c19216-56d0-481d-acae-233886c1c145): COMMIT;
[2016-09-10 17:37:32.954] [ INFO] console - [ 70,
  1985,
  {},
  [ { fullPath: 'null2/',
      id: '2',
      path: null,
      name: 'UnitTest2',
      intensity: 1000,
      note: 'unit test 1473510948955',
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Sat Sep 10 2016 17:35:50 GMT+0500 (YEKT),
      deleted_at: null,
      parent_id: '1',
      attachments: [] } ] ]
[2016-09-10 17:37:32.966] [ INFO] console - Executing (02a57b06-727b-46ce-b437-22ce163a1836): START TRANSACTION;
[2016-09-10 17:37:32.967] [ INFO] console - Executing (02a57b06-727b-46ce-b437-22ce163a1836): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 17:37:32.970] [ INFO] console - Executing (default): SELECT "id", "path", "name", "intensity", "note", "created_at", "updated_at", "deleted_at", "parent_id" FROM "Zemla" AS "Zemla" WHERE ("Zemla"."deleted_at" IS NULL AND "Zemla"."id" = 2);
[2016-09-10 17:37:32.978] [ INFO] console - Executing (default): UPDATE "Zemla" SET "parent_id"=1,"note"='unit test 1473511005313',"updated_at"='2016-09-10 12:37:32.973 +00:00' WHERE "id" = '2'
[2016-09-10 17:37:32.981] [ INFO] console - Executing (02a57b06-727b-46ce-b437-22ce163a1836): COMMIT;
[2016-09-10 17:37:32.982] [ INFO] console - [ 16,
  4895685824479232,
  { acknowledge: true },
  'ru.kopa.model.Zemla.id2.change' ]
[2016-09-10 17:37:32.993] [ INFO] console - [ 70, 1986, {}, [ undefined ] ]
[2016-09-10 17:37:32.998] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Zemla', id: 2 }
[2016-09-10 17:37:33.002] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Zemla', id: 2 }
[2016-09-10 17:37:33.005] [ INFO] console - Executing (87fee44a-cdec-47c2-960e-474b13d01072): START TRANSACTION;
[2016-09-10 17:37:33.006] [ INFO] console - Executing (e8e81d4c-0851-4dbf-806f-4d5423da5407): START TRANSACTION;
[2016-09-10 17:37:33.008] [ INFO] console - Executing (87fee44a-cdec-47c2-960e-474b13d01072): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 17:37:33.009] [ INFO] console - Executing (e8e81d4c-0851-4dbf-806f-4d5423da5407): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 17:37:33.020] [ INFO] console - Executing (default): SELECT "Zemla"."id", "Zemla"."path", "Zemla"."name", "Zemla"."intensity", "Zemla"."note", "Zemla"."created_at", "Zemla"."updated_at", "Zemla"."deleted_at", "Zemla"."parent_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Zemla" AS "Zemla" LEFT OUTER JOIN "File" AS "attachments" ON "Zemla"."id" = "attachments"."zemla_id" AND "attachments"."deleted_at" IS NULL WHERE ("Zemla"."deleted_at" IS NULL AND "Zemla"."id" = 2);
[2016-09-10 17:37:33.021] [ INFO] console - Executing (default): SELECT "Zemla"."id", "Zemla"."path", "Zemla"."name", "Zemla"."intensity", "Zemla"."note", "Zemla"."created_at", "Zemla"."updated_at", "Zemla"."deleted_at", "Zemla"."parent_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Zemla" AS "Zemla" LEFT OUTER JOIN "File" AS "attachments" ON "Zemla"."id" = "attachments"."zemla_id" AND "attachments"."deleted_at" IS NULL WHERE ("Zemla"."deleted_at" IS NULL AND "Zemla"."id" = 2);
[2016-09-10 17:37:33.030] [ INFO] console - Executing (87fee44a-cdec-47c2-960e-474b13d01072): COMMIT;
[2016-09-10 17:37:33.031] [ INFO] console - Executing (e8e81d4c-0851-4dbf-806f-4d5423da5407): COMMIT;
[2016-09-10 17:37:33.033] [ INFO] console - [ 70,
  1987,
  {},
  [ { fullPath: 'null2/',
      id: '2',
      path: null,
      name: 'UnitTest2',
      intensity: 1000,
      note: 'unit test 1473511005313',
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Sat Sep 10 2016 17:37:32 GMT+0500 (YEKT),
      deleted_at: null,
      parent_id: '1',
      attachments: [] } ] ]
[2016-09-10 17:37:33.037] [ INFO] console - [ 70,
  1988,
  {},
  [ { fullPath: 'null2/',
      id: '2',
      path: null,
      name: 'UnitTest2',
      intensity: 1000,
      note: 'unit test 1473511005313',
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Sat Sep 10 2016 17:37:32 GMT+0500 (YEKT),
      deleted_at: null,
      parent_id: '1',
      attachments: [] } ] ]
[2016-09-10 17:37:45.493] [ INFO] console - [ 70, 1990, {}, [ 'unittest2@domain.ru' ] ]
[2016-09-10 17:37:45.501] [DEBUG] Server - #pingPong() [ 1, 2, 3 ] { x: 1, y: 2, z: 3 }
[2016-09-10 17:37:45.513] [ INFO] console - [ 70, 1991, {}, [ 1, 2, 3 ], { x: 1, y: 2, z: 3 } ]
[2016-09-10 17:37:45.535] [ INFO] console - Executing (default): select 'КОПА' as result
[2016-09-10 17:37:45.540] [ INFO] console - [ 70, 1992, {}, [ 'КОПА' ] ]
[2016-09-10 17:37:45.549] [DEBUG] Server - #error() [ 'sadkljfaskldjfs;af' ] {}
[2016-09-10 17:37:45.550] [ERROR] Server - [Error: sadkljfaskldjfs;af]
Error: sadkljfaskldjfs;af
    at MySuperError (Server.js:339:9)
    at fn.constructor.error.Error (Server.js:344:19)
    at new wrappedPromise (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/async-listener/index.js:372:16)
    at Server.error (Server.js:343:16)
    at Object.<anonymous> (Server.js:415:43)
    at [object Generator].next (native)
    at step (/home/alexey2baranov/htdocs/kp-sequelizejs/src/Server.js:1:253)
    at /home/alexey2baranov/htdocs/kp-sequelizejs/src/Server.js:1:513
    at new wrappedPromise (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/async-listener/index.js:372:16)
    at Object.<anonymous> (/home/alexey2baranov/htdocs/kp-sequelizejs/src/Server.js:1:161)
    at Object.<anonymous> (Server.js:412:28)
    at tryCatchResolve (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/apply.js:46:23)
    at callAndResolve (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/apply.js:30:12)
    at callAndResolveNext (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/apply.js:40:4)
    at tryCatchReject3 (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/makePromise.js:856:7)
    at runContinuation3 (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/makePromise.js:814:4)
[2016-09-10 17:37:45.557] [ INFO] console - [ 8,
  68,
  1993,
  {},
  'MySuperError',
  [ 'sadkljfaskldjfs;af' ],
  { stack: 
     [ 'Error: sadkljfaskldjfs;af',
       '    at MySuperError (Server.js:339:9)',
       '    at fn.constructor.error.Error (Server.js:344:19)',
       '    at new wrappedPromise (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/async-listener/index.js:372:16)',
       '    at Server.error (Server.js:343:16)',
       '    at Object.<anonymous> (Server.js:415:43)',
       '    at [object Generator].next (native)',
       '    at step (/home/alexey2baranov/htdocs/kp-sequelizejs/src/Server.js:1:253)',
       '    at /home/alexey2baranov/htdocs/kp-sequelizejs/src/Server.js:1:513',
       '    at new wrappedPromise (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/async-listener/index.js:372:16)',
       '    at Object.<anonymous> (/home/alexey2baranov/htdocs/kp-sequelizejs/src/Server.js:1:161)',
       '    at Object.<anonymous> (Server.js:412:28)',
       '    at tryCatchResolve (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/apply.js:46:23)',
       '    at callAndResolve (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/apply.js:30:12)',
       '    at callAndResolveNext (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/apply.js:40:4)',
       '    at tryCatchReject3 (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/makePromise.js:856:7)',
       '    at runContinuation3 (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/makePromise.js:814:4)' ] } ]
[2016-09-10 17:37:45.571] [ INFO] console - [ 70, 1994, {}, [ undefined ] ]
[2016-09-10 17:37:45.576] [ INFO] console - Executing (default): delete from "Slovo"
                where
                    place_id<5
                    and value like '%temp'
[2016-09-10 17:37:45.596] [ INFO] console - Executing (default): delete from "Kopnik"
                where
                    name like '%temp'
[2016-09-10 17:37:45.599] [ INFO] console - Executing (default): update "Kopnik"
                set 
                    "voiskoSize"= case when id=2 then 1 ELSE 0 END
                where
                    id>1 
                    and id<=5
[2016-09-10 17:37:45.625] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopa', id: 3 }
[2016-09-10 17:37:45.630] [ INFO] console - Executing (97cf2f9a-35fb-4e3e-8f42-4cb49f9b27f4): START TRANSACTION;
[2016-09-10 17:37:45.632] [ INFO] console - Executing (97cf2f9a-35fb-4e3e-8f42-4cb49f9b27f4): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 17:37:45.651] [ INFO] console - Executing (default): SELECT "Kopa"."id", "Kopa"."question", "Kopa"."planned", "Kopa"."started", "Kopa"."closed", "Kopa"."isOpen", "Kopa"."note", "Kopa"."created_at", "Kopa"."updated_at", "Kopa"."deleted_at", "Kopa"."place_id", "Kopa"."inviter_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopa" AS "Kopa" LEFT OUTER JOIN "File" AS "attachments" ON "Kopa"."id" = "attachments"."kopa_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopa"."deleted_at" IS NULL AND "Kopa"."id" = 3);
[2016-09-10 17:37:45.657] [ INFO] console - Executing (97cf2f9a-35fb-4e3e-8f42-4cb49f9b27f4): COMMIT;
[2016-09-10 17:37:45.658] [ INFO] console - [ 70,
  1996,
  {},
  [ { id: '3',
      question: 'CHE',
      planned: Thu Sep 01 2016 00:00:00 GMT+0500 (YEKT),
      started: Thu Sep 01 2016 00:00:00 GMT+0500 (YEKT),
      closed: null,
      isOpen: false,
      note: null,
      created_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      deleted_at: null,
      place_id: '2',
      inviter_id: '2',
      attachments: [] } ] ]
[2016-09-10 17:37:45.678] [ INFO] console - Executing (4f110ef1-22f1-49d7-99bc-da95a0ea734f): START TRANSACTION;
[2016-09-10 17:37:45.682] [ INFO] console - Executing (4f110ef1-22f1-49d7-99bc-da95a0ea734f): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 17:37:45.688] [ INFO] console - Executing (default): INSERT INTO "Golos" ("id","value","created_at","updated_at","for_id","owner_id") VALUES (DEFAULT,1,'2016-09-10 12:37:45.684 +00:00','2016-09-10 12:37:45.684 +00:00',1,2) RETURNING *;
[2016-09-10 17:37:45.692] [ INFO] console - Executing (4f110ef1-22f1-49d7-99bc-da95a0ea734f): COMMIT;
[2016-09-10 17:37:45.693] [ INFO] console - [ 70, 1997, {}, [ '74' ] ]
[2016-09-10 17:37:45.710] [ INFO] console - [ 16,
  1633817292963840,
  { acknowledge: true },
  'ru.kopa.model.Predlozhenie.id1.golosAdd',
  [ '74' ] ]
[2016-09-10 17:37:45.774] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopa', id: 3 }
[2016-09-10 17:37:45.778] [ INFO] console - Executing (55129996-afdd-4d93-8a9c-4e595950237e): START TRANSACTION;
[2016-09-10 17:37:45.780] [ INFO] console - Executing (55129996-afdd-4d93-8a9c-4e595950237e): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 17:37:45.792] [ INFO] console - Executing (default): SELECT "Kopa"."id", "Kopa"."question", "Kopa"."planned", "Kopa"."started", "Kopa"."closed", "Kopa"."isOpen", "Kopa"."note", "Kopa"."created_at", "Kopa"."updated_at", "Kopa"."deleted_at", "Kopa"."place_id", "Kopa"."inviter_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopa" AS "Kopa" LEFT OUTER JOIN "File" AS "attachments" ON "Kopa"."id" = "attachments"."kopa_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopa"."deleted_at" IS NULL AND "Kopa"."id" = 3);
[2016-09-10 17:37:45.797] [ INFO] console - Executing (55129996-afdd-4d93-8a9c-4e595950237e): COMMIT;
[2016-09-10 17:37:45.799] [ INFO] console - [ 70,
  1999,
  {},
  [ { id: '3',
      question: 'CHE',
      planned: Thu Sep 01 2016 00:00:00 GMT+0500 (YEKT),
      started: Thu Sep 01 2016 00:00:00 GMT+0500 (YEKT),
      closed: null,
      isOpen: false,
      note: null,
      created_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      deleted_at: null,
      place_id: '2',
      inviter_id: '2',
      attachments: [] } ] ]
[2016-09-10 17:37:45.811] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 2 }
[2016-09-10 17:37:45.826] [ INFO] console - Executing (cbc89511-410e-4ef1-909f-40ef4c4adced): START TRANSACTION;
[2016-09-10 17:37:45.827] [ INFO] console - Executing (cbc89511-410e-4ef1-909f-40ef4c4adced): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 17:37:45.838] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 2);
[2016-09-10 17:37:45.846] [ INFO] console - Executing (cbc89511-410e-4ef1-909f-40ef4c4adced): COMMIT;
[2016-09-10 17:37:45.848] [ INFO] console - [ 70,
  2000,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/2/',
      starshina: [Object],
      id: '2',
      email: 'unittest2@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '1',
      voiskoSize: 1,
      birth: 1983,
      path: '/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: null,
      attachments: [] } ] ]
[2016-09-10 17:37:45.858] [ INFO] console - Executing (af66dac1-242a-4bdd-afcd-328b1c67c8b4): START TRANSACTION;
[2016-09-10 17:37:45.859] [ INFO] console - Executing (af66dac1-242a-4bdd-afcd-328b1c67c8b4): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 17:37:45.864] [ INFO] console - Executing (default): INSERT INTO "Slovo" ("id","value","created_at","updated_at","owner_id","place_id") VALUES (DEFAULT,'some Slovo temp 1473511065856','2016-09-10 12:37:45.861 +00:00','2016-09-10 12:37:45.861 +00:00',2,3) RETURNING *;
[2016-09-10 17:37:45.870] [ INFO] console - Executing (af66dac1-242a-4bdd-afcd-328b1c67c8b4): COMMIT;
[2016-09-10 17:37:45.872] [ INFO] console - [ 70, 2001, {}, [ '131' ] ]
[2016-09-10 17:37:45.875] [ INFO] console - [ 16,
  4388501156003840,
  { acknowledge: true },
  'ru.kopa.model.Kopa.id3.slovoAdd',
  [ '131' ] ]
[2016-09-10 17:37:45.889] [ INFO] console - Executing (9609e52b-d8be-4517-abf5-657f202620db): START TRANSACTION;
[2016-09-10 17:37:45.890] [ INFO] console - Executing (9609e52b-d8be-4517-abf5-657f202620db): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 17:37:45.905] [ INFO] console - Executing (default): INSERT INTO "Predlozhenie" ("id","value","created_at","updated_at","initiator_id","place_id") VALUES (DEFAULT,'some Predlozhenie temp 1473511065886','2016-09-10 12:37:45.892 +00:00','2016-09-10 12:37:45.892 +00:00',2,3) RETURNING *;
[2016-09-10 17:37:45.909] [ INFO] console - Executing (9609e52b-d8be-4517-abf5-657f202620db): COMMIT;
[2016-09-10 17:37:45.911] [ INFO] console - [ 70, 2002, {}, [ '75' ] ]
[2016-09-10 17:37:45.913] [ INFO] console - [ 16,
  1509924863475712,
  { acknowledge: true },
  'ru.kopa.model.Kopa.id3.predlozhenieAdd',
  [ '75' ] ]
[2016-09-10 17:37:45.971] [ INFO] console - [ 70, 2004, {}, [ undefined ] ]
[2016-09-10 17:37:45.974] [ INFO] console - Executing (default): delete from "Kopnik"
                where
                    name like '%temp'
[2016-09-10 17:37:45.976] [ INFO] console - Executing (default): update "Kopnik"
                set 
                    "voiskoSize"= case when id=2 then 1 ELSE 0 END
                where
                    id>1 
                    and id<=5
[2016-09-10 17:37:45.977] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 2 }
[2016-09-10 17:37:45.980] [ INFO] console - Executing (91022cef-fdea-4797-b31c-e903b0bd0940): START TRANSACTION;
[2016-09-10 17:37:45.983] [ INFO] console - Executing (91022cef-fdea-4797-b31c-e903b0bd0940): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 17:37:45.995] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 2);
[2016-09-10 17:37:46.000] [ INFO] console - Executing (91022cef-fdea-4797-b31c-e903b0bd0940): COMMIT;
[2016-09-10 17:37:46.001] [ INFO] console - [ 70,
  2005,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/2/',
      starshina: [Object],
      id: '2',
      email: 'unittest2@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '1',
      voiskoSize: 1,
      birth: 1983,
      path: '/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: null,
      attachments: [] } ] ]
[2016-09-10 17:37:46.016] [ INFO] console - Executing (0905f9c5-fd82-49df-8cba-5d173efc1360): START TRANSACTION;
[2016-09-10 17:37:46.017] [ INFO] console - Executing (0905f9c5-fd82-49df-8cba-5d173efc1360): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 17:37:46.023] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 2);
[2016-09-10 17:37:46.034] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"+1
                                where
                                    '/2/' like path||id||'/%'
[2016-09-10 17:37:46.039] [ INFO] console - Executing (default): INSERT INTO "Kopnik" ("id","name","surname","patronymic","voiskoSize","birth","path","created_at","updated_at","rodina_id","starshina_id") VALUES (DEFAULT,'temp','temp','temp',0,1900,'/2/','2016-09-10 12:37:46.019 +00:00','2016-09-10 12:37:46.019 +00:00',NULL,2) RETURNING *;
[2016-09-10 17:37:46.053] [ INFO] console - Executing (0905f9c5-fd82-49df-8cba-5d173efc1360): COMMIT;
[2016-09-10 17:37:46.054] [ INFO] console - [ 70, 2006, {}, [ '275' ] ]
[2016-09-10 17:37:46.057] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/' like k.path||k.id||'/%'
[2016-09-10 17:37:46.065] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 17:37:46.066] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Zemla', id: 2 }
[2016-09-10 17:37:46.072] [ INFO] console - Executing (5c6099e3-4c3c-4b41-8b06-8b30bd404916): START TRANSACTION;
[2016-09-10 17:37:46.073] [ INFO] console - Executing (b9137dc0-d263-4e7e-8c10-75e731ad27f1): START TRANSACTION;
[2016-09-10 17:37:46.074] [ INFO] console - [ 16,
  2357396873674752,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id2.voiskoChange',
  [],
  { voiskoSize: 2 } ]
[2016-09-10 17:37:46.078] [ INFO] console - Executing (b9137dc0-d263-4e7e-8c10-75e731ad27f1): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 17:37:46.079] [ INFO] console - Executing (5c6099e3-4c3c-4b41-8b06-8b30bd404916): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 17:37:46.096] [ INFO] console - Executing (default): SELECT "Zemla"."id", "Zemla"."path", "Zemla"."name", "Zemla"."intensity", "Zemla"."note", "Zemla"."created_at", "Zemla"."updated_at", "Zemla"."deleted_at", "Zemla"."parent_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Zemla" AS "Zemla" LEFT OUTER JOIN "File" AS "attachments" ON "Zemla"."id" = "attachments"."zemla_id" AND "attachments"."deleted_at" IS NULL WHERE ("Zemla"."deleted_at" IS NULL AND "Zemla"."id" = 2);
[2016-09-10 17:37:46.101] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 275);
[2016-09-10 17:37:46.105] [ INFO] console - Executing (5c6099e3-4c3c-4b41-8b06-8b30bd404916): COMMIT;
[2016-09-10 17:37:46.122] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"+1
                                where
                                    '/2/275/' like path||id||'/%'
[2016-09-10 17:37:46.123] [ INFO] console - [ 70,
  2007,
  {},
  [ { fullPath: 'null2/',
      id: '2',
      path: null,
      name: 'UnitTest2',
      intensity: 1000,
      note: 'unit test 1473511005313',
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Sat Sep 10 2016 17:37:32 GMT+0500 (YEKT),
      deleted_at: null,
      parent_id: '1',
      attachments: [] } ] ]
[2016-09-10 17:37:46.141] [ INFO] console - Executing (default): INSERT INTO "Kopnik" ("id","name","surname","patronymic","voiskoSize","birth","path","created_at","updated_at","rodina_id","starshina_id") VALUES (DEFAULT,'temp','temp','temp',0,1900,'/2/275/','2016-09-10 12:37:46.082 +00:00','2016-09-10 12:37:46.082 +00:00',NULL,275) RETURNING *;
[2016-09-10 17:37:46.157] [ INFO] console - Executing (b9137dc0-d263-4e7e-8c10-75e731ad27f1): COMMIT;
[2016-09-10 17:37:46.158] [ INFO] console - [ 70, 2008, {}, [ '276' ] ]
[2016-09-10 17:37:46.165] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/275/' like k.path||k.id||'/%'
[2016-09-10 17:37:46.176] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2', '275')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 17:37:46.183] [ INFO] console - [ 16,
  4965788333113344,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id275.voiskoChange',
  [],
  { voiskoSize: 1 } ]
[2016-09-10 17:37:46.191] [ INFO] console - [ 16,
  5830152153989120,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id2.voiskoChange',
  [],
  { voiskoSize: 3 } ]
[2016-09-10 17:37:46.203] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 4 }
[2016-09-10 17:37:46.208] [ INFO] console - Executing (c42adc81-6fc3-4f61-a9ca-1daec3552123): START TRANSACTION;
[2016-09-10 17:37:46.210] [ INFO] console - Executing (c42adc81-6fc3-4f61-a9ca-1daec3552123): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 17:37:46.222] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 4);
[2016-09-10 17:37:46.232] [ INFO] console - Executing (c42adc81-6fc3-4f61-a9ca-1daec3552123): COMMIT;
[2016-09-10 17:37:46.234] [ INFO] console - [ 70,
  2009,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/4/',
      starshina: [Object],
      id: '4',
      email: 'unittest4@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '4',
      voiskoSize: 0,
      birth: 1983,
      path: '/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: null,
      attachments: [] } ] ]
[2016-09-10 17:37:46.243] [ INFO] console - Executing (c6229f03-732c-479f-b09c-d48cf569fec9): START TRANSACTION;
[2016-09-10 17:37:46.247] [ INFO] console - Executing (c6229f03-732c-479f-b09c-d48cf569fec9): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 17:37:46.252] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 275);
[2016-09-10 17:37:46.257] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 4);
[2016-09-10 17:37:46.261] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/' like k.path||k.id||'/%'
[2016-09-10 17:37:46.267] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 17:37:46.275] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"-2
                                where
                                    '/2/' like path||id||'/%'
[2016-09-10 17:37:46.282] [ INFO] console - Executing (default): UPDATE "Kopnik" SET "path"='/4/',"starshina_id"='4',"updated_at"='2016-09-10 12:37:46.277 +00:00' WHERE "id" = '275'
[2016-09-10 17:37:46.284] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"+2
                                where
                                    '/4/' like path||id||'/%'
[2016-09-10 17:37:46.289] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."starshina_id" = '275');
[2016-09-10 17:37:46.297] [ INFO] console - Executing (default): UPDATE "Kopnik" SET "path"='/4/275/',"updated_at"='2016-09-10 12:37:46.292 +00:00' WHERE "id" = '276'
[2016-09-10 17:37:46.301] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/4/' like k.path||k.id||'/%'
[2016-09-10 17:37:46.306] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('4')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 17:37:46.313] [ INFO] console - Executing (c6229f03-732c-479f-b09c-d48cf569fec9): COMMIT;
[2016-09-10 17:37:46.315] [ INFO] console - [ 70, 2010, {}, [ undefined ] ]
[2016-09-10 17:37:46.321] [ INFO] console - [ 16,
  5606946019213312,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id2.voiskoChange',
  [],
  { voiskoSize: 1 } ]
[2016-09-10 17:37:46.337] [ INFO] console - [ 16,
  5501259280809984,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id4.voiskoChange',
  [],
  { voiskoSize: 2 } ]
[2016-09-10 17:37:46.384] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopa', id: 3 }
[2016-09-10 17:37:46.403] [ INFO] console - Executing (4ca8e140-1706-4502-ae48-97dda512fa98): START TRANSACTION;
[2016-09-10 17:37:46.413] [ INFO] console - Executing (4ca8e140-1706-4502-ae48-97dda512fa98): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 17:37:46.423] [ INFO] console - Executing (default): SELECT "Kopa"."id", "Kopa"."question", "Kopa"."planned", "Kopa"."started", "Kopa"."closed", "Kopa"."isOpen", "Kopa"."note", "Kopa"."created_at", "Kopa"."updated_at", "Kopa"."deleted_at", "Kopa"."place_id", "Kopa"."inviter_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopa" AS "Kopa" LEFT OUTER JOIN "File" AS "attachments" ON "Kopa"."id" = "attachments"."kopa_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopa"."deleted_at" IS NULL AND "Kopa"."id" = 3);
[2016-09-10 17:37:46.430] [ INFO] console - Executing (4ca8e140-1706-4502-ae48-97dda512fa98): COMMIT;
[2016-09-10 17:37:46.431] [ INFO] console - [ 70,
  2012,
  {},
  [ { id: '3',
      question: 'CHE',
      planned: Thu Sep 01 2016 00:00:00 GMT+0500 (YEKT),
      started: Thu Sep 01 2016 00:00:00 GMT+0500 (YEKT),
      closed: null,
      isOpen: false,
      note: null,
      created_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      deleted_at: null,
      place_id: '2',
      inviter_id: '2',
      attachments: [] } ] ]
[2016-09-10 17:37:46.451] [ INFO] console - Executing (29f404ac-ce60-470f-8a7f-e64b479a24bb): START TRANSACTION;
[2016-09-10 17:37:46.453] [ INFO] console - Executing (29f404ac-ce60-470f-8a7f-e64b479a24bb): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 17:37:46.460] [ INFO] console - Executing (default): INSERT INTO "Predlozhenie" ("id","value","created_at","updated_at","initiator_id","place_id") VALUES (DEFAULT,'some Predlozhenie temp 1473511065176','2016-09-10 12:37:46.454 +00:00','2016-09-10 12:37:46.454 +00:00',2,3) RETURNING *;
[2016-09-10 17:37:46.468] [ INFO] console - Executing (29f404ac-ce60-470f-8a7f-e64b479a24bb): COMMIT;
[2016-09-10 17:37:46.469] [ INFO] console - [ 70, 2013, {}, [ '76' ] ]
[2016-09-10 17:37:46.474] [ INFO] console - [ 16,
  5645194355539968,
  { acknowledge: true },
  'ru.kopa.model.Kopa.id3.predlozhenieAdd',
  [ '76' ] ]
[2016-09-10 17:37:46.481] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Predlozhenie', id: 1 }
[2016-09-10 17:37:46.484] [ INFO] console - Executing (285e7931-7160-49bc-b96f-4a95eee6f146): START TRANSACTION;
[2016-09-10 17:37:46.487] [ INFO] console - Executing (285e7931-7160-49bc-b96f-4a95eee6f146): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 17:37:46.494] [ INFO] console - Executing (default): SELECT "Predlozhenie"."id", "Predlozhenie"."value", "Predlozhenie"."note", "Predlozhenie"."created_at", "Predlozhenie"."updated_at", "Predlozhenie"."deleted_at", "Predlozhenie"."initiator_id", "Predlozhenie"."place_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Predlozhenie" AS "Predlozhenie" LEFT OUTER JOIN "File" AS "attachments" ON "Predlozhenie"."id" = "attachments"."predlozhenie_id" AND "attachments"."deleted_at" IS NULL WHERE ("Predlozhenie"."deleted_at" IS NULL AND "Predlozhenie"."id" = 1);
[2016-09-10 17:37:46.508] [ INFO] console - Executing (285e7931-7160-49bc-b96f-4a95eee6f146): COMMIT;
[2016-09-10 17:37:46.510] [ INFO] console - [ 70,
  2014,
  {},
  [ { id: '1',
      value: 'Будет ...',
      note: null,
      created_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      deleted_at: null,
      initiator_id: '2',
      place_id: '3',
      attachments: [] } ] ]
[2016-09-10 17:37:46.520] [ INFO] console - Executing (ad8c232f-c234-4f8e-86b0-70e148d2db15): START TRANSACTION;
[2016-09-10 17:37:46.521] [ INFO] console - Executing (ad8c232f-c234-4f8e-86b0-70e148d2db15): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 17:37:46.530] [ INFO] console - Executing (default): INSERT INTO "Golos" ("id","value","created_at","updated_at","for_id","owner_id") VALUES (DEFAULT,1,'2016-09-10 12:37:46.523 +00:00','2016-09-10 12:37:46.523 +00:00',1,2) RETURNING *;
[2016-09-10 17:37:46.534] [ INFO] console - Executing (ad8c232f-c234-4f8e-86b0-70e148d2db15): COMMIT;
[2016-09-10 17:37:46.535] [ INFO] console - [ 70, 2015, {}, [ '75' ] ]
[2016-09-10 17:37:46.541] [ INFO] console - [ 16,
  5979039609126912,
  { acknowledge: true },
  'ru.kopa.model.Predlozhenie.id1.golosAdd',
  [ '75' ] ]
[2016-09-10 17:37:46.588] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 2 }
[2016-09-10 17:37:46.591] [ INFO] console - Executing (520ebd59-e0d5-4a00-a6e4-e38550f67177): START TRANSACTION;
[2016-09-10 17:37:46.592] [ INFO] console - Executing (520ebd59-e0d5-4a00-a6e4-e38550f67177): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 17:37:46.600] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 2);
[2016-09-10 17:37:46.604] [ INFO] console - Executing (520ebd59-e0d5-4a00-a6e4-e38550f67177): COMMIT;
[2016-09-10 17:37:46.606] [ INFO] console - [ 70,
  2017,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/2/',
      starshina: [Object],
      id: '2',
      email: 'unittest2@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '1',
      voiskoSize: 1,
      birth: 1983,
      path: '/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: null,
      attachments: [] } ] ]
[2016-09-10 17:37:46.618] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 3 }
[2016-09-10 17:37:46.621] [ INFO] console - Executing (6798fa9c-bafc-4f76-b7e0-1a26e19a5a3b): START TRANSACTION;
[2016-09-10 17:37:46.622] [ INFO] console - Executing (6798fa9c-bafc-4f76-b7e0-1a26e19a5a3b): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 17:37:46.630] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 3);
[2016-09-10 17:37:46.636] [ INFO] console - Executing (6798fa9c-bafc-4f76-b7e0-1a26e19a5a3b): COMMIT;
[2016-09-10 17:37:46.638] [ INFO] console - [ 70,
  2018,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/2/3/',
      starshina: [Object],
      id: '3',
      email: 'unittest3@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '3',
      voiskoSize: 0,
      birth: 1983,
      path: '/2/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: '2',
      attachments: [] } ] ]
[2016-09-10 17:37:46.652] [ INFO] console - Executing (0888056e-6b71-4686-b5f5-0ad39aef9f6a): START TRANSACTION;
[2016-09-10 17:37:46.654] [ INFO] console - Executing (0888056e-6b71-4686-b5f5-0ad39aef9f6a): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 17:37:46.659] [ INFO] console - Executing (default): INSERT INTO "Slovo" ("id","value","note","created_at","updated_at","owner_id","place_id") VALUES (DEFAULT,'123 temp','456','2016-09-10 12:37:46.655 +00:00','2016-09-10 12:37:46.655 +00:00',2,3) RETURNING *;
[2016-09-10 17:37:46.663] [ INFO] console - Executing (0888056e-6b71-4686-b5f5-0ad39aef9f6a): COMMIT;
[2016-09-10 17:37:46.664] [ INFO] console - [ 70, 2019, {}, [ '132' ] ]
[2016-09-10 17:37:46.678] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Slovo', id: 132 }
[2016-09-10 17:37:46.680] [ INFO] console - [ 16,
  7472966526828544,
  { acknowledge: true },
  'ru.kopa.model.Kopa.id3.slovoAdd',
  [ '132' ] ]
[2016-09-10 17:37:46.686] [ INFO] console - Executing (43d4ec95-f053-4269-8b44-f6a8a8f25cdc): START TRANSACTION;
[2016-09-10 17:37:46.688] [ INFO] console - Executing (43d4ec95-f053-4269-8b44-f6a8a8f25cdc): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 17:37:46.698] [ INFO] console - Executing (default): SELECT "Slovo"."id", "Slovo"."value", "Slovo"."note", "Slovo"."created_at", "Slovo"."updated_at", "Slovo"."deleted_at", "Slovo"."owner_id", "Slovo"."place_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Slovo" AS "Slovo" LEFT OUTER JOIN "File" AS "attachments" ON "Slovo"."id" = "attachments"."slovo_id" AND "attachments"."deleted_at" IS NULL WHERE ("Slovo"."deleted_at" IS NULL AND "Slovo"."id" = 132);
[2016-09-10 17:37:46.703] [ INFO] console - Executing (43d4ec95-f053-4269-8b44-f6a8a8f25cdc): COMMIT;
[2016-09-10 17:37:46.704] [ INFO] console - [ 70,
  2020,
  {},
  [ { id: '132',
      value: '123 temp',
      note: '456',
      created_at: Sat Sep 10 2016 17:37:46 GMT+0500 (YEKT),
      updated_at: Sat Sep 10 2016 17:37:46 GMT+0500 (YEKT),
      deleted_at: null,
      owner_id: '2',
      place_id: '3',
      attachments: [] } ] ]
[2016-09-10 17:37:46.715] [ INFO] console - Executing (1d12fcc8-f0aa-4719-b537-3d014cd62d1b): START TRANSACTION;
[2016-09-10 17:37:46.717] [ INFO] console - Executing (1d12fcc8-f0aa-4719-b537-3d014cd62d1b): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 17:37:46.722] [ INFO] console - Executing (default): INSERT INTO "Slovo" ("id","value","created_at","updated_at","owner_id","place_id") VALUES (DEFAULT,'some value temp 1473511066712','2016-09-10 12:37:46.718 +00:00','2016-09-10 12:37:46.718 +00:00',2,3) RETURNING *;
[2016-09-10 17:37:46.725] [ INFO] console - Executing (1d12fcc8-f0aa-4719-b537-3d014cd62d1b): COMMIT;
[2016-09-10 17:37:46.728] [ INFO] console - [ 70, 2021, {}, [ '133' ] ]
[2016-09-10 17:37:46.741] [ INFO] console - [ 16,
  5377784608194560,
  { acknowledge: true },
  'ru.kopa.model.Kopa.id3.slovoAdd',
  [ '133' ] ]
[2016-09-10 17:37:46.747] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Zemla', id: 2 }
[2016-09-10 17:37:46.751] [ INFO] console - Executing (87b72b4f-04c6-4137-b52f-ab1adce5e825): START TRANSACTION;
[2016-09-10 17:37:46.753] [ INFO] console - Executing (87b72b4f-04c6-4137-b52f-ab1adce5e825): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 17:37:46.761] [ INFO] console - Executing (default): SELECT "Zemla"."id", "Zemla"."path", "Zemla"."name", "Zemla"."intensity", "Zemla"."note", "Zemla"."created_at", "Zemla"."updated_at", "Zemla"."deleted_at", "Zemla"."parent_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Zemla" AS "Zemla" LEFT OUTER JOIN "File" AS "attachments" ON "Zemla"."id" = "attachments"."zemla_id" AND "attachments"."deleted_at" IS NULL WHERE ("Zemla"."deleted_at" IS NULL AND "Zemla"."id" = 2);
[2016-09-10 17:37:46.767] [ INFO] console - Executing (87b72b4f-04c6-4137-b52f-ab1adce5e825): COMMIT;
[2016-09-10 17:37:46.769] [ INFO] console - [ 70,
  2022,
  {},
  [ { fullPath: 'null2/',
      id: '2',
      path: null,
      name: 'UnitTest2',
      intensity: 1000,
      note: 'unit test 1473511005313',
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Sat Sep 10 2016 17:37:32 GMT+0500 (YEKT),
      deleted_at: null,
      parent_id: '1',
      attachments: [] } ] ]
[2016-09-10 17:37:46.780] [ INFO] console - Executing (a0fce59e-446b-4c02-ac81-4ccad5524329): START TRANSACTION;
[2016-09-10 17:37:46.782] [ INFO] console - Executing (a0fce59e-446b-4c02-ac81-4ccad5524329): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 17:37:46.787] [ INFO] console - Executing (default): SELECT "id", "path", "name", "intensity", "note", "created_at", "updated_at", "deleted_at", "parent_id" FROM "Zemla" AS "Zemla" WHERE ("Zemla"."deleted_at" IS NULL AND "Zemla"."id" = 2);
[2016-09-10 17:37:46.800] [ INFO] console - Executing (default): UPDATE "Zemla" SET "parent_id"=1,"note"='unit test 1473511065217',"updated_at"='2016-09-10 12:37:46.795 +00:00' WHERE "id" = '2'
[2016-09-10 17:37:46.803] [ INFO] console - Executing (a0fce59e-446b-4c02-ac81-4ccad5524329): COMMIT;
[2016-09-10 17:37:46.804] [ INFO] console - [ 16,
  3598859527782400,
  { acknowledge: true },
  'ru.kopa.model.Zemla.id2.change' ]
[2016-09-10 17:37:46.812] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Zemla', id: 2 }
[2016-09-10 17:37:46.815] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Zemla', id: 2 }
[2016-09-10 17:37:46.818] [ INFO] console - [ 70, 2023, {}, [ undefined ] ]
[2016-09-10 17:37:46.821] [ INFO] console - Executing (43868f56-220a-4eb9-b582-a721bd41e34f): START TRANSACTION;
[2016-09-10 17:37:46.822] [ INFO] console - Executing (354a2810-e401-40f7-8d4c-d92b49617db3): START TRANSACTION;
[2016-09-10 17:37:46.823] [ INFO] console - Executing (43868f56-220a-4eb9-b582-a721bd41e34f): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 17:37:46.824] [ INFO] console - Executing (354a2810-e401-40f7-8d4c-d92b49617db3): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 17:37:46.837] [ INFO] console - Executing (default): SELECT "Zemla"."id", "Zemla"."path", "Zemla"."name", "Zemla"."intensity", "Zemla"."note", "Zemla"."created_at", "Zemla"."updated_at", "Zemla"."deleted_at", "Zemla"."parent_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Zemla" AS "Zemla" LEFT OUTER JOIN "File" AS "attachments" ON "Zemla"."id" = "attachments"."zemla_id" AND "attachments"."deleted_at" IS NULL WHERE ("Zemla"."deleted_at" IS NULL AND "Zemla"."id" = 2);
[2016-09-10 17:37:46.838] [ INFO] console - Executing (default): SELECT "Zemla"."id", "Zemla"."path", "Zemla"."name", "Zemla"."intensity", "Zemla"."note", "Zemla"."created_at", "Zemla"."updated_at", "Zemla"."deleted_at", "Zemla"."parent_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Zemla" AS "Zemla" LEFT OUTER JOIN "File" AS "attachments" ON "Zemla"."id" = "attachments"."zemla_id" AND "attachments"."deleted_at" IS NULL WHERE ("Zemla"."deleted_at" IS NULL AND "Zemla"."id" = 2);
[2016-09-10 17:37:46.845] [ INFO] console - Executing (43868f56-220a-4eb9-b582-a721bd41e34f): COMMIT;
[2016-09-10 17:37:46.857] [ INFO] console - Executing (354a2810-e401-40f7-8d4c-d92b49617db3): COMMIT;
[2016-09-10 17:37:46.858] [ INFO] console - [ 70,
  2024,
  {},
  [ { fullPath: 'null2/',
      id: '2',
      path: null,
      name: 'UnitTest2',
      intensity: 1000,
      note: 'unit test 1473511065217',
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Sat Sep 10 2016 17:37:46 GMT+0500 (YEKT),
      deleted_at: null,
      parent_id: '1',
      attachments: [] } ] ]
[2016-09-10 17:37:46.866] [ INFO] console - [ 70,
  2025,
  {},
  [ { fullPath: 'null2/',
      id: '2',
      path: null,
      name: 'UnitTest2',
      intensity: 1000,
      note: 'unit test 1473511065217',
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Sat Sep 10 2016 17:37:46 GMT+0500 (YEKT),
      deleted_at: null,
      parent_id: '1',
      attachments: [] } ] ]
[2016-09-10 17:38:14.614] [ INFO] console - [ 70, 2027, {}, [ 'unittest2@domain.ru' ] ]
[2016-09-10 17:38:14.621] [DEBUG] Server - #pingPong() [ 1, 2, 3 ] { x: 1, y: 2, z: 3 }
[2016-09-10 17:38:14.628] [ INFO] console - [ 70, 2028, {}, [ 1, 2, 3 ], { x: 1, y: 2, z: 3 } ]
[2016-09-10 17:38:14.643] [ INFO] console - Executing (default): select 'КОПА' as result
[2016-09-10 17:38:14.645] [ INFO] console - [ 70, 2029, {}, [ 'КОПА' ] ]
[2016-09-10 17:38:14.651] [DEBUG] Server - #error() [ 'sadkljfaskldjfs;af' ] {}
[2016-09-10 17:38:14.653] [ERROR] Server - [Error: sadkljfaskldjfs;af]
Error: sadkljfaskldjfs;af
    at MySuperError (Server.js:339:9)
    at fn.constructor.error.Error (Server.js:344:19)
    at new wrappedPromise (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/async-listener/index.js:372:16)
    at Server.error (Server.js:343:16)
    at Object.<anonymous> (Server.js:415:43)
    at [object Generator].next (native)
    at step (/home/alexey2baranov/htdocs/kp-sequelizejs/src/Server.js:1:253)
    at /home/alexey2baranov/htdocs/kp-sequelizejs/src/Server.js:1:513
    at new wrappedPromise (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/async-listener/index.js:372:16)
    at Object.<anonymous> (/home/alexey2baranov/htdocs/kp-sequelizejs/src/Server.js:1:161)
    at Object.<anonymous> (Server.js:412:28)
    at tryCatchResolve (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/apply.js:46:23)
    at callAndResolve (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/apply.js:30:12)
    at callAndResolveNext (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/apply.js:40:4)
    at tryCatchReject3 (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/makePromise.js:856:7)
    at runContinuation3 (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/makePromise.js:814:4)
[2016-09-10 17:38:14.657] [ INFO] console - [ 8,
  68,
  2030,
  {},
  'MySuperError',
  [ 'sadkljfaskldjfs;af' ],
  { stack: 
     [ 'Error: sadkljfaskldjfs;af',
       '    at MySuperError (Server.js:339:9)',
       '    at fn.constructor.error.Error (Server.js:344:19)',
       '    at new wrappedPromise (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/async-listener/index.js:372:16)',
       '    at Server.error (Server.js:343:16)',
       '    at Object.<anonymous> (Server.js:415:43)',
       '    at [object Generator].next (native)',
       '    at step (/home/alexey2baranov/htdocs/kp-sequelizejs/src/Server.js:1:253)',
       '    at /home/alexey2baranov/htdocs/kp-sequelizejs/src/Server.js:1:513',
       '    at new wrappedPromise (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/async-listener/index.js:372:16)',
       '    at Object.<anonymous> (/home/alexey2baranov/htdocs/kp-sequelizejs/src/Server.js:1:161)',
       '    at Object.<anonymous> (Server.js:412:28)',
       '    at tryCatchResolve (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/apply.js:46:23)',
       '    at callAndResolve (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/apply.js:30:12)',
       '    at callAndResolveNext (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/apply.js:40:4)',
       '    at tryCatchReject3 (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/makePromise.js:856:7)',
       '    at runContinuation3 (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/makePromise.js:814:4)' ] } ]
[2016-09-10 17:38:14.667] [ INFO] console - [ 70, 2031, {}, [ undefined ] ]
[2016-09-10 17:38:14.673] [ INFO] console - Executing (default): delete from "Slovo"
                where
                    place_id<5
                    and value like '%temp'
[2016-09-10 17:38:14.683] [ INFO] console - Executing (default): delete from "Kopnik"
                where
                    name like '%temp'
[2016-09-10 17:38:14.687] [ INFO] console - Executing (default): update "Kopnik"
                set 
                    "voiskoSize"= case when id=2 then 1 ELSE 0 END
                where
                    id>1 
                    and id<=5
[2016-09-10 17:38:14.717] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopa', id: 3 }
[2016-09-10 17:38:14.721] [ INFO] console - Executing (93cb3e5f-4e03-4164-a206-c124a53bc6c6): START TRANSACTION;
[2016-09-10 17:38:14.723] [ INFO] console - Executing (93cb3e5f-4e03-4164-a206-c124a53bc6c6): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 17:38:14.736] [ INFO] console - Executing (default): SELECT "Kopa"."id", "Kopa"."question", "Kopa"."planned", "Kopa"."started", "Kopa"."closed", "Kopa"."isOpen", "Kopa"."note", "Kopa"."created_at", "Kopa"."updated_at", "Kopa"."deleted_at", "Kopa"."place_id", "Kopa"."inviter_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopa" AS "Kopa" LEFT OUTER JOIN "File" AS "attachments" ON "Kopa"."id" = "attachments"."kopa_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopa"."deleted_at" IS NULL AND "Kopa"."id" = 3);
[2016-09-10 17:38:14.741] [ INFO] console - Executing (93cb3e5f-4e03-4164-a206-c124a53bc6c6): COMMIT;
[2016-09-10 17:38:14.743] [ INFO] console - [ 70,
  2033,
  {},
  [ { id: '3',
      question: 'CHE',
      planned: Thu Sep 01 2016 00:00:00 GMT+0500 (YEKT),
      started: Thu Sep 01 2016 00:00:00 GMT+0500 (YEKT),
      closed: null,
      isOpen: false,
      note: null,
      created_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      deleted_at: null,
      place_id: '2',
      inviter_id: '2',
      attachments: [] } ] ]
[2016-09-10 17:38:14.757] [ INFO] console - Executing (79b33d53-31e0-4fa5-8b2a-4e33e2488d92): START TRANSACTION;
[2016-09-10 17:38:14.758] [ INFO] console - Executing (79b33d53-31e0-4fa5-8b2a-4e33e2488d92): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 17:38:14.764] [ INFO] console - Executing (default): INSERT INTO "Golos" ("id","value","created_at","updated_at","for_id","owner_id") VALUES (DEFAULT,1,'2016-09-10 12:38:14.759 +00:00','2016-09-10 12:38:14.759 +00:00',1,2) RETURNING *;
[2016-09-10 17:38:14.767] [ INFO] console - Executing (79b33d53-31e0-4fa5-8b2a-4e33e2488d92): COMMIT;
[2016-09-10 17:38:14.769] [ INFO] console - [ 70, 2034, {}, [ '76' ] ]
[2016-09-10 17:38:14.772] [ INFO] console - [ 16,
  6242658678734848,
  { acknowledge: true },
  'ru.kopa.model.Predlozhenie.id1.golosAdd',
  [ '76' ] ]
[2016-09-10 17:38:14.837] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopa', id: 3 }
[2016-09-10 17:38:14.841] [ INFO] console - Executing (0121a16c-4cc2-4248-9c8c-9dd4d35b05f2): START TRANSACTION;
[2016-09-10 17:38:14.848] [ INFO] console - Executing (0121a16c-4cc2-4248-9c8c-9dd4d35b05f2): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 17:38:14.854] [ INFO] console - Executing (default): SELECT "Kopa"."id", "Kopa"."question", "Kopa"."planned", "Kopa"."started", "Kopa"."closed", "Kopa"."isOpen", "Kopa"."note", "Kopa"."created_at", "Kopa"."updated_at", "Kopa"."deleted_at", "Kopa"."place_id", "Kopa"."inviter_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopa" AS "Kopa" LEFT OUTER JOIN "File" AS "attachments" ON "Kopa"."id" = "attachments"."kopa_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopa"."deleted_at" IS NULL AND "Kopa"."id" = 3);
[2016-09-10 17:38:14.861] [ INFO] console - Executing (0121a16c-4cc2-4248-9c8c-9dd4d35b05f2): COMMIT;
[2016-09-10 17:38:14.864] [ INFO] console - [ 70,
  2036,
  {},
  [ { id: '3',
      question: 'CHE',
      planned: Thu Sep 01 2016 00:00:00 GMT+0500 (YEKT),
      started: Thu Sep 01 2016 00:00:00 GMT+0500 (YEKT),
      closed: null,
      isOpen: false,
      note: null,
      created_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      deleted_at: null,
      place_id: '2',
      inviter_id: '2',
      attachments: [] } ] ]
[2016-09-10 17:38:14.877] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 2 }
[2016-09-10 17:38:14.880] [ INFO] console - Executing (a263d7b8-6ea7-4b4d-951f-38ea37caf5fa): START TRANSACTION;
[2016-09-10 17:38:14.881] [ INFO] console - Executing (a263d7b8-6ea7-4b4d-951f-38ea37caf5fa): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 17:38:14.892] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 2);
[2016-09-10 17:38:14.898] [ INFO] console - Executing (a263d7b8-6ea7-4b4d-951f-38ea37caf5fa): COMMIT;
[2016-09-10 17:38:14.900] [ INFO] console - [ 70,
  2037,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/2/',
      starshina: [Object],
      id: '2',
      email: 'unittest2@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '1',
      voiskoSize: 1,
      birth: 1983,
      path: '/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: null,
      attachments: [] } ] ]
[2016-09-10 17:38:14.917] [ INFO] console - Executing (d8d0fa20-f30e-44b9-a94a-a757668c4c42): START TRANSACTION;
[2016-09-10 17:38:14.919] [ INFO] console - Executing (d8d0fa20-f30e-44b9-a94a-a757668c4c42): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 17:38:14.923] [ INFO] console - Executing (default): INSERT INTO "Slovo" ("id","value","created_at","updated_at","owner_id","place_id") VALUES (DEFAULT,'some Slovo temp 1473511094914','2016-09-10 12:38:14.920 +00:00','2016-09-10 12:38:14.920 +00:00',2,3) RETURNING *;
[2016-09-10 17:38:14.928] [ INFO] console - Executing (d8d0fa20-f30e-44b9-a94a-a757668c4c42): COMMIT;
[2016-09-10 17:38:14.930] [ INFO] console - [ 70, 2038, {}, [ '134' ] ]
[2016-09-10 17:38:14.936] [ INFO] console - [ 16,
  6749640976236544,
  { acknowledge: true },
  'ru.kopa.model.Kopa.id3.slovoAdd',
  [ '134' ] ]
[2016-09-10 17:38:14.943] [ INFO] console - Executing (9aa54e20-bf66-4a2f-8d93-c75479c34e1c): START TRANSACTION;
[2016-09-10 17:38:14.945] [ INFO] console - Executing (9aa54e20-bf66-4a2f-8d93-c75479c34e1c): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 17:38:14.953] [ INFO] console - Executing (default): INSERT INTO "Predlozhenie" ("id","value","created_at","updated_at","initiator_id","place_id") VALUES (DEFAULT,'some Predlozhenie temp 1473511094941','2016-09-10 12:38:14.947 +00:00','2016-09-10 12:38:14.947 +00:00',2,3) RETURNING *;
[2016-09-10 17:38:14.958] [ INFO] console - Executing (9aa54e20-bf66-4a2f-8d93-c75479c34e1c): COMMIT;
[2016-09-10 17:38:14.959] [ INFO] console - [ 70, 2039, {}, [ '77' ] ]
[2016-09-10 17:38:14.966] [ INFO] console - [ 16,
  5118651642413056,
  { acknowledge: true },
  'ru.kopa.model.Kopa.id3.predlozhenieAdd',
  [ '77' ] ]
[2016-09-10 17:38:15.005] [ INFO] console - [ 70, 2041, {}, [ undefined ] ]
[2016-09-10 17:38:15.010] [ INFO] console - Executing (default): delete from "Kopnik"
                where
                    name like '%temp'
[2016-09-10 17:38:15.012] [ INFO] console - Executing (default): update "Kopnik"
                set 
                    "voiskoSize"= case when id=2 then 1 ELSE 0 END
                where
                    id>1 
                    and id<=5
[2016-09-10 17:38:15.075] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 2 }
[2016-09-10 17:38:15.079] [ INFO] console - Executing (7c16008e-4274-4dfc-8c07-328d6fc33368): START TRANSACTION;
[2016-09-10 17:38:15.084] [ INFO] console - Executing (7c16008e-4274-4dfc-8c07-328d6fc33368): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 17:38:15.093] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 2);
[2016-09-10 17:38:15.098] [ INFO] console - Executing (7c16008e-4274-4dfc-8c07-328d6fc33368): COMMIT;
[2016-09-10 17:38:15.099] [ INFO] console - [ 70,
  2042,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/2/',
      starshina: [Object],
      id: '2',
      email: 'unittest2@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '1',
      voiskoSize: 1,
      birth: 1983,
      path: '/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: null,
      attachments: [] } ] ]
[2016-09-10 17:38:15.112] [ INFO] console - Executing (2667495a-2192-429c-8d45-4ecc3c632a27): START TRANSACTION;
[2016-09-10 17:38:15.114] [ INFO] console - Executing (2667495a-2192-429c-8d45-4ecc3c632a27): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 17:38:15.121] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 2);
[2016-09-10 17:38:15.125] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"+1
                                where
                                    '/2/' like path||id||'/%'
[2016-09-10 17:38:15.131] [ INFO] console - Executing (default): INSERT INTO "Kopnik" ("id","name","surname","patronymic","voiskoSize","birth","path","created_at","updated_at","rodina_id","starshina_id") VALUES (DEFAULT,'temp','temp','temp',0,1900,'/2/','2016-09-10 12:38:15.116 +00:00','2016-09-10 12:38:15.116 +00:00',NULL,2) RETURNING *;
[2016-09-10 17:38:15.137] [ INFO] console - Executing (2667495a-2192-429c-8d45-4ecc3c632a27): COMMIT;
[2016-09-10 17:38:15.139] [ INFO] console - [ 70, 2043, {}, [ '277' ] ]
[2016-09-10 17:38:15.142] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/' like k.path||k.id||'/%'
[2016-09-10 17:38:15.152] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 17:38:15.153] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Zemla', id: 2 }
[2016-09-10 17:38:15.159] [ INFO] console - Executing (89a7545f-6f6a-4415-9e4b-b4478d360a16): START TRANSACTION;
[2016-09-10 17:38:15.160] [ INFO] console - Executing (d369a1ec-69b4-439c-82d8-79f029be1d1f): START TRANSACTION;
[2016-09-10 17:38:15.163] [ INFO] console - [ 16,
  6195026455429120,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id2.voiskoChange',
  [],
  { voiskoSize: 2 } ]
[2016-09-10 17:38:15.167] [ INFO] console - Executing (d369a1ec-69b4-439c-82d8-79f029be1d1f): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 17:38:15.168] [ INFO] console - Executing (89a7545f-6f6a-4415-9e4b-b4478d360a16): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 17:38:15.184] [ INFO] console - Executing (default): SELECT "Zemla"."id", "Zemla"."path", "Zemla"."name", "Zemla"."intensity", "Zemla"."note", "Zemla"."created_at", "Zemla"."updated_at", "Zemla"."deleted_at", "Zemla"."parent_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Zemla" AS "Zemla" LEFT OUTER JOIN "File" AS "attachments" ON "Zemla"."id" = "attachments"."zemla_id" AND "attachments"."deleted_at" IS NULL WHERE ("Zemla"."deleted_at" IS NULL AND "Zemla"."id" = 2);
[2016-09-10 17:38:15.190] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 277);
[2016-09-10 17:38:15.196] [ INFO] console - Executing (89a7545f-6f6a-4415-9e4b-b4478d360a16): COMMIT;
[2016-09-10 17:38:15.200] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"+1
                                where
                                    '/2/277/' like path||id||'/%'
[2016-09-10 17:38:15.201] [ INFO] console - [ 70,
  2044,
  {},
  [ { fullPath: 'null2/',
      id: '2',
      path: null,
      name: 'UnitTest2',
      intensity: 1000,
      note: 'unit test 1473511065217',
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Sat Sep 10 2016 17:37:46 GMT+0500 (YEKT),
      deleted_at: null,
      parent_id: '1',
      attachments: [] } ] ]
[2016-09-10 17:38:15.209] [ INFO] console - Executing (default): INSERT INTO "Kopnik" ("id","name","surname","patronymic","voiskoSize","birth","path","created_at","updated_at","rodina_id","starshina_id") VALUES (DEFAULT,'temp','temp','temp',0,1900,'/2/277/','2016-09-10 12:38:15.172 +00:00','2016-09-10 12:38:15.172 +00:00',NULL,277) RETURNING *;
[2016-09-10 17:38:15.215] [ INFO] console - Executing (d369a1ec-69b4-439c-82d8-79f029be1d1f): COMMIT;
[2016-09-10 17:38:15.217] [ INFO] console - [ 70, 2045, {}, [ '278' ] ]
[2016-09-10 17:38:15.220] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/277/' like k.path||k.id||'/%'
[2016-09-10 17:38:15.229] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2', '277')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 17:38:15.233] [ INFO] console - [ 16,
  2123834433994752,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id277.voiskoChange',
  [],
  { voiskoSize: 1 } ]
[2016-09-10 17:38:15.237] [ INFO] console - [ 16,
  8357890498756608,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id2.voiskoChange',
  [],
  { voiskoSize: 3 } ]
[2016-09-10 17:38:15.245] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 4 }
[2016-09-10 17:38:15.249] [ INFO] console - Executing (20daca24-e83b-4a53-9d8c-341467b50fa1): START TRANSACTION;
[2016-09-10 17:38:15.250] [ INFO] console - Executing (20daca24-e83b-4a53-9d8c-341467b50fa1): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 17:38:15.260] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 4);
[2016-09-10 17:38:15.267] [ INFO] console - Executing (20daca24-e83b-4a53-9d8c-341467b50fa1): COMMIT;
[2016-09-10 17:38:15.269] [ INFO] console - [ 70,
  2046,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/4/',
      starshina: [Object],
      id: '4',
      email: 'unittest4@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '4',
      voiskoSize: 0,
      birth: 1983,
      path: '/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: null,
      attachments: [] } ] ]
[2016-09-10 17:38:15.280] [ INFO] console - Executing (5e6d82cc-db83-4e7c-a631-2aed5b2e587f): START TRANSACTION;
[2016-09-10 17:38:15.281] [ INFO] console - Executing (5e6d82cc-db83-4e7c-a631-2aed5b2e587f): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 17:38:15.285] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 277);
[2016-09-10 17:38:15.294] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 4);
[2016-09-10 17:38:15.298] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/' like k.path||k.id||'/%'
[2016-09-10 17:38:15.305] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 17:38:15.315] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"-2
                                where
                                    '/2/' like path||id||'/%'
[2016-09-10 17:38:15.322] [ INFO] console - Executing (default): UPDATE "Kopnik" SET "path"='/4/',"starshina_id"='4',"updated_at"='2016-09-10 12:38:15.316 +00:00' WHERE "id" = '277'
[2016-09-10 17:38:15.325] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"+2
                                where
                                    '/4/' like path||id||'/%'
[2016-09-10 17:38:15.330] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."starshina_id" = '277');
[2016-09-10 17:38:15.337] [ INFO] console - Executing (default): UPDATE "Kopnik" SET "path"='/4/277/',"updated_at"='2016-09-10 12:38:15.332 +00:00' WHERE "id" = '278'
[2016-09-10 17:38:15.340] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/4/' like k.path||k.id||'/%'
[2016-09-10 17:38:15.345] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('4')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 17:38:15.350] [ INFO] console - Executing (5e6d82cc-db83-4e7c-a631-2aed5b2e587f): COMMIT;
[2016-09-10 17:38:15.352] [ INFO] console - [ 70, 2047, {}, [ undefined ] ]
[2016-09-10 17:38:15.355] [ INFO] console - [ 16,
  4311035362148352,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id2.voiskoChange',
  [],
  { voiskoSize: 1 } ]
[2016-09-10 17:38:15.360] [ INFO] console - [ 16,
  4719312178774016,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id4.voiskoChange',
  [],
  { voiskoSize: 2 } ]
[2016-09-10 17:38:15.408] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopa', id: 3 }
[2016-09-10 17:38:15.412] [ INFO] console - Executing (7da22c24-c2d2-4b41-bdcb-bf099969c7cb): START TRANSACTION;
[2016-09-10 17:38:15.414] [ INFO] console - Executing (7da22c24-c2d2-4b41-bdcb-bf099969c7cb): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 17:38:15.431] [ INFO] console - Executing (default): SELECT "Kopa"."id", "Kopa"."question", "Kopa"."planned", "Kopa"."started", "Kopa"."closed", "Kopa"."isOpen", "Kopa"."note", "Kopa"."created_at", "Kopa"."updated_at", "Kopa"."deleted_at", "Kopa"."place_id", "Kopa"."inviter_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopa" AS "Kopa" LEFT OUTER JOIN "File" AS "attachments" ON "Kopa"."id" = "attachments"."kopa_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopa"."deleted_at" IS NULL AND "Kopa"."id" = 3);
[2016-09-10 17:38:15.439] [ INFO] console - Executing (7da22c24-c2d2-4b41-bdcb-bf099969c7cb): COMMIT;
[2016-09-10 17:38:15.441] [ INFO] console - [ 70,
  2049,
  {},
  [ { id: '3',
      question: 'CHE',
      planned: Thu Sep 01 2016 00:00:00 GMT+0500 (YEKT),
      started: Thu Sep 01 2016 00:00:00 GMT+0500 (YEKT),
      closed: null,
      isOpen: false,
      note: null,
      created_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      deleted_at: null,
      place_id: '2',
      inviter_id: '2',
      attachments: [] } ] ]
[2016-09-10 17:38:15.456] [ INFO] console - Executing (8513052b-126a-4338-ade1-fb8f79e6987e): START TRANSACTION;
[2016-09-10 17:38:15.458] [ INFO] console - Executing (8513052b-126a-4338-ade1-fb8f79e6987e): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 17:38:15.463] [ INFO] console - Executing (default): INSERT INTO "Predlozhenie" ("id","value","created_at","updated_at","initiator_id","place_id") VALUES (DEFAULT,'some Predlozhenie temp 1473511094397','2016-09-10 12:38:15.459 +00:00','2016-09-10 12:38:15.459 +00:00',2,3) RETURNING *;
[2016-09-10 17:38:15.466] [ INFO] console - Executing (8513052b-126a-4338-ade1-fb8f79e6987e): COMMIT;
[2016-09-10 17:38:15.468] [ INFO] console - [ 70, 2050, {}, [ '78' ] ]
[2016-09-10 17:38:15.472] [ INFO] console - [ 16,
  1472765093740544,
  { acknowledge: true },
  'ru.kopa.model.Kopa.id3.predlozhenieAdd',
  [ '78' ] ]
[2016-09-10 17:38:15.483] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Predlozhenie', id: 1 }
[2016-09-10 17:38:15.486] [ INFO] console - Executing (afeef07f-c307-419c-b0ef-dc8854c04f96): START TRANSACTION;
[2016-09-10 17:38:15.488] [ INFO] console - Executing (afeef07f-c307-419c-b0ef-dc8854c04f96): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 17:38:15.495] [ INFO] console - Executing (default): SELECT "Predlozhenie"."id", "Predlozhenie"."value", "Predlozhenie"."note", "Predlozhenie"."created_at", "Predlozhenie"."updated_at", "Predlozhenie"."deleted_at", "Predlozhenie"."initiator_id", "Predlozhenie"."place_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Predlozhenie" AS "Predlozhenie" LEFT OUTER JOIN "File" AS "attachments" ON "Predlozhenie"."id" = "attachments"."predlozhenie_id" AND "attachments"."deleted_at" IS NULL WHERE ("Predlozhenie"."deleted_at" IS NULL AND "Predlozhenie"."id" = 1);
[2016-09-10 17:38:15.499] [ INFO] console - Executing (afeef07f-c307-419c-b0ef-dc8854c04f96): COMMIT;
[2016-09-10 17:38:15.501] [ INFO] console - [ 70,
  2051,
  {},
  [ { id: '1',
      value: 'Будет ...',
      note: null,
      created_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      deleted_at: null,
      initiator_id: '2',
      place_id: '3',
      attachments: [] } ] ]
[2016-09-10 17:38:15.515] [ INFO] console - Executing (a47bba11-33ee-48ac-a40b-8fec3dda28e6): START TRANSACTION;
[2016-09-10 17:38:15.516] [ INFO] console - Executing (a47bba11-33ee-48ac-a40b-8fec3dda28e6): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 17:38:15.522] [ INFO] console - Executing (default): INSERT INTO "Golos" ("id","value","created_at","updated_at","for_id","owner_id") VALUES (DEFAULT,1,'2016-09-10 12:38:15.518 +00:00','2016-09-10 12:38:15.518 +00:00',1,2) RETURNING *;
[2016-09-10 17:38:15.528] [ INFO] console - Executing (a47bba11-33ee-48ac-a40b-8fec3dda28e6): COMMIT;
[2016-09-10 17:38:15.529] [ INFO] console - [ 70, 2052, {}, [ '77' ] ]
[2016-09-10 17:38:15.542] [ INFO] console - [ 16,
  6983892194033664,
  { acknowledge: true },
  'ru.kopa.model.Predlozhenie.id1.golosAdd',
  [ '77' ] ]
[2016-09-10 17:38:16.465] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 2 }
[2016-09-10 17:38:16.467] [ INFO] console - Executing (cb27eec8-3482-434f-baf5-a7fef483e41a): START TRANSACTION;
[2016-09-10 17:38:16.468] [ INFO] console - Executing (cb27eec8-3482-434f-baf5-a7fef483e41a): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 17:38:16.475] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 2);
[2016-09-10 17:38:16.479] [ INFO] console - Executing (cb27eec8-3482-434f-baf5-a7fef483e41a): COMMIT;
[2016-09-10 17:38:16.480] [ INFO] console - [ 70,
  2054,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/2/',
      starshina: [Object],
      id: '2',
      email: 'unittest2@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '1',
      voiskoSize: 1,
      birth: 1983,
      path: '/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: null,
      attachments: [] } ] ]
[2016-09-10 17:38:16.494] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 3 }
[2016-09-10 17:38:16.497] [ INFO] console - Executing (8aaa615f-9e21-4595-afb1-7d6d7d01b7f4): START TRANSACTION;
[2016-09-10 17:38:16.498] [ INFO] console - Executing (8aaa615f-9e21-4595-afb1-7d6d7d01b7f4): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 17:38:16.508] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 3);
[2016-09-10 17:38:16.511] [ INFO] console - Executing (8aaa615f-9e21-4595-afb1-7d6d7d01b7f4): COMMIT;
[2016-09-10 17:38:16.513] [ INFO] console - [ 70,
  2055,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/2/3/',
      starshina: [Object],
      id: '3',
      email: 'unittest3@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '3',
      voiskoSize: 0,
      birth: 1983,
      path: '/2/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: '2',
      attachments: [] } ] ]
[2016-09-10 17:38:16.641] [ INFO] console - Executing (7554e36a-e333-46b2-8cf5-de8360ffbfa0): START TRANSACTION;
[2016-09-10 17:38:16.644] [ INFO] console - Executing (7554e36a-e333-46b2-8cf5-de8360ffbfa0): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 17:38:16.653] [ INFO] console - Executing (default): INSERT INTO "Slovo" ("id","value","note","created_at","updated_at","owner_id","place_id") VALUES (DEFAULT,'123 temp','456','2016-09-10 12:38:16.646 +00:00','2016-09-10 12:38:16.646 +00:00',2,3) RETURNING *;
[2016-09-10 17:38:16.656] [ INFO] console - Executing (7554e36a-e333-46b2-8cf5-de8360ffbfa0): COMMIT;
[2016-09-10 17:38:16.658] [ INFO] console - [ 70, 2056, {}, [ '135' ] ]
[2016-09-10 17:38:16.665] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Slovo', id: 135 }
[2016-09-10 17:38:16.668] [ INFO] console - [ 16,
  8507901435969536,
  { acknowledge: true },
  'ru.kopa.model.Kopa.id3.slovoAdd',
  [ '135' ] ]
[2016-09-10 17:38:16.693] [ INFO] console - Executing (72f9de50-a3a1-4de3-b273-0f0d53980d60): START TRANSACTION;
[2016-09-10 17:38:16.704] [ INFO] console - Executing (72f9de50-a3a1-4de3-b273-0f0d53980d60): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 17:38:16.724] [ INFO] console - Executing (default): SELECT "Slovo"."id", "Slovo"."value", "Slovo"."note", "Slovo"."created_at", "Slovo"."updated_at", "Slovo"."deleted_at", "Slovo"."owner_id", "Slovo"."place_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Slovo" AS "Slovo" LEFT OUTER JOIN "File" AS "attachments" ON "Slovo"."id" = "attachments"."slovo_id" AND "attachments"."deleted_at" IS NULL WHERE ("Slovo"."deleted_at" IS NULL AND "Slovo"."id" = 135);
[2016-09-10 17:38:16.734] [ INFO] console - Executing (72f9de50-a3a1-4de3-b273-0f0d53980d60): COMMIT;
[2016-09-10 17:38:16.740] [ INFO] console - [ 70,
  2057,
  {},
  [ { id: '135',
      value: '123 temp',
      note: '456',
      created_at: Sat Sep 10 2016 17:38:16 GMT+0500 (YEKT),
      updated_at: Sat Sep 10 2016 17:38:16 GMT+0500 (YEKT),
      deleted_at: null,
      owner_id: '2',
      place_id: '3',
      attachments: [] } ] ]
[2016-09-10 17:38:16.801] [ INFO] console - Executing (5ccec551-f8c8-42f3-acbf-dc00b9ad308c): START TRANSACTION;
[2016-09-10 17:38:16.803] [ INFO] console - Executing (5ccec551-f8c8-42f3-acbf-dc00b9ad308c): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 17:38:16.815] [ INFO] console - Executing (default): INSERT INTO "Slovo" ("id","value","created_at","updated_at","owner_id","place_id") VALUES (DEFAULT,'some value temp 1473511096798','2016-09-10 12:38:16.804 +00:00','2016-09-10 12:38:16.804 +00:00',2,3) RETURNING *;
[2016-09-10 17:38:16.819] [ INFO] console - Executing (5ccec551-f8c8-42f3-acbf-dc00b9ad308c): COMMIT;
[2016-09-10 17:38:16.823] [ INFO] console - [ 70, 2058, {}, [ '136' ] ]
[2016-09-10 17:38:16.828] [ INFO] console - [ 16,
  2263728038871040,
  { acknowledge: true },
  'ru.kopa.model.Kopa.id3.slovoAdd',
  [ '136' ] ]
[2016-09-10 17:38:16.923] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Zemla', id: 2 }
[2016-09-10 17:38:16.926] [ INFO] console - Executing (59ee7fb1-5d5f-4537-b615-8429f88e5775): START TRANSACTION;
[2016-09-10 17:38:16.928] [ INFO] console - Executing (59ee7fb1-5d5f-4537-b615-8429f88e5775): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 17:38:16.949] [ INFO] console - Executing (default): SELECT "Zemla"."id", "Zemla"."path", "Zemla"."name", "Zemla"."intensity", "Zemla"."note", "Zemla"."created_at", "Zemla"."updated_at", "Zemla"."deleted_at", "Zemla"."parent_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Zemla" AS "Zemla" LEFT OUTER JOIN "File" AS "attachments" ON "Zemla"."id" = "attachments"."zemla_id" AND "attachments"."deleted_at" IS NULL WHERE ("Zemla"."deleted_at" IS NULL AND "Zemla"."id" = 2);
[2016-09-10 17:38:16.964] [ INFO] console - Executing (59ee7fb1-5d5f-4537-b615-8429f88e5775): COMMIT;
[2016-09-10 17:38:16.968] [ INFO] console - [ 70,
  2059,
  {},
  [ { fullPath: 'null2/',
      id: '2',
      path: null,
      name: 'UnitTest2',
      intensity: 1000,
      note: 'unit test 1473511065217',
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Sat Sep 10 2016 17:37:46 GMT+0500 (YEKT),
      deleted_at: null,
      parent_id: '1',
      attachments: [] } ] ]
[2016-09-10 17:38:17.116] [ INFO] console - Executing (99602841-32fb-4faa-9d80-cc0472b334c0): START TRANSACTION;
[2016-09-10 17:38:17.118] [ INFO] console - Executing (99602841-32fb-4faa-9d80-cc0472b334c0): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 17:38:17.129] [ INFO] console - Executing (default): SELECT "id", "path", "name", "intensity", "note", "created_at", "updated_at", "deleted_at", "parent_id" FROM "Zemla" AS "Zemla" WHERE ("Zemla"."deleted_at" IS NULL AND "Zemla"."id" = 2);
[2016-09-10 17:38:17.149] [ INFO] console - Executing (default): UPDATE "Zemla" SET "parent_id"=1,"note"='unit test 1473511094407',"updated_at"='2016-09-10 12:38:17.139 +00:00' WHERE "id" = '2'
[2016-09-10 17:38:17.153] [ INFO] console - Executing (99602841-32fb-4faa-9d80-cc0472b334c0): COMMIT;
[2016-09-10 17:38:17.156] [ INFO] console - [ 16,
  574670984183808,
  { acknowledge: true },
  'ru.kopa.model.Zemla.id2.change' ]
[2016-09-10 17:38:17.159] [ INFO] console - [ 70, 2060, {}, [ undefined ] ]
[2016-09-10 17:38:17.166] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Zemla', id: 2 }
[2016-09-10 17:38:17.169] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Zemla', id: 2 }
[2016-09-10 17:38:17.177] [ INFO] console - Executing (25908496-c86d-4573-bf81-4d0789330771): START TRANSACTION;
[2016-09-10 17:38:17.178] [ INFO] console - Executing (42784f83-aaf8-4338-a5eb-98a0cf4caae8): START TRANSACTION;
[2016-09-10 17:38:17.183] [ INFO] console - Executing (25908496-c86d-4573-bf81-4d0789330771): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 17:38:17.184] [ INFO] console - Executing (42784f83-aaf8-4338-a5eb-98a0cf4caae8): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 17:38:17.200] [ INFO] console - Executing (default): SELECT "Zemla"."id", "Zemla"."path", "Zemla"."name", "Zemla"."intensity", "Zemla"."note", "Zemla"."created_at", "Zemla"."updated_at", "Zemla"."deleted_at", "Zemla"."parent_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Zemla" AS "Zemla" LEFT OUTER JOIN "File" AS "attachments" ON "Zemla"."id" = "attachments"."zemla_id" AND "attachments"."deleted_at" IS NULL WHERE ("Zemla"."deleted_at" IS NULL AND "Zemla"."id" = 2);
[2016-09-10 17:38:17.201] [ INFO] console - Executing (default): SELECT "Zemla"."id", "Zemla"."path", "Zemla"."name", "Zemla"."intensity", "Zemla"."note", "Zemla"."created_at", "Zemla"."updated_at", "Zemla"."deleted_at", "Zemla"."parent_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Zemla" AS "Zemla" LEFT OUTER JOIN "File" AS "attachments" ON "Zemla"."id" = "attachments"."zemla_id" AND "attachments"."deleted_at" IS NULL WHERE ("Zemla"."deleted_at" IS NULL AND "Zemla"."id" = 2);
[2016-09-10 17:38:17.224] [ INFO] console - Executing (25908496-c86d-4573-bf81-4d0789330771): COMMIT;
[2016-09-10 17:38:17.227] [ INFO] console - Executing (42784f83-aaf8-4338-a5eb-98a0cf4caae8): COMMIT;
[2016-09-10 17:38:17.228] [ INFO] console - [ 70,
  2061,
  {},
  [ { fullPath: 'null2/',
      id: '2',
      path: null,
      name: 'UnitTest2',
      intensity: 1000,
      note: 'unit test 1473511094407',
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Sat Sep 10 2016 17:38:17 GMT+0500 (YEKT),
      deleted_at: null,
      parent_id: '1',
      attachments: [] } ] ]
[2016-09-10 17:38:17.235] [ INFO] console - [ 70,
  2062,
  {},
  [ { fullPath: 'null2/',
      id: '2',
      path: null,
      name: 'UnitTest2',
      intensity: 1000,
      note: 'unit test 1473511094407',
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Sat Sep 10 2016 17:38:17 GMT+0500 (YEKT),
      deleted_at: null,
      parent_id: '1',
      attachments: [] } ] ]
[2016-09-10 17:38:27.589] [ INFO] console - [ 70, 2064, {}, [ 'unittest2@domain.ru' ] ]
[2016-09-10 17:38:27.595] [DEBUG] Server - #pingPong() [ 1, 2, 3 ] { x: 1, y: 2, z: 3 }
[2016-09-10 17:38:27.597] [ INFO] console - [ 70, 2065, {}, [ 1, 2, 3 ], { x: 1, y: 2, z: 3 } ]
[2016-09-10 17:38:27.637] [ INFO] console - Executing (default): select 'КОПА' as result
[2016-09-10 17:38:27.640] [ INFO] console - [ 70, 2066, {}, [ 'КОПА' ] ]
[2016-09-10 17:38:27.654] [DEBUG] Server - #error() [ 'sadkljfaskldjfs;af' ] {}
[2016-09-10 17:38:27.657] [ERROR] Server - [Error: sadkljfaskldjfs;af]
Error: sadkljfaskldjfs;af
    at MySuperError (Server.js:339:9)
    at fn.constructor.error.Error (Server.js:344:19)
    at new wrappedPromise (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/async-listener/index.js:372:16)
    at Server.error (Server.js:343:16)
    at Object.<anonymous> (Server.js:415:43)
    at [object Generator].next (native)
    at step (/home/alexey2baranov/htdocs/kp-sequelizejs/src/Server.js:1:253)
    at /home/alexey2baranov/htdocs/kp-sequelizejs/src/Server.js:1:513
    at new wrappedPromise (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/async-listener/index.js:372:16)
    at Object.<anonymous> (/home/alexey2baranov/htdocs/kp-sequelizejs/src/Server.js:1:161)
    at Object.<anonymous> (Server.js:412:28)
    at tryCatchResolve (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/apply.js:46:23)
    at callAndResolve (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/apply.js:30:12)
    at callAndResolveNext (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/apply.js:40:4)
    at tryCatchReject3 (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/makePromise.js:856:7)
    at runContinuation3 (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/makePromise.js:814:4)
[2016-09-10 17:38:27.663] [ INFO] console - [ 8,
  68,
  2067,
  {},
  'MySuperError',
  [ 'sadkljfaskldjfs;af' ],
  { stack: 
     [ 'Error: sadkljfaskldjfs;af',
       '    at MySuperError (Server.js:339:9)',
       '    at fn.constructor.error.Error (Server.js:344:19)',
       '    at new wrappedPromise (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/async-listener/index.js:372:16)',
       '    at Server.error (Server.js:343:16)',
       '    at Object.<anonymous> (Server.js:415:43)',
       '    at [object Generator].next (native)',
       '    at step (/home/alexey2baranov/htdocs/kp-sequelizejs/src/Server.js:1:253)',
       '    at /home/alexey2baranov/htdocs/kp-sequelizejs/src/Server.js:1:513',
       '    at new wrappedPromise (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/async-listener/index.js:372:16)',
       '    at Object.<anonymous> (/home/alexey2baranov/htdocs/kp-sequelizejs/src/Server.js:1:161)',
       '    at Object.<anonymous> (Server.js:412:28)',
       '    at tryCatchResolve (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/apply.js:46:23)',
       '    at callAndResolve (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/apply.js:30:12)',
       '    at callAndResolveNext (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/apply.js:40:4)',
       '    at tryCatchReject3 (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/makePromise.js:856:7)',
       '    at runContinuation3 (/home/alexey2baranov/htdocs/kp-sequelizejs/node_modules/when/lib/makePromise.js:814:4)' ] } ]
[2016-09-10 17:38:27.710] [ INFO] console - [ 70, 2068, {}, [ undefined ] ]
[2016-09-10 17:38:27.716] [ INFO] console - Executing (default): delete from "Slovo"
                where
                    place_id<5
                    and value like '%temp'
[2016-09-10 17:38:27.734] [ INFO] console - Executing (default): delete from "Kopnik"
                where
                    name like '%temp'
[2016-09-10 17:38:27.737] [ INFO] console - Executing (default): update "Kopnik"
                set 
                    "voiskoSize"= case when id=2 then 1 ELSE 0 END
                where
                    id>1 
                    and id<=5
[2016-09-10 17:38:27.794] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopa', id: 3 }
[2016-09-10 17:38:27.807] [ INFO] console - Executing (7d39a489-d207-4d00-9217-0426f375e7a8): START TRANSACTION;
[2016-09-10 17:38:27.809] [ INFO] console - Executing (7d39a489-d207-4d00-9217-0426f375e7a8): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 17:38:27.829] [ INFO] console - Executing (default): SELECT "Kopa"."id", "Kopa"."question", "Kopa"."planned", "Kopa"."started", "Kopa"."closed", "Kopa"."isOpen", "Kopa"."note", "Kopa"."created_at", "Kopa"."updated_at", "Kopa"."deleted_at", "Kopa"."place_id", "Kopa"."inviter_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopa" AS "Kopa" LEFT OUTER JOIN "File" AS "attachments" ON "Kopa"."id" = "attachments"."kopa_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopa"."deleted_at" IS NULL AND "Kopa"."id" = 3);
[2016-09-10 17:38:27.836] [ INFO] console - Executing (7d39a489-d207-4d00-9217-0426f375e7a8): COMMIT;
[2016-09-10 17:38:27.837] [ INFO] console - [ 70,
  2070,
  {},
  [ { id: '3',
      question: 'CHE',
      planned: Thu Sep 01 2016 00:00:00 GMT+0500 (YEKT),
      started: Thu Sep 01 2016 00:00:00 GMT+0500 (YEKT),
      closed: null,
      isOpen: false,
      note: null,
      created_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      deleted_at: null,
      place_id: '2',
      inviter_id: '2',
      attachments: [] } ] ]
[2016-09-10 17:38:27.871] [ INFO] console - Executing (900efddf-a1f5-4c2e-95bf-f9f4b503c30d): START TRANSACTION;
[2016-09-10 17:38:27.872] [ INFO] console - Executing (900efddf-a1f5-4c2e-95bf-f9f4b503c30d): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 17:38:27.881] [ INFO] console - Executing (default): INSERT INTO "Golos" ("id","value","created_at","updated_at","for_id","owner_id") VALUES (DEFAULT,1,'2016-09-10 12:38:27.874 +00:00','2016-09-10 12:38:27.874 +00:00',1,2) RETURNING *;
[2016-09-10 17:38:27.886] [ INFO] console - Executing (900efddf-a1f5-4c2e-95bf-f9f4b503c30d): COMMIT;
[2016-09-10 17:38:27.888] [ INFO] console - [ 70, 2071, {}, [ '78' ] ]
[2016-09-10 17:38:27.894] [ INFO] console - [ 16,
  4806706705989632,
  { acknowledge: true },
  'ru.kopa.model.Predlozhenie.id1.golosAdd',
  [ '78' ] ]
[2016-09-10 17:38:28.075] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopa', id: 3 }
[2016-09-10 17:38:28.079] [ INFO] console - Executing (d7821ab9-524d-442c-81f9-2b8575e3f1ba): START TRANSACTION;
[2016-09-10 17:38:28.080] [ INFO] console - Executing (d7821ab9-524d-442c-81f9-2b8575e3f1ba): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 17:38:28.095] [ INFO] console - Executing (default): SELECT "Kopa"."id", "Kopa"."question", "Kopa"."planned", "Kopa"."started", "Kopa"."closed", "Kopa"."isOpen", "Kopa"."note", "Kopa"."created_at", "Kopa"."updated_at", "Kopa"."deleted_at", "Kopa"."place_id", "Kopa"."inviter_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopa" AS "Kopa" LEFT OUTER JOIN "File" AS "attachments" ON "Kopa"."id" = "attachments"."kopa_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopa"."deleted_at" IS NULL AND "Kopa"."id" = 3);
[2016-09-10 17:38:28.104] [ INFO] console - Executing (d7821ab9-524d-442c-81f9-2b8575e3f1ba): COMMIT;
[2016-09-10 17:38:28.106] [ INFO] console - [ 70,
  2073,
  {},
  [ { id: '3',
      question: 'CHE',
      planned: Thu Sep 01 2016 00:00:00 GMT+0500 (YEKT),
      started: Thu Sep 01 2016 00:00:00 GMT+0500 (YEKT),
      closed: null,
      isOpen: false,
      note: null,
      created_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      deleted_at: null,
      place_id: '2',
      inviter_id: '2',
      attachments: [] } ] ]
[2016-09-10 17:38:28.118] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 2 }
[2016-09-10 17:38:28.124] [ INFO] console - Executing (5e367530-2cbc-4dcb-af75-df2b2804d552): START TRANSACTION;
[2016-09-10 17:38:28.125] [ INFO] console - Executing (5e367530-2cbc-4dcb-af75-df2b2804d552): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 17:38:28.137] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 2);
[2016-09-10 17:38:28.145] [ INFO] console - Executing (5e367530-2cbc-4dcb-af75-df2b2804d552): COMMIT;
[2016-09-10 17:38:28.147] [ INFO] console - [ 70,
  2074,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/2/',
      starshina: [Object],
      id: '2',
      email: 'unittest2@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '1',
      voiskoSize: 1,
      birth: 1983,
      path: '/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: null,
      attachments: [] } ] ]
[2016-09-10 17:38:28.158] [ INFO] console - Executing (3af650df-2de6-486d-a6a6-f1763af95341): START TRANSACTION;
[2016-09-10 17:38:28.159] [ INFO] console - Executing (3af650df-2de6-486d-a6a6-f1763af95341): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 17:38:28.165] [ INFO] console - Executing (default): INSERT INTO "Slovo" ("id","value","created_at","updated_at","owner_id","place_id") VALUES (DEFAULT,'some Slovo temp 1473511108156','2016-09-10 12:38:28.161 +00:00','2016-09-10 12:38:28.161 +00:00',2,3) RETURNING *;
[2016-09-10 17:38:28.171] [ INFO] console - Executing (3af650df-2de6-486d-a6a6-f1763af95341): COMMIT;
[2016-09-10 17:38:28.173] [ INFO] console - [ 70, 2075, {}, [ '137' ] ]
[2016-09-10 17:38:28.176] [ INFO] console - [ 16,
  2687768998182912,
  { acknowledge: true },
  'ru.kopa.model.Kopa.id3.slovoAdd',
  [ '137' ] ]
[2016-09-10 17:38:28.198] [ INFO] console - Executing (1413a59c-3a12-45cc-8c2e-c918380cc75c): START TRANSACTION;
[2016-09-10 17:38:28.199] [ INFO] console - Executing (1413a59c-3a12-45cc-8c2e-c918380cc75c): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 17:38:28.206] [ INFO] console - Executing (default): INSERT INTO "Predlozhenie" ("id","value","created_at","updated_at","initiator_id","place_id") VALUES (DEFAULT,'some Predlozhenie temp 1473511108194','2016-09-10 12:38:28.201 +00:00','2016-09-10 12:38:28.201 +00:00',2,3) RETURNING *;
[2016-09-10 17:38:28.214] [ INFO] console - Executing (1413a59c-3a12-45cc-8c2e-c918380cc75c): COMMIT;
[2016-09-10 17:38:28.216] [ INFO] console - [ 70, 2076, {}, [ '79' ] ]
[2016-09-10 17:38:28.219] [ INFO] console - [ 16,
  4516218352435200,
  { acknowledge: true },
  'ru.kopa.model.Kopa.id3.predlozhenieAdd',
  [ '79' ] ]
[2016-09-10 17:38:28.269] [ INFO] console - [ 70, 2078, {}, [ undefined ] ]
[2016-09-10 17:38:28.275] [ INFO] console - Executing (default): delete from "Kopnik"
                where
                    name like '%temp'
[2016-09-10 17:38:28.276] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 2 }
[2016-09-10 17:38:28.279] [ INFO] console - Executing (fdd1f439-32f6-4cf4-8557-c440819ad90a): START TRANSACTION;
[2016-09-10 17:38:28.280] [ INFO] console - Executing (default): update "Kopnik"
                set 
                    "voiskoSize"= case when id=2 then 1 ELSE 0 END
                where
                    id>1 
                    and id<=5
[2016-09-10 17:38:28.282] [ INFO] console - Executing (fdd1f439-32f6-4cf4-8557-c440819ad90a): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 17:38:28.301] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 2);
[2016-09-10 17:38:28.306] [ INFO] console - Executing (fdd1f439-32f6-4cf4-8557-c440819ad90a): COMMIT;
[2016-09-10 17:38:28.308] [ INFO] console - [ 70,
  2079,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/2/',
      starshina: [Object],
      id: '2',
      email: 'unittest2@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '1',
      voiskoSize: 1,
      birth: 1983,
      path: '/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: null,
      attachments: [] } ] ]
[2016-09-10 17:38:28.325] [ INFO] console - Executing (eac86835-f846-4f16-b0ce-557103b52d60): START TRANSACTION;
[2016-09-10 17:38:28.328] [ INFO] console - Executing (eac86835-f846-4f16-b0ce-557103b52d60): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 17:38:28.338] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 2);
[2016-09-10 17:38:28.342] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"+1
                                where
                                    '/2/' like path||id||'/%'
[2016-09-10 17:38:28.348] [ INFO] console - Executing (default): INSERT INTO "Kopnik" ("id","name","surname","patronymic","voiskoSize","birth","path","created_at","updated_at","rodina_id","starshina_id") VALUES (DEFAULT,'temp','temp','temp',0,1900,'/2/','2016-09-10 12:38:28.331 +00:00','2016-09-10 12:38:28.331 +00:00',NULL,2) RETURNING *;
[2016-09-10 17:38:28.353] [ INFO] console - Executing (eac86835-f846-4f16-b0ce-557103b52d60): COMMIT;
[2016-09-10 17:38:28.354] [ INFO] console - [ 70, 2080, {}, [ '279' ] ]
[2016-09-10 17:38:28.361] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Zemla', id: 2 }
[2016-09-10 17:38:28.366] [ INFO] console - Executing (b520e3c2-79cc-49ae-b236-2dac8ab6f803): START TRANSACTION;
[2016-09-10 17:38:28.370] [ INFO] console - Executing (56124764-9e40-4ae9-930c-c30f0aa012cc): START TRANSACTION;
[2016-09-10 17:38:28.374] [ INFO] console - Executing (b520e3c2-79cc-49ae-b236-2dac8ab6f803): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 17:38:28.374] [ INFO] console - Executing (56124764-9e40-4ae9-930c-c30f0aa012cc): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 17:38:28.405] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/' like k.path||k.id||'/%'
[2016-09-10 17:38:28.416] [ INFO] console - Executing (default): SELECT "Zemla"."id", "Zemla"."path", "Zemla"."name", "Zemla"."intensity", "Zemla"."note", "Zemla"."created_at", "Zemla"."updated_at", "Zemla"."deleted_at", "Zemla"."parent_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Zemla" AS "Zemla" LEFT OUTER JOIN "File" AS "attachments" ON "Zemla"."id" = "attachments"."zemla_id" AND "attachments"."deleted_at" IS NULL WHERE ("Zemla"."deleted_at" IS NULL AND "Zemla"."id" = 2);
[2016-09-10 17:38:28.437] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 279);
[2016-09-10 17:38:28.444] [ INFO] console - Executing (b520e3c2-79cc-49ae-b236-2dac8ab6f803): COMMIT;
[2016-09-10 17:38:28.449] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 17:38:28.454] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"+1
                                where
                                    '/2/279/' like path||id||'/%'
[2016-09-10 17:38:28.455] [ INFO] console - [ 16,
  1676819778502656,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id2.voiskoChange',
  [],
  { voiskoSize: 2 } ]
[2016-09-10 17:38:28.461] [ INFO] console - [ 70,
  2081,
  {},
  [ { fullPath: 'null2/',
      id: '2',
      path: null,
      name: 'UnitTest2',
      intensity: 1000,
      note: 'unit test 1473511094407',
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Sat Sep 10 2016 17:38:17 GMT+0500 (YEKT),
      deleted_at: null,
      parent_id: '1',
      attachments: [] } ] ]
[2016-09-10 17:38:28.475] [ INFO] console - Executing (default): INSERT INTO "Kopnik" ("id","name","surname","patronymic","voiskoSize","birth","path","created_at","updated_at","rodina_id","starshina_id") VALUES (DEFAULT,'temp','temp','temp',0,1900,'/2/279/','2016-09-10 12:38:28.379 +00:00','2016-09-10 12:38:28.379 +00:00',NULL,279) RETURNING *;
[2016-09-10 17:38:28.487] [ INFO] console - Executing (56124764-9e40-4ae9-930c-c30f0aa012cc): COMMIT;
[2016-09-10 17:38:28.490] [ INFO] console - [ 70, 2082, {}, [ '280' ] ]
[2016-09-10 17:38:28.496] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/279/' like k.path||k.id||'/%'
[2016-09-10 17:38:28.503] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2', '279')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 17:38:28.508] [ INFO] console - [ 16,
  7798192810754048,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id279.voiskoChange',
  [],
  { voiskoSize: 1 } ]
[2016-09-10 17:38:28.512] [ INFO] console - [ 16,
  33083394883584,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id2.voiskoChange',
  [],
  { voiskoSize: 3 } ]
[2016-09-10 17:38:28.517] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 4 }
[2016-09-10 17:38:28.523] [ INFO] console - Executing (a22e1028-a7ce-4868-94bc-6d18fa3ba444): START TRANSACTION;
[2016-09-10 17:38:28.524] [ INFO] console - Executing (a22e1028-a7ce-4868-94bc-6d18fa3ba444): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 17:38:28.534] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 4);
[2016-09-10 17:38:28.542] [ INFO] console - Executing (a22e1028-a7ce-4868-94bc-6d18fa3ba444): COMMIT;
[2016-09-10 17:38:28.544] [ INFO] console - [ 70,
  2083,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/4/',
      starshina: [Object],
      id: '4',
      email: 'unittest4@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '4',
      voiskoSize: 0,
      birth: 1983,
      path: '/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: null,
      attachments: [] } ] ]
[2016-09-10 17:38:28.555] [ INFO] console - Executing (194ae8f1-6905-4e96-8fed-ff8a1dd16cee): START TRANSACTION;
[2016-09-10 17:38:28.556] [ INFO] console - Executing (194ae8f1-6905-4e96-8fed-ff8a1dd16cee): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 17:38:28.560] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 279);
[2016-09-10 17:38:28.570] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 4);
[2016-09-10 17:38:28.574] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/2/' like k.path||k.id||'/%'
[2016-09-10 17:38:28.579] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('2')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 17:38:28.582] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"-2
                                where
                                    '/2/' like path||id||'/%'
[2016-09-10 17:38:28.596] [ INFO] console - Executing (default): UPDATE "Kopnik" SET "path"='/4/',"starshina_id"='4',"updated_at"='2016-09-10 12:38:28.584 +00:00' WHERE "id" = '279'
[2016-09-10 17:38:28.599] [ INFO] console - Executing (default): update "Kopnik"
                                    set "voiskoSize"= "voiskoSize"+2
                                where
                                    '/4/' like path||id||'/%'
[2016-09-10 17:38:28.604] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."starshina_id" = '279');
[2016-09-10 17:38:28.617] [ INFO] console - Executing (default): UPDATE "Kopnik" SET "path"='/4/279/',"updated_at"='2016-09-10 12:38:28.608 +00:00' WHERE "id" = '280'
[2016-09-10 17:38:28.620] [ INFO] console - Executing (default): select k.*
                                    from "Kopnik" as k
                                where
                                    '/4/' like k.path||k.id||'/%'
[2016-09-10 17:38:28.625] [ INFO] console - Executing (default): SELECT "id", "email", "password", "name", "surname", "patronymic", "voiskoSize", "birth", "path", "note", "created_at", "updated_at", "deleted_at", "rodina_id", "starshina_id" FROM "Kopnik" AS "Kopnik" WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" IN ('4')) ORDER BY "Kopnik"."path" desc;
[2016-09-10 17:38:28.630] [ INFO] console - Executing (194ae8f1-6905-4e96-8fed-ff8a1dd16cee): COMMIT;
[2016-09-10 17:38:28.632] [ INFO] console - [ 70, 2084, {}, [ undefined ] ]
[2016-09-10 17:38:28.635] [ INFO] console - [ 16,
  70044539158528,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id2.voiskoChange',
  [],
  { voiskoSize: 1 } ]
[2016-09-10 17:38:28.638] [ INFO] console - [ 16,
  5796582138052608,
  { acknowledge: true },
  'ru.kopa.model.Kopnik.id4.voiskoChange',
  [],
  { voiskoSize: 2 } ]
[2016-09-10 17:38:28.673] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopa', id: 3 }
[2016-09-10 17:38:28.679] [ INFO] console - Executing (249585c2-3cc4-4194-adf2-63bd0acb8f9b): START TRANSACTION;
[2016-09-10 17:38:28.680] [ INFO] console - Executing (249585c2-3cc4-4194-adf2-63bd0acb8f9b): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 17:38:28.687] [ INFO] console - Executing (default): SELECT "Kopa"."id", "Kopa"."question", "Kopa"."planned", "Kopa"."started", "Kopa"."closed", "Kopa"."isOpen", "Kopa"."note", "Kopa"."created_at", "Kopa"."updated_at", "Kopa"."deleted_at", "Kopa"."place_id", "Kopa"."inviter_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopa" AS "Kopa" LEFT OUTER JOIN "File" AS "attachments" ON "Kopa"."id" = "attachments"."kopa_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopa"."deleted_at" IS NULL AND "Kopa"."id" = 3);
[2016-09-10 17:38:28.695] [ INFO] console - Executing (249585c2-3cc4-4194-adf2-63bd0acb8f9b): COMMIT;
[2016-09-10 17:38:28.697] [ INFO] console - [ 70,
  2086,
  {},
  [ { id: '3',
      question: 'CHE',
      planned: Thu Sep 01 2016 00:00:00 GMT+0500 (YEKT),
      started: Thu Sep 01 2016 00:00:00 GMT+0500 (YEKT),
      closed: null,
      isOpen: false,
      note: null,
      created_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      deleted_at: null,
      place_id: '2',
      inviter_id: '2',
      attachments: [] } ] ]
[2016-09-10 17:38:28.728] [ INFO] console - Executing (02a6d61c-ab51-4a04-a241-02db5caa2633): START TRANSACTION;
[2016-09-10 17:38:28.729] [ INFO] console - Executing (02a6d61c-ab51-4a04-a241-02db5caa2633): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 17:38:28.734] [ INFO] console - Executing (default): INSERT INTO "Predlozhenie" ("id","value","created_at","updated_at","initiator_id","place_id") VALUES (DEFAULT,'some Predlozhenie temp 1473511107174','2016-09-10 12:38:28.731 +00:00','2016-09-10 12:38:28.731 +00:00',2,3) RETURNING *;
[2016-09-10 17:38:28.738] [ INFO] console - Executing (02a6d61c-ab51-4a04-a241-02db5caa2633): COMMIT;
[2016-09-10 17:38:28.739] [ INFO] console - [ 70, 2087, {}, [ '80' ] ]
[2016-09-10 17:38:28.751] [ INFO] console - [ 16,
  5335187156107264,
  { acknowledge: true },
  'ru.kopa.model.Kopa.id3.predlozhenieAdd',
  [ '80' ] ]
[2016-09-10 17:38:28.757] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Predlozhenie', id: 1 }
[2016-09-10 17:38:28.768] [ INFO] console - Executing (c6847bdb-f2e4-4dd2-b38d-5f4985ad58e0): START TRANSACTION;
[2016-09-10 17:38:28.770] [ INFO] console - Executing (c6847bdb-f2e4-4dd2-b38d-5f4985ad58e0): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 17:38:28.780] [ INFO] console - Executing (default): SELECT "Predlozhenie"."id", "Predlozhenie"."value", "Predlozhenie"."note", "Predlozhenie"."created_at", "Predlozhenie"."updated_at", "Predlozhenie"."deleted_at", "Predlozhenie"."initiator_id", "Predlozhenie"."place_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Predlozhenie" AS "Predlozhenie" LEFT OUTER JOIN "File" AS "attachments" ON "Predlozhenie"."id" = "attachments"."predlozhenie_id" AND "attachments"."deleted_at" IS NULL WHERE ("Predlozhenie"."deleted_at" IS NULL AND "Predlozhenie"."id" = 1);
[2016-09-10 17:38:28.785] [ INFO] console - Executing (c6847bdb-f2e4-4dd2-b38d-5f4985ad58e0): COMMIT;
[2016-09-10 17:38:28.791] [ INFO] console - [ 70,
  2088,
  {},
  [ { id: '1',
      value: 'Будет ...',
      note: null,
      created_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:01 GMT+0500 (YEKT),
      deleted_at: null,
      initiator_id: '2',
      place_id: '3',
      attachments: [] } ] ]
[2016-09-10 17:38:28.800] [ INFO] console - Executing (df046c8c-37af-4b13-9209-6a200031d998): START TRANSACTION;
[2016-09-10 17:38:28.802] [ INFO] console - Executing (df046c8c-37af-4b13-9209-6a200031d998): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 17:38:28.809] [ INFO] console - Executing (default): INSERT INTO "Golos" ("id","value","created_at","updated_at","for_id","owner_id") VALUES (DEFAULT,1,'2016-09-10 12:38:28.804 +00:00','2016-09-10 12:38:28.804 +00:00',1,2) RETURNING *;
[2016-09-10 17:38:28.813] [ INFO] console - Executing (df046c8c-37af-4b13-9209-6a200031d998): COMMIT;
[2016-09-10 17:38:28.815] [ INFO] console - [ 70, 2089, {}, [ '79' ] ]
[2016-09-10 17:38:28.819] [ INFO] console - [ 16,
  2902467375267840,
  { acknowledge: true },
  'ru.kopa.model.Predlozhenie.id1.golosAdd',
  [ '79' ] ]
[2016-09-10 17:38:28.852] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 2 }
[2016-09-10 17:38:28.855] [ INFO] console - Executing (6d13f73f-c7ad-4893-b2df-5eea148e4b12): START TRANSACTION;
[2016-09-10 17:38:28.856] [ INFO] console - Executing (6d13f73f-c7ad-4893-b2df-5eea148e4b12): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 17:38:28.862] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 2);
[2016-09-10 17:38:28.869] [ INFO] console - Executing (6d13f73f-c7ad-4893-b2df-5eea148e4b12): COMMIT;
[2016-09-10 17:38:28.871] [ INFO] console - [ 70,
  2091,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/2/',
      starshina: [Object],
      id: '2',
      email: 'unittest2@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '1',
      voiskoSize: 1,
      birth: 1983,
      path: '/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: null,
      attachments: [] } ] ]
[2016-09-10 17:38:28.885] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Kopnik', id: 3 }
[2016-09-10 17:38:28.890] [ INFO] console - Executing (54fa0656-89b6-4c77-ac1d-1577e864b2ff): START TRANSACTION;
[2016-09-10 17:38:28.894] [ INFO] console - Executing (54fa0656-89b6-4c77-ac1d-1577e864b2ff): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 17:38:28.903] [ INFO] console - Executing (default): SELECT "Kopnik"."id", "Kopnik"."email", "Kopnik"."password", "Kopnik"."name", "Kopnik"."surname", "Kopnik"."patronymic", "Kopnik"."voiskoSize", "Kopnik"."birth", "Kopnik"."path", "Kopnik"."note", "Kopnik"."created_at", "Kopnik"."updated_at", "Kopnik"."deleted_at", "Kopnik"."rodina_id", "Kopnik"."starshina_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Kopnik" AS "Kopnik" LEFT OUTER JOIN "File" AS "attachments" ON "Kopnik"."id" = "attachments"."kopnik_id" AND "attachments"."deleted_at" IS NULL WHERE ("Kopnik"."deleted_at" IS NULL AND "Kopnik"."id" = 3);
[2016-09-10 17:38:28.914] [ INFO] console - Executing (54fa0656-89b6-4c77-ac1d-1577e864b2ff): COMMIT;
[2016-09-10 17:38:28.918] [ INFO] console - [ 70,
  2092,
  {},
  [ { fullName: 'Unit Test',
      fullPath: '/2/3/',
      starshina: [Object],
      id: '3',
      email: 'unittest3@domain.ru',
      name: 'Unit',
      surname: 'Test',
      patronymic: '3',
      voiskoSize: 0,
      birth: 1983,
      path: '/2/',
      note: null,
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      deleted_at: null,
      rodina_id: '2',
      starshina_id: '2',
      attachments: [] } ] ]
[2016-09-10 17:38:28.931] [ INFO] console - Executing (9c0cdec0-1c14-459a-81cb-44a6ee6793a3): START TRANSACTION;
[2016-09-10 17:38:28.937] [ INFO] console - Executing (9c0cdec0-1c14-459a-81cb-44a6ee6793a3): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 17:38:28.943] [ INFO] console - Executing (default): INSERT INTO "Slovo" ("id","value","note","created_at","updated_at","owner_id","place_id") VALUES (DEFAULT,'123 temp','456','2016-09-10 12:38:28.939 +00:00','2016-09-10 12:38:28.939 +00:00',2,3) RETURNING *;
[2016-09-10 17:38:28.948] [ INFO] console - Executing (9c0cdec0-1c14-459a-81cb-44a6ee6793a3): COMMIT;
[2016-09-10 17:38:28.950] [ INFO] console - [ 70, 2093, {}, [ '138' ] ]
[2016-09-10 17:38:28.955] [ INFO] console - [ 16,
  923814059835392,
  { acknowledge: true },
  'ru.kopa.model.Kopa.id3.slovoAdd',
  [ '138' ] ]
[2016-09-10 17:38:28.962] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Slovo', id: 138 }
[2016-09-10 17:38:28.971] [ INFO] console - Executing (b391db94-7590-4acf-87c4-d6c6551e1449): START TRANSACTION;
[2016-09-10 17:38:28.972] [ INFO] console - Executing (b391db94-7590-4acf-87c4-d6c6551e1449): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 17:38:28.980] [ INFO] console - Executing (default): SELECT "Slovo"."id", "Slovo"."value", "Slovo"."note", "Slovo"."created_at", "Slovo"."updated_at", "Slovo"."deleted_at", "Slovo"."owner_id", "Slovo"."place_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Slovo" AS "Slovo" LEFT OUTER JOIN "File" AS "attachments" ON "Slovo"."id" = "attachments"."slovo_id" AND "attachments"."deleted_at" IS NULL WHERE ("Slovo"."deleted_at" IS NULL AND "Slovo"."id" = 138);
[2016-09-10 17:38:28.986] [ INFO] console - Executing (b391db94-7590-4acf-87c4-d6c6551e1449): COMMIT;
[2016-09-10 17:38:28.987] [ INFO] console - [ 70,
  2094,
  {},
  [ { id: '138',
      value: '123 temp',
      note: '456',
      created_at: Sat Sep 10 2016 17:38:28 GMT+0500 (YEKT),
      updated_at: Sat Sep 10 2016 17:38:28 GMT+0500 (YEKT),
      deleted_at: null,
      owner_id: '2',
      place_id: '3',
      attachments: [] } ] ]
[2016-09-10 17:38:28.997] [ INFO] console - Executing (eb897a08-4ac3-4402-87ad-e32e104b1003): START TRANSACTION;
[2016-09-10 17:38:28.998] [ INFO] console - Executing (eb897a08-4ac3-4402-87ad-e32e104b1003): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 17:38:29.004] [ INFO] console - Executing (default): INSERT INTO "Slovo" ("id","value","created_at","updated_at","owner_id","place_id") VALUES (DEFAULT,'some value temp 1473511108994','2016-09-10 12:38:29.000 +00:00','2016-09-10 12:38:29.000 +00:00',2,3) RETURNING *;
[2016-09-10 17:38:29.007] [ INFO] console - Executing (eb897a08-4ac3-4402-87ad-e32e104b1003): COMMIT;
[2016-09-10 17:38:29.008] [ INFO] console - [ 70, 2095, {}, [ '139' ] ]
[2016-09-10 17:38:29.010] [ INFO] console - [ 16,
  1734747594162176,
  { acknowledge: true },
  'ru.kopa.model.Kopa.id3.slovoAdd',
  [ '139' ] ]
[2016-09-10 17:38:29.016] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Zemla', id: 2 }
[2016-09-10 17:38:29.019] [ INFO] console - Executing (fddc66e7-5f33-42c7-be14-abdea248e2e3): START TRANSACTION;
[2016-09-10 17:38:29.021] [ INFO] console - Executing (fddc66e7-5f33-42c7-be14-abdea248e2e3): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 17:38:29.027] [ INFO] console - Executing (default): SELECT "Zemla"."id", "Zemla"."path", "Zemla"."name", "Zemla"."intensity", "Zemla"."note", "Zemla"."created_at", "Zemla"."updated_at", "Zemla"."deleted_at", "Zemla"."parent_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Zemla" AS "Zemla" LEFT OUTER JOIN "File" AS "attachments" ON "Zemla"."id" = "attachments"."zemla_id" AND "attachments"."deleted_at" IS NULL WHERE ("Zemla"."deleted_at" IS NULL AND "Zemla"."id" = 2);
[2016-09-10 17:38:29.032] [ INFO] console - Executing (fddc66e7-5f33-42c7-be14-abdea248e2e3): COMMIT;
[2016-09-10 17:38:29.034] [ INFO] console - [ 70,
  2096,
  {},
  [ { fullPath: 'null2/',
      id: '2',
      path: null,
      name: 'UnitTest2',
      intensity: 1000,
      note: 'unit test 1473511094407',
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Sat Sep 10 2016 17:38:17 GMT+0500 (YEKT),
      deleted_at: null,
      parent_id: '1',
      attachments: [] } ] ]
[2016-09-10 17:38:29.048] [ INFO] console - Executing (622af275-3a7b-48f6-9c2e-2ea9e938e4ef): START TRANSACTION;
[2016-09-10 17:38:29.049] [ INFO] console - Executing (622af275-3a7b-48f6-9c2e-2ea9e938e4ef): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 17:38:29.061] [ INFO] console - Executing (default): SELECT "id", "path", "name", "intensity", "note", "created_at", "updated_at", "deleted_at", "parent_id" FROM "Zemla" AS "Zemla" WHERE ("Zemla"."deleted_at" IS NULL AND "Zemla"."id" = 2);
[2016-09-10 17:38:29.076] [ INFO] console - Executing (default): UPDATE "Zemla" SET "parent_id"=1,"note"='unit test 1473511107217',"updated_at"='2016-09-10 12:38:29.066 +00:00' WHERE "id" = '2'
[2016-09-10 17:38:29.078] [ INFO] console - Executing (622af275-3a7b-48f6-9c2e-2ea9e938e4ef): COMMIT;
[2016-09-10 17:38:29.079] [ INFO] console - [ 16,
  2214552208932864,
  { acknowledge: true },
  'ru.kopa.model.Zemla.id2.change' ]
[2016-09-10 17:38:29.086] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Zemla', id: 2 }
[2016-09-10 17:38:29.092] [DEBUG] Server - #promiseModel() [ 1, 2.3 ] { model: 'Zemla', id: 2 }
[2016-09-10 17:38:29.094] [ INFO] console - [ 70, 2097, {}, [ undefined ] ]
[2016-09-10 17:38:29.099] [ INFO] console - Executing (d9b9824b-bc20-497e-8048-a4f8e9ffefcd): START TRANSACTION;
[2016-09-10 17:38:29.100] [ INFO] console - Executing (669bb11c-e743-43f1-9ccb-85c767b03351): START TRANSACTION;
[2016-09-10 17:38:29.102] [ INFO] console - Executing (d9b9824b-bc20-497e-8048-a4f8e9ffefcd): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 17:38:29.103] [ INFO] console - Executing (669bb11c-e743-43f1-9ccb-85c767b03351): SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
[2016-09-10 17:38:29.120] [ INFO] console - Executing (default): SELECT "Zemla"."id", "Zemla"."path", "Zemla"."name", "Zemla"."intensity", "Zemla"."note", "Zemla"."created_at", "Zemla"."updated_at", "Zemla"."deleted_at", "Zemla"."parent_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Zemla" AS "Zemla" LEFT OUTER JOIN "File" AS "attachments" ON "Zemla"."id" = "attachments"."zemla_id" AND "attachments"."deleted_at" IS NULL WHERE ("Zemla"."deleted_at" IS NULL AND "Zemla"."id" = 2);
[2016-09-10 17:38:29.126] [ INFO] console - Executing (default): SELECT "Zemla"."id", "Zemla"."path", "Zemla"."name", "Zemla"."intensity", "Zemla"."note", "Zemla"."created_at", "Zemla"."updated_at", "Zemla"."deleted_at", "Zemla"."parent_id", "attachments"."id" AS "attachments.id", "attachments"."path" AS "attachments.path", "attachments"."note" AS "attachments.note", "attachments"."created_at" AS "attachments.created_at", "attachments"."updated_at" AS "attachments.updated_at", "attachments"."deleted_at" AS "attachments.deleted_at", "attachments"."zemla_id" AS "attachments.zemla_id", "attachments"."kopnik_id" AS "attachments.kopnik_id", "attachments"."kopa_id" AS "attachments.kopa_id", "attachments"."slovo_id" AS "attachments.slovo_id", "attachments"."predlozhenie_id" AS "attachments.predlozhenie_id", "attachments"."golos_id" AS "attachments.golos_id" FROM "Zemla" AS "Zemla" LEFT OUTER JOIN "File" AS "attachments" ON "Zemla"."id" = "attachments"."zemla_id" AND "attachments"."deleted_at" IS NULL WHERE ("Zemla"."deleted_at" IS NULL AND "Zemla"."id" = 2);
[2016-09-10 17:38:29.133] [ INFO] console - Executing (d9b9824b-bc20-497e-8048-a4f8e9ffefcd): COMMIT;
[2016-09-10 17:38:29.134] [ INFO] console - Executing (669bb11c-e743-43f1-9ccb-85c767b03351): COMMIT;
[2016-09-10 17:38:29.137] [ INFO] console - [ 70,
  2098,
  {},
  [ { fullPath: 'null2/',
      id: '2',
      path: null,
      name: 'UnitTest2',
      intensity: 1000,
      note: 'unit test 1473511107217',
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Sat Sep 10 2016 17:38:29 GMT+0500 (YEKT),
      deleted_at: null,
      parent_id: '1',
      attachments: [] } ] ]
[2016-09-10 17:38:29.140] [ INFO] console - [ 70,
  2099,
  {},
  [ { fullPath: 'null2/',
      id: '2',
      path: null,
      name: 'UnitTest2',
      intensity: 1000,
      note: 'unit test 1473511107217',
      created_at: Fri Sep 09 2016 17:02:00 GMT+0500 (YEKT),
      updated_at: Sat Sep 10 2016 17:38:29 GMT+0500 (YEKT),
      deleted_at: null,
      parent_id: '1',
      attachments: [] } ] ]
